{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Info \u8fd9\u662f\u6211\u4f7f\u7528mkdocs\u6784\u5efa\u7684\u535a\u5ba2\u7ad9\u70b9 mkdocs\u7684\u66f4\u591a\u4fe1\u606f\u5728 mkdocs.org . Commands mkdocs new [dir-name] - Create a new project. mkdocs serve - Start the live-reloading docs server. mkdocs build - Build the documentation site. Project layout mkdocs.yml # The configuration file. docs/ index.md # The documentation homepage. ... # Other markdown pages, images and other files. Update info All the info from my jianshu Last update 2022.03.01","title":"Info"},{"location":"#info","text":"\u8fd9\u662f\u6211\u4f7f\u7528mkdocs\u6784\u5efa\u7684\u535a\u5ba2\u7ad9\u70b9 mkdocs\u7684\u66f4\u591a\u4fe1\u606f\u5728 mkdocs.org .","title":"Info"},{"location":"#commands","text":"mkdocs new [dir-name] - Create a new project. mkdocs serve - Start the live-reloading docs server. mkdocs build - Build the documentation site.","title":"Commands"},{"location":"#project-layout","text":"mkdocs.yml # The configuration file. docs/ index.md # The documentation homepage. ... # Other markdown pages, images and other files.","title":"Project layout"},{"location":"#update-info","text":"All the info from my jianshu","title":"Update info"},{"location":"#last-update","text":"2022.03.01","title":"Last update"},{"location":"aboutme/","text":"CV General Name: Mao Chai Date of Birth:1992/11 Gender: Male Research Direction: Bioinformatics Domicile: Zhengzhou city Henan Province China Email: chaimol@163.com Address: No.157, Science Avenue, Zhengzhou City, Henan Province Organization: Center for Bioinformatics and Molecular Design (CBM), Institute of Cotton Research, Chinese Academy of Agricultural Sciences Github: https://github.com/chaimol/ Chinese Blog: https://www.jianshu.com/u/64dfb67befe7 ORCID: https://orcid.org/0000-0001-6502-2137 Education Background Master Crop genetics and breeding major, Agricultural college, Henan Agricultural University 2017.09-2020.06 Bachelor Plant protection major, Plant protection college, Henan Agricultural University 2012.09-2016.09 Language English Mandarin Computer Skills Linux (centos7, ubuntu, Arch)/Windows Task management system: bsub/LSF, qsub/PBS Shell /R/Python HTML5/CSS3/JavaScript Bioinformatics Skills WGS/WES RNA-seq/ WGCNA ChIP-seq/DAP-seq BSA/BSR Comparative genomics Genome assembly/Genome annotation Data Visualization (circos) Nanopore Analysis Pycaret (Python-based AI modeling tool) Tidymodels (R-based AI modeling tools) Research Publication Chai, Guo, Shi, Li, Tang, & Zhang. (2019). Dissecting the Regulatory Network of Leaf Premature Senescence in Maize (Zea mays L.) Using Transcriptome Analysis of ZmELS5 Mutant. Genes, 10(11), 944. https://doi.org/10.3390/genes10110944 Li, N., Yang, T., Guo, Z., Wang, Q., Chai, M., Wu, M., Li, X., Li, W., Li, G., Tang, J., Tang, G., & Zhang, Z. (2020). Maize microRNA166 Inactivation Confers Plant Development and Abiotic Stress Resistance. International Journal of Molecular Sciences, 21(24), 9506. https://doi.org/10.3390/ijms21249506 Lu, Z., Yin, G., Chai, M., Sun, L., Wei, H., Chen, J., Yang, Y., Fu, X., & Li, S. (2022). Systematic analysis of CNGCs in cotton and the positive role of GhCNGC32 and GhCNGC35 in salt tolerance. BMC Genomics, 23(1), 560. https://doi.org/10.1186/s12864-022-08800-5 Zhang, Z., Chai, M., Yang, Z., Yang, Z., & Fan, L. (2022). GRAND: An Integrated Genome, Transcriptome Resources, and Gene Network Database for Gossypium. Frontiers in Plant Science, 13, 773107. https://doi.org/10.3389/fpls.2022.773107 Zhao, D., Zhang, Y., Lu, Y., Fan, L., Zhang, Z., Zheng, J., & Chai, M. (2022). Genome sequence and transcriptome of Sorbus pohuashanensis provide insights into population evolution and leaf sunburn response. Journal of Genetics and Genomics, 49(6), 547\u2013558. https://doi.org/10.1016/j.jgg.2021.12.009 Lei Wang, Liqiang Fan, Zhenyong Zhao, Zhibin Zhang, Li Jiang, Mao Chai, Changyan Tian, The Capparis spinosa var. herbacea genome provides the first genomic instrument for a diversity and evolution study of the Capparaceae family, GigaScience, Volume 11, 2022, giac106, https://doi.org/10.1093/gigascience/giac106 Qanmber G, You Q, Yang Z, Fan L, Zhang Z, Chai M, et al. Transcriptional and translational landscape fine-tune genome annotation and explores translation control in cotton. Journal of Advanced Research. 2023; https://doi.org/10.1016/j.jare.2023.05.004.","title":"CV"},{"location":"aboutme/#cv","text":"","title":"CV"},{"location":"aboutme/#general","text":"Name: Mao Chai Date of Birth:1992/11 Gender: Male Research Direction: Bioinformatics Domicile: Zhengzhou city Henan Province China Email: chaimol@163.com Address: No.157, Science Avenue, Zhengzhou City, Henan Province Organization: Center for Bioinformatics and Molecular Design (CBM), Institute of Cotton Research, Chinese Academy of Agricultural Sciences Github: https://github.com/chaimol/ Chinese Blog: https://www.jianshu.com/u/64dfb67befe7 ORCID: https://orcid.org/0000-0001-6502-2137","title":"General"},{"location":"aboutme/#education-background","text":"","title":"Education Background"},{"location":"aboutme/#master","text":"Crop genetics and breeding major, Agricultural college, Henan Agricultural University 2017.09-2020.06","title":"Master"},{"location":"aboutme/#bachelor","text":"Plant protection major, Plant protection college, Henan Agricultural University 2012.09-2016.09","title":"Bachelor"},{"location":"aboutme/#language","text":"English Mandarin","title":"Language"},{"location":"aboutme/#computer-skills","text":"Linux (centos7, ubuntu, Arch)/Windows Task management system: bsub/LSF, qsub/PBS Shell /R/Python HTML5/CSS3/JavaScript","title":"Computer Skills"},{"location":"aboutme/#bioinformatics-skills","text":"WGS/WES RNA-seq/ WGCNA ChIP-seq/DAP-seq BSA/BSR Comparative genomics Genome assembly/Genome annotation Data Visualization (circos) Nanopore Analysis Pycaret (Python-based AI modeling tool) Tidymodels (R-based AI modeling tools)","title":"Bioinformatics Skills"},{"location":"aboutme/#research-publication","text":"Chai, Guo, Shi, Li, Tang, & Zhang. (2019). Dissecting the Regulatory Network of Leaf Premature Senescence in Maize (Zea mays L.) Using Transcriptome Analysis of ZmELS5 Mutant. Genes, 10(11), 944. https://doi.org/10.3390/genes10110944 Li, N., Yang, T., Guo, Z., Wang, Q., Chai, M., Wu, M., Li, X., Li, W., Li, G., Tang, J., Tang, G., & Zhang, Z. (2020). Maize microRNA166 Inactivation Confers Plant Development and Abiotic Stress Resistance. International Journal of Molecular Sciences, 21(24), 9506. https://doi.org/10.3390/ijms21249506 Lu, Z., Yin, G., Chai, M., Sun, L., Wei, H., Chen, J., Yang, Y., Fu, X., & Li, S. (2022). Systematic analysis of CNGCs in cotton and the positive role of GhCNGC32 and GhCNGC35 in salt tolerance. BMC Genomics, 23(1), 560. https://doi.org/10.1186/s12864-022-08800-5 Zhang, Z., Chai, M., Yang, Z., Yang, Z., & Fan, L. (2022). GRAND: An Integrated Genome, Transcriptome Resources, and Gene Network Database for Gossypium. Frontiers in Plant Science, 13, 773107. https://doi.org/10.3389/fpls.2022.773107 Zhao, D., Zhang, Y., Lu, Y., Fan, L., Zhang, Z., Zheng, J., & Chai, M. (2022). Genome sequence and transcriptome of Sorbus pohuashanensis provide insights into population evolution and leaf sunburn response. Journal of Genetics and Genomics, 49(6), 547\u2013558. https://doi.org/10.1016/j.jgg.2021.12.009 Lei Wang, Liqiang Fan, Zhenyong Zhao, Zhibin Zhang, Li Jiang, Mao Chai, Changyan Tian, The Capparis spinosa var. herbacea genome provides the first genomic instrument for a diversity and evolution study of the Capparaceae family, GigaScience, Volume 11, 2022, giac106, https://doi.org/10.1093/gigascience/giac106 Qanmber G, You Q, Yang Z, Fan L, Zhang Z, Chai M, et al. Transcriptional and translational landscape fine-tune genome annotation and explores translation control in cotton. Journal of Advanced Research. 2023; https://doi.org/10.1016/j.jare.2023.05.004.","title":"Research Publication"},{"location":"tags/","text":"Tags \u6807\u7b7e\u9875\u65b9\u4fbf\u66f4\u5feb\u7684\u627e\u5230\u76ee\u6807\u9875\u9762 facet_wrap Ggplot2\u753b\u51fa\u6761\u5f62\u56fe\uff08facet wrap\uff09 gggenes Gggenes \u7ed8\u5236\u57fa\u56e0\u56fe ggplot2 Gggenes \u7ed8\u5236\u57fa\u56e0\u56fe Ggplot2\u753b\u51fa\u6761\u5f62\u56fe\uff08facet wrap\uff09","title":"Tags"},{"location":"tags/#tags","text":"\u6807\u7b7e\u9875\u65b9\u4fbf\u66f4\u5feb\u7684\u627e\u5230\u76ee\u6807\u9875\u9762","title":"Tags"},{"location":"tags/#facet_wrap","text":"Ggplot2\u753b\u51fa\u6761\u5f62\u56fe\uff08facet wrap\uff09","title":"facet_wrap"},{"location":"tags/#gggenes","text":"Gggenes \u7ed8\u5236\u57fa\u56e0\u56fe","title":"gggenes"},{"location":"tags/#ggplot2","text":"Gggenes \u7ed8\u5236\u57fa\u56e0\u56fe Ggplot2\u753b\u51fa\u6761\u5f62\u56fe\uff08facet wrap\uff09","title":"ggplot2"},{"location":"AI-practice/linux%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%AB%AF%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8jupyter-notebook/","text":"1.\u5b89\u88c5jupyter python3 pip\u5b89\u88c5 pip install jupyter anconda\u9ed8\u8ba4\u5df2\u7ecf\u5b89\u88c5jupyter\uff0c\u6240\u4ee5\u76f4\u63a5\u4f7f\u7528\u5373\u53ef 2.\u914d\u7f6e\u670d\u52a1\u5668 jupyter notebook --generate-config \u4e0a\u9762\u4f1a\u751f\u6210config\u6587\u4ef6\uff0c\u8def\u5f84\u662f ~/.jupyter/jupyter_notebook_config.py #python\u4ee3\u7801 from notebook.auth import passwd passwd() \u4e0a\u9762\u4f1a\u8981\u6c42\u8f93\u5165\u4e24\u6b21\u5bc6\u7801\uff0c\u8bb0\u4f4f\u8fd9\u4e2a\u5bc6\u7801\u5c31\u662f\u672c\u5730\u767b\u5f55\u6d4f\u89c8\u5668\u7684\u5bc6\u7801 \u5e76\u751f\u6210\u4e00\u4e2a\u5bc6\u94a5\u5982\u4e0b\uff1a 'argon2:$argon2id$v=19$m=10240,t=10,p=8$8vm7Tx3twE00+sXM61BNzg$tdDgCI61rP8WjFHwb55QWn0SksIjwAzRii4c' 3.\u4fee\u6539\u6587\u4ef6 ~/.jupyter/jupyter_notebook_config.py \u5206\u522b\u662f c.NotebookApp.ip='*' #\u8bbe\u7f6e\u8bbf\u95eenotebook\u7684ip\uff0c*\u8868\u793a\u6240\u6709IP c.NotebookApp.password = u'sha1:xxx' #\u586b\u5199\u521a\u521a\u590d\u5236\u7684\u5bc6\u94a5 c.NotebookApp.open_browser = False # \u7981\u6b62notebook\u542f\u52a8\u65f6\u81ea\u52a8\u6253\u5f00\u6d4f\u89c8\u5668 c.NotebookApp.port =8889 #\u6307\u5b9a\u8bbf\u95ee\u7684\u7aef\u53e3\uff0c\u9ed8\u8ba4\u662f8888\u3002 \u4fdd\u5b58\u8be5\u6587\u4ef6\uff0c\u5982\u679c\u4fdd\u5b58\u65f6\u62a5\u9519\uff0c\u5982\uff1a\u201cNo address associated with hostname\u201d\uff0c\u56e0\u4e3a\u67d0\u7684\u7cfb\u7edf\u662f\u4e0d\u63a5\u53d7ip\u8bbe\u7f6e\u4e3a \u7684\uff0c\u6240\u4ee5\u6211\u4eec\u628a \u6539\u62100.0.0.0\uff0c\u4e5f\u53ef\u4ee5\u4ee3\u8868\u5141\u8bb8\u6240\u6709ip\u8bbf\u95ee\u3002 4.\u5728\u6d4f\u89c8\u5668\u7aef\u6253\u5f00\u5730\u5740 132.342.45.76:8889 \u4e0a\u9762\u7684IP\u5730\u5740\u8bf7\u66ff\u6362\u6210\u4f60\u673a\u5668\u7684IP \u5373\u53ef \u7ed9jupyter\u5b89\u88c5\u65b0\u7684\u4e3b\u9898 \u5b89\u88c5\u4e3b\u9898 pip install jupyterthemes \u67e5\u770b\u6709\u54ea\u4e9b\u4e3b\u9898 jt -l \u4f7f\u7528\u4e3b\u9898grade3 jt -t grade3 \u5b89\u88c5\u65b0\u7684\u63d2\u4ef6 pip install jupyter_contrib_nbextensions && jupyter contrib nbextension install --user pip install ipywidgets && jupyter nbextension enable --py widgetsnbextension \u53c2\u8003\u5730\u5740\uff1a https://www.zhihu.com/question/46309360 https://zhuanlan.zhihu.com/p/33105153 \u672c\u5730\u8bbf\u95ee\u8fdc\u7aef\u7684\u670d\u52a1\u5668\u7684jupyter \u670d\u52a1\u5668\u7aef\u6267\u884c\u5982\u4e0b\u4ee3\u7801\uff1a nohup jupyter notebook --no-browser --port=8889 & \u672c\u5730\u6267\u884c\u5982\u4e0b\u4ee3\u7801\uff1a \u7528\u4e8e\u8fde\u63a5\u5230\u670d\u52a1\u5668\u7684\u8fdc\u7a0b\u4e3b\u673a\u76848889\u7aef\u53e3\uff0c\u6765\u542f\u52a8jupyter\uff0c\u672c\u5730\u5f00\u542f\u7684\u662f8888\u7aef\u53e3\uff0c\u9ed8\u8ba4\u7684\u670d\u52a1\u5668\u7aef\u8fd0\u884c\u7684\u662f22\u7aef\u53e3\uff0c\u4f46\u662f\u6211\u4eec\u670d\u52a1\u5668ssh\u8bbf\u95ee\u7684\u9700\u8981\u662f5252\u7aef\u53e3\uff0c\u6240\u4ee5\u5728\u6b64\u5904\u6307\u5b9a-p 5252 ssh -N -f -L localhost:8888:localhost:8889 -p 5252 zhangsan@132.342.45.76 \u7136\u540e\u5728\u672c\u5730\u6253\u5f00\u6d4f\u89c8\u5668\u8f93\u5165\u4ee5\u4e0b\u5185\u5bb9\uff1a http://localhost:8888/ \u7b2c\u4e00\u6b21\u8fdb\u5165\u5230jupyter\u754c\u9762\uff0c\u4f1a\u8981\u6c42\u8f93\u5165token\uff0c\u8fd9\u65f6\u5019\u5728\u7ec8\u7aef\u4f1a\u51fa\u73b0\u7f51\u5740\uff0ctoken\uff1f\u4e00\u4e32\u5b57\u7b26\u5c31\u662ftoken,\u590d\u5236\u5230\u6d4f\u89c8\u5668\uff0c\u5e76\u91cd\u7f6e\u5bc6\u7801\u5373\u53ef\u3002 5.\u5b89\u88c5nb_conda\u7528\u4e8ejupyter\u8bbf\u95eeconda\u73af\u5883 conda install nb_conda \u5982\u679c\u662f\u670d\u52a1\u5668\u96c6\u7fa4\uff0c\u60f3\u8981\u5728\u6307\u5b9a\u8282\u70b9\u4e0a\u8fd0\u884cjupyter: \u670d\u52a1\u5668\u5728\u96c6\u7fa4\u6307\u5b9a\u8282\u70b9\u8fd0\u884c\u5982\u4e0b\u547d\u4ee4\uff1a jupyter notebook --port=8889 --ip=node02 --no-browser \u672c\u5730\u7ec8\u7aef\u8fd0\u884c\u5982\u4e0b\u547d\u4ee4\uff1a ssh -N -f -L localhost:8889:node02:8889 -p 5252 zhangsan@132.342.45.76","title":"1.\u5b89\u88c5jupyter"},{"location":"AI-practice/linux%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%AB%AF%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8jupyter-notebook/#1jupyter","text":"python3 pip\u5b89\u88c5 pip install jupyter","title":"1.\u5b89\u88c5jupyter"},{"location":"AI-practice/linux%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%AB%AF%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8jupyter-notebook/#ancondajupyter","text":"","title":"anconda\u9ed8\u8ba4\u5df2\u7ecf\u5b89\u88c5jupyter\uff0c\u6240\u4ee5\u76f4\u63a5\u4f7f\u7528\u5373\u53ef"},{"location":"AI-practice/linux%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%AB%AF%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8jupyter-notebook/#2","text":"jupyter notebook --generate-config \u4e0a\u9762\u4f1a\u751f\u6210config\u6587\u4ef6\uff0c\u8def\u5f84\u662f ~/.jupyter/jupyter_notebook_config.py #python\u4ee3\u7801 from notebook.auth import passwd passwd()","title":"2.\u914d\u7f6e\u670d\u52a1\u5668"},{"location":"AI-practice/linux%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%AB%AF%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8jupyter-notebook/#_1","text":"","title":"\u4e0a\u9762\u4f1a\u8981\u6c42\u8f93\u5165\u4e24\u6b21\u5bc6\u7801\uff0c\u8bb0\u4f4f\u8fd9\u4e2a\u5bc6\u7801\u5c31\u662f\u672c\u5730\u767b\u5f55\u6d4f\u89c8\u5668\u7684\u5bc6\u7801"},{"location":"AI-practice/linux%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%AB%AF%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8jupyter-notebook/#_2","text":"'argon2:$argon2id$v=19$m=10240,t=10,p=8$8vm7Tx3twE00+sXM61BNzg$tdDgCI61rP8WjFHwb55QWn0SksIjwAzRii4c'","title":"\u5e76\u751f\u6210\u4e00\u4e2a\u5bc6\u94a5\u5982\u4e0b\uff1a"},{"location":"AI-practice/linux%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%AB%AF%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8jupyter-notebook/#3jupyterjupyter_notebook_configpy","text":"\u5206\u522b\u662f c.NotebookApp.ip='*' #\u8bbe\u7f6e\u8bbf\u95eenotebook\u7684ip\uff0c*\u8868\u793a\u6240\u6709IP c.NotebookApp.password = u'sha1:xxx' #\u586b\u5199\u521a\u521a\u590d\u5236\u7684\u5bc6\u94a5 c.NotebookApp.open_browser = False # \u7981\u6b62notebook\u542f\u52a8\u65f6\u81ea\u52a8\u6253\u5f00\u6d4f\u89c8\u5668 c.NotebookApp.port =8889 #\u6307\u5b9a\u8bbf\u95ee\u7684\u7aef\u53e3\uff0c\u9ed8\u8ba4\u662f8888\u3002 \u4fdd\u5b58\u8be5\u6587\u4ef6\uff0c\u5982\u679c\u4fdd\u5b58\u65f6\u62a5\u9519\uff0c\u5982\uff1a\u201cNo address associated with hostname\u201d\uff0c\u56e0\u4e3a\u67d0\u7684\u7cfb\u7edf\u662f\u4e0d\u63a5\u53d7ip\u8bbe\u7f6e\u4e3a \u7684\uff0c\u6240\u4ee5\u6211\u4eec\u628a \u6539\u62100.0.0.0\uff0c\u4e5f\u53ef\u4ee5\u4ee3\u8868\u5141\u8bb8\u6240\u6709ip\u8bbf\u95ee\u3002","title":"3.\u4fee\u6539\u6587\u4ef6~/.jupyter/jupyter_notebook_config.py"},{"location":"AI-practice/linux%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%AB%AF%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8jupyter-notebook/#4","text":"132.342.45.76:8889 \u4e0a\u9762\u7684IP\u5730\u5740\u8bf7\u66ff\u6362\u6210\u4f60\u673a\u5668\u7684IP \u5373\u53ef \u7ed9jupyter\u5b89\u88c5\u65b0\u7684\u4e3b\u9898 \u5b89\u88c5\u4e3b\u9898 pip install jupyterthemes \u67e5\u770b\u6709\u54ea\u4e9b\u4e3b\u9898 jt -l \u4f7f\u7528\u4e3b\u9898grade3 jt -t grade3 \u5b89\u88c5\u65b0\u7684\u63d2\u4ef6 pip install jupyter_contrib_nbextensions && jupyter contrib nbextension install --user pip install ipywidgets && jupyter nbextension enable --py widgetsnbextension \u53c2\u8003\u5730\u5740\uff1a https://www.zhihu.com/question/46309360 https://zhuanlan.zhihu.com/p/33105153","title":"4.\u5728\u6d4f\u89c8\u5668\u7aef\u6253\u5f00\u5730\u5740"},{"location":"AI-practice/linux%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%AB%AF%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8jupyter-notebook/#jupyter","text":"\u670d\u52a1\u5668\u7aef\u6267\u884c\u5982\u4e0b\u4ee3\u7801\uff1a nohup jupyter notebook --no-browser --port=8889 & \u672c\u5730\u6267\u884c\u5982\u4e0b\u4ee3\u7801\uff1a \u7528\u4e8e\u8fde\u63a5\u5230\u670d\u52a1\u5668\u7684\u8fdc\u7a0b\u4e3b\u673a\u76848889\u7aef\u53e3\uff0c\u6765\u542f\u52a8jupyter\uff0c\u672c\u5730\u5f00\u542f\u7684\u662f8888\u7aef\u53e3\uff0c\u9ed8\u8ba4\u7684\u670d\u52a1\u5668\u7aef\u8fd0\u884c\u7684\u662f22\u7aef\u53e3\uff0c\u4f46\u662f\u6211\u4eec\u670d\u52a1\u5668ssh\u8bbf\u95ee\u7684\u9700\u8981\u662f5252\u7aef\u53e3\uff0c\u6240\u4ee5\u5728\u6b64\u5904\u6307\u5b9a-p 5252 ssh -N -f -L localhost:8888:localhost:8889 -p 5252 zhangsan@132.342.45.76 \u7136\u540e\u5728\u672c\u5730\u6253\u5f00\u6d4f\u89c8\u5668\u8f93\u5165\u4ee5\u4e0b\u5185\u5bb9\uff1a http://localhost:8888/ \u7b2c\u4e00\u6b21\u8fdb\u5165\u5230jupyter\u754c\u9762\uff0c\u4f1a\u8981\u6c42\u8f93\u5165token\uff0c\u8fd9\u65f6\u5019\u5728\u7ec8\u7aef\u4f1a\u51fa\u73b0\u7f51\u5740\uff0ctoken\uff1f\u4e00\u4e32\u5b57\u7b26\u5c31\u662ftoken,\u590d\u5236\u5230\u6d4f\u89c8\u5668\uff0c\u5e76\u91cd\u7f6e\u5bc6\u7801\u5373\u53ef\u3002","title":"\u672c\u5730\u8bbf\u95ee\u8fdc\u7aef\u7684\u670d\u52a1\u5668\u7684jupyter"},{"location":"AI-practice/linux%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%AB%AF%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8jupyter-notebook/#5nb_condajupyterconda","text":"conda install nb_conda","title":"5.\u5b89\u88c5nb_conda\u7528\u4e8ejupyter\u8bbf\u95eeconda\u73af\u5883"},{"location":"AI-practice/linux%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%AB%AF%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8jupyter-notebook/#jupyter_1","text":"\u670d\u52a1\u5668\u5728\u96c6\u7fa4\u6307\u5b9a\u8282\u70b9\u8fd0\u884c\u5982\u4e0b\u547d\u4ee4\uff1a jupyter notebook --port=8889 --ip=node02 --no-browser \u672c\u5730\u7ec8\u7aef\u8fd0\u884c\u5982\u4e0b\u547d\u4ee4\uff1a ssh -N -f -L localhost:8889:node02:8889 -p 5252 zhangsan@132.342.45.76","title":"\u5982\u679c\u662f\u670d\u52a1\u5668\u96c6\u7fa4\uff0c\u60f3\u8981\u5728\u6307\u5b9a\u8282\u70b9\u4e0a\u8fd0\u884cjupyter:"},{"location":"AI-practice/%E6%9C%80%E7%BB%88%E7%9B%AE%E6%A0%87%EF%BC%9A%E5%BC%80%E5%8F%91%E5%87%BA%E6%99%BA%E8%83%BD%E5%AF%B9%E8%AF%9D%E5%B7%A5%E5%85%B7/","text":"\u5177\u4f53\u4efb\u52a1\u6307\u6807\uff1a 1.\u96c6\u6210\u4e3a\u4e00\u5957\u6807\u51c6\u7b97\u6cd5\uff0c\u53ef\u4ee5\u4f7f\u7528\u5404\u79cd\u5e73\u53f0API\u63a5\u53e3\u8c03\u7528\u3002 2. \u652f\u6301\u4e2d\u6587\u7684\u4f1a\u8bdd\u5185\u5bb9\u3002 3. \u53ef\u6839\u636e \u4f7f\u7528\u573a\u666f \uff0c\u505a\u6df1\u5ea6\u7684\u884c\u4e1a\u65b9\u5411\u7684\u6df1\u5ea6\u5b66\u4e60\u3002 \u77e5\u8bc6\u4f53\u7cfb\u6846\u67b6\uff1a \u8d44\u6e90\u6536\u96c6\uff1a \u4ece\u5f00\u59cb\u5230\u5b9e\u6218\u804a\u5929\u673a\u5668\u4eba \u4eba\u5de5\u667a\u80fd\u548c\u673a\u5668\u5b66\u4e60 \u65b0\u52a0\u5761\u56fd\u7acb\u5927\u5b66\u804a\u5929\u673a\u5668\u4eba\u89c6\u9891\u6559\u7a0bgithub\u5730\u5740","title":"\u6700\u7ec8\u76ee\u6807\uff1a\u5f00\u53d1\u51fa\u667a\u80fd\u5bf9\u8bdd\u5de5\u5177"},{"location":"AI-practice/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0pycare%E6%A1%86%E6%9E%B6/","text":"\u5b66\u4e60pycare\u4e4b\u524d\uff0c\u5148\u642d\u5efa\u597djupyter notebook\u3002\u4ee3\u7801\u5b9e\u73b0\u662f\u57fa\u4e8ejupyter\u7684\u3002","title":"\u673a\u5668\u5b66\u4e60pycare\u6846\u67b6"},{"location":"BSA/2021-01-12/","text":"SNP\u5206\u578b OutcrossSeq https://github.com/xhhuanglab/OutcrossSeq https://mp.weixin.qq.com/s/GH5JN6ofU7KA-SLEQcLYYw","title":"2021 01 12"},{"location":"BSA/BSA%2C%E9%87%8D%E6%B5%8B%E5%BA%8F%E5%AE%8C%E6%95%B4%E7%AF%87/","text":"\u91cd\u8981\u58f0\u660e\uff1a \u8bb8\u591a\u5de5\u5177\u3001\u6587\u6863\u662f\u9700\u8981\u722c\u5899\u624d\u80fd\u770b\u5230\u7684\uff0c\u94fe\u63a5\u65e0\u6cd5\u6253\u5f00\u65f6\uff0c\u53ef\u80fd\u662f\u88ab\u5899\u4e86\u3002 BSA\u7efc\u8ff02016\u5e74\u53d1\u8868 0.\u6279\u91cf\u8f6c\u79fb\u6587\u4ef6\u7684\u65b9\u6cd5 find ./bwa -name '*2447-20*'|xargs -i mv {} ./bwa/first-2447 \u628abwa\u76ee\u5f55\u7684\u6240\u6709\u6587\u4ef6\u540d\u5305\u542b2447-20\u7684\u6587\u4ef6\u5168\u90e8\u8f6c\u79fb\u5230./bwa/first-2447\u6587\u4ef6\u5939\u4e2d\u3002 \u6d41\u7a0b\u56fe \u4e00\u822c\u6d41\u7a0b \u7b2c\u4e00\u90e8\u5206\u5185\u5bb9\u662f\u4ece \u6d4b\u5e8f\u6570\u636e\u4e0b\u673a\u6570\u636e\u5230\u53d8\u5f02\u7684SNP\u68c0\u51fa GATK4\u7684\u4f7f\u7528 2.BSA\u5206\u6790 SHORE-map\u5206\u6790\u6cd5 SHORE-MAP\u5b89\u88c5 QTL-seq\u6cd5 Annovar \u8f6f\u4ef6\u6ce8\u91ca\u6d41\u7a0b\u4ecb\u7ecd \u7389\u7c73\u57fa\u56e0\u7ec4\u4e0b\u8f7d shore-map\u4f7f\u7528 SHOREmap convert --marker 119-8.vcf --folder path/to/folder -runid int SHOREmap extract --chrsizes chromsize.txt --folder ../SHOREmap_analysis --marker 11_converted_variant.txt --consen 11_converted_consen.txt -verbose SHOREmap backcross --chrsizes chromsize.txt --marker ../convert/11_converted_variant.txt --consen extracted_consensus_0.txt --folder ../BC_analysis -plot-bc --marker-score 40 --marker-freq 0.0 --min-converage 10 --max-coverage 80 -bg ../convert/12_converted_variant.txt --bg-cov 1 --bg-freq 0.0 --bg-score 1 -non-EMS --cluster 1 --marker-hit 1 -verbose SHOREmap annotate --chrsizes chromsize.txt --folder ../BC_analysis/ann --snp ../convert/11_converted_variant.txt --chrom 2 --start 1 --end 4000000 --genome ../../TAIR10_chr_all.fas --gff ../../TAIR10_GFF3_genes.gff","title":"BSA,\u91cd\u6d4b\u5e8f\u5b8c\u6574\u7bc7"},{"location":"BSA/BSA%E5%88%86%E6%9E%90%E7%94%9F%E7%89%A9%E5%AD%A6%E7%9F%A5%E8%AF%86%E6%B1%87%E6%80%BB/","text":"\u5fc5\u8bfb\u6587\u732e\u6e05\u5355\uff1a 1.2017\u5e74\u7efc\u8ff0 \u300a\u5168\u57fa\u56e0\u7ec4\u6d4b\u5e8f\u65b9\u6cd5\uff1a\u4f18\u70b9\uff0c\u5c40\u9650\u6027\u548c\u5b9e\u7528\u5efa\u8bae \u300bhttps://onlinelibrary.wiley.com/doi/full/10.1111/mec.14264 2. BSA\u548cRNA-seq\u8054\u5408\u5206\u6790\u6587\u732e \u897f\u74dc\u7684 SR nature Com 3. WGR \u91cd\u6d4b\u5e8f\u7b80\u5316\u6807\u8bb0\u5f00\u53d1 https://link.springer.com/article/10.1007/s11032-015-0240-6 WGS/WGR Whole Genome Sequence/Whole Genome Resequence. 4. SV\u53d8\u5f02\u68c0\u6d4b\u5de5\u5177\u7efc\u8ff0 BSA\u5206\u6790\u8bb2\u89e3 \u4e0a \u4e2d \u4e0b","title":"BSA\u5206\u6790\u751f\u7269\u5b66\u77e5\u8bc6\u6c47\u603b"},{"location":"BSA/BSA%E5%88%86%E6%9E%90%EF%BC%9AGATK4%E7%9A%84%E4%BD%BF%E7%94%A8%28%E5%8C%85%E6%8B%ACbwa%29/","text":"\u6ce8\u610f\uff1a\u7248\u672c\u4e0d\u540c\uff0c\u547d\u4ee4\u4f1a\u4e0d\u4e00\u81f4\u3002\u4e00\u5b9a\u8981\u7528\u5bf9\u5e94\u7684\u7248\u672c\u3002 \u9700\u8981\u767b\u5f55google\u8d26\u6237 GATK3\u7684\u4e0b\u8f7d\u5730\u5740 GATK4 \u5404\u4e2a\u7248\u672c\u4e4b\u95f4\uff0c\u6709\u4e9b\u547d\u4ee4\u4f1a\u6709\u53d8\u5316\u3002 1.GATK\u7684\u5b89\u88c5\u3001\u4f7f\u7528 \u522b\u4eba\u7684\u6559\u7a0b \u817e\u8baf\u4e91\u7684\u6559\u7a0b GATK4\u6570\u636e\u9884\u5904\u7406 \u53d8\u5f02\u68c0\u6d4b(BWA+SAMtools+picard+GATK) bwa+samtools+picardtools+GATK call SNP \u6d41\u7a0b \u56e0\u6211\u4eec\u670d\u52a1\u5668\u6e23\u6e23\u7684\u7f51\u7edc\u95ee\u9898\uff0c\u5185\u5bb9\u90fd\u662f\u4e0b\u8f7d\u5230\u672c\u5730\u7684win10\u4e4b\u540e\uff0c\u518d\u4e0a\u4f20\u5230\u670d\u52a1\u5668\u4e0a\u3002 \u670d\u52a1\u5668\u914d\u7f6e\uff1acpu 4\u4e2a 6\u6838 2\u7ebf\u7a0b=48 \u5185\u5b58\uff1a396G gatk\u662fJava\u7a0b\u5e8f\uff0c\u4e0b\u8f7d\u5230\u672c\u5730\u540e\u89e3\u538b\u7f29\u5373\u53ef\u4f7f\u7528\u3002\u5728win10\u4f7f\u7528IDM\u4e0b\u8f7d gatk4.0.10.1\u5730\u5740 \u5b58\u653e\u76ee\u5f55 /home/chaim/disk/gatk/ unzip gatk4.0.10.1 cd gatk4.0.10.1/ chmod 777 gatk ./gatk --list //\u663e\u793agatk\u7684\u6240\u6709\u5b50\u547d\u4ee4 2.GATK4.0.10.1\u7b80\u4ecb \u5e38\u7528\u7684pipeline\u67095\u79cd 1. Germline SNPs + Indels \u79cd\u7cfbSNP+Indel Somatic SNVs + Indels \u4f53\u7ec6\u80de\u5355\u78b1\u57fa\u7a81\u53d8 RNAseq SNPs + Indels Germline CNVs \u79cd\u7cfb\u62f7\u8d1d\u6570\u53d8\u5f02 (Copy numbervariations, CNVs)\u4e3b\u8981\u6307\u5927\u4e8e1kb \u4ee5\u4e0a\u7684DNA\u7247\u6bb5\u7684\u7f3a\u5931\u3001\u63d2\u5165\u3001\u91cd\u590d\u7b49\u3002\u4e00\u822c\u662f\u7ed3\u6784\u6027\u53d8\u5f02 Somatic CNVs \u4f53\u7ec6\u80de\u62f7\u8d1d\u6570\u53d8\u5f02 1\u30012\u30014\u30015\u9002\u5408DNA\u6d4b\u5e8f\u5206\u6790\uff0c3\u9002\u5408RNA\u6d4b\u5e8f\u5206\u6790\u3002\u2019 \u5b98\u65b9\u6587\u6863 \u5f00\u59cb\u5206\u6790 GATK4.0\u5168\u57fa\u56e0\u7ec4\u548c\u5916\u663e\u5b50\u7ec4\u5206\u6790\u5b9e\u6218 \u8f6f\u4ef6\uff1a - fastqc\u68c0\u6d4b\u8d28\u91cf - fastq /trimmomatic\u8d28\u63a7 - bwa\u6bd4\u5bf9 - samtool\u683c\u5f0f\u8f6c\u6362 \u6570\u636e\u5b58\u653e\u4f4d\u7f6e \u6240\u6709\u6570\u636e\u73af\u5883\u524d\u63d0\u662f\u5728 /home/chaim/disk/BSA/ \u76ee\u5f55 \u8be5\u76ee\u5f55\u6587\u4ef6\u6709 119-8-1 //119-8\u6d4b\u5e8f\u539f\u59cb\u6570\u636e1 -A23-16551278-1279119-8_combined_R1.fastq.gz -A23-16551278-1279119-8_combined_R2.fastq.gz 119-8-2 //119-8\u6d4b\u5e8f\u539f\u59cb\u6570\u636e2 -A23-16551278-1279-119-8_combined_R1.fastq.gz -A23-16551278-1279-119-8_combined_R2.fastq.gz origin - B17SF2447-20_L1_358358.R1.clean.fastq_2.gz - B17SF2447-20_L2_358358.R1.clean.fastq.gz - B17SF2447-20_L1_358358.R2.clean.fastq.gz - B17SF2447-20_L2_358358.R2.clean.fastq.gz //\u56db\u4e2a\u539f\u59cb\u6570\u636e 1. \u8d28\u63a7\u68c0\u6d4b fastqc *.fastq.gz -t 8 -o fastqc_out/ \u5b89\u88c5fastp wget http://opengene.org/fastp/fastp chmod 755 fastp \u4f7f\u7528fastp\u8d28\u63a7\u6570\u636e ~~\u636e\u4f20\uff0cfastp\u6bd4trimmomatic\u901f\u5ea6\u5feb\uff0c\u6548\u679c\u597d\u3002\u59d1\u4e14\u4fe1\u4e4b\u3002 ./fastp -i in.R1.fq.gz -o out.R1.fq.gz -I in.R2.fq.gz -O out.R2.fq.gz #\u8fd0\u884c\u76ee\u5f55\u4e8e/BSA/119-8 \u8d28\u63a7119-8\u7684\u6570\u636e ../origin/fastp -i ../119-8-1/A23-16551278-1279119-8_combined_R1.fastq.gz -o ./fastp_out/119-8_1.R1.clean.fastq.gz -I ../119-8-1/A23-16551278-1279119-8_combined_R2.fastq.gz -O ./fastp_out/119-8_1.R2.clean.fastq.gz -Q --thread=5 --length_required=50 --n_base_limit=6 --compression=6 & ../origin/fastp -i ../119-8-2/A23-16551278-1279-119-8_combined_R1.fastq.gz -o ./fastp_out/119-8_2.R1.clean.fastq.gz -I ../119-8-2/A23-16551278-1279-119-8_combined_R2.fastq.gz -O ./fastp_out/119-8_2.R2.clean.fastq.gz -Q --thread=5 --length_required=50 --n_base_limit=6 --compression=6 & #\u8fd0\u884c\u4e8e/BSA/origin/ ./fastp -i ./B17SF2447-20_L1_358358.R1.clean.fastq.gz -o ./fastp_out/2447-20_L1$.R1.clean.fastq.gz -I ./B17SF2447-20_L1_358358.R2.clean.fastq.gz -O ./fastp_out/2447-20_L1.R2.clean.fastq.gz -Q --thread=5 --length_required=50 --n_base_limit=6 --compression=6 & ./fastp -i ./B17SF2447-20_L2_358358.R1.clean.fastq.gz -o ./fastp_out/2447-20_L2.R1.clean.fastq.gz -I ./B17SF2447-20_L2_358358.R2.clean.fastq.gz -O ./fastp_out/2447-20_L2.R2.clean.fastq.gz -Q --thread=5 --length_required=50 --n_base_limit=6 --compression=6 & fastp\u53c2\u6570 \u53c2\u8003\u5730\u5740 -i R1 \u8f93\u5165\u53cc\u7aef\u6d4b\u5e8f\u6570\u636e\u7684R1\u7aef -o outputR1 \u8d28\u63a7\u540e\u8f93\u51fa\u7684R1\u7aef -I R2 \u8f93\u5165R2\u539f\u59cb\u6d4b\u5e8f\u6570\u636e -O outputR2 \u8d28\u63a7\u540e\u8f93\u51fa\u7684R2\u7aef -Q \u7981\u7528\u8d28\u91cf\u8fc7\u6ee4 --thread=5 \u8bbe\u7f6e\u7ebf\u7a0b\u6570\u4e3a5 --length_required=50 \u8bbe\u7f6e\u8fc7\u6ee4\u7684\u6700\u77ed\u7684\u5e8f\u5217\u957f\u5ea650bp --n_base_limit=6 \u4e00\u4e2areads\u4e2dN\u7684\u6b21\u6570\u5927\u4e8e6\uff0c\u5219\u820d\u5f03\u8be5reads --compression=6 \u8f93\u51fa\u7684gzip\u6587\u4ef6\u538b\u7f29\u7a0b\u5ea6\u4e3a6\uff0c1-9\uff0c\u538b\u7f29\u7a0b\u5ea6\u52a0\u5927\u3002 bwa\u6d41\u7a0b\u53c2\u6570 bwa\u53c2\u80031 bwa\u53c2\u80032 2.1. bwa\u5efa\u7acb\u7d22\u5f15\u6587\u4ef6 #/ bwa\u7684\u547d\u4ee4\u4e00\u5b9a\u4e0d\u8981\u4f7f\u7528nohup\u3002nohup \u7684\u8f93\u51fa\u4fe1\u606f\u4f1a\u88abbwa\u8f93\u51fa\u5230\u76ee\u6807\u6587\u4ef6\uff0c\u4f1a\u5f71\u54cd\u540e\u7eed\u6b65\u9aa4 / B73\u5e8f\u5217\u5730\u5740\u4f4d\u7f6e /home/chaim/disk/zm437/Zea_mays.AGPv4.dna.toplevel.fa /BSA/bwa/zm437\u8f6f\u8fde\u63a5\u5230\u4e0a\u8ff0\u6587\u4ef6 //\u5de5\u4f5c\u76ee\u5f55/BSA/bwa/ bwa index -a bwtsw -p zm437 /home/chaim/disk/zm437/Zea_mays.AGPv4.dna.toplevel.fa ``` `index -a bwtsw`\u8bbe\u7f6e\u6a21\u5f0f\uff0c\u9002\u5408\u5927\u57fa\u56e0\u7ec4 `-p zm437`\u8bbe\u7f6e\u8f93\u51fa\u6587\u4ef6\u540d ################\u5206\u5272\u7ebf##################################### >/**#\u6ce8\u610f\uff1a\u6b64\u5904\u76842.2.1\u548c2.2.2\u8fd9\u4e24\u6b65\u7684bwa \u4e00\u5b9a\u8981\u7528\u540c\u4e00\u7248\u672c\u7684bwa\uff0c\u4e0d\u7136\u540e\u9762\u4f1a\u62a5\u9519**/ #*2.2\u548c2.3*\u4e8c\u9009\u4e00\u5373\u53ef\uff0c\u5efa\u8bae\u4f7f\u75282.3. bwa\u7684mem\u7684\u6548\u7387\u66f4\u9ad8\uff0c\u4e14\u66f4\u52a0\u51c6\u786e\u3002 #2.2 bwa\u5bfb\u627e\u8f93\u5165reads\u6587\u4ef6\u7684SA\u5750\u6807 //\u5de5\u4f5c\u76ee\u5f55/BSA/bwa/ bwa aln zm437 read1.fq.gz -l 30 -k 2 -t 8 -I > read1.fq.gz.sai bwa aln zm437 read2.fq.gz -l 30 -k 2 -t 8 -I > read2.fq.gz.sai //\u524d4\u4e2a\u662f\u672c\u6b212447-20\u6837\u54c1 bwa aln zm437 ../origin/fastp_out/2447-20_L1.R1.clean.fastq.gz -l 30 -k 2 -t 8 -I >2447-20_L1.R1.fq.gz.sai & bwa aln zm437 ../origin/fastp_out/2447-20_L1.R2.clean.fastq.gz -l 30 -k 2 -t 8 -I >2447-20_L1.R2.fq.gz.sai & bwa aln zm437 ../origin/fastp_out/2447-20_L2.R1.clean.fastq.gz -l 30 -k 2 -t 8 -I >2447-20_L2.R1.fq.gz.sai & bwa aln zm437 ../origin/fastp_out/2447-20_L2.R2.clean.fastq.gz -l 30 -k 2 -t 8 -I >2447-20_L2.R2.fq.gz.sai & //\u540e4\u4e2a\u662f119-8\u7684\u6570\u636e bwa aln zm437 ../119-8/fastp_out/119-8_1.R1.clean.fastq.gz -l 30 -k 2 -t 8 -I >119-8_1.R1.fq.gz.sai & bwa aln zm437 ../119-8/fastp_out/119-8_1.R2.clean.fastq.gz -l 30 -k 2 -t 8 -I >119-8_1.R2.fq.gz.sai & bwa aln zm437 ../119-8/fastp_out/119-8_2.R1.clean.fastq.gz -l 30 -k 2 -t 8 -I >119-8_2.R1.fq.gz.sai & bwa aln zm437 ../119-8/fastp_out/119-8_2.R2.clean.fastq.gz -l 30 -k 2 -t 8 -I >119-8_2.R2.fq.gz.sai & #2.2.2 sai\u8f6csam bwa sampe -r \"@RG\\tID: \\tLB: \\tSM: \\tPL:ILLUMINA\" read1.fq.gz.sai read2.fq.gz.sai read1.fq.gz read2.fq.gz > read.sam *\u6ce8\u91ca*\uff1a`SAMPLE_NAME`\u5e94\u66ff\u6362\u4e3a\u5bf9\u5e94\u6837\u54c1\u540d\u79f0\uff0c\u5426\u5219\u4f1a\u88ab\u5f53\u505a\u4e00\u4e2a\u6837\u54c1\u5904\u7406\u3002 //2447-20\u6570\u636e bwa sampe zm437 -r \"@RG\\tID:2447-20\\tLB:B73\\tSM:2447-20_L1\\tPL:ILLUMINA\" 2447-20_L1.R1.fq.gz.sai 2447-20_L1.R2.fq.gz.sai ../origin/fastp_out/2447-20_L1.R1.clean.fastq.gz ../origin/fastp_out/2447-20_L1.R2.clean.fastq.gz >2447-20_L1.sam & bwa sampe zm437 -r \"@RG\\tID:2447-20\\tLB:B73\\tSM:2447-20_L2\\tPL:ILLUMINA\" 2447-20_L2.R1.fq.gz.sai 2447-20_L2.R2.fq.gz.sai ../origin/fastp_out/2447-20_L2.R1.clean.fastq.gz ../origin/fastp_out/2447-20_L2.R2.clean.fastq.gz >2447-20_L2.sam & //119-8\u6570\u636e bwa sampe zm437 -r \"@RG\\tID:119-8\\tLB:B73\\tSM:119-8_1\\tPL:ILLUMINA\" 119-8_1.R1.fq.gz.sai 119-8_1.R2.fq.gz.sai ../119-8/fastp_out/119-8_1.R1.clean.fastq.gz ../119-8/fastp_out/119-8_1.R2.clean.fastq.gz >119-8_1.sam & bwa sampe zm437 -r \"@RG\\tID:119-8\\tLB:B73\\tSM:119-8_2\\tPL:ILLUMINA\" 119-8_2.R1.fq.gz.sai 119-8_2.R2.fq.gz.sai ../119-8/fastp_out/119-8_2.R1.clean.fastq.gz ../119-8/fastp_out/119-8_2.R2.clean.fastq.gz >119-8_2.sam & #2.3 BWA\u7684mem\u7684\u4f7f\u7528\uff0c\u597d\u7528\u5feb\u901f\u4e00\u6b65\u5230\u4f4d\u3002~~[\u53c2\u8003\u5730\u5740](https://blog.csdn.net/u013553061/article/details/53120973)~~(\u6ce8\u610f2.2\u548c2.3\uff0c\u4e8c\u9009\u4e00\u5373\u53ef\uff0c\u5efa\u8bae\u4f7f\u75282.3) bwa mem\u7684\u4f7f\u7528 / \u5de5\u4f5c\u76ee\u5f55\u5728/home/chaim/disk/BSA/bwa/ / / zm437\u662fB73\u57fa\u56e0\u7ec4\u5e8f\u5217 / / \u6bd4\u5bf9\u7684\u53c2\u6570-R\u4e00\u5b9a\u4e0d\u80fd\u7701\u7565\u6216\u5199\u9519 / bwa mem -t 24 -M -P -R '@RG\\tID:2447-20\\tSM:2447-20\\tLB:WES\\tPL:Illumina' zm437 ../origin/fastp_out/2447-20_L1.R1.clean.fastq.gz ../origin/fastp_out/2447-20_L1.R2.clean.fastq.gz >2447-20_L1.sam & bwa mem -t 24 -M -P -R '@RG\\tID:2447-20\\tSM:2447-20\\tLB:WES\\tPL:Illumina' zm437 ../origin/fastp_out/2447-20_L2.R1.clean.fastq.gz ../origin/fastp_out/2447-20_L2.R2.clean.fastq.gz >2447-20_L2.sam & bwa mem -t 12 -M -P -R '@RG\\tID:119-8\\tSM:119-8\\tLB:WES\\tPL:Illumina' zm437 ../119-8/fastp_out/119-8_1.R1.clean.fastq.gz ../119-8/fastp_out/119-8_1.R2.clean.fastq.gz >119-8_1.sam & bwa mem -t 8 -M -P -R '@RG\\tID:119-8\\tSM:119-8\\tLB:WES\\tPL:Illumina' zm437 ../119-8/fastp_out/119-8_2.R1.clean.fastq.gz ../119-8/fastp_out/119-8_2.R2.clean.fastq.gz >119-8_2.sam & #3. \u5bf9Sam\u6587\u4ef6\u8fdb\u884c\u91cd\u6392\u5e8f(recorder) \u4e0b\u8f7d\u5b89\u88c5\u6700\u65b0\u7248[picard](https://github.com/broadinstitute/picard/releases/download/2.18.15/picard.jar) \u4fdd\u5b58\u5230\u8def\u5f84`/home/chaim/disk/BSA/bwa/` \u5728\u8be5\u8def\u5f84\u8fd0\u884c`java -jar picard.jar -h`,\u4f1a\u5217\u51fapicard\u5305\u542b\u7684\u6240\u6709\u5de5\u5177\u3002 3.1 \u6784\u5efa\u7d22\u5f15\u5e8f\u5217 `nohup samtools faidx zm437 &` 3.2\u5bf9Sam\u6587\u4ef6\u8fdb\u884c\u91cd\u6392\u5e8f java -jar picard.jar CreateSequenceDictionary R=/home/chaim/disk/zm437/Zea_mays.AGPv4.dna.toplevel.fa O=zm437.dict java -jar picard.jar ReorderSam I=2447-20_L1.sam O=2447-20_L1.reordered.sam R=/home/chaim/disk/zm437/Zea_mays.AGPv4.dna.toplevel.fa & java -jar picard.jar ReorderSam I=2447-20_L2.sam O=2447-20_L2.reordered.sam R=/home/chaim/disk/zm437/Zea_mays.AGPv4.dna.toplevel.fa & java -jar picard.jar ReorderSam I=119-8_1.sam O=119-8_1.reordered.sam R=/home/chaim/disk/zm437/Zea_mays.AGPv4.dna.toplevel.fa java -jar picard.jar ReorderSam I=119-8_2.sam O=119-8_2.reordered.sam R=/home/chaim/disk/zm437/Zea_mays.AGPv4.dna.toplevel.fa & #4.\u5c06sam\u6587\u4ef6\u8f6c\u6362\u6210bam\u6587\u4ef6\u3002 samtools view --threads 24 -bS 2447-20_L1.reordered.sam -o 2447-20_L1.bam & samtools view --threads 24 -bS 2447-20_L2.reordered.sam -o 2447-20_L2.bam & samtools view --threads 8 -bS 119-8_1.reordered.sam -o 119-8_1.bam samtools view --threads 8 -bS 119-8_2.reordered.sam -o 119-8_2.bam & #5. \u5bf9bam\u6587\u4ef6\u8fdb\u884csort\u6392\u5e8f java -jar picard.jar SortSam INPUT=2447-20_L1.bam OUTPUT=2447-20_L1.sort.bam SORT_ORDER=coordinate & java -Xmx48G -jar picard.jar SortSam INPUT=2447-20_L2.bam OUTPUT=2447-20_L2.sort.bam SORT_ORDER=coordinate & java -Xmx96G -jar picard.jar SortSam INPUT=119-8_1.bam OUTPUT=119-8_1.sort.bam SORT_ORDER=coordinate java -jar picard.jar SortSam INPUT=119-8_2.bam OUTPUT=119-8_2.sort.bam SORT_ORDER=coordinate & #6. Merge \\\u5408\u5e76\u4e00\u4e2a\u6837\u672c\u7684\u591a\u4e2alane\u7684bam\u6587\u4ef6\u3002 java -jar picard.jar MergeSamFiles I=2447-20_L1.sort.bam I=2447-20_L2.sort.bam O=2447-20.bam & java -jar picard.jar MergeSamFiles I=119-8_1.sort.bam I=119-8_2.sort.bam O=119-8.bam #7. Duplicates Marking \u4e00\u822c\u60c5\u51b5\u662fRNA-seq\u4e0d\u9700\u8981\u8fd9\u4e00\u6b65\uff0cchip-seq,dap-seq,call snp\u9700\u8981\u8fd9\u4e00\u6b65\u9aa4\u3002 [\u5177\u4f53\u539f\u7406](https://www.jianshu.com/p/5781e7d74c40) \u6d4b\u5e8f\u539f\u7406\u662f\u968f\u673a\u6253\u65ad\uff0c\u90a3\u4e48\u7406\u8bba\u4e0a\u51fa\u73b0\u4e24\u6761\u5b8c\u5168\u76f8\u540c\u7684read\u7684\u6982\u7387\u662f\u975e\u5e38\u4f4e\u7684\uff0c\u800c\u4e14\u5efa\u5e93\u65f6PCR\u6269\u589e\u5b58\u5728\u504f\u5411\u6027\uff0c\u56e0\u6b64\u6807\u51fa\u5b8c\u5168\u76f8\u540c\u7684read\u3002 java -jar picard.jar MarkDuplicates REMOVE_DUPLICATES= false MAX_FILE_HANDLES_FOR_READ_ENDS_MAP=8000 INPUT=2447-20.bam OUTPUT=2447-20.repeatmark.bam METRICS_FILE=2447-20.bam.metrics java -jar picard.jar MarkDuplicates REMOVE_DUPLICATES= false MAX_FILE_HANDLES_FOR_READ_ENDS_MAP=8000 INPUT=119-8.bam OUTPUT=119-8.repeatmark.bam METRICS_FILE=119-8.bam.metrics #8. \u751f\u6210\u4e0a\u4e00\u6b65\u7684\u7ed3\u679c\u7684\u7d22\u5f15\u6587\u4ef6 samtools index 2447-20.repeatmark.bam samtools index 119-8.repeatmark.bam /*#\u56e0\u524d\u9762\u7684bwa\u7684mem\u7684R\u53c2\u6570\uff0c\u6211\u7b2c\u4e00\u6b21\u8fd0\u884c\u65f6\u672a\u8bbe\u7f6e\u5b8c\u6574\uff0c\u5bfc\u81f4\u6b64\u5904\u9700\u8981\u4e8c\u6b21\u66f4\u6539\u5934\u6587\u4ef6**/ \u4f7f\u7528picard\u66f4\u6539\u5934\u6587\u4ef6 ID str\uff1a\u8f93\u5165reads\u96c6ID\u53f7\uff1bLB\uff1aread\u96c6\u6587\u5e93\u540d\uff1bPL\uff1a\u6d4b\u5e8f\u5e73\u53f0\uff08illunima\u6216solid\uff09\uff1bPU\uff1a\u6d4b\u5e8f\u5e73\u53f0\u4e0b\u7ea7\u5355\u4f4d\u540d\u79f0\uff08run\u7684\u540d\u79f0\uff09\uff1bSM\uff1a\u6837\u672c\u540d\u79f0\u3002 java -Xmx96g -jar picard.jar AddOrReplaceReadGroups I=2447-20.repeatmark.bam O=2447-20.repeat.bam LB=lib2447-20 PL=illumina PU=2447-20 SM=2447-20 & java -Xmx96g -jar picard.jar AddOrReplaceReadGroups I=119-8.repeatmark.bam O=119-8.repeat.bam LB=lib119-8 PL=illumina PU=119-8 SM=119-8 & /*\u4e00\u5b9a\u4e0d\u8981\u624b\u52a8\u52a0\u5934\u6587\u4ef6\uff0c\u624b\u52a8\u7684\u540e\u7eed\u65e0\u6cd5\u8bc6\u522b\u3002*/ #9.Base (Quality Score) Recalibration Tools involved: BaseRecalibrator, Apply Recalibration, AnalyzeCovariates (optional) [\u53c2\u8003\u5730\u5740](https://www.jianshu.com/p/0e6162104294) [\u6d41\u7a0b\u53c2\u8003\u5730\u5740](http://kuaibao.qq.com/s/20180414G0F47900?refer=cp_1026) \u78b1\u57fa\u8d28\u91cf\u5206\u6570\u91cd\u6821\u51c6\uff08Base quality score recalibration\uff0cBQSR)\uff0c\u5c31\u662f\u5229\u7528\u673a\u5668\u5b66\u4e60\u7684\u65b9\u5f0f\u8c03\u6574\u539f\u59cb\u78b1\u57fa\u7684\u8d28\u91cf\u5206\u6570\u3002\u5b83\u5206\u4e3a\u4e24\u4e2a\u6b65\u9aa4: - \u5229\u7528\u5df2\u6709\u7684snp\u6570\u636e\u5e93\uff0c\u5efa\u7acb\u76f8\u5173\u6027\u6a21\u578b\uff0c\u4ea7\u751f\u91cd\u6821\u51c6\u8868( recalibration table) - \u6839\u636e\u8fd9\u4e2a\u6a21\u578b\u5bf9\u539f\u59cb\u78b1\u57fa\u8fdb\u884c\u8c03\u6574\uff0c\u53ea\u4f1a\u8c03\u6574\u975e\u5df2\u77e5SNP\u533a\u57df\u3002 \u53c2\u6570\u5217\u8868 -R \uff1a \u53c2\u8003\u57fa\u56e0\u7ec4 -I \uff1a \u8f93\u5165\u7684BAM\u6587\u4ef6 --known-sites \u5df2\u77e5SNP\u7684vcf\u6587\u4ef6 -O \uff1a \u8f93\u51fa\u7684\u91cd\u6821\u51c6\u8868 java -Xmx128g -jar /home/chaim/disk/gatk/gatk4/gatk-package-4.0.10.1-local.jar BaseRecalibrator -R /home/chaim/disk/zm437/Zea_mays.AGPv4.dna.toplevel.fa -I 2447-20.repeat.bam --known-sites /home/guo/maize/zm437/zea_mays_vcfsort.vcf -O 2447-20_recal_data.table & java -Xmx128g -jar /home/chaim/disk/gatk/gatk4/gatk-package-4.0.10.1-local.jar ApplyBQSR -R /home/chaim/disk/zm437/Zea_mays.AGPv4.dna.toplevel.fa -I 2447-20.repeat.bam -bqsr 2447-20_recal_data.table -O 2447-20_recal_reads.bam & java -Xmx128g -jar /home/chaim/disk/gatk/gatk4/gatk-package-4.0.10.1-local.jar BaseRecalibrator -R /home/chaim/disk/zm437/Zea_mays.AGPv4.dna.toplevel.fa -I 119-8.repeat.bam --known-sites /home/guo/maize/zm437/zea_mays_vcfsort.vcf -O 119-8_recal_data.table & java -Xmx128g -jar /home/chaim/disk/gatk/gatk4/gatk-package-4.0.10.1-local.jar ApplyBQSR -R /home/chaim/disk/zm437/Zea_mays.AGPv4.dna.toplevel.fa -I 119-8.repeat.bam -bqsr 119-8_recal_data.table -O 119-8_recal_reads.bam & *#\u68c0\u6d4b\u4e0a\u8ff0\u751f\u6210\u7684bam\u6587\u4ef6\u662f\u5426\u53ef\u7528\u3002* java -Xmx128g -jar /home/chaim/disk/gatk/gatk4/gatk-package-4.0.10.1-local.jar ValidateSamFile -I 2447-20_recal_reads.bam java -Xmx128g -jar /home/chaim/disk/gatk/gatk4/gatk-package-4.0.10.1-local.jar ValidateSamFile -I 119-8_recal_reads.bam \u5982\u679c\u663e\u793a`no errors found`,\u5219\u53ef\u4ee5\u7528HaplotypeCaller call SNP/Indel. #*\u4e8c\u3001GATK\u53d8\u5f02\u68c0\u6d4b* [\u53c2\u8003\u6559\u7a0b\u5730\u5740](https://www.jianshu.com/p/6f3198b7a070) **\u8bf4\u660e\uff1a\u540e\u7eed\u4f1a\u6709\u90e8\u5206\u547d\u4ee4\u6709`-nt 24`\u8fd9\u4e2a\u53c2\u6570\uff0c\u4ee3\u8868\u4f7f\u752824\u4e2a\u8fdb\u7a0b\u3002\u5e76\u4e0d\u662f\u6bcf\u4e00\u4e2a\u547d\u4ee4\u90fd\u53ef\u4ee5\u5f00\u591a\u8fdb\u7a0b\u7684\uff0c\u9700\u8981\u5230gatk\u5b98\u7f51\u67e5\u8be2\u6587\u6863\uff0c\u641c\u7d22\u547d\u4ee4\u540e\uff0c\u5728\u547d\u4ee4\u7684API\u6587\u6863\u91cc\u641c\u7d22`thread`\u5373\u53ef\u5feb\u901f\u67e5\u627e\u662f\u5426\u80fd\u4f7f\u7528\u591a\u7ebf\u7a0b** \uff08\u8fd9\u4e00\u6b65\u5728V4.1.4.0\u4e2d\uff0cjava\u7684\u5185\u5b58\u5206\u914d\u6700\u597d\u4e0d\u8981\u8d85\u8fc716g,\u5efa\u8bae8g\u8db3\u591f\u3002hmm\u8fdb\u7a0b\u4e5f\u5c11\u8bbe\u7f6e\u70b94-8\u4e2a\u3002\u5982\u679cJava\u5185\u5b58\u8bbe\u7f6e\u592a\u9ad8\uff0c\u67d0\u4e9b\u670d\u52a1\u5668**\u5373\u4f7f\u5728\u670d\u52a1\u5668\u5185\u5b58\u8303\u56f4\u4e5f\u4f1a\u51fa\u9519**\u4f1a\u56e0\u4e3a\u5185\u5b58\u5206\u914d\u4e0d\u8db3\u800c\u4e2d\u9014\u6302\u6389\u7a0b\u5e8f\uff0c\u5982\u679c\u4e2d\u9014\u6302\u6389\uff0c\u540c\u6837\u6709\u4fee\u590d\u529e\u6cd5\u3002[picard\u4fee\u590d\u4e2d\u65ad\u7684gvcf\u6587\u4ef6](https://www.jianshu.com/p/4e9cf85db722)\uff09 1.\u751f\u6210raw vcf \u6587\u4ef6\uff083-5\u5929\u80fd\u8dd1\u5b8c\u7684\uff0c\u90fd\u662f\u5927\u670d\u52a1\u5668\uff09 \u53c2\u6570\u8bf4\u660e \u5148\u7528`HaplotypeCaller`\u751f\u6210gvcf\u6587\u4ef6\uff0c\u7136\u540e\u518d\u8fd0\u884c`CombineGVCFs`\u3002 java -Xmx96G -jar /home/chaim/disk/gatk/gatk4/gatk-package-4.0.10.1-local.jar \\ #Xmx96G \u4f7f\u7528\u7684\u6700\u5927\u5185\u5b58 HaplotypeCaller \\ #\u4f7f\u7528HaplotypeCaller\u6a21\u5f0f\uff0c\u6bd4\u8f83\u5403\u914d\u7f6e -R /home/chaim/disk/BSA/bwa/zm437 \\ #\u53c2\u8003B73\u57fa\u56e0\u7ec4 -I 2447-20.repeatmark.bam \\ #\u82e5\u591a\u6837\u54c1\uff0c\u5219-I sample1.bam -I sample2.bam --dbsnp zm437vcf \\ #\u53c2\u8003B73\u7684snp -stand_emit_conf 10 \\ -stand_call_conf 30 \\ -O 2447-20.vcf 1.1\u751f\u6210Gvcf\u6587\u4ef6\uff08\u6b64\u6b65\u975e\u5e38\u6d6a\u8d39\u65f6\u95f4\uff0c\u9700\u8981\u591a\uff083-5\uff09\u4e2a\u663c\u591c\uff09 java -Xmx128G -jar /home/chaim/disk/gatk/gatk4/gatk-package-4.0.10.1-local.jar HaplotypeCaller -R /home/chaim/disk/zm437/Zea_mays.AGPv4.dna.toplevel.fa -I 119-8_recal_reads.bam --dbsnp /home/guo/maize/zm437/zea_mays_vcfsort.vcf --native-pair-hmm-threads 96 -stand-call-conf 30 -O 119-8.g.vcf.gz -ERC GVCF java -Xmx128G -jar /home/chaim/disk/gatk/gatk4/gatk-package-4.0.10.1-local.jar HaplotypeCaller -R /home/chaim/disk/zm437/Zea_mays.AGPv4.dna.toplevel.fa -I 2447-20_recal_reads.bam --dbsnp /home/guo/maize/zm437/zea_mays_vcfsort.vcf --native-pair-hmm-threads 96 -stand-call-conf 30 -O 2447-20.g.vcf.gz -ERC GVCF 1.2\u5408\u5e76\u4e4b\u524d\u751f\u6210\u7684GVCF\u6587\u4ef6\u5230\u4e00\u4e2a\u6587\u4ef6\u3002 java -Xmx128G -jar /home/chaim/disk/gatk/gatk4/gatk-package-4.0.10.1-local.jar CombineGVCFs -R /home/chaim/disk/zm437/Zea_mays.AGPv4.dna.toplevel.fa --dbsnp /home/guo/maize/zm437/zea_mays_vcfsort.vcf --variant 2447-20.g.vcf.gz --variant 119-8.g.vcf.gz -O cohort.g.vcf.gz 1.3 GenotypeGVCFs java -Xmx128G -jar /home/chaim/disk/gatk/gatk4/gatk-package-4.0.10.1-local.jar GenotypeGVCFs -R /home/chaim/disk/zm437/Zea_mays.AGPv4.dna.toplevel.fa -V cohort.g.vcf.gz -O common.vcf.gz 2.select SNP java -Xmx96g -jar /home/chaim/disk/gatk/gatk4/gatk-package-4.0.10.1-local.jar SelectVariants -R /home/chaim/disk/zm437/Zea_mays.AGPv4.dna.toplevel.fa -O common_SNP.vcf --variant common.vcf.gz --select-type-to-include SNP 2>select_snp.err 3.select indel java -Xmx96g -jar /home/chaim/disk/gatk/gatk4/gatk-package-4.0.10.1-local.jar SelectVariants -R /home/chaim/disk/zm437/Zea_mays.AGPv4.dna.toplevel.fa -O common_INDEL.vcf --variant common.vcf.gz --select-type-to-include INDEL 2>select_indel.err /*#4.1\u548c4.2\u53d8\u5f02\u8fc7\u6ee4\uff0c\u662f\u4e0d\u540c\u7b97\u6cd5\u7684\u8fc7\u6ee4\u30024.1\u662f\u673a\u68b0\u53c2\u6570\u8fc7\u6ee4\uff0c4.2\u662f\u673a\u5668\u5b66\u4e60\u8fc7\u6ee4\u3002\u4e8c\u8005\u9009\u4e00\u5373\u53ef*/ 4.1 filter SNP\uff08\u53d8\u5f02\u8fc7\u6ee4\uff0c\u786c\u8fc7\u6ee4\u3002\uff09[\u53c2\u6570\u8bb2\u89e3](https://www.jianshu.com/p/938d362fc48d) java -Xmx4g -jar $GATK -R $REF -T VariantFiltration --variant $Slect_SNP --clusterSize 4 --clusterWindowSize 10 --maskName aroundIndel --mask $Slest_INdel -maskExtend 3 --filterName \"lowMQRankSum\" --filterExpression \"MQRankSum < -12.5\" --filterName \"highFS\" --filterExpression \"FS > 60.0\" --filterName \"lowReadPosRankSum\" --filterExpression \"ReadPosRankSum < -8.0\" --filterName \"lowMQ\" --filterExpression \"MQ < 40.0\" --filterName \"lowQD\" --filterExpression \"QD < 2.0\" --out $Filter_SNP --genotypeFilterName \"lowDP\" --genotypeFilterExpression \"DP < 8.0\" >filter_snp.err java -Xmx128g -jar /home/chaim/disk/gatk/gatk4/gatk-package-4.0.10.1-local.jar VariantFiltration -R /home/chaim/disk/zm437/Zea_mays.AGPv4.dna.toplevel.fa --variant common_SNP.vcf --cluster-size 4 --cluster-window-size 10 --mask-name aroundIndel --mask common_INDEL.vcf -mask-extension 3 --filter-name \"lowMQRankSum\" --filter-expression \"QUAL < 30\" --filter-name \"qua130\" --filter-expression \"MQRankSum < -12.5\" --filter-name \"highFS\" --filter-expression \"FS > 60.0\" --filter-name \"lowReadPosRankSum\" --filter-expression \"ReadPosRankSum < -8.0\" --filter-name \"lowMQ\" --filter-expression \"MQ < 40.0\" --filter-name \"lowQD\" --filter-expression \"QD < 2.0\" -O common_filtration.vcf --genotype-filter-name \"lowDP\" --genotype-filter-expression \"DP < 8.0\" >filter_snp.err \u53c2\u6570\u8be6\u89e3\uff08[\u53c2\u8003](https://mp.weixin.qq.com/s?__biz=MzAxOTUxOTM0Nw==&mid=2649798455&idx=1&sn=67a7407980a57ce138948eb46992b603&chksm=83c1d52bb4b65c3dde31df94e9686654bf616166c7311b531213ebf0010f67a32ce827e677b1&scene=21#wechat_redirect)\uff09 ######\u4ee5\u4e0b\u7684\u8fc7\u6ee4\u53c2\u6570\u53ef\u4ee5\u6839\u636e\u81ea\u5df1\u7684\u5b9e\u9645vcf\u7684\u503c\u5206\u5e03\uff0c\u81ea\u5df1\u4fee\u6539\u3002 QD,\u63cf\u8ff0\u5355\u4f4d\u6df1\u5ea6\u7684\u53d8\u5f02\u503c\uff0c\u8d8a\u5927\u53ef\u4fe1\u5ea6\u8d8a\u9ad8\u3002\u4e00\u822c\u8fc7\u6ee4\u6389<2\u7684\u503c\u3002 FS\uff0c\u63cf\u8ff0\u6b63\u8d1f\u94fe\u7279\u5f02\u6027\uff0c\u5dee\u5f02\u6027\u8f83\u5927\uff0c\u8bf4\u660e\u6d4b\u5e8f\u6216\u7ec4\u88c5\u7684\u8fc7\u7a0b\u4e2d\u4e0d\u591f\u968f\u673a\u3002FS\u8d8a\u5c0f\u8d8a\u597d\u3002\u4e00\u822c\u8fc7\u6389\u6389>40\uff08\u4e25\u683c\uff09\u621660\uff08\u666e\u901a\uff09 MQ \u4f7f\u7528bwa-mem\u7684\u8bdd\uff0c\u6b63\u5e38\u503c\u5e94\u8be5\u662f60\uff0c\u63cf\u8ff0\u67d0\u4e2a\u4f4d\u70b9\u6d4b\u5e8freads\u7684\u8d28\u91cf\u503c\u7684\u79bb\u6563\u7a0b\u5ea6\u3002MQ< 40.0 MQRankSum < -12.5 SOR\uff0c\u4e5f\u662f\u8868\u793a\u6b63\u8d1f\u94fe\u7279\u5f02\u6027\uff0c\u6b63\u5e38\u503c\u57280-3\uff0c\u8fc7\u6ee4\u6389>3\u7684\u503c\u3002 4.2 \u53d8\u5f02\u8d28\u63a7VQSR,\u5171\u5206\u4e3a\u4e24\u6b65\uff08##\u6b64\u6b65\u672c\u5b9e\u9a8c\u4e0d\u9002\u7528\uff0c\u672a\u8fd0\u884c\u3002\uff09 #/*\u672c\u6b64\u5b9e\u9a8c\u4e0d\u80fd\u4f7f\u7528\u8be5\u6a21\u578b\u8fc7\u6ee4\uff0c\u8be5\u6a21\u578b\u9002\u5e94\u4e8e\u591a\u6837\u672c\u7684vcf\u8d28\u63a7*/ - 1. VariantRecalibrator \u6784\u5efa\u91cd\u65b0\u6821\u51c6\u6a21\u578b\u4ee5\u8bc4\u4f30\u53d8\u4f53\u8d28\u91cf\u4ee5\u8fdb\u884c\u8fc7\u6ee4 \uff08[VariantRecalibrator](https://software.broadinstitute.org/gatk/documentation/tooldocs/current/org_broadinstitute_hellbender_tools_walkers_vqsr_VariantRecalibrator.php)\uff09 2. \u53d8\u5f02\u8d28\u91cf\u5f97\u5206\u91cd\u65b0\u6821\u51c6[ApplyVQSR](https://software.broadinstitute.org/gatk/documentation/tooldocs/current/org_broadinstitute_hellbender_tools_walkers_vqsr_ApplyVQSR.php) --- VariantRecalibrator gatk VariantRecalibrator \\ -R Homo_sapiens_assembly38.fasta \\ -V input.vcf.gz \\ --resource hapmap\uff0cknown = false\uff0ctraining = true\uff0ctruth = true\uff0cprior = 15.0\uff1ahapmap_3.3.hg38.sites.vcf.gz \\ --resource omni\uff0cknown = false\uff0ctraining = true\uff0ctruth = false\uff0cprior = 12.0\uff1a1000G_omni2.5.hg38.sites.vcf.gz \\ --resource 1000G\uff0cknown = false\uff0ctraining = true\uff0ctruth = false\uff0cprior = 10.0\uff1a1000G_phase1.snps.high_confidence.hg38.vcf.gz \\ --resource dbsnp\uff0cknown = true\uff0ctraining = false\uff0ctruth = false\uff0cprior = 2.0\uff1aHomo_sapiens_assembly38.dbsnp138.vcf.gz \\ -an QD -an MQ -an MQRankSum -an ReadPosRankSum -an FS -an SOR \\ -mode SNP -O output.recal \\ --tranches-file output.tranches \\ --rscript-file output.plots.R VQSR gatk ApplyVQSR \\ -R Homo_sapiens_assembly38.fasta \\ -V input.vcf.gz \\ -O output.vcf.gz \\ --truth-sensitivity-filter-level 99.0 \\ --tranches-file output.tranches \\ --recal-file output.recal \\ -mode SNP java -Xmx128g jar /home/chaim/disk/gatk/gatk4/gatk-package-4.0.10.1-local.jar ApplyVQSR -R /home/chaim/disk/zm437/Zea_mays.AGPv4.dna.toplevel.fa -V 2447-20.vcf -O 2447-20.vqsr.vcf & java -Xmx128g jar /home/chaim/disk/gatk/gatk4/gatk-package-4.0.10.1-local.jar ApplyVQSR -R /home/chaim/disk/zm437/Zea_mays.AGPv4.dna.toplevel.fa -V 119-8.vcf -O 119-8.vqsr.vcf & 5. \u8f6c\u6362vcf\u4e3atable\u683c\u5f0f java -Xmx128g -jar /home/chaim/disk/gatk/gatk4/gatk-package-4.0.10.1-local.jar VariantsToTable -R /home/chaim/disk/zm437/Zea_mays.AGPv4.dna.toplevel.fa -V common_filtration.vcf -F CHROM -F POS -F REF -F ALT -GF AD -GF DP -GF GQ -GF PL -O common.table \u4e09\u3001[\u4f7f\u7528qtl-seqr\u5305](https://www.jianshu.com/p/6ff6c3a44fb6)\uff08\u53ef\u4ee5\u548c\u7b2c\u56db\u6b65\u540c\u65f6\u8fdb\u884c\uff09 [QTLseqr\u5728github](https://github.com/bmansfeld/QTLseqr) #*\u4ee5\u4e0b\u4ee3\u7801\u4e3aR\u8bed\u8a00\u4ee3\u7801* \u5b89\u88c5\u4f7f\u7528QTL-seqr \u5b89\u88c5 installed.packages('devtools') library('devtools') install_github(\"bmansfeld/QTLseqr\") load the package library(\"QTLseqr\") set sample and file name HighBulk <- \"\u6837\u54c1\u540d\u79f01\" LowBulk <- \"\u6837\u54c1\u540d\u79f02\" file <- \"common.table\" choose which chromosomes will be included in the analysis chroms <- paste0 Chroms <- paste0(rep(\"Chr\", 10), 1:10) Import SNP data from file df <- importFromGATK( file = file, highBulk = HighBulk, lowBulk = LowBulk, chromList = Chroms ) Filter SNPs based on some criteria df_filt <- filterSNPs( SNPset = df, refAlleleFreq = 0.20, minTotalDepth = 100, maxTotalDepth = 400, minSampleDepth = 40, minGQ = 99 ) Run G' analysis df_filt <- runGprimeAnalysis( SNPset = df_filt, windowSize = 1e6, outlierFilter = \"deltaSNP\") Run QTLseq analysis df_filt <- runQTLseqAnalysis( SNPset = df_filt, windowSize = 1e6, popStruc = \"F2\",#\u6839\u636e\u7fa4\u4f53\u7ed3\u6784\u8c03\u6574F2\u6216\u8005RIL bulkSize = c(25, 25),#\u6839\u636e\u6c60\u4e2d\u7684\u6837\u672c\u5355\u682a\u6570\u91cf replications = 10000, intervals = c(95, 99) ) Plot plotQTLStats(SNPset = df_filt, var = \"Gprime\", plotThreshold = TRUE, q = 0.01) plotQTLStats(SNPset = df_filt, var = \"deltaSNP\", plotIntervals = TRUE) export summary CSV getQTLTable(SNPset = df_filt, alpha = 0.01, export = TRUE, fileName = \"my_BSA_QTL.csv\") \u56db. \u4f7f\u7528snpEff\u5904\u7406gatk4\u8f93\u51fa\u7684vcf\u3002\uff08\u6b64\u6b65\u9aa4\u548c\u7b2c\u4e09\u6b65\u9aa4\u7684\u8f93\u51fa\u7ed3\u679c\u53ef\u4ee5\u4e92\u76f8\u5bf9\u6bd4\uff0c\u4e24\u8005\u5177\u6709\u76f8\u540c\u7684\u529f\u80fd\uff09 [snpEff\u7684\u6559\u7a0b](https://www.jianshu.com/p/967006e0089c) 1. [\u4e0b\u8f7dsnpEff\u5730\u5740](https://sourceforge.net/projects/snpeff/files/snpEff_latest_core.zip/download) \u89e3\u538b`unzip snpEff_latest_core.zip` \u6211\u7684\u8def\u5f84\u662f/home/chaim/bsa/snpEff/ 2. \u914d\u7f6e\u7389\u7c73zm437\u7248\u672c\u7684\u6570\u636e\u5e93 \u5728\u8def\u5f84`/home/chaim/bsa/snpEff/snpEff/`\u76ee\u5f55\u4e0b\u521b\u5efa\u6587\u4ef6\u5939`data`, cd /home/chaim/bsa/snpEff/snpEff/ mkdir data cd data mkdir genomes mkdir zm437 \u5728zm437\u76ee\u5f55\u5b58\u653e\u57fa\u56e0\u7ec4\u6ce8\u91ca\u6587\u4ef6genes.gff, \u86cb\u767d\u5e93\uff0cprotein.fa \u5728genomes\u76ee\u5f55\u653e\u7f6e\u57fa\u56e0\u7ec4\u53c2\u8003\u5e8f\u5217 zm437.fa \u6ce8\u610f\u4e0a\u8ff0\u7684\u57fa\u56e0\u7ec4\u6ce8\u91ca\u6587\u4ef6\u662fgff3\u683c\u5f0f\u3002 \u4fee\u6539snpEff.config\u7684\u53c2\u6570 \u6dfb\u52a0\u5982\u4e0b\u5185\u5bb9 maize genome,version zm437 zm437.genome:maize \u56de\u5230snpEFF\u76ee\u5f55\uff0c\u8fd0\u884c\u547d\u4ee4 `java -jar snpEff.jar build -gff3 -v zm437` 3. \u5bf9vcf\u683c\u5f0f\u6587\u4ef6\u8fdb\u884c\u6ce8\u91ca\uff1a `bwa`\u76ee\u5f55\u5b58\u653e\u7740GATK4\u5904\u7406\u4e4b\u540e\u7684\u6587\u4ef6`common_filtration.vcf` \u5728`/home/chaim/bsa/bwa`\u76ee\u5f55\u6267\u884c\u4e0b\u9762\u547d\u4ee4 java -Xmx128g -jar /home/chaim/bsa/snpEff/snpEff/snpEff.jar zm437 common_filtration.vcf > common.eff.vcf ``` \u4f1a\u8f93\u51fa\u4e09\u4e2a\u6587\u4ef6\uff0c snpEff_genes.txt snpEff_summary.html common.eff.vcf \u5982\u679c\u60f3\u66f4\u6539\u4f7f\u7528\u5176\u4ed6\u6ce8\u91ca\u6587\u4ef6\uff0c \u5220\u9664 /home/chaim/bsa/snpEff/snpEff//data/zm437/snpEffectPredictor.bin \u8be5\u6587\u4ef6\u5220\u9664\u5373\u53ef\u3002 \u91cd\u65b0\u4ece\u6b65\u9aa41\u5f00\u59cb\u5373\u53ef\u3002","title":"BSA\u5206\u6790\uff1aGATK4\u7684\u4f7f\u7528(\u5305\u62ecbwa)"},{"location":"BSA/BSA%E5%88%86%E6%9E%90%EF%BC%9AGATK4%E7%9A%84%E4%BD%BF%E7%94%A8%28%E5%8C%85%E6%8B%ACbwa%29/#_1","text":"\u9700\u8981\u767b\u5f55google\u8d26\u6237 GATK3\u7684\u4e0b\u8f7d\u5730\u5740 GATK4 \u5404\u4e2a\u7248\u672c\u4e4b\u95f4\uff0c\u6709\u4e9b\u547d\u4ee4\u4f1a\u6709\u53d8\u5316\u3002 1.GATK\u7684\u5b89\u88c5\u3001\u4f7f\u7528 \u522b\u4eba\u7684\u6559\u7a0b \u817e\u8baf\u4e91\u7684\u6559\u7a0b GATK4\u6570\u636e\u9884\u5904\u7406 \u53d8\u5f02\u68c0\u6d4b(BWA+SAMtools+picard+GATK) bwa+samtools+picardtools+GATK call SNP \u6d41\u7a0b \u56e0\u6211\u4eec\u670d\u52a1\u5668\u6e23\u6e23\u7684\u7f51\u7edc\u95ee\u9898\uff0c\u5185\u5bb9\u90fd\u662f\u4e0b\u8f7d\u5230\u672c\u5730\u7684win10\u4e4b\u540e\uff0c\u518d\u4e0a\u4f20\u5230\u670d\u52a1\u5668\u4e0a\u3002 \u670d\u52a1\u5668\u914d\u7f6e\uff1acpu 4\u4e2a 6\u6838 2\u7ebf\u7a0b=48 \u5185\u5b58\uff1a396G gatk\u662fJava\u7a0b\u5e8f\uff0c\u4e0b\u8f7d\u5230\u672c\u5730\u540e\u89e3\u538b\u7f29\u5373\u53ef\u4f7f\u7528\u3002\u5728win10\u4f7f\u7528IDM\u4e0b\u8f7d gatk4.0.10.1\u5730\u5740 \u5b58\u653e\u76ee\u5f55 /home/chaim/disk/gatk/ unzip gatk4.0.10.1 cd gatk4.0.10.1/ chmod 777 gatk ./gatk --list //\u663e\u793agatk\u7684\u6240\u6709\u5b50\u547d\u4ee4 2.GATK4.0.10.1\u7b80\u4ecb \u5e38\u7528\u7684pipeline\u67095\u79cd 1. Germline SNPs + Indels \u79cd\u7cfbSNP+Indel Somatic SNVs + Indels \u4f53\u7ec6\u80de\u5355\u78b1\u57fa\u7a81\u53d8 RNAseq SNPs + Indels Germline CNVs \u79cd\u7cfb\u62f7\u8d1d\u6570\u53d8\u5f02 (Copy numbervariations, CNVs)\u4e3b\u8981\u6307\u5927\u4e8e1kb \u4ee5\u4e0a\u7684DNA\u7247\u6bb5\u7684\u7f3a\u5931\u3001\u63d2\u5165\u3001\u91cd\u590d\u7b49\u3002\u4e00\u822c\u662f\u7ed3\u6784\u6027\u53d8\u5f02 Somatic CNVs \u4f53\u7ec6\u80de\u62f7\u8d1d\u6570\u53d8\u5f02 1\u30012\u30014\u30015\u9002\u5408DNA\u6d4b\u5e8f\u5206\u6790\uff0c3\u9002\u5408RNA\u6d4b\u5e8f\u5206\u6790\u3002\u2019 \u5b98\u65b9\u6587\u6863 \u5f00\u59cb\u5206\u6790","title":"\u6ce8\u610f\uff1a\u7248\u672c\u4e0d\u540c\uff0c\u547d\u4ee4\u4f1a\u4e0d\u4e00\u81f4\u3002\u4e00\u5b9a\u8981\u7528\u5bf9\u5e94\u7684\u7248\u672c\u3002"},{"location":"BSA/BSA%E5%88%86%E6%9E%90%EF%BC%9AGATK4%E7%9A%84%E4%BD%BF%E7%94%A8%28%E5%8C%85%E6%8B%ACbwa%29/#gatk40","text":"\u8f6f\u4ef6\uff1a - fastqc\u68c0\u6d4b\u8d28\u91cf - fastq /trimmomatic\u8d28\u63a7 - bwa\u6bd4\u5bf9 - samtool\u683c\u5f0f\u8f6c\u6362","title":"GATK4.0\u5168\u57fa\u56e0\u7ec4\u548c\u5916\u663e\u5b50\u7ec4\u5206\u6790\u5b9e\u6218"},{"location":"BSA/BSA%E5%88%86%E6%9E%90%EF%BC%9AGATK4%E7%9A%84%E4%BD%BF%E7%94%A8%28%E5%8C%85%E6%8B%ACbwa%29/#_2","text":"\u6240\u6709\u6570\u636e\u73af\u5883\u524d\u63d0\u662f\u5728 /home/chaim/disk/BSA/ \u76ee\u5f55 \u8be5\u76ee\u5f55\u6587\u4ef6\u6709 119-8-1 //119-8\u6d4b\u5e8f\u539f\u59cb\u6570\u636e1 -A23-16551278-1279119-8_combined_R1.fastq.gz -A23-16551278-1279119-8_combined_R2.fastq.gz 119-8-2 //119-8\u6d4b\u5e8f\u539f\u59cb\u6570\u636e2 -A23-16551278-1279-119-8_combined_R1.fastq.gz -A23-16551278-1279-119-8_combined_R2.fastq.gz origin - B17SF2447-20_L1_358358.R1.clean.fastq_2.gz - B17SF2447-20_L2_358358.R1.clean.fastq.gz - B17SF2447-20_L1_358358.R2.clean.fastq.gz - B17SF2447-20_L2_358358.R2.clean.fastq.gz //\u56db\u4e2a\u539f\u59cb\u6570\u636e","title":"\u6570\u636e\u5b58\u653e\u4f4d\u7f6e"},{"location":"BSA/BSA%E5%88%86%E6%9E%90%EF%BC%9AGATK4%E7%9A%84%E4%BD%BF%E7%94%A8%28%E5%8C%85%E6%8B%ACbwa%29/#1","text":"fastqc *.fastq.gz -t 8 -o fastqc_out/","title":"1. \u8d28\u63a7\u68c0\u6d4b"},{"location":"BSA/BSA%E5%88%86%E6%9E%90%EF%BC%9AGATK4%E7%9A%84%E4%BD%BF%E7%94%A8%28%E5%8C%85%E6%8B%ACbwa%29/#fastp","text":"wget http://opengene.org/fastp/fastp chmod 755 fastp","title":"\u5b89\u88c5fastp"},{"location":"BSA/BSA%E5%88%86%E6%9E%90%EF%BC%9AGATK4%E7%9A%84%E4%BD%BF%E7%94%A8%28%E5%8C%85%E6%8B%ACbwa%29/#fastp_1","text":"~~\u636e\u4f20\uff0cfastp\u6bd4trimmomatic\u901f\u5ea6\u5feb\uff0c\u6548\u679c\u597d\u3002\u59d1\u4e14\u4fe1\u4e4b\u3002 ./fastp -i in.R1.fq.gz -o out.R1.fq.gz -I in.R2.fq.gz -O out.R2.fq.gz #\u8fd0\u884c\u76ee\u5f55\u4e8e/BSA/119-8 \u8d28\u63a7119-8\u7684\u6570\u636e ../origin/fastp -i ../119-8-1/A23-16551278-1279119-8_combined_R1.fastq.gz -o ./fastp_out/119-8_1.R1.clean.fastq.gz -I ../119-8-1/A23-16551278-1279119-8_combined_R2.fastq.gz -O ./fastp_out/119-8_1.R2.clean.fastq.gz -Q --thread=5 --length_required=50 --n_base_limit=6 --compression=6 & ../origin/fastp -i ../119-8-2/A23-16551278-1279-119-8_combined_R1.fastq.gz -o ./fastp_out/119-8_2.R1.clean.fastq.gz -I ../119-8-2/A23-16551278-1279-119-8_combined_R2.fastq.gz -O ./fastp_out/119-8_2.R2.clean.fastq.gz -Q --thread=5 --length_required=50 --n_base_limit=6 --compression=6 & #\u8fd0\u884c\u4e8e/BSA/origin/ ./fastp -i ./B17SF2447-20_L1_358358.R1.clean.fastq.gz -o ./fastp_out/2447-20_L1$.R1.clean.fastq.gz -I ./B17SF2447-20_L1_358358.R2.clean.fastq.gz -O ./fastp_out/2447-20_L1.R2.clean.fastq.gz -Q --thread=5 --length_required=50 --n_base_limit=6 --compression=6 & ./fastp -i ./B17SF2447-20_L2_358358.R1.clean.fastq.gz -o ./fastp_out/2447-20_L2.R1.clean.fastq.gz -I ./B17SF2447-20_L2_358358.R2.clean.fastq.gz -O ./fastp_out/2447-20_L2.R2.clean.fastq.gz -Q --thread=5 --length_required=50 --n_base_limit=6 --compression=6 & fastp\u53c2\u6570 \u53c2\u8003\u5730\u5740 -i R1 \u8f93\u5165\u53cc\u7aef\u6d4b\u5e8f\u6570\u636e\u7684R1\u7aef -o outputR1 \u8d28\u63a7\u540e\u8f93\u51fa\u7684R1\u7aef -I R2 \u8f93\u5165R2\u539f\u59cb\u6d4b\u5e8f\u6570\u636e -O outputR2 \u8d28\u63a7\u540e\u8f93\u51fa\u7684R2\u7aef -Q \u7981\u7528\u8d28\u91cf\u8fc7\u6ee4 --thread=5 \u8bbe\u7f6e\u7ebf\u7a0b\u6570\u4e3a5 --length_required=50 \u8bbe\u7f6e\u8fc7\u6ee4\u7684\u6700\u77ed\u7684\u5e8f\u5217\u957f\u5ea650bp --n_base_limit=6 \u4e00\u4e2areads\u4e2dN\u7684\u6b21\u6570\u5927\u4e8e6\uff0c\u5219\u820d\u5f03\u8be5reads --compression=6 \u8f93\u51fa\u7684gzip\u6587\u4ef6\u538b\u7f29\u7a0b\u5ea6\u4e3a6\uff0c1-9\uff0c\u538b\u7f29\u7a0b\u5ea6\u52a0\u5927\u3002 bwa\u6d41\u7a0b\u53c2\u6570 bwa\u53c2\u80031 bwa\u53c2\u80032","title":"\u4f7f\u7528fastp\u8d28\u63a7\u6570\u636e"},{"location":"BSA/BSA%E5%88%86%E6%9E%90%EF%BC%9AGATK4%E7%9A%84%E4%BD%BF%E7%94%A8%28%E5%8C%85%E6%8B%ACbwa%29/#21-bwa","text":"#/ bwa\u7684\u547d\u4ee4\u4e00\u5b9a\u4e0d\u8981\u4f7f\u7528nohup\u3002nohup \u7684\u8f93\u51fa\u4fe1\u606f\u4f1a\u88abbwa\u8f93\u51fa\u5230\u76ee\u6807\u6587\u4ef6\uff0c\u4f1a\u5f71\u54cd\u540e\u7eed\u6b65\u9aa4 / B73\u5e8f\u5217\u5730\u5740\u4f4d\u7f6e /home/chaim/disk/zm437/Zea_mays.AGPv4.dna.toplevel.fa /BSA/bwa/zm437\u8f6f\u8fde\u63a5\u5230\u4e0a\u8ff0\u6587\u4ef6 //\u5de5\u4f5c\u76ee\u5f55/BSA/bwa/ bwa index -a bwtsw -p zm437 /home/chaim/disk/zm437/Zea_mays.AGPv4.dna.toplevel.fa ``` `index -a bwtsw`\u8bbe\u7f6e\u6a21\u5f0f\uff0c\u9002\u5408\u5927\u57fa\u56e0\u7ec4 `-p zm437`\u8bbe\u7f6e\u8f93\u51fa\u6587\u4ef6\u540d ################\u5206\u5272\u7ebf##################################### >/**#\u6ce8\u610f\uff1a\u6b64\u5904\u76842.2.1\u548c2.2.2\u8fd9\u4e24\u6b65\u7684bwa \u4e00\u5b9a\u8981\u7528\u540c\u4e00\u7248\u672c\u7684bwa\uff0c\u4e0d\u7136\u540e\u9762\u4f1a\u62a5\u9519**/ #*2.2\u548c2.3*\u4e8c\u9009\u4e00\u5373\u53ef\uff0c\u5efa\u8bae\u4f7f\u75282.3. bwa\u7684mem\u7684\u6548\u7387\u66f4\u9ad8\uff0c\u4e14\u66f4\u52a0\u51c6\u786e\u3002 #2.2 bwa\u5bfb\u627e\u8f93\u5165reads\u6587\u4ef6\u7684SA\u5750\u6807 //\u5de5\u4f5c\u76ee\u5f55/BSA/bwa/ bwa aln zm437 read1.fq.gz -l 30 -k 2 -t 8 -I > read1.fq.gz.sai bwa aln zm437 read2.fq.gz -l 30 -k 2 -t 8 -I > read2.fq.gz.sai //\u524d4\u4e2a\u662f\u672c\u6b212447-20\u6837\u54c1 bwa aln zm437 ../origin/fastp_out/2447-20_L1.R1.clean.fastq.gz -l 30 -k 2 -t 8 -I >2447-20_L1.R1.fq.gz.sai & bwa aln zm437 ../origin/fastp_out/2447-20_L1.R2.clean.fastq.gz -l 30 -k 2 -t 8 -I >2447-20_L1.R2.fq.gz.sai & bwa aln zm437 ../origin/fastp_out/2447-20_L2.R1.clean.fastq.gz -l 30 -k 2 -t 8 -I >2447-20_L2.R1.fq.gz.sai & bwa aln zm437 ../origin/fastp_out/2447-20_L2.R2.clean.fastq.gz -l 30 -k 2 -t 8 -I >2447-20_L2.R2.fq.gz.sai & //\u540e4\u4e2a\u662f119-8\u7684\u6570\u636e bwa aln zm437 ../119-8/fastp_out/119-8_1.R1.clean.fastq.gz -l 30 -k 2 -t 8 -I >119-8_1.R1.fq.gz.sai & bwa aln zm437 ../119-8/fastp_out/119-8_1.R2.clean.fastq.gz -l 30 -k 2 -t 8 -I >119-8_1.R2.fq.gz.sai & bwa aln zm437 ../119-8/fastp_out/119-8_2.R1.clean.fastq.gz -l 30 -k 2 -t 8 -I >119-8_2.R1.fq.gz.sai & bwa aln zm437 ../119-8/fastp_out/119-8_2.R2.clean.fastq.gz -l 30 -k 2 -t 8 -I >119-8_2.R2.fq.gz.sai & #2.2.2 sai\u8f6csam bwa sampe -r \"@RG\\tID: \\tLB: \\tSM: \\tPL:ILLUMINA\" read1.fq.gz.sai read2.fq.gz.sai read1.fq.gz read2.fq.gz > read.sam *\u6ce8\u91ca*\uff1a`SAMPLE_NAME`\u5e94\u66ff\u6362\u4e3a\u5bf9\u5e94\u6837\u54c1\u540d\u79f0\uff0c\u5426\u5219\u4f1a\u88ab\u5f53\u505a\u4e00\u4e2a\u6837\u54c1\u5904\u7406\u3002 //2447-20\u6570\u636e bwa sampe zm437 -r \"@RG\\tID:2447-20\\tLB:B73\\tSM:2447-20_L1\\tPL:ILLUMINA\" 2447-20_L1.R1.fq.gz.sai 2447-20_L1.R2.fq.gz.sai ../origin/fastp_out/2447-20_L1.R1.clean.fastq.gz ../origin/fastp_out/2447-20_L1.R2.clean.fastq.gz >2447-20_L1.sam & bwa sampe zm437 -r \"@RG\\tID:2447-20\\tLB:B73\\tSM:2447-20_L2\\tPL:ILLUMINA\" 2447-20_L2.R1.fq.gz.sai 2447-20_L2.R2.fq.gz.sai ../origin/fastp_out/2447-20_L2.R1.clean.fastq.gz ../origin/fastp_out/2447-20_L2.R2.clean.fastq.gz >2447-20_L2.sam & //119-8\u6570\u636e bwa sampe zm437 -r \"@RG\\tID:119-8\\tLB:B73\\tSM:119-8_1\\tPL:ILLUMINA\" 119-8_1.R1.fq.gz.sai 119-8_1.R2.fq.gz.sai ../119-8/fastp_out/119-8_1.R1.clean.fastq.gz ../119-8/fastp_out/119-8_1.R2.clean.fastq.gz >119-8_1.sam & bwa sampe zm437 -r \"@RG\\tID:119-8\\tLB:B73\\tSM:119-8_2\\tPL:ILLUMINA\" 119-8_2.R1.fq.gz.sai 119-8_2.R2.fq.gz.sai ../119-8/fastp_out/119-8_2.R1.clean.fastq.gz ../119-8/fastp_out/119-8_2.R2.clean.fastq.gz >119-8_2.sam & #2.3 BWA\u7684mem\u7684\u4f7f\u7528\uff0c\u597d\u7528\u5feb\u901f\u4e00\u6b65\u5230\u4f4d\u3002~~[\u53c2\u8003\u5730\u5740](https://blog.csdn.net/u013553061/article/details/53120973)~~(\u6ce8\u610f2.2\u548c2.3\uff0c\u4e8c\u9009\u4e00\u5373\u53ef\uff0c\u5efa\u8bae\u4f7f\u75282.3)","title":"2.1. bwa\u5efa\u7acb\u7d22\u5f15\u6587\u4ef6"},{"location":"BSA/BSA%E5%88%86%E6%9E%90%EF%BC%9AGATK4%E7%9A%84%E4%BD%BF%E7%94%A8%28%E5%8C%85%E6%8B%ACbwa%29/#bwa-mem","text":"/ \u5de5\u4f5c\u76ee\u5f55\u5728/home/chaim/disk/BSA/bwa/ / / zm437\u662fB73\u57fa\u56e0\u7ec4\u5e8f\u5217 / / \u6bd4\u5bf9\u7684\u53c2\u6570-R\u4e00\u5b9a\u4e0d\u80fd\u7701\u7565\u6216\u5199\u9519 / bwa mem -t 24 -M -P -R '@RG\\tID:2447-20\\tSM:2447-20\\tLB:WES\\tPL:Illumina' zm437 ../origin/fastp_out/2447-20_L1.R1.clean.fastq.gz ../origin/fastp_out/2447-20_L1.R2.clean.fastq.gz >2447-20_L1.sam & bwa mem -t 24 -M -P -R '@RG\\tID:2447-20\\tSM:2447-20\\tLB:WES\\tPL:Illumina' zm437 ../origin/fastp_out/2447-20_L2.R1.clean.fastq.gz ../origin/fastp_out/2447-20_L2.R2.clean.fastq.gz >2447-20_L2.sam & bwa mem -t 12 -M -P -R '@RG\\tID:119-8\\tSM:119-8\\tLB:WES\\tPL:Illumina' zm437 ../119-8/fastp_out/119-8_1.R1.clean.fastq.gz ../119-8/fastp_out/119-8_1.R2.clean.fastq.gz >119-8_1.sam & bwa mem -t 8 -M -P -R '@RG\\tID:119-8\\tSM:119-8\\tLB:WES\\tPL:Illumina' zm437 ../119-8/fastp_out/119-8_2.R1.clean.fastq.gz ../119-8/fastp_out/119-8_2.R2.clean.fastq.gz >119-8_2.sam & #3. \u5bf9Sam\u6587\u4ef6\u8fdb\u884c\u91cd\u6392\u5e8f(recorder) \u4e0b\u8f7d\u5b89\u88c5\u6700\u65b0\u7248[picard](https://github.com/broadinstitute/picard/releases/download/2.18.15/picard.jar) \u4fdd\u5b58\u5230\u8def\u5f84`/home/chaim/disk/BSA/bwa/` \u5728\u8be5\u8def\u5f84\u8fd0\u884c`java -jar picard.jar -h`,\u4f1a\u5217\u51fapicard\u5305\u542b\u7684\u6240\u6709\u5de5\u5177\u3002 3.1 \u6784\u5efa\u7d22\u5f15\u5e8f\u5217 `nohup samtools faidx zm437 &` 3.2\u5bf9Sam\u6587\u4ef6\u8fdb\u884c\u91cd\u6392\u5e8f java -jar picard.jar CreateSequenceDictionary R=/home/chaim/disk/zm437/Zea_mays.AGPv4.dna.toplevel.fa O=zm437.dict java -jar picard.jar ReorderSam I=2447-20_L1.sam O=2447-20_L1.reordered.sam R=/home/chaim/disk/zm437/Zea_mays.AGPv4.dna.toplevel.fa & java -jar picard.jar ReorderSam I=2447-20_L2.sam O=2447-20_L2.reordered.sam R=/home/chaim/disk/zm437/Zea_mays.AGPv4.dna.toplevel.fa & java -jar picard.jar ReorderSam I=119-8_1.sam O=119-8_1.reordered.sam R=/home/chaim/disk/zm437/Zea_mays.AGPv4.dna.toplevel.fa java -jar picard.jar ReorderSam I=119-8_2.sam O=119-8_2.reordered.sam R=/home/chaim/disk/zm437/Zea_mays.AGPv4.dna.toplevel.fa & #4.\u5c06sam\u6587\u4ef6\u8f6c\u6362\u6210bam\u6587\u4ef6\u3002 samtools view --threads 24 -bS 2447-20_L1.reordered.sam -o 2447-20_L1.bam & samtools view --threads 24 -bS 2447-20_L2.reordered.sam -o 2447-20_L2.bam & samtools view --threads 8 -bS 119-8_1.reordered.sam -o 119-8_1.bam samtools view --threads 8 -bS 119-8_2.reordered.sam -o 119-8_2.bam & #5. \u5bf9bam\u6587\u4ef6\u8fdb\u884csort\u6392\u5e8f java -jar picard.jar SortSam INPUT=2447-20_L1.bam OUTPUT=2447-20_L1.sort.bam SORT_ORDER=coordinate & java -Xmx48G -jar picard.jar SortSam INPUT=2447-20_L2.bam OUTPUT=2447-20_L2.sort.bam SORT_ORDER=coordinate & java -Xmx96G -jar picard.jar SortSam INPUT=119-8_1.bam OUTPUT=119-8_1.sort.bam SORT_ORDER=coordinate java -jar picard.jar SortSam INPUT=119-8_2.bam OUTPUT=119-8_2.sort.bam SORT_ORDER=coordinate & #6. Merge \\\u5408\u5e76\u4e00\u4e2a\u6837\u672c\u7684\u591a\u4e2alane\u7684bam\u6587\u4ef6\u3002 java -jar picard.jar MergeSamFiles I=2447-20_L1.sort.bam I=2447-20_L2.sort.bam O=2447-20.bam & java -jar picard.jar MergeSamFiles I=119-8_1.sort.bam I=119-8_2.sort.bam O=119-8.bam #7. Duplicates Marking \u4e00\u822c\u60c5\u51b5\u662fRNA-seq\u4e0d\u9700\u8981\u8fd9\u4e00\u6b65\uff0cchip-seq,dap-seq,call snp\u9700\u8981\u8fd9\u4e00\u6b65\u9aa4\u3002 [\u5177\u4f53\u539f\u7406](https://www.jianshu.com/p/5781e7d74c40) \u6d4b\u5e8f\u539f\u7406\u662f\u968f\u673a\u6253\u65ad\uff0c\u90a3\u4e48\u7406\u8bba\u4e0a\u51fa\u73b0\u4e24\u6761\u5b8c\u5168\u76f8\u540c\u7684read\u7684\u6982\u7387\u662f\u975e\u5e38\u4f4e\u7684\uff0c\u800c\u4e14\u5efa\u5e93\u65f6PCR\u6269\u589e\u5b58\u5728\u504f\u5411\u6027\uff0c\u56e0\u6b64\u6807\u51fa\u5b8c\u5168\u76f8\u540c\u7684read\u3002 java -jar picard.jar MarkDuplicates REMOVE_DUPLICATES= false MAX_FILE_HANDLES_FOR_READ_ENDS_MAP=8000 INPUT=2447-20.bam OUTPUT=2447-20.repeatmark.bam METRICS_FILE=2447-20.bam.metrics java -jar picard.jar MarkDuplicates REMOVE_DUPLICATES= false MAX_FILE_HANDLES_FOR_READ_ENDS_MAP=8000 INPUT=119-8.bam OUTPUT=119-8.repeatmark.bam METRICS_FILE=119-8.bam.metrics #8. \u751f\u6210\u4e0a\u4e00\u6b65\u7684\u7ed3\u679c\u7684\u7d22\u5f15\u6587\u4ef6 samtools index 2447-20.repeatmark.bam samtools index 119-8.repeatmark.bam /*#\u56e0\u524d\u9762\u7684bwa\u7684mem\u7684R\u53c2\u6570\uff0c\u6211\u7b2c\u4e00\u6b21\u8fd0\u884c\u65f6\u672a\u8bbe\u7f6e\u5b8c\u6574\uff0c\u5bfc\u81f4\u6b64\u5904\u9700\u8981\u4e8c\u6b21\u66f4\u6539\u5934\u6587\u4ef6**/ \u4f7f\u7528picard\u66f4\u6539\u5934\u6587\u4ef6 ID str\uff1a\u8f93\u5165reads\u96c6ID\u53f7\uff1bLB\uff1aread\u96c6\u6587\u5e93\u540d\uff1bPL\uff1a\u6d4b\u5e8f\u5e73\u53f0\uff08illunima\u6216solid\uff09\uff1bPU\uff1a\u6d4b\u5e8f\u5e73\u53f0\u4e0b\u7ea7\u5355\u4f4d\u540d\u79f0\uff08run\u7684\u540d\u79f0\uff09\uff1bSM\uff1a\u6837\u672c\u540d\u79f0\u3002 java -Xmx96g -jar picard.jar AddOrReplaceReadGroups I=2447-20.repeatmark.bam O=2447-20.repeat.bam LB=lib2447-20 PL=illumina PU=2447-20 SM=2447-20 & java -Xmx96g -jar picard.jar AddOrReplaceReadGroups I=119-8.repeatmark.bam O=119-8.repeat.bam LB=lib119-8 PL=illumina PU=119-8 SM=119-8 & /*\u4e00\u5b9a\u4e0d\u8981\u624b\u52a8\u52a0\u5934\u6587\u4ef6\uff0c\u624b\u52a8\u7684\u540e\u7eed\u65e0\u6cd5\u8bc6\u522b\u3002*/ #9.Base (Quality Score) Recalibration Tools involved: BaseRecalibrator, Apply Recalibration, AnalyzeCovariates (optional) [\u53c2\u8003\u5730\u5740](https://www.jianshu.com/p/0e6162104294) [\u6d41\u7a0b\u53c2\u8003\u5730\u5740](http://kuaibao.qq.com/s/20180414G0F47900?refer=cp_1026) \u78b1\u57fa\u8d28\u91cf\u5206\u6570\u91cd\u6821\u51c6\uff08Base quality score recalibration\uff0cBQSR)\uff0c\u5c31\u662f\u5229\u7528\u673a\u5668\u5b66\u4e60\u7684\u65b9\u5f0f\u8c03\u6574\u539f\u59cb\u78b1\u57fa\u7684\u8d28\u91cf\u5206\u6570\u3002\u5b83\u5206\u4e3a\u4e24\u4e2a\u6b65\u9aa4: - \u5229\u7528\u5df2\u6709\u7684snp\u6570\u636e\u5e93\uff0c\u5efa\u7acb\u76f8\u5173\u6027\u6a21\u578b\uff0c\u4ea7\u751f\u91cd\u6821\u51c6\u8868( recalibration table) - \u6839\u636e\u8fd9\u4e2a\u6a21\u578b\u5bf9\u539f\u59cb\u78b1\u57fa\u8fdb\u884c\u8c03\u6574\uff0c\u53ea\u4f1a\u8c03\u6574\u975e\u5df2\u77e5SNP\u533a\u57df\u3002 \u53c2\u6570\u5217\u8868 -R \uff1a \u53c2\u8003\u57fa\u56e0\u7ec4 -I \uff1a \u8f93\u5165\u7684BAM\u6587\u4ef6 --known-sites \u5df2\u77e5SNP\u7684vcf\u6587\u4ef6 -O \uff1a \u8f93\u51fa\u7684\u91cd\u6821\u51c6\u8868 java -Xmx128g -jar /home/chaim/disk/gatk/gatk4/gatk-package-4.0.10.1-local.jar BaseRecalibrator -R /home/chaim/disk/zm437/Zea_mays.AGPv4.dna.toplevel.fa -I 2447-20.repeat.bam --known-sites /home/guo/maize/zm437/zea_mays_vcfsort.vcf -O 2447-20_recal_data.table & java -Xmx128g -jar /home/chaim/disk/gatk/gatk4/gatk-package-4.0.10.1-local.jar ApplyBQSR -R /home/chaim/disk/zm437/Zea_mays.AGPv4.dna.toplevel.fa -I 2447-20.repeat.bam -bqsr 2447-20_recal_data.table -O 2447-20_recal_reads.bam & java -Xmx128g -jar /home/chaim/disk/gatk/gatk4/gatk-package-4.0.10.1-local.jar BaseRecalibrator -R /home/chaim/disk/zm437/Zea_mays.AGPv4.dna.toplevel.fa -I 119-8.repeat.bam --known-sites /home/guo/maize/zm437/zea_mays_vcfsort.vcf -O 119-8_recal_data.table & java -Xmx128g -jar /home/chaim/disk/gatk/gatk4/gatk-package-4.0.10.1-local.jar ApplyBQSR -R /home/chaim/disk/zm437/Zea_mays.AGPv4.dna.toplevel.fa -I 119-8.repeat.bam -bqsr 119-8_recal_data.table -O 119-8_recal_reads.bam & *#\u68c0\u6d4b\u4e0a\u8ff0\u751f\u6210\u7684bam\u6587\u4ef6\u662f\u5426\u53ef\u7528\u3002* java -Xmx128g -jar /home/chaim/disk/gatk/gatk4/gatk-package-4.0.10.1-local.jar ValidateSamFile -I 2447-20_recal_reads.bam java -Xmx128g -jar /home/chaim/disk/gatk/gatk4/gatk-package-4.0.10.1-local.jar ValidateSamFile -I 119-8_recal_reads.bam \u5982\u679c\u663e\u793a`no errors found`,\u5219\u53ef\u4ee5\u7528HaplotypeCaller call SNP/Indel. #*\u4e8c\u3001GATK\u53d8\u5f02\u68c0\u6d4b* [\u53c2\u8003\u6559\u7a0b\u5730\u5740](https://www.jianshu.com/p/6f3198b7a070) **\u8bf4\u660e\uff1a\u540e\u7eed\u4f1a\u6709\u90e8\u5206\u547d\u4ee4\u6709`-nt 24`\u8fd9\u4e2a\u53c2\u6570\uff0c\u4ee3\u8868\u4f7f\u752824\u4e2a\u8fdb\u7a0b\u3002\u5e76\u4e0d\u662f\u6bcf\u4e00\u4e2a\u547d\u4ee4\u90fd\u53ef\u4ee5\u5f00\u591a\u8fdb\u7a0b\u7684\uff0c\u9700\u8981\u5230gatk\u5b98\u7f51\u67e5\u8be2\u6587\u6863\uff0c\u641c\u7d22\u547d\u4ee4\u540e\uff0c\u5728\u547d\u4ee4\u7684API\u6587\u6863\u91cc\u641c\u7d22`thread`\u5373\u53ef\u5feb\u901f\u67e5\u627e\u662f\u5426\u80fd\u4f7f\u7528\u591a\u7ebf\u7a0b** \uff08\u8fd9\u4e00\u6b65\u5728V4.1.4.0\u4e2d\uff0cjava\u7684\u5185\u5b58\u5206\u914d\u6700\u597d\u4e0d\u8981\u8d85\u8fc716g,\u5efa\u8bae8g\u8db3\u591f\u3002hmm\u8fdb\u7a0b\u4e5f\u5c11\u8bbe\u7f6e\u70b94-8\u4e2a\u3002\u5982\u679cJava\u5185\u5b58\u8bbe\u7f6e\u592a\u9ad8\uff0c\u67d0\u4e9b\u670d\u52a1\u5668**\u5373\u4f7f\u5728\u670d\u52a1\u5668\u5185\u5b58\u8303\u56f4\u4e5f\u4f1a\u51fa\u9519**\u4f1a\u56e0\u4e3a\u5185\u5b58\u5206\u914d\u4e0d\u8db3\u800c\u4e2d\u9014\u6302\u6389\u7a0b\u5e8f\uff0c\u5982\u679c\u4e2d\u9014\u6302\u6389\uff0c\u540c\u6837\u6709\u4fee\u590d\u529e\u6cd5\u3002[picard\u4fee\u590d\u4e2d\u65ad\u7684gvcf\u6587\u4ef6](https://www.jianshu.com/p/4e9cf85db722)\uff09 1.\u751f\u6210raw vcf \u6587\u4ef6\uff083-5\u5929\u80fd\u8dd1\u5b8c\u7684\uff0c\u90fd\u662f\u5927\u670d\u52a1\u5668\uff09 \u53c2\u6570\u8bf4\u660e \u5148\u7528`HaplotypeCaller`\u751f\u6210gvcf\u6587\u4ef6\uff0c\u7136\u540e\u518d\u8fd0\u884c`CombineGVCFs`\u3002 java -Xmx96G -jar /home/chaim/disk/gatk/gatk4/gatk-package-4.0.10.1-local.jar \\ #Xmx96G \u4f7f\u7528\u7684\u6700\u5927\u5185\u5b58 HaplotypeCaller \\ #\u4f7f\u7528HaplotypeCaller\u6a21\u5f0f\uff0c\u6bd4\u8f83\u5403\u914d\u7f6e -R /home/chaim/disk/BSA/bwa/zm437 \\ #\u53c2\u8003B73\u57fa\u56e0\u7ec4 -I 2447-20.repeatmark.bam \\ #\u82e5\u591a\u6837\u54c1\uff0c\u5219-I sample1.bam -I sample2.bam --dbsnp zm437vcf \\ #\u53c2\u8003B73\u7684snp -stand_emit_conf 10 \\ -stand_call_conf 30 \\ -O 2447-20.vcf 1.1\u751f\u6210Gvcf\u6587\u4ef6\uff08\u6b64\u6b65\u975e\u5e38\u6d6a\u8d39\u65f6\u95f4\uff0c\u9700\u8981\u591a\uff083-5\uff09\u4e2a\u663c\u591c\uff09 java -Xmx128G -jar /home/chaim/disk/gatk/gatk4/gatk-package-4.0.10.1-local.jar HaplotypeCaller -R /home/chaim/disk/zm437/Zea_mays.AGPv4.dna.toplevel.fa -I 119-8_recal_reads.bam --dbsnp /home/guo/maize/zm437/zea_mays_vcfsort.vcf --native-pair-hmm-threads 96 -stand-call-conf 30 -O 119-8.g.vcf.gz -ERC GVCF java -Xmx128G -jar /home/chaim/disk/gatk/gatk4/gatk-package-4.0.10.1-local.jar HaplotypeCaller -R /home/chaim/disk/zm437/Zea_mays.AGPv4.dna.toplevel.fa -I 2447-20_recal_reads.bam --dbsnp /home/guo/maize/zm437/zea_mays_vcfsort.vcf --native-pair-hmm-threads 96 -stand-call-conf 30 -O 2447-20.g.vcf.gz -ERC GVCF 1.2\u5408\u5e76\u4e4b\u524d\u751f\u6210\u7684GVCF\u6587\u4ef6\u5230\u4e00\u4e2a\u6587\u4ef6\u3002 java -Xmx128G -jar /home/chaim/disk/gatk/gatk4/gatk-package-4.0.10.1-local.jar CombineGVCFs -R /home/chaim/disk/zm437/Zea_mays.AGPv4.dna.toplevel.fa --dbsnp /home/guo/maize/zm437/zea_mays_vcfsort.vcf --variant 2447-20.g.vcf.gz --variant 119-8.g.vcf.gz -O cohort.g.vcf.gz 1.3 GenotypeGVCFs java -Xmx128G -jar /home/chaim/disk/gatk/gatk4/gatk-package-4.0.10.1-local.jar GenotypeGVCFs -R /home/chaim/disk/zm437/Zea_mays.AGPv4.dna.toplevel.fa -V cohort.g.vcf.gz -O common.vcf.gz 2.select SNP java -Xmx96g -jar /home/chaim/disk/gatk/gatk4/gatk-package-4.0.10.1-local.jar SelectVariants -R /home/chaim/disk/zm437/Zea_mays.AGPv4.dna.toplevel.fa -O common_SNP.vcf --variant common.vcf.gz --select-type-to-include SNP 2>select_snp.err 3.select indel java -Xmx96g -jar /home/chaim/disk/gatk/gatk4/gatk-package-4.0.10.1-local.jar SelectVariants -R /home/chaim/disk/zm437/Zea_mays.AGPv4.dna.toplevel.fa -O common_INDEL.vcf --variant common.vcf.gz --select-type-to-include INDEL 2>select_indel.err /*#4.1\u548c4.2\u53d8\u5f02\u8fc7\u6ee4\uff0c\u662f\u4e0d\u540c\u7b97\u6cd5\u7684\u8fc7\u6ee4\u30024.1\u662f\u673a\u68b0\u53c2\u6570\u8fc7\u6ee4\uff0c4.2\u662f\u673a\u5668\u5b66\u4e60\u8fc7\u6ee4\u3002\u4e8c\u8005\u9009\u4e00\u5373\u53ef*/ 4.1 filter SNP\uff08\u53d8\u5f02\u8fc7\u6ee4\uff0c\u786c\u8fc7\u6ee4\u3002\uff09[\u53c2\u6570\u8bb2\u89e3](https://www.jianshu.com/p/938d362fc48d) java -Xmx4g -jar $GATK -R $REF -T VariantFiltration --variant $Slect_SNP --clusterSize 4 --clusterWindowSize 10 --maskName aroundIndel --mask $Slest_INdel -maskExtend 3 --filterName \"lowMQRankSum\" --filterExpression \"MQRankSum < -12.5\" --filterName \"highFS\" --filterExpression \"FS > 60.0\" --filterName \"lowReadPosRankSum\" --filterExpression \"ReadPosRankSum < -8.0\" --filterName \"lowMQ\" --filterExpression \"MQ < 40.0\" --filterName \"lowQD\" --filterExpression \"QD < 2.0\" --out $Filter_SNP --genotypeFilterName \"lowDP\" --genotypeFilterExpression \"DP < 8.0\" >filter_snp.err java -Xmx128g -jar /home/chaim/disk/gatk/gatk4/gatk-package-4.0.10.1-local.jar VariantFiltration -R /home/chaim/disk/zm437/Zea_mays.AGPv4.dna.toplevel.fa --variant common_SNP.vcf --cluster-size 4 --cluster-window-size 10 --mask-name aroundIndel --mask common_INDEL.vcf -mask-extension 3 --filter-name \"lowMQRankSum\" --filter-expression \"QUAL < 30\" --filter-name \"qua130\" --filter-expression \"MQRankSum < -12.5\" --filter-name \"highFS\" --filter-expression \"FS > 60.0\" --filter-name \"lowReadPosRankSum\" --filter-expression \"ReadPosRankSum < -8.0\" --filter-name \"lowMQ\" --filter-expression \"MQ < 40.0\" --filter-name \"lowQD\" --filter-expression \"QD < 2.0\" -O common_filtration.vcf --genotype-filter-name \"lowDP\" --genotype-filter-expression \"DP < 8.0\" >filter_snp.err \u53c2\u6570\u8be6\u89e3\uff08[\u53c2\u8003](https://mp.weixin.qq.com/s?__biz=MzAxOTUxOTM0Nw==&mid=2649798455&idx=1&sn=67a7407980a57ce138948eb46992b603&chksm=83c1d52bb4b65c3dde31df94e9686654bf616166c7311b531213ebf0010f67a32ce827e677b1&scene=21#wechat_redirect)\uff09 ######\u4ee5\u4e0b\u7684\u8fc7\u6ee4\u53c2\u6570\u53ef\u4ee5\u6839\u636e\u81ea\u5df1\u7684\u5b9e\u9645vcf\u7684\u503c\u5206\u5e03\uff0c\u81ea\u5df1\u4fee\u6539\u3002 QD,\u63cf\u8ff0\u5355\u4f4d\u6df1\u5ea6\u7684\u53d8\u5f02\u503c\uff0c\u8d8a\u5927\u53ef\u4fe1\u5ea6\u8d8a\u9ad8\u3002\u4e00\u822c\u8fc7\u6ee4\u6389<2\u7684\u503c\u3002 FS\uff0c\u63cf\u8ff0\u6b63\u8d1f\u94fe\u7279\u5f02\u6027\uff0c\u5dee\u5f02\u6027\u8f83\u5927\uff0c\u8bf4\u660e\u6d4b\u5e8f\u6216\u7ec4\u88c5\u7684\u8fc7\u7a0b\u4e2d\u4e0d\u591f\u968f\u673a\u3002FS\u8d8a\u5c0f\u8d8a\u597d\u3002\u4e00\u822c\u8fc7\u6389\u6389>40\uff08\u4e25\u683c\uff09\u621660\uff08\u666e\u901a\uff09 MQ \u4f7f\u7528bwa-mem\u7684\u8bdd\uff0c\u6b63\u5e38\u503c\u5e94\u8be5\u662f60\uff0c\u63cf\u8ff0\u67d0\u4e2a\u4f4d\u70b9\u6d4b\u5e8freads\u7684\u8d28\u91cf\u503c\u7684\u79bb\u6563\u7a0b\u5ea6\u3002MQ< 40.0 MQRankSum < -12.5 SOR\uff0c\u4e5f\u662f\u8868\u793a\u6b63\u8d1f\u94fe\u7279\u5f02\u6027\uff0c\u6b63\u5e38\u503c\u57280-3\uff0c\u8fc7\u6ee4\u6389>3\u7684\u503c\u3002 4.2 \u53d8\u5f02\u8d28\u63a7VQSR,\u5171\u5206\u4e3a\u4e24\u6b65\uff08##\u6b64\u6b65\u672c\u5b9e\u9a8c\u4e0d\u9002\u7528\uff0c\u672a\u8fd0\u884c\u3002\uff09 #/*\u672c\u6b64\u5b9e\u9a8c\u4e0d\u80fd\u4f7f\u7528\u8be5\u6a21\u578b\u8fc7\u6ee4\uff0c\u8be5\u6a21\u578b\u9002\u5e94\u4e8e\u591a\u6837\u672c\u7684vcf\u8d28\u63a7*/ - 1. VariantRecalibrator \u6784\u5efa\u91cd\u65b0\u6821\u51c6\u6a21\u578b\u4ee5\u8bc4\u4f30\u53d8\u4f53\u8d28\u91cf\u4ee5\u8fdb\u884c\u8fc7\u6ee4 \uff08[VariantRecalibrator](https://software.broadinstitute.org/gatk/documentation/tooldocs/current/org_broadinstitute_hellbender_tools_walkers_vqsr_VariantRecalibrator.php)\uff09 2. \u53d8\u5f02\u8d28\u91cf\u5f97\u5206\u91cd\u65b0\u6821\u51c6[ApplyVQSR](https://software.broadinstitute.org/gatk/documentation/tooldocs/current/org_broadinstitute_hellbender_tools_walkers_vqsr_ApplyVQSR.php) --- VariantRecalibrator gatk VariantRecalibrator \\ -R Homo_sapiens_assembly38.fasta \\ -V input.vcf.gz \\ --resource hapmap\uff0cknown = false\uff0ctraining = true\uff0ctruth = true\uff0cprior = 15.0\uff1ahapmap_3.3.hg38.sites.vcf.gz \\ --resource omni\uff0cknown = false\uff0ctraining = true\uff0ctruth = false\uff0cprior = 12.0\uff1a1000G_omni2.5.hg38.sites.vcf.gz \\ --resource 1000G\uff0cknown = false\uff0ctraining = true\uff0ctruth = false\uff0cprior = 10.0\uff1a1000G_phase1.snps.high_confidence.hg38.vcf.gz \\ --resource dbsnp\uff0cknown = true\uff0ctraining = false\uff0ctruth = false\uff0cprior = 2.0\uff1aHomo_sapiens_assembly38.dbsnp138.vcf.gz \\ -an QD -an MQ -an MQRankSum -an ReadPosRankSum -an FS -an SOR \\ -mode SNP -O output.recal \\ --tranches-file output.tranches \\ --rscript-file output.plots.R VQSR gatk ApplyVQSR \\ -R Homo_sapiens_assembly38.fasta \\ -V input.vcf.gz \\ -O output.vcf.gz \\ --truth-sensitivity-filter-level 99.0 \\ --tranches-file output.tranches \\ --recal-file output.recal \\ -mode SNP java -Xmx128g jar /home/chaim/disk/gatk/gatk4/gatk-package-4.0.10.1-local.jar ApplyVQSR -R /home/chaim/disk/zm437/Zea_mays.AGPv4.dna.toplevel.fa -V 2447-20.vcf -O 2447-20.vqsr.vcf & java -Xmx128g jar /home/chaim/disk/gatk/gatk4/gatk-package-4.0.10.1-local.jar ApplyVQSR -R /home/chaim/disk/zm437/Zea_mays.AGPv4.dna.toplevel.fa -V 119-8.vcf -O 119-8.vqsr.vcf & 5. \u8f6c\u6362vcf\u4e3atable\u683c\u5f0f java -Xmx128g -jar /home/chaim/disk/gatk/gatk4/gatk-package-4.0.10.1-local.jar VariantsToTable -R /home/chaim/disk/zm437/Zea_mays.AGPv4.dna.toplevel.fa -V common_filtration.vcf -F CHROM -F POS -F REF -F ALT -GF AD -GF DP -GF GQ -GF PL -O common.table \u4e09\u3001[\u4f7f\u7528qtl-seqr\u5305](https://www.jianshu.com/p/6ff6c3a44fb6)\uff08\u53ef\u4ee5\u548c\u7b2c\u56db\u6b65\u540c\u65f6\u8fdb\u884c\uff09 [QTLseqr\u5728github](https://github.com/bmansfeld/QTLseqr) #*\u4ee5\u4e0b\u4ee3\u7801\u4e3aR\u8bed\u8a00\u4ee3\u7801*","title":"bwa mem\u7684\u4f7f\u7528"},{"location":"BSA/BSA%E5%88%86%E6%9E%90%EF%BC%9AGATK4%E7%9A%84%E4%BD%BF%E7%94%A8%28%E5%8C%85%E6%8B%ACbwa%29/#qtl-seqr","text":"","title":"\u5b89\u88c5\u4f7f\u7528QTL-seqr"},{"location":"BSA/BSA%E5%88%86%E6%9E%90%EF%BC%9AGATK4%E7%9A%84%E4%BD%BF%E7%94%A8%28%E5%8C%85%E6%8B%ACbwa%29/#_3","text":"installed.packages('devtools') library('devtools') install_github(\"bmansfeld/QTLseqr\")","title":"\u5b89\u88c5"},{"location":"BSA/BSA%E5%88%86%E6%9E%90%EF%BC%9AGATK4%E7%9A%84%E4%BD%BF%E7%94%A8%28%E5%8C%85%E6%8B%ACbwa%29/#load-the-package","text":"library(\"QTLseqr\")","title":"load the package"},{"location":"BSA/BSA%E5%88%86%E6%9E%90%EF%BC%9AGATK4%E7%9A%84%E4%BD%BF%E7%94%A8%28%E5%8C%85%E6%8B%ACbwa%29/#set-sample-and-file-name","text":"HighBulk <- \"\u6837\u54c1\u540d\u79f01\" LowBulk <- \"\u6837\u54c1\u540d\u79f02\" file <- \"common.table\"","title":"set sample and file name"},{"location":"BSA/BSA%E5%88%86%E6%9E%90%EF%BC%9AGATK4%E7%9A%84%E4%BD%BF%E7%94%A8%28%E5%8C%85%E6%8B%ACbwa%29/#choose-which-chromosomes-will-be-included-in-the-analysis","text":"chroms <- paste0 Chroms <- paste0(rep(\"Chr\", 10), 1:10)","title":"choose which chromosomes will be included in the analysis"},{"location":"BSA/BSA%E5%88%86%E6%9E%90%EF%BC%9AGATK4%E7%9A%84%E4%BD%BF%E7%94%A8%28%E5%8C%85%E6%8B%ACbwa%29/#import-snp-data-from-file","text":"df <- importFromGATK( file = file, highBulk = HighBulk, lowBulk = LowBulk, chromList = Chroms )","title":"Import SNP data from file"},{"location":"BSA/BSA%E5%88%86%E6%9E%90%EF%BC%9AGATK4%E7%9A%84%E4%BD%BF%E7%94%A8%28%E5%8C%85%E6%8B%ACbwa%29/#filter-snps-based-on-some-criteria","text":"df_filt <- filterSNPs( SNPset = df, refAlleleFreq = 0.20, minTotalDepth = 100, maxTotalDepth = 400, minSampleDepth = 40, minGQ = 99 )","title":"Filter SNPs based on some criteria"},{"location":"BSA/BSA%E5%88%86%E6%9E%90%EF%BC%9AGATK4%E7%9A%84%E4%BD%BF%E7%94%A8%28%E5%8C%85%E6%8B%ACbwa%29/#run-g-analysis","text":"df_filt <- runGprimeAnalysis( SNPset = df_filt, windowSize = 1e6, outlierFilter = \"deltaSNP\")","title":"Run G' analysis"},{"location":"BSA/BSA%E5%88%86%E6%9E%90%EF%BC%9AGATK4%E7%9A%84%E4%BD%BF%E7%94%A8%28%E5%8C%85%E6%8B%ACbwa%29/#run-qtlseq-analysis","text":"df_filt <- runQTLseqAnalysis( SNPset = df_filt, windowSize = 1e6, popStruc = \"F2\",#\u6839\u636e\u7fa4\u4f53\u7ed3\u6784\u8c03\u6574F2\u6216\u8005RIL bulkSize = c(25, 25),#\u6839\u636e\u6c60\u4e2d\u7684\u6837\u672c\u5355\u682a\u6570\u91cf replications = 10000, intervals = c(95, 99) )","title":"Run QTLseq analysis"},{"location":"BSA/BSA%E5%88%86%E6%9E%90%EF%BC%9AGATK4%E7%9A%84%E4%BD%BF%E7%94%A8%28%E5%8C%85%E6%8B%ACbwa%29/#plot","text":"plotQTLStats(SNPset = df_filt, var = \"Gprime\", plotThreshold = TRUE, q = 0.01) plotQTLStats(SNPset = df_filt, var = \"deltaSNP\", plotIntervals = TRUE)","title":"Plot"},{"location":"BSA/BSA%E5%88%86%E6%9E%90%EF%BC%9AGATK4%E7%9A%84%E4%BD%BF%E7%94%A8%28%E5%8C%85%E6%8B%ACbwa%29/#export-summary-csv","text":"getQTLTable(SNPset = df_filt, alpha = 0.01, export = TRUE, fileName = \"my_BSA_QTL.csv\") \u56db. \u4f7f\u7528snpEff\u5904\u7406gatk4\u8f93\u51fa\u7684vcf\u3002\uff08\u6b64\u6b65\u9aa4\u548c\u7b2c\u4e09\u6b65\u9aa4\u7684\u8f93\u51fa\u7ed3\u679c\u53ef\u4ee5\u4e92\u76f8\u5bf9\u6bd4\uff0c\u4e24\u8005\u5177\u6709\u76f8\u540c\u7684\u529f\u80fd\uff09 [snpEff\u7684\u6559\u7a0b](https://www.jianshu.com/p/967006e0089c) 1. [\u4e0b\u8f7dsnpEff\u5730\u5740](https://sourceforge.net/projects/snpeff/files/snpEff_latest_core.zip/download) \u89e3\u538b`unzip snpEff_latest_core.zip` \u6211\u7684\u8def\u5f84\u662f/home/chaim/bsa/snpEff/ 2. \u914d\u7f6e\u7389\u7c73zm437\u7248\u672c\u7684\u6570\u636e\u5e93 \u5728\u8def\u5f84`/home/chaim/bsa/snpEff/snpEff/`\u76ee\u5f55\u4e0b\u521b\u5efa\u6587\u4ef6\u5939`data`, cd /home/chaim/bsa/snpEff/snpEff/ mkdir data cd data mkdir genomes mkdir zm437","title":"export summary CSV"},{"location":"BSA/BSA%E5%88%86%E6%9E%90%EF%BC%9AGATK4%E7%9A%84%E4%BD%BF%E7%94%A8%28%E5%8C%85%E6%8B%ACbwa%29/#zm437genesgff-proteinfa","text":"","title":"\u5728zm437\u76ee\u5f55\u5b58\u653e\u57fa\u56e0\u7ec4\u6ce8\u91ca\u6587\u4ef6genes.gff,   \u86cb\u767d\u5e93\uff0cprotein.fa"},{"location":"BSA/BSA%E5%88%86%E6%9E%90%EF%BC%9AGATK4%E7%9A%84%E4%BD%BF%E7%94%A8%28%E5%8C%85%E6%8B%ACbwa%29/#genomes-zm437fa","text":"\u6ce8\u610f\u4e0a\u8ff0\u7684\u57fa\u56e0\u7ec4\u6ce8\u91ca\u6587\u4ef6\u662fgff3\u683c\u5f0f\u3002 \u4fee\u6539snpEff.config\u7684\u53c2\u6570 \u6dfb\u52a0\u5982\u4e0b\u5185\u5bb9","title":"\u5728genomes\u76ee\u5f55\u653e\u7f6e\u57fa\u56e0\u7ec4\u53c2\u8003\u5e8f\u5217 zm437.fa"},{"location":"BSA/BSA%E5%88%86%E6%9E%90%EF%BC%9AGATK4%E7%9A%84%E4%BD%BF%E7%94%A8%28%E5%8C%85%E6%8B%ACbwa%29/#maize-genomeversion-zm437","text":"zm437.genome:maize \u56de\u5230snpEFF\u76ee\u5f55\uff0c\u8fd0\u884c\u547d\u4ee4 `java -jar snpEff.jar build -gff3 -v zm437` 3. \u5bf9vcf\u683c\u5f0f\u6587\u4ef6\u8fdb\u884c\u6ce8\u91ca\uff1a `bwa`\u76ee\u5f55\u5b58\u653e\u7740GATK4\u5904\u7406\u4e4b\u540e\u7684\u6587\u4ef6`common_filtration.vcf` \u5728`/home/chaim/bsa/bwa`\u76ee\u5f55\u6267\u884c\u4e0b\u9762\u547d\u4ee4 java -Xmx128g -jar /home/chaim/bsa/snpEff/snpEff/snpEff.jar zm437 common_filtration.vcf > common.eff.vcf ``` \u4f1a\u8f93\u51fa\u4e09\u4e2a\u6587\u4ef6\uff0c snpEff_genes.txt snpEff_summary.html common.eff.vcf \u5982\u679c\u60f3\u66f4\u6539\u4f7f\u7528\u5176\u4ed6\u6ce8\u91ca\u6587\u4ef6\uff0c \u5220\u9664 /home/chaim/bsa/snpEff/snpEff//data/zm437/snpEffectPredictor.bin \u8be5\u6587\u4ef6\u5220\u9664\u5373\u53ef\u3002 \u91cd\u65b0\u4ece\u6b65\u9aa41\u5f00\u59cb\u5373\u53ef\u3002","title":"maize genome,version zm437"},{"location":"BSA/BSR-%28RNA-seq%29%E6%95%B0%E6%8D%AE%E8%BF%9B%E8%A1%8CBSR%E5%88%86%E6%9E%90/","text":"\u4f7f\u7528\u5de5\u5177GATK4\u3002 GATK\u57fa\u7840 RNA-seq\u5206\u6790 \u5b8c\u6574\u7248BSR\u53c2\u8003 GATK\u5b98\u65b9RNA-seq calling\u6d41\u7a0b \u6700\u65b0\u7248\u7684BSR\u5206\u6790\u6d41\u7a0b \u6d41\u7a0b\u53c2\u8003 WT 3\u4e2a\u5355\u682a\uff0c\u6df7\u6c60\u3002\u4e09\u4e2a\u6280\u672f\u91cd\u590d\u3002 NS (\u5b9e\u9a8c\u7ec4) 3\u4e2a\u5355\u682a\uff0c\u6df7\u6c60\u3002\u4e09\u4e2a\u6280\u672f\u91cd\u590d\u3002 3\u4e2a\u6570\u91cf\u6709\u70b9\u5c11\uff0c\u5c31\u6682\u4e14\u7ec3\u4e60BSR\u5427\u3002 \u5c0f\u9ea6\u7684BSR BSR\u548cBSA\u7684\u6bd4\u5bf9\u65b9\u5f0f\u4e0d\u4e00\u81f4\u3002 \u57fa\u4e8eDNA\u6c34\u5e73\u7684\u91cd\u6d4b\u5e8f\uff0c\u53ef\u4ee5\u6d4b\u5230\u6240\u6709\u7684\u78b1\u57fa\u53d8\u5316\u60c5\u51b5\uff0c\u9700\u8981\u6574\u4e2a\u57fa\u56e0\u7ec4\u6bd4\u5bf9\u3002 \u57fa\u4e8eRNA\u8868\u8fbe\u6c34\u5e73\u7684BSR,\u66f4\u591a\u7684\u662f\u8f6c\u5f55\u672c\u7684\u6bd4\u5bf9\u3002\u76f8\u5bf9\u800c\u8a00\uff0cBSR\u7684\u6d4b\u5e8f\u4ef7\u683c\u76f8\u5bf9\u8f83\u4f4e\u3002 \u5982\u679c\u4e0d\u61c2\u53c2\u6570\u7684\u610f\u4e49\uff0c\u4e0d\u8981\u968f\u4fbf\u4fee\u6539\u53c2\u6570\uff0c\u5bf9\u4e8e\u8fdb\u7a0b\uff0c\u5c3d\u91cf\u6309\u7167\u6211\u7684\u8bbe\u7f6e\uff0c\u6709\u4e9b\u7a0b\u5e8f\u4f60\u7ed9\u7684\u5185\u5b58\u6216\u8fdb\u7a0b\u592a\u591a\uff0c\u786c\u4ef6\u6ca1\u6709\u8fd9\u4e48\u9ad8\u7684\u914d\u7f6e\u6709\u53ef\u80fd\u4f1a\u62a5\u9519\u3002\u7279\u522b\u662f\u57fa\u4e8eJava\u7684\u7a0b\u5e8f\uff0c\u5f88\u5bb9\u6613\u5185\u5b58\u6ea2\u51fa\u3002 \u4e0b\u673a\u6570\u636e\uff1a 1.\u8d28\u63a7 ##\u83b7\u53d6\u8f93\u5165\u7684\u6570\u7ec4\u7684\u957f\u5ea6 bef=(sample1 sample2 ... sampleN) sample_num=${#bef[@]} for ((i=0;i<$sample_num;i++)); do inA1=../origin/${bef[$i]}$bg1; inA2=../origin/${bef[$i]}$bg2; out1=${bef[$i]}\"paired-R1.fq.gz\"; out2=${bef[$i]}\"paired-R2.fq.gz\"; unpaired1=${bef[$i]}\"unpaired-R1.fq.gz\"; unpaired2=${bef[$i]}\"unpaired-R2.fq.gz\"; fastp --thread 16 -i $inA1 -o $out1 -I $inA2 -O $out2 --html ${bef[$i]}\".html\" --json ${bef[$i]}\".json\" 2>${bef[$i]}fastp_out echo success end QC_${bef[$i]} fastp at `date`; done genome=/home/chaim/disk/maize/Zea_mays.B73_RefGen_v4.42.fa gene_gtf=/home/chaim/disk/maize/Zea_mays.B73_RefGen_v4.42.gtf \u6bd4\u5bf9\u5230\u53c2\u8003\u57fa\u56e0\u7ec4STAR 2-pass-align \u6bd4\u5bf9 2.\u6bd4\u5bf9\uff08\u76ee\u524d\u63a8\u8350\u7684RNA\u6bd4\u5bf9\u5de5\u5177\u662fHISAT2\u548cSTAR\uff09 HISAT2\u7684\u4f7f\u7528\uff0c\u5728\u6211\u7684RNA-seq\u680f\u4e2d\u6709\u8be6\u7ec6\u4fe1\u606f\u3002\u6b64\u5904\u4f7f\u7528STAR\u8fdb\u884c\u6bd4\u5bf9\uff08 STAR\u4e5f\u88ab\u63a8\u8350\u7528\u4e8eRNA-seq call snp\u7684\u6bd4\u5bf9 \uff09\u3002 STAR\u7684 \u6700\u65b0\u7248\u4e0b\u8f7d\u5b89\u88c5 \u4e0b\u8f7d\u5b89\u88c5\uff0c\u914d\u7f6e\u73af\u5883\u53d8\u91cf\u3002 STAR github STAR\u7684\u5b89\u88c5 \u5c3d\u91cf\u4f7f\u7528\u6700\u65b0\u7248\u672c\u7684\u8f6f\u4ef6\uff0c\u56e0\u4e3a\u65e7\u7248\u672c\u53ef\u80fd\u4f1a\u6709\u83ab\u540d\u5176\u5999\u7684\u95ee\u9898\uff0c\u540c\u65f6\u65b0\u7248\u652f\u6301\u4f7f\u7528STAR-fusion\u68c0\u6d4b\u57fa\u56e0\u878d\u5408 #\u5f53\u524d\u6700\u65b0\u7248\u672c\u662f2.7.3a\uff0c\u5230\u4e0a\u8ff0\u94fe\u63a5github\u627e\u6700\u65b0\u7248\u672c wget https://github.com/alexdobin/STAR/archive/2.7.3a.tar.gz tar -xzf 2.7.3a.tar.gz cd STAR-2.7.3a cd bin/Linux_x86_64/ ./STAR \u914d\u7f6e\u73af\u5883\u53d8\u91cf vim ~/.bash_profile \u6dfb\u52a0\u5982\u4e0b export PATH=$HOME/disk/STAR/STAR-2.7.3a/bin/Linux_x86_64:$PATH \u91cd\u5e86\u7ec8\u7aef\uff0c STAR --version \u5373\u53ef\u67e5\u770b\u5f53\u524d\u7248\u672c\u4fe1\u606f\u3002 2.1\u6784\u5efa\u57fa\u56e0\u7ec4\u7d22\u5f15\u6587\u4ef6\u3002\uff08\u65e0\u8bba\u662fhisat2\u8fd8\u662fSTAR\u6b64\u6b65\u9aa4\u8d85\u6162\uff09 \u53c2\u80032-pass-mode \u53c2\u8003 STAR \u53c2\u6570\u4ecb\u7ecd\uff1a --runThreadN 6 \u4f7f\u7528\u7ebf\u7a0b\u6570 --outSAMtype BAM SortedByCoordinate \u5c06\u7ed3\u679cSAM\u6587\u4ef6\u6392\u5e8f\u5e76\u751f\u6210BAM\uff0c\u4f7f\u7528\u7684\u8f6f\u4ef6\u548csamtools\u6548\u679c\u7c7b\u4f3c(\u76ee\u524d\u7248\u672c\u4e00\u5b9a\u4e0d\u8981\u4f7f\u7528\u8be5\u53c2\u6570\uff0c\u5426\u5219\u4f1a\u56e0\u4e3acpu\u5360\u7528\u7387\u8fc7\u9ad8\uff0c\u800c\u7a0b\u5e8f\u6302\u6389\uff0c\u540e\u7eed\u4f7f\u7528samtools\u5b8c\u6210\u8fd9\u6b65) --genomeDir ./starhuman150 \u4e0a\u9762\u5efa\u7acb\u7684index\u76ee\u5f55 --readFilesIn AA_R1_trimmed.fastq AA_R2_trimmed.fastq \u8981\u8f93\u5165\u7684\u6d4b\u5e8f\u6570\u636e --outFileNamePrefix AA \u53ef\u4ee5\u81ea\u5b9a\u4e49\u751f\u6210\u6587\u4ef6\u7684\u524d\u7f00 2.2 \u4f7f\u7528STAR\u8fdb\u884c2\u6b65\u6bd4\u5bf9 genome=/home/chaim/disk/maize/Zea_mays.B73_RefGen_v4.42.fa gene_gtf=/home/chaim/disk/maize/Zea_mays.B73_RefGen_v4.42.gtf bef=(sample1 sample2 \u2026\u2026samplen) sample_num=${#bef[@]} #\u6784\u5efa\u57fa\u56e0\u7ec4\u7684\u7d22\u5f15 STAR --runThreadN 30 \\ --runMode genomeGenerate \\ --genomeDir ./stat-1-index \\ --genomeFastaFiles $genome \\ --sjdbGTFfile $gene_gtf \\ --sjdbOverhang 149 \\ 2 >log #\u5728star>2.4.1\u7248\u672c\u540e\uff0c\u6700\u65b0\u7248\u547d\u4ee4\u5df2\u7ecf\u652f\u6301\u76f4\u63a5\u7684\u4e24\u6b65\u6bd4\u5bf9\u3002 for((i=0;i<sample_num;i++)); do star_index=./stat-1-index fq1=../origin/cleandata/${bef[$i]}\"clean-R1.fq.gz\" fq2=../origin/cleandata/${bef[$i]}\"clean-R2.fq.gz\" STAR --runThreadN 24 --genomeDir $star_index \\ --twopassMode Basic --outReadsUnmapped None --chimSegmentMin 12 \\ --alignIntronMax 100000 --chimSegmentReadGapMax parameter 3 \\ --alignSJstitchMismatchNmax 5 -1 5 5 \\ --readFilesCommand zcat --readFilesIn $fq1 $fq2 \\ --outFileNamePrefix ${bef[$i]}_ #\u81ea\u5b9a\u4e49\u8f93\u51fa\u6587\u4ef6\u7684\u524d\u7f00 echo star end satr ${bef[$i]}`date` 2.3 sam\u8f6cbam\uff0c\u6392\u5e8f\u6784\u5efa\u7d22\u5f15 \u57fa\u56e0\u7ec4\u6587\u4ef6>500M,\u6700\u597d\u4e0d\u8981\u4f7f\u7528picard\u7b49java\u7a0b\u5e8f\u6784\u5efa\u7d22\u5f15\uff0c\u5426\u5219\u540e\u7eedGATK\u53ef\u80fd\u4f1a\u62a5\u9519\u3002 for ((i=0;i<sample_num;i++)); do mv ${bef[$i]}_Aligned.out.sam ${bef[$i]}.sam #\u56e0\u4e3astar\u8f93\u51fa\u6392\u5e8f\u540e\u7684bam\u6587\u4ef6\u65f6\uff0c\u7cfb\u7edfcpu\u5360\u7528\u7387\u592a\u9ad8\uff0c\u4f1a\u62a5\u9519\u3002\u6240\u4ee5\u6b64\u5904\u624b\u52a8sort sam\u6392\u5e8f\u4e3abam samtools sort -@ 24 -O bam -o ${bef[$i]}.bam ${bef[$i]}.sam #\u751f\u6210bai\u6587\u4ef6\uff0c\u7528\u4e8e\u5bfc\u5165IGV samtools index -@ 24 ${bef[$i]}\".bam\" ${bef[$i]}.bai #\u7edf\u8ba1\u6bd4\u5bf9\u7684\u7ed3\u679c samtools flagstat -@ 24 ${bef[$i]}.bam >${bef[$i]}.flagstat done \u751f\u6210bam\u6587\u4ef6\u540e\u7684\u5904\u7406 \u53bb\u9664\u91cd\u590d\u7684PCR\u53ef\u4ee5\u4f7f\u7528\u7684\u5de5\u5177\u6709picard,samtools,sambamba , \u4e09\u4e2a\u5de5\u5177\u5bf9\u6bd4 \u5173\u4e8e\u53bb\u9664\u91cd\u590dPCR\u7684\u53bb\u9664\u4e0e\u5426 \u4e00\u822c\u662fRNA-seq\u4e0d\u9700\u8981\u53bb\u9664\uff0ccall snp\u548cchip-seq,dap-seq\u9700\u8981\u53bb\u9664\u3002 \u539f\u7406\u8be6\u89e3 \u4f7f\u7528picard\u53bb\u9664\u91cd\u590d\u7684reads. java -Xms48g -jar $picard MarkDuplicates REMOVE_DUPLICATES= true INPUT=${bef[[$i]}.map.bam OUTPUT=${bef[[$i]}.repeatmark.bam METRICS_FILE=${bef[[$i]}.bam.metrics 3.0 \u5408\u5e76\u540c\u4e00\u7ec4\u6570\u636e\u7684bam\u6587\u4ef6\uff08\u540c\u4e00\u4e2a\u6837\u672c\u76842\u6b21\u4e0b\u673a\u6570\u636e\uff0c\u6700\u5f00\u59cb\u5982\u679c\u6ca1\u6709\u5408\u5e76\uff0c\u6b64\u65f6\u5e94\u8be5\u5408\u5e76\uff09 java -Xmx48g -jar $picard MergeSamFiles I=2447-20_L1.sort.bam I=2447-20_L2.sort.bam O=2447-20.bam <<! \u622a\u53d6\u90e8\u5206\u6570\u636e\u7528\u4e8e\u6d4b\u8bd5\u6570\u636e samtools view -h Z58.bam |head -20000 >tmp.sam samtools sort -O bam -@ 4 tmp.sam -o tmp.bam samtools index tmp.bam #gatk IndexFeatureFile --feature-file /public/home/tang/chaim/maize/zea_mays.vcf for((i=0;i<sample_num;i++)); do samtools sort -O bam -@ 8 ${bef[$i]}.bam -o ${bef[$i]}.sort.bam samtools index ${bef[$i]}.sort.bam #\u6dfb\u52a0\u5934\u6587\u4ef6 java -jar $picard AddOrReplaceReadGroups I=${bef[$i]}.sort.bam O=${bef[$i]}.add.bam ID=${bef[$i]} LB=${bef[$i]} PL=illumina PU=${bef[$i]} SM=${bef[$i]} java -jar $picard MarkDuplicates I=${bef[$i]}.add.bam O=${bef[$i]}.rmd.bam CREATE_INDEX=true VALIDATION_STRINGENCY=SILENT M=${bef[$i]}.metrics #RNA-seq call snp \u4f7f\u7528GATK\u589e\u52a0\u7684\u4e00\u6b65 gatk SplitNCigarReads -R $genome -I ${bef[$i]}.rmd.bam -O ${bef[$i]}.split.bam gatk BaseRecalibrator -R $genome -I ${bef[$i]}.split.bam --use-original-qualities -O ${bef[$i]}.recal.table --known-sites $dbsnp_vcf gatk ApplyBQSR -R $genome -I ${bef[$i]}.split.bam -bqsr ${bef[$i]}.recal.table -O ${bef[$i]}.recal.bam gatk --java-options \"-Xmx8g -Xms8g\" HaplotypeCaller -R $genome -I ${bef[$i]}.recal.bam --dbsnp $dbsnp_vcf --native-pair-hmm-threads 8 -stand-call-conf 20 -O ${bef[$i]}.g.vcf.gz -ERC GVCF --verbosity ERROR done ! 3.1 \u5148\u5904\u7406\u6709\u751f\u7269\u5b66\u91cd\u590d\u7684\u6837\u54c1 bef=(sample1 sample2 sample3 ... sampleN) sample_num=${#bef[@]} for((i=0;i<$sample_num;i++)); do #\u5148\u5408\u5e76\u8f6c\u5f55\u7ec4\u7684\u751f\u7269\u5b66\u91cd\u590d\u5408bam\u6587\u4ef6 java -Xmx48g -jar $picard MergeSamFiles I=${bef[$i]}\"-1.bam\" I=${bef[$i]}\"-2.bam\" I=${bef[$i]}\"-3.bam\" O=${bef[$i]}.bam #\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u73af\u5883bioconda #conda create -n bioconda #\u7528conda\u5b89\u88c5sambamba #conda install -y -c bioconda sambamba #\u53bb\u9664PCR\u91cd\u590d sample=${bef[$i]} sambamba markdup --overflow-list-size 600000 --tmpdir='./' -r $sample.bam ${sample}_rmd.bam #\u524d\u9762\u7684STAR\u6bd4\u5bf9\u7684\u65f6\u5019\u6ca1\u6709\u6dfb\u52a0\u5934\u6587\u4ef6,\u6b64\u5904\u589e\u52a0Read group gatk AddOrReplaceReadGroups -I ${sample}_rmd.bam -O ${sample}_rmd_add.bam -LB $sample -PL ILLUMINA -PU $sample -SM $sample #\u521b\u5efa\u7d22\u5f15\uff0c\u7136\u540eSplitNCigarReads #gatk CreateSequenceDictionary -R $genome gatk SplitNCigarReads -R $genome -I ${sample}_rmd_add.bam -O ${sample}_rmd_split.bam #BQSR \uff08Base Quality Recalibration\uff09 gatk --java-options \"-Xmx12G\" BaseRecalibrator -I ${sample}_rmd_split.bam -R $genome -O ${sample}_recal.table --known-sites $dbsnp_vcf gatk --java-options \"-Xmx12G\" ApplyBQSR -I ${sample}_rmd_split.bam -R $genome -O ${sample}_recal.bam -bqsr ${sample}_recal.table #\u4f7f\u7528gvcf\u6a21\u5f0fVariant Calling bam=${sample}_recal.bam gatk --java-options \"-Xmx8G\" HaplotypeCaller -ERC GVCF -R $genome -I $bam --dbsnp $dbsnp_vcf -O ${sample}.g.vcf done 4.1\u518d\u5904\u7406\u6ca1\u6709\u751f\u7269\u5b66\u91cd\u590d\u7684\u6837\u54c1 pbef=(group1 group2 ... groupn) sample_n=${#pbef[@]} for((i=0;i<$sample_n;i++)); do #\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u73af\u5883bioconda #conda create -n bioconda #\u7528conda\u5b89\u88c5sambamba #conda install -y -c bioconda sambamba #\u53bb\u9664PCR\u91cd\u590d sample=${pbef[$i]} sambamba markdup --overflow-list-size 600000 --tmpdir='./' -r $sample.bam ${sample}_rmd.bam #\u524d\u9762\u7684STAR\u6bd4\u5bf9\u7684\u65f6\u5019\u6ca1\u6709\u6dfb\u52a0\u5934\u6587\u4ef6,\u6b64\u5904\u589e\u52a0Read group gatk AddOrReplaceReadGroups -I ${sample}_rmd.bam -O ${sample}_rmd_add.bam -LB $sample -PL ILLUMINA -PU $sample -SM $sample #\u521b\u5efa\u7d22\u5f15\uff0c\u7136\u540eSplitNCigarReads #gatk CreateSequenceDictionary -R $genome gatk SplitNCigarReads -R $genome -I ${sample}_rmd_add.bam -O ${sample}_rmd_split.bam #BQSR \uff08Base Quality Recalibration\uff09 gatk --java-options \"-Xmx12G\" BaseRecalibrator -I ${sample}_rmd_split.bam -R $genome -O ${sample}_recal.table --known-sites $dbsnp_vcf gatk --java-options \"-Xmx12G\" ApplyBQSR -I ${sample}_rmd_split.bam -R $genome -O ${sample}_recal.bam -bqsr ${sample}_recal.table #\u4f7f\u7528gvcf\u6a21\u5f0fVariant Calling bam=${sample}_recal.bam gatk --java-options \"-Xmx8G\" HaplotypeCaller -ERC GVCF -R $genome -I $bam --dbsnp $dbsnp_vcf -O ${sample}.g.vcf done 5.\u5408\u5e76\u524d\u9762\u7684gvcf\u5230\u4e00\u4e2a\u6587\u4ef6 gatk --java-options \"-Xmx8G\" CombineGVCFs -R $genome --dbsnp $dbsnp_vcf --variant sample1.g.vcf.gz --variant sample2.g.vcf.gz --variant group1.g.vcf.gz --variant group2.g.vcf.gz -O sample_group.g.vcf.gz 6 genotypeGVCFs gatk --java-options \"-Xmx12G\" GenotypeGVCFs -R $genome -V sample_group.g.vcf.gz -O sample_group.common.vcf.gz ##\u5f53\u6709\u591a\u4e2a\u6837\u672c\u6c60\u7684\u65f6\u5019\uff0c\u5728vcf_gop\u4e2d\u6dfb\u52a0\u591a\u4e2asample_group\u540d\u79f0\u5373\u53ef\u3002 vcf_gop=(sample_group1 ... sample_groupN) group_n=${#pbef[@]} for((i=0;i<$group_n;i++)) do #7.filter variant gatk --java-options \"Xmx4G\" VariantFiltration -V ${vcf_gop[$i]}.common.vcf.gz --window 35 --cluster 3 --filter-name \"lowQD\" --filter-expression \"QD < 2.0\" --filter-name \"highFS\" --filter-expression \"FS > 30.0\" -O ${vcf_gop[$i]}.Filter.vcf #7.1select SNP gatk --java-options \"-Xmx12G\" SelectVariants -R $genome -O ${vcf_gop[$i]}.filter_SNP.vcf --variant ${vcf_gop[$i]}.Filter.vcf --select-type-to-include SNP 2>${vcf_gop[$i]}.select_snp.err #7.2 select indel gatk --java-options \"-Xmx12G\" SelectVariants -R $genome -O ${vcf_gop[$i]}.filter_INDEL.vcf --variant ${vcf_gop[$i]}.Filter.vcf --select-type-to-include INDEL 2>${vcf_gop[$i]}.select_indel.err #7.3 merge INDEL and SNP #gatk MergeVcfs -I ${vcf_gop[$i]}.Filter_INDEL.vcf -I ${vcf_gop[$i]}.Filter_SNP.vcf -O ${vcf_gop[$i]}.Filter.vcf #8. \u8f6c\u6362vcf\u4e3atable\u683c\u5f0f gatk VariantsToTable -R $genome -V ${vcf_gop[$i]}.Filter.vcf -F CHROM -F POS -F REF -F ALT -GF AD -GF DP -GF GQ -GF PL -O ${vcf_gop[$i]}.table done 9.\u53d8\u5f02\u6ce8\u91ca \u6ce8\u91ca\u5de5\u5177\u6709vep,annova,GATK,snpEff \u65b9\u6cd5\u4e00\uff1a #SnpEff version SnpEff 4.3T (build 2017-11-24 10:18), by Pablo Cingolani snpEff=\"/public/home/tang/chaim/soft/snpEff/snpEff/snpEff.jar\" java -jar $snpEff ann zm442 sample_group.Filter.vcf -t -stats sample_group.summary.html -csvStats sample_group.csv >sample_group.ann.vcf \u65b9\u6cd5\u4e8c\uff1a #VariantQC\u662fDISCVRSeq\u5176\u4e2d\u7684\u4e00\u4e2a\u51fd\u6570\uff0c\u5176\u662f\u57fa\u4e8egatk\u7684\u4e00\u4e2aJava\u5305\u3002 #java -jar /public/home/tang/chaim/soft/DISCVRSeq/DISCVRSeq.jar VariantQC -O output_file -R ref.fa -V variant.vcf DISCVRSeq=/public/home/tang/chaim/soft/DISCVRSeq/DISCVRSeq.jar genome=/home/chaim/disk/maize/Zea_mays.B73_RefGen_v4.42.fa #\u521b\u5efa\u57fa\u56e0\u7ec4\u6587\u4ef6\u7684\u7d22\u5f15\u4fe1\u606f samtools faidx $genome java -jar $picard CreateSequenceDictionary R=$genome O=zm442.dict #\u521b\u5efa\u53d8\u5f02\u6587\u4ef6\u7684tbi\u7d22\u5f15 #gatk\u8f93\u51favcf\u6587\u4ef6\u65f6\u4f1a\u81ea\u52a8\u521b\u5efa\u7d22\u5f15\u6587\u4ef6\uff0c\u4e00\u822c\u60c5\u51b5\u4e0d\u9700\u8981\u81ea\u5df1\u521b\u5efa\u7d22\u5f15 #gatk IndexFeatureFile -F variant.vcf #\u5f00\u59cb\u5206\u6790\u53d8\u5f02 ##\u6b64\u5904\u7684maxContigs\u6839\u636e\u4e0d\u540c\u7269\u79cd\uff0c\u5c3d\u91cf\u8bbe\u7f6e\u5927\u7684\u503c\uff0c\u5927\u4e8e\u8be5\u7269\u79cd\u7684\u53c2\u8003\u57fa\u56e0\u7ec4\u4e2d\u672a\u7ec4\u88c5\u5230\u67d3\u8272\u4f53\u4e0a\u7684contig\u6570\u91cf\u3002\u5426\u5219\u4f1a\u62a5\u9519\u3002 java -jar $DISCVRSeq VariantQC -O group_sample.html -R $genome --maxContigs 52 -V group_sample.Filter.vcf \u62ff\u5230\u53d8\u5f02\u6587\u4ef6\u540e\uff0c\u540e\u7eed\u548cBSA\u5206\u6790\u4e00\u6837\u3002 \u6700\u65b0\u5de5\u5177\u901f\u9012----\u53ef\u53d8\u526a\u5207 \u8d1d\u53f6\u65af\u5206\u6790\u4e0d\u540c\u7684\u526a\u63a5 BANDITS \u57fa\u56e0\u878d\u5408\u68c0\u6d4b\u5de5\u5177 STAR-fusion \u53c2\u8003\u6587\u7ae0 STAR-fusion\u7684\u4f7f\u7528 WGCNA\u7684\u6570\u636e\u6316\u6398 \u591a\u6837\u672c\u7684WGCNA WGCNA\u5b98\u7f51\u6559\u7a0b \u53d8\u5f02\u6ce8\u91ca\u7684\u65b9\u5f0f \u53c2\u8003\u5730\u5740 annovar\u4e0b\u8f7d\u5730\u5740 annovar\u9700\u8981\u6559\u80b2\u90ae\u7bb1\uff0c\u89e3\u51b3\u529e\u6cd5\u6709\u5f88\u591a\u3002 snpEFF\u5b89\u88c5\u4f7f\u7528 snpEFF\u6ce8\u91ca java -Xmx128g -jar /home/snpEff.jar zm442 common_filtration.vcf > common.eff.vcf \u4f1a\u8f93\u51fa\u4e09\u4e2a\u6587\u4ef6\uff0c snpEff_genes.txt snpEff_summary.html common.eff.vcf gatk\u7684Funcotator\u76ee\u524d\u53ea\u53ef\u7528\u4e8e\u4eba\u7684\u53d8\u5f02\u6ce8\u91ca vcp\u7528\u4e8e\u6ce8\u91ca\u53d8\u5f02 \u5b89\u88c5\u9700\u8981root\u6743\u9650\uff0c\u4f9d\u8d56\u6bd4\u8f83\u591a\u3002 VariantQC\u7528\u4e8e\u53d8\u5f02\u6ce8\u91ca VariantQC\u7684\u4ea7\u51fa\u662fhtml\u6587\u4ef6\uff0c\u7c7b\u4f3c\u4e8eFastQC\u3002\u53ef\u89c6\u5316\u56fe\u8868\u6bd4\u8f83\u7f8e\u89c2\u3002 \u5199\u5728\u6700\u540e BSA\u548cBSR\u5206\u6790\u7ed3\u679c\u4e0d\u4e00\u81f4\u7684\u95ee\u9898\u3002 \u539f\u56e0\u8be6\u7ec6\u8bb2\u89e3 \u6211\u7684BSA\u548cBSR\u7684\u7ed3\u679c\u5e76\u4e0d\u4e00\u81f4\u3002\u53ef\u80fd\u539f\u56e0\u662f\uff1a 1. \u526a\u5207\u5f0f\u6bd4\u5bf9\u5bfc\u81f4\u7684SNP\u68c0\u6d4b\u9519\u8bef 2. RNA\u7f16\u8f91\u7684\u5f71\u54cd 3. \u57fa\u56e0\u7ec4\u5370\u8bb0\u73b0\u8c61\u7684\u5f71\u54cd\uff08\u8868\u89c2\u9057\u4f20\uff09 4. \u76ee\u6807\u57fa\u56e0\u4e0d\u8868\u8fbe\u6216\u4f4e\u8868\u8fbe\uff0c\u4ee5\u53ca\u65e0\u6cd5\u68c0\u6d4b\u975eSNP\u7684\u53d8\u5f02","title":"BSR (RNA seq)\u6570\u636e\u8fdb\u884cBSR\u5206\u6790"},{"location":"BSA/BSR-%28RNA-seq%29%E6%95%B0%E6%8D%AE%E8%BF%9B%E8%A1%8CBSR%E5%88%86%E6%9E%90/#java","text":"\u4e0b\u673a\u6570\u636e\uff1a 1.\u8d28\u63a7 ##\u83b7\u53d6\u8f93\u5165\u7684\u6570\u7ec4\u7684\u957f\u5ea6 bef=(sample1 sample2 ... sampleN) sample_num=${#bef[@]} for ((i=0;i<$sample_num;i++)); do inA1=../origin/${bef[$i]}$bg1; inA2=../origin/${bef[$i]}$bg2; out1=${bef[$i]}\"paired-R1.fq.gz\"; out2=${bef[$i]}\"paired-R2.fq.gz\"; unpaired1=${bef[$i]}\"unpaired-R1.fq.gz\"; unpaired2=${bef[$i]}\"unpaired-R2.fq.gz\"; fastp --thread 16 -i $inA1 -o $out1 -I $inA2 -O $out2 --html ${bef[$i]}\".html\" --json ${bef[$i]}\".json\" 2>${bef[$i]}fastp_out echo success end QC_${bef[$i]} fastp at `date`; done genome=/home/chaim/disk/maize/Zea_mays.B73_RefGen_v4.42.fa gene_gtf=/home/chaim/disk/maize/Zea_mays.B73_RefGen_v4.42.gtf","title":"\u5982\u679c\u4e0d\u61c2\u53c2\u6570\u7684\u610f\u4e49\uff0c\u4e0d\u8981\u968f\u4fbf\u4fee\u6539\u53c2\u6570\uff0c\u5bf9\u4e8e\u8fdb\u7a0b\uff0c\u5c3d\u91cf\u6309\u7167\u6211\u7684\u8bbe\u7f6e\uff0c\u6709\u4e9b\u7a0b\u5e8f\u4f60\u7ed9\u7684\u5185\u5b58\u6216\u8fdb\u7a0b\u592a\u591a\uff0c\u786c\u4ef6\u6ca1\u6709\u8fd9\u4e48\u9ad8\u7684\u914d\u7f6e\u6709\u53ef\u80fd\u4f1a\u62a5\u9519\u3002\u7279\u522b\u662f\u57fa\u4e8eJava\u7684\u7a0b\u5e8f\uff0c\u5f88\u5bb9\u6613\u5185\u5b58\u6ea2\u51fa\u3002"},{"location":"BSA/BSR-%28RNA-seq%29%E6%95%B0%E6%8D%AE%E8%BF%9B%E8%A1%8CBSR%E5%88%86%E6%9E%90/#star-2-pass-align","text":"2.\u6bd4\u5bf9\uff08\u76ee\u524d\u63a8\u8350\u7684RNA\u6bd4\u5bf9\u5de5\u5177\u662fHISAT2\u548cSTAR\uff09 HISAT2\u7684\u4f7f\u7528\uff0c\u5728\u6211\u7684RNA-seq\u680f\u4e2d\u6709\u8be6\u7ec6\u4fe1\u606f\u3002\u6b64\u5904\u4f7f\u7528STAR\u8fdb\u884c\u6bd4\u5bf9\uff08 STAR\u4e5f\u88ab\u63a8\u8350\u7528\u4e8eRNA-seq call snp\u7684\u6bd4\u5bf9 \uff09\u3002 STAR\u7684 \u6700\u65b0\u7248\u4e0b\u8f7d\u5b89\u88c5 \u4e0b\u8f7d\u5b89\u88c5\uff0c\u914d\u7f6e\u73af\u5883\u53d8\u91cf\u3002 STAR github","title":"\u6bd4\u5bf9\u5230\u53c2\u8003\u57fa\u56e0\u7ec4STAR 2-pass-align \u6bd4\u5bf9"},{"location":"BSA/BSR-%28RNA-seq%29%E6%95%B0%E6%8D%AE%E8%BF%9B%E8%A1%8CBSR%E5%88%86%E6%9E%90/#star","text":"\u5c3d\u91cf\u4f7f\u7528\u6700\u65b0\u7248\u672c\u7684\u8f6f\u4ef6\uff0c\u56e0\u4e3a\u65e7\u7248\u672c\u53ef\u80fd\u4f1a\u6709\u83ab\u540d\u5176\u5999\u7684\u95ee\u9898\uff0c\u540c\u65f6\u65b0\u7248\u652f\u6301\u4f7f\u7528STAR-fusion\u68c0\u6d4b\u57fa\u56e0\u878d\u5408 #\u5f53\u524d\u6700\u65b0\u7248\u672c\u662f2.7.3a\uff0c\u5230\u4e0a\u8ff0\u94fe\u63a5github\u627e\u6700\u65b0\u7248\u672c wget https://github.com/alexdobin/STAR/archive/2.7.3a.tar.gz tar -xzf 2.7.3a.tar.gz cd STAR-2.7.3a cd bin/Linux_x86_64/ ./STAR \u914d\u7f6e\u73af\u5883\u53d8\u91cf vim ~/.bash_profile \u6dfb\u52a0\u5982\u4e0b export PATH=$HOME/disk/STAR/STAR-2.7.3a/bin/Linux_x86_64:$PATH \u91cd\u5e86\u7ec8\u7aef\uff0c STAR --version \u5373\u53ef\u67e5\u770b\u5f53\u524d\u7248\u672c\u4fe1\u606f\u3002 2.1\u6784\u5efa\u57fa\u56e0\u7ec4\u7d22\u5f15\u6587\u4ef6\u3002\uff08\u65e0\u8bba\u662fhisat2\u8fd8\u662fSTAR\u6b64\u6b65\u9aa4\u8d85\u6162\uff09 \u53c2\u80032-pass-mode \u53c2\u8003 STAR \u53c2\u6570\u4ecb\u7ecd\uff1a --runThreadN 6 \u4f7f\u7528\u7ebf\u7a0b\u6570 --outSAMtype BAM SortedByCoordinate \u5c06\u7ed3\u679cSAM\u6587\u4ef6\u6392\u5e8f\u5e76\u751f\u6210BAM\uff0c\u4f7f\u7528\u7684\u8f6f\u4ef6\u548csamtools\u6548\u679c\u7c7b\u4f3c(\u76ee\u524d\u7248\u672c\u4e00\u5b9a\u4e0d\u8981\u4f7f\u7528\u8be5\u53c2\u6570\uff0c\u5426\u5219\u4f1a\u56e0\u4e3acpu\u5360\u7528\u7387\u8fc7\u9ad8\uff0c\u800c\u7a0b\u5e8f\u6302\u6389\uff0c\u540e\u7eed\u4f7f\u7528samtools\u5b8c\u6210\u8fd9\u6b65) --genomeDir ./starhuman150 \u4e0a\u9762\u5efa\u7acb\u7684index\u76ee\u5f55 --readFilesIn AA_R1_trimmed.fastq AA_R2_trimmed.fastq \u8981\u8f93\u5165\u7684\u6d4b\u5e8f\u6570\u636e --outFileNamePrefix AA \u53ef\u4ee5\u81ea\u5b9a\u4e49\u751f\u6210\u6587\u4ef6\u7684\u524d\u7f00 2.2 \u4f7f\u7528STAR\u8fdb\u884c2\u6b65\u6bd4\u5bf9 genome=/home/chaim/disk/maize/Zea_mays.B73_RefGen_v4.42.fa gene_gtf=/home/chaim/disk/maize/Zea_mays.B73_RefGen_v4.42.gtf bef=(sample1 sample2 \u2026\u2026samplen) sample_num=${#bef[@]} #\u6784\u5efa\u57fa\u56e0\u7ec4\u7684\u7d22\u5f15 STAR --runThreadN 30 \\ --runMode genomeGenerate \\ --genomeDir ./stat-1-index \\ --genomeFastaFiles $genome \\ --sjdbGTFfile $gene_gtf \\ --sjdbOverhang 149 \\ 2 >log #\u5728star>2.4.1\u7248\u672c\u540e\uff0c\u6700\u65b0\u7248\u547d\u4ee4\u5df2\u7ecf\u652f\u6301\u76f4\u63a5\u7684\u4e24\u6b65\u6bd4\u5bf9\u3002 for((i=0;i<sample_num;i++)); do star_index=./stat-1-index fq1=../origin/cleandata/${bef[$i]}\"clean-R1.fq.gz\" fq2=../origin/cleandata/${bef[$i]}\"clean-R2.fq.gz\" STAR --runThreadN 24 --genomeDir $star_index \\ --twopassMode Basic --outReadsUnmapped None --chimSegmentMin 12 \\ --alignIntronMax 100000 --chimSegmentReadGapMax parameter 3 \\ --alignSJstitchMismatchNmax 5 -1 5 5 \\ --readFilesCommand zcat --readFilesIn $fq1 $fq2 \\ --outFileNamePrefix ${bef[$i]}_ #\u81ea\u5b9a\u4e49\u8f93\u51fa\u6587\u4ef6\u7684\u524d\u7f00 echo star end satr ${bef[$i]}`date` 2.3 sam\u8f6cbam\uff0c\u6392\u5e8f\u6784\u5efa\u7d22\u5f15 \u57fa\u56e0\u7ec4\u6587\u4ef6>500M,\u6700\u597d\u4e0d\u8981\u4f7f\u7528picard\u7b49java\u7a0b\u5e8f\u6784\u5efa\u7d22\u5f15\uff0c\u5426\u5219\u540e\u7eedGATK\u53ef\u80fd\u4f1a\u62a5\u9519\u3002 for ((i=0;i<sample_num;i++)); do mv ${bef[$i]}_Aligned.out.sam ${bef[$i]}.sam #\u56e0\u4e3astar\u8f93\u51fa\u6392\u5e8f\u540e\u7684bam\u6587\u4ef6\u65f6\uff0c\u7cfb\u7edfcpu\u5360\u7528\u7387\u592a\u9ad8\uff0c\u4f1a\u62a5\u9519\u3002\u6240\u4ee5\u6b64\u5904\u624b\u52a8sort sam\u6392\u5e8f\u4e3abam samtools sort -@ 24 -O bam -o ${bef[$i]}.bam ${bef[$i]}.sam #\u751f\u6210bai\u6587\u4ef6\uff0c\u7528\u4e8e\u5bfc\u5165IGV samtools index -@ 24 ${bef[$i]}\".bam\" ${bef[$i]}.bai #\u7edf\u8ba1\u6bd4\u5bf9\u7684\u7ed3\u679c samtools flagstat -@ 24 ${bef[$i]}.bam >${bef[$i]}.flagstat done \u751f\u6210bam\u6587\u4ef6\u540e\u7684\u5904\u7406 \u53bb\u9664\u91cd\u590d\u7684PCR\u53ef\u4ee5\u4f7f\u7528\u7684\u5de5\u5177\u6709picard,samtools,sambamba , \u4e09\u4e2a\u5de5\u5177\u5bf9\u6bd4 \u5173\u4e8e\u53bb\u9664\u91cd\u590dPCR\u7684\u53bb\u9664\u4e0e\u5426 \u4e00\u822c\u662fRNA-seq\u4e0d\u9700\u8981\u53bb\u9664\uff0ccall snp\u548cchip-seq,dap-seq\u9700\u8981\u53bb\u9664\u3002 \u539f\u7406\u8be6\u89e3 \u4f7f\u7528picard\u53bb\u9664\u91cd\u590d\u7684reads. java -Xms48g -jar $picard MarkDuplicates REMOVE_DUPLICATES= true INPUT=${bef[[$i]}.map.bam OUTPUT=${bef[[$i]}.repeatmark.bam METRICS_FILE=${bef[[$i]}.bam.metrics","title":"STAR\u7684\u5b89\u88c5"},{"location":"BSA/BSR-%28RNA-seq%29%E6%95%B0%E6%8D%AE%E8%BF%9B%E8%A1%8CBSR%E5%88%86%E6%9E%90/#30-bam2","text":"java -Xmx48g -jar $picard MergeSamFiles I=2447-20_L1.sort.bam I=2447-20_L2.sort.bam O=2447-20.bam <<!","title":"3.0 \u5408\u5e76\u540c\u4e00\u7ec4\u6570\u636e\u7684bam\u6587\u4ef6\uff08\u540c\u4e00\u4e2a\u6837\u672c\u76842\u6b21\u4e0b\u673a\u6570\u636e\uff0c\u6700\u5f00\u59cb\u5982\u679c\u6ca1\u6709\u5408\u5e76\uff0c\u6b64\u65f6\u5e94\u8be5\u5408\u5e76\uff09"},{"location":"BSA/BSR-%28RNA-seq%29%E6%95%B0%E6%8D%AE%E8%BF%9B%E8%A1%8CBSR%E5%88%86%E6%9E%90/#_1","text":"samtools view -h Z58.bam |head -20000 >tmp.sam samtools sort -O bam -@ 4 tmp.sam -o tmp.bam samtools index tmp.bam #gatk IndexFeatureFile --feature-file /public/home/tang/chaim/maize/zea_mays.vcf for((i=0;i<sample_num;i++)); do samtools sort -O bam -@ 8 ${bef[$i]}.bam -o ${bef[$i]}.sort.bam samtools index ${bef[$i]}.sort.bam #\u6dfb\u52a0\u5934\u6587\u4ef6 java -jar $picard AddOrReplaceReadGroups I=${bef[$i]}.sort.bam O=${bef[$i]}.add.bam ID=${bef[$i]} LB=${bef[$i]} PL=illumina PU=${bef[$i]} SM=${bef[$i]} java -jar $picard MarkDuplicates I=${bef[$i]}.add.bam O=${bef[$i]}.rmd.bam CREATE_INDEX=true VALIDATION_STRINGENCY=SILENT M=${bef[$i]}.metrics #RNA-seq call snp \u4f7f\u7528GATK\u589e\u52a0\u7684\u4e00\u6b65 gatk SplitNCigarReads -R $genome -I ${bef[$i]}.rmd.bam -O ${bef[$i]}.split.bam gatk BaseRecalibrator -R $genome -I ${bef[$i]}.split.bam --use-original-qualities -O ${bef[$i]}.recal.table --known-sites $dbsnp_vcf gatk ApplyBQSR -R $genome -I ${bef[$i]}.split.bam -bqsr ${bef[$i]}.recal.table -O ${bef[$i]}.recal.bam gatk --java-options \"-Xmx8g -Xms8g\" HaplotypeCaller -R $genome -I ${bef[$i]}.recal.bam --dbsnp $dbsnp_vcf --native-pair-hmm-threads 8 -stand-call-conf 20 -O ${bef[$i]}.g.vcf.gz -ERC GVCF --verbosity ERROR done !","title":"\u622a\u53d6\u90e8\u5206\u6570\u636e\u7528\u4e8e\u6d4b\u8bd5\u6570\u636e"},{"location":"BSA/BSR-%28RNA-seq%29%E6%95%B0%E6%8D%AE%E8%BF%9B%E8%A1%8CBSR%E5%88%86%E6%9E%90/#31","text":"bef=(sample1 sample2 sample3 ... sampleN) sample_num=${#bef[@]} for((i=0;i<$sample_num;i++)); do #\u5148\u5408\u5e76\u8f6c\u5f55\u7ec4\u7684\u751f\u7269\u5b66\u91cd\u590d\u5408bam\u6587\u4ef6 java -Xmx48g -jar $picard MergeSamFiles I=${bef[$i]}\"-1.bam\" I=${bef[$i]}\"-2.bam\" I=${bef[$i]}\"-3.bam\" O=${bef[$i]}.bam #\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u73af\u5883bioconda #conda create -n bioconda #\u7528conda\u5b89\u88c5sambamba #conda install -y -c bioconda sambamba #\u53bb\u9664PCR\u91cd\u590d sample=${bef[$i]} sambamba markdup --overflow-list-size 600000 --tmpdir='./' -r $sample.bam ${sample}_rmd.bam #\u524d\u9762\u7684STAR\u6bd4\u5bf9\u7684\u65f6\u5019\u6ca1\u6709\u6dfb\u52a0\u5934\u6587\u4ef6,\u6b64\u5904\u589e\u52a0Read group gatk AddOrReplaceReadGroups -I ${sample}_rmd.bam -O ${sample}_rmd_add.bam -LB $sample -PL ILLUMINA -PU $sample -SM $sample #\u521b\u5efa\u7d22\u5f15\uff0c\u7136\u540eSplitNCigarReads #gatk CreateSequenceDictionary -R $genome gatk SplitNCigarReads -R $genome -I ${sample}_rmd_add.bam -O ${sample}_rmd_split.bam #BQSR \uff08Base Quality Recalibration\uff09 gatk --java-options \"-Xmx12G\" BaseRecalibrator -I ${sample}_rmd_split.bam -R $genome -O ${sample}_recal.table --known-sites $dbsnp_vcf gatk --java-options \"-Xmx12G\" ApplyBQSR -I ${sample}_rmd_split.bam -R $genome -O ${sample}_recal.bam -bqsr ${sample}_recal.table #\u4f7f\u7528gvcf\u6a21\u5f0fVariant Calling bam=${sample}_recal.bam gatk --java-options \"-Xmx8G\" HaplotypeCaller -ERC GVCF -R $genome -I $bam --dbsnp $dbsnp_vcf -O ${sample}.g.vcf done","title":"3.1 \u5148\u5904\u7406\u6709\u751f\u7269\u5b66\u91cd\u590d\u7684\u6837\u54c1"},{"location":"BSA/BSR-%28RNA-seq%29%E6%95%B0%E6%8D%AE%E8%BF%9B%E8%A1%8CBSR%E5%88%86%E6%9E%90/#41","text":"pbef=(group1 group2 ... groupn) sample_n=${#pbef[@]} for((i=0;i<$sample_n;i++)); do #\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u73af\u5883bioconda #conda create -n bioconda #\u7528conda\u5b89\u88c5sambamba #conda install -y -c bioconda sambamba #\u53bb\u9664PCR\u91cd\u590d sample=${pbef[$i]} sambamba markdup --overflow-list-size 600000 --tmpdir='./' -r $sample.bam ${sample}_rmd.bam #\u524d\u9762\u7684STAR\u6bd4\u5bf9\u7684\u65f6\u5019\u6ca1\u6709\u6dfb\u52a0\u5934\u6587\u4ef6,\u6b64\u5904\u589e\u52a0Read group gatk AddOrReplaceReadGroups -I ${sample}_rmd.bam -O ${sample}_rmd_add.bam -LB $sample -PL ILLUMINA -PU $sample -SM $sample #\u521b\u5efa\u7d22\u5f15\uff0c\u7136\u540eSplitNCigarReads #gatk CreateSequenceDictionary -R $genome gatk SplitNCigarReads -R $genome -I ${sample}_rmd_add.bam -O ${sample}_rmd_split.bam #BQSR \uff08Base Quality Recalibration\uff09 gatk --java-options \"-Xmx12G\" BaseRecalibrator -I ${sample}_rmd_split.bam -R $genome -O ${sample}_recal.table --known-sites $dbsnp_vcf gatk --java-options \"-Xmx12G\" ApplyBQSR -I ${sample}_rmd_split.bam -R $genome -O ${sample}_recal.bam -bqsr ${sample}_recal.table #\u4f7f\u7528gvcf\u6a21\u5f0fVariant Calling bam=${sample}_recal.bam gatk --java-options \"-Xmx8G\" HaplotypeCaller -ERC GVCF -R $genome -I $bam --dbsnp $dbsnp_vcf -O ${sample}.g.vcf done","title":"4.1\u518d\u5904\u7406\u6ca1\u6709\u751f\u7269\u5b66\u91cd\u590d\u7684\u6837\u54c1"},{"location":"BSA/BSR-%28RNA-seq%29%E6%95%B0%E6%8D%AE%E8%BF%9B%E8%A1%8CBSR%E5%88%86%E6%9E%90/#5gvcf","text":"gatk --java-options \"-Xmx8G\" CombineGVCFs -R $genome --dbsnp $dbsnp_vcf --variant sample1.g.vcf.gz --variant sample2.g.vcf.gz --variant group1.g.vcf.gz --variant group2.g.vcf.gz -O sample_group.g.vcf.gz","title":"5.\u5408\u5e76\u524d\u9762\u7684gvcf\u5230\u4e00\u4e2a\u6587\u4ef6"},{"location":"BSA/BSR-%28RNA-seq%29%E6%95%B0%E6%8D%AE%E8%BF%9B%E8%A1%8CBSR%E5%88%86%E6%9E%90/#6-genotypegvcfs","text":"gatk --java-options \"-Xmx12G\" GenotypeGVCFs -R $genome -V sample_group.g.vcf.gz -O sample_group.common.vcf.gz ##\u5f53\u6709\u591a\u4e2a\u6837\u672c\u6c60\u7684\u65f6\u5019\uff0c\u5728vcf_gop\u4e2d\u6dfb\u52a0\u591a\u4e2asample_group\u540d\u79f0\u5373\u53ef\u3002 vcf_gop=(sample_group1 ... sample_groupN) group_n=${#pbef[@]} for((i=0;i<$group_n;i++)) do #7.filter variant gatk --java-options \"Xmx4G\" VariantFiltration -V ${vcf_gop[$i]}.common.vcf.gz --window 35 --cluster 3 --filter-name \"lowQD\" --filter-expression \"QD < 2.0\" --filter-name \"highFS\" --filter-expression \"FS > 30.0\" -O ${vcf_gop[$i]}.Filter.vcf #7.1select SNP gatk --java-options \"-Xmx12G\" SelectVariants -R $genome -O ${vcf_gop[$i]}.filter_SNP.vcf --variant ${vcf_gop[$i]}.Filter.vcf --select-type-to-include SNP 2>${vcf_gop[$i]}.select_snp.err #7.2 select indel gatk --java-options \"-Xmx12G\" SelectVariants -R $genome -O ${vcf_gop[$i]}.filter_INDEL.vcf --variant ${vcf_gop[$i]}.Filter.vcf --select-type-to-include INDEL 2>${vcf_gop[$i]}.select_indel.err #7.3 merge INDEL and SNP #gatk MergeVcfs -I ${vcf_gop[$i]}.Filter_INDEL.vcf -I ${vcf_gop[$i]}.Filter_SNP.vcf -O ${vcf_gop[$i]}.Filter.vcf #8. \u8f6c\u6362vcf\u4e3atable\u683c\u5f0f gatk VariantsToTable -R $genome -V ${vcf_gop[$i]}.Filter.vcf -F CHROM -F POS -F REF -F ALT -GF AD -GF DP -GF GQ -GF PL -O ${vcf_gop[$i]}.table done","title":"6 genotypeGVCFs"},{"location":"BSA/BSR-%28RNA-seq%29%E6%95%B0%E6%8D%AE%E8%BF%9B%E8%A1%8CBSR%E5%88%86%E6%9E%90/#9","text":"","title":"9.\u53d8\u5f02\u6ce8\u91ca"},{"location":"BSA/BSR-%28RNA-seq%29%E6%95%B0%E6%8D%AE%E8%BF%9B%E8%A1%8CBSR%E5%88%86%E6%9E%90/#vepannovagatksnpeff","text":"\u65b9\u6cd5\u4e00\uff1a #SnpEff version SnpEff 4.3T (build 2017-11-24 10:18), by Pablo Cingolani snpEff=\"/public/home/tang/chaim/soft/snpEff/snpEff/snpEff.jar\" java -jar $snpEff ann zm442 sample_group.Filter.vcf -t -stats sample_group.summary.html -csvStats sample_group.csv >sample_group.ann.vcf \u65b9\u6cd5\u4e8c\uff1a #VariantQC\u662fDISCVRSeq\u5176\u4e2d\u7684\u4e00\u4e2a\u51fd\u6570\uff0c\u5176\u662f\u57fa\u4e8egatk\u7684\u4e00\u4e2aJava\u5305\u3002 #java -jar /public/home/tang/chaim/soft/DISCVRSeq/DISCVRSeq.jar VariantQC -O output_file -R ref.fa -V variant.vcf DISCVRSeq=/public/home/tang/chaim/soft/DISCVRSeq/DISCVRSeq.jar genome=/home/chaim/disk/maize/Zea_mays.B73_RefGen_v4.42.fa #\u521b\u5efa\u57fa\u56e0\u7ec4\u6587\u4ef6\u7684\u7d22\u5f15\u4fe1\u606f samtools faidx $genome java -jar $picard CreateSequenceDictionary R=$genome O=zm442.dict #\u521b\u5efa\u53d8\u5f02\u6587\u4ef6\u7684tbi\u7d22\u5f15 #gatk\u8f93\u51favcf\u6587\u4ef6\u65f6\u4f1a\u81ea\u52a8\u521b\u5efa\u7d22\u5f15\u6587\u4ef6\uff0c\u4e00\u822c\u60c5\u51b5\u4e0d\u9700\u8981\u81ea\u5df1\u521b\u5efa\u7d22\u5f15 #gatk IndexFeatureFile -F variant.vcf #\u5f00\u59cb\u5206\u6790\u53d8\u5f02 ##\u6b64\u5904\u7684maxContigs\u6839\u636e\u4e0d\u540c\u7269\u79cd\uff0c\u5c3d\u91cf\u8bbe\u7f6e\u5927\u7684\u503c\uff0c\u5927\u4e8e\u8be5\u7269\u79cd\u7684\u53c2\u8003\u57fa\u56e0\u7ec4\u4e2d\u672a\u7ec4\u88c5\u5230\u67d3\u8272\u4f53\u4e0a\u7684contig\u6570\u91cf\u3002\u5426\u5219\u4f1a\u62a5\u9519\u3002 java -jar $DISCVRSeq VariantQC -O group_sample.html -R $genome --maxContigs 52 -V group_sample.Filter.vcf \u62ff\u5230\u53d8\u5f02\u6587\u4ef6\u540e\uff0c\u540e\u7eed\u548cBSA\u5206\u6790\u4e00\u6837\u3002 \u6700\u65b0\u5de5\u5177\u901f\u9012----\u53ef\u53d8\u526a\u5207 \u8d1d\u53f6\u65af\u5206\u6790\u4e0d\u540c\u7684\u526a\u63a5 BANDITS \u57fa\u56e0\u878d\u5408\u68c0\u6d4b\u5de5\u5177 STAR-fusion \u53c2\u8003\u6587\u7ae0 STAR-fusion\u7684\u4f7f\u7528 WGCNA\u7684\u6570\u636e\u6316\u6398 \u591a\u6837\u672c\u7684WGCNA WGCNA\u5b98\u7f51\u6559\u7a0b","title":"\u6ce8\u91ca\u5de5\u5177\u6709vep,annova,GATK,snpEff"},{"location":"BSA/BSR-%28RNA-seq%29%E6%95%B0%E6%8D%AE%E8%BF%9B%E8%A1%8CBSR%E5%88%86%E6%9E%90/#_2","text":"annovar\u4e0b\u8f7d\u5730\u5740 annovar\u9700\u8981\u6559\u80b2\u90ae\u7bb1\uff0c\u89e3\u51b3\u529e\u6cd5\u6709\u5f88\u591a\u3002 snpEFF\u5b89\u88c5\u4f7f\u7528 snpEFF\u6ce8\u91ca java -Xmx128g -jar /home/snpEff.jar zm442 common_filtration.vcf > common.eff.vcf \u4f1a\u8f93\u51fa\u4e09\u4e2a\u6587\u4ef6\uff0c snpEff_genes.txt snpEff_summary.html common.eff.vcf gatk\u7684Funcotator\u76ee\u524d\u53ea\u53ef\u7528\u4e8e\u4eba\u7684\u53d8\u5f02\u6ce8\u91ca vcp\u7528\u4e8e\u6ce8\u91ca\u53d8\u5f02 \u5b89\u88c5\u9700\u8981root\u6743\u9650\uff0c\u4f9d\u8d56\u6bd4\u8f83\u591a\u3002 VariantQC\u7528\u4e8e\u53d8\u5f02\u6ce8\u91ca VariantQC\u7684\u4ea7\u51fa\u662fhtml\u6587\u4ef6\uff0c\u7c7b\u4f3c\u4e8eFastQC\u3002\u53ef\u89c6\u5316\u56fe\u8868\u6bd4\u8f83\u7f8e\u89c2\u3002","title":"\u53d8\u5f02\u6ce8\u91ca\u7684\u65b9\u5f0f\u53c2\u8003\u5730\u5740"},{"location":"BSA/BSR-%28RNA-seq%29%E6%95%B0%E6%8D%AE%E8%BF%9B%E8%A1%8CBSR%E5%88%86%E6%9E%90/#_3","text":"BSA\u548cBSR\u5206\u6790\u7ed3\u679c\u4e0d\u4e00\u81f4\u7684\u95ee\u9898\u3002 \u539f\u56e0\u8be6\u7ec6\u8bb2\u89e3 \u6211\u7684BSA\u548cBSR\u7684\u7ed3\u679c\u5e76\u4e0d\u4e00\u81f4\u3002\u53ef\u80fd\u539f\u56e0\u662f\uff1a 1. \u526a\u5207\u5f0f\u6bd4\u5bf9\u5bfc\u81f4\u7684SNP\u68c0\u6d4b\u9519\u8bef 2. RNA\u7f16\u8f91\u7684\u5f71\u54cd 3. \u57fa\u56e0\u7ec4\u5370\u8bb0\u73b0\u8c61\u7684\u5f71\u54cd\uff08\u8868\u89c2\u9057\u4f20\uff09 4. \u76ee\u6807\u57fa\u56e0\u4e0d\u8868\u8fbe\u6216\u4f4e\u8868\u8fbe\uff0c\u4ee5\u53ca\u65e0\u6cd5\u68c0\u6d4b\u975eSNP\u7684\u53d8\u5f02","title":"\u5199\u5728\u6700\u540e"},{"location":"BSA/IGV%E7%9A%84%E4%BD%BF%E7%94%A8/","text":"IGV\u5168\u5e73\u53f0\u6570\u636e\u53ef\u89c6\u5316\u5de5\u5177\u3002 \u53c2\u80031 IGV\u5b98\u65b9\u5730\u5740 \u53c2\u80032 IGV\u652f\u6301\u4e8c\u6b21\u5f00\u53d1\uff0c\u5305\u62ecjs\u548cpython\u7248\u3002 \u8bfb\u53d6bam \u6587\u4ef6\u3002\u5bf9\u4e8e\u62fc\u63a5\u7684bam\u6587\u4ef6\u7684\u7ed3\u679c\u8fdb\u884c\u53ef\u89c6\u5316\u3002 \u4f8b\u5982\uff1a \u62fc\u63a5\u5b8c\u6210\u540e\u7684bam\u6587\u4ef6\u662f WT-1.map.bam ,\u4f7f\u7528samtools\u6392\u5e8f\u5efa\u7acb\u7d22\u5f15\u6587\u4ef6 WT-1.map.bam.bai #\u4e0a\u8ff0\u4f8b\u5b50\u5b9e\u73b0\u7684\u4ee3\u7801 samtools index -@ 8 WT-1.map.bam WT-1.map.bam.bai & #\u4f7f\u75288\u4e2a\u8fdb\u7a0b,\u5bf9bam\u6587\u4ef6\u8fdb\u884c\u7d22\u5f15\u6784\u5efa\u3002 \u4ecesam\u6587\u4ef6\u5230bam.bai samtools sort -@ 8 -o WT-1.map.sam WT-1.map.sam samtools index -@ 8 WT-1.map.bam WT-1.map.bai IGV\u5bfc\u5165\u57fa\u56e0\u7ec4\u548cbam\u6587\u4ef6\u3002 genomes>load from file \u9009\u62e9\u5bf9\u5e94\u7684\u57fa\u56e0\u7ec4\u53c2\u8003\u6587\u4ef6 file>load from file \u9009\u62e9\u5bf9\u5e94\u7684bam\u6587\u4ef6 IGV\u5e38\u89c1\u7684\u95ee\u9898\uff1a 1.IGV\u7684\u6253\u5f00\u65b9\u5f0f igv\u662f\u7528Java\u7f16\u5199\u7684\u8f6f\u4ef6\u3002\u6240\u4ee5\u9700\u8981\u5148\u5b89\u88c5Java\u5e76\u914d\u7f6e\u73af\u5883\u53d8\u91cfPATH. \u7136\u540e\u4e0b\u8f7d igv\u684c\u9762\u5e94\u7528\u7a0b\u5e8f \uff0c\u89e3\u538b\u7f29\uff0c\u76f4\u63a5\u6253\u5f00igv.bat\u6216igv.sh\u90fd\u53ef\u4ee5\u8fd0\u884c\u3002 2.IGV\u6253\u5f00\u6587\u4ef6\u9519\u8bef IGV\u6253\u5f00\u7684\u6587\u4ef6\u7684\u8def\u5f84\u5fc5\u987b\u662f\u7eaf\u82f1\u6587\uff0cigv\u8def\u5f84\u6700\u597d\u4e5f\u662f\u7eaf\u82f1\u6587\u3002\u4e14\u6587\u4ef6\u5939\u4e2d\u6700\u597d\u4e0d\u8981\u6709\u4e2d\u6587\u540d\u5b57\u7684\u6587\u4ef6\u3002 igv\u6253\u5f00\u6587\u4ef6\u9700\u8981\u6709\u7d22\u5f15\u3002\u53ef\u4ee5\u4f7f\u7528samtools index\u6784\u5efa\u3002 3. \u6253\u5f00igv\u4e4b\u540e\uff0c\u4e3a\u4ec0\u4e48\u6ca1\u6709\u770b\u5230\u78b1\u57fa\u7247\u6bb5\u5462\uff1f \u9996\u5148\u9009\u62e9\u5bf9\u5e94\u7684\u67d3\u8272\u4f53\uff0c\u53f3\u4fa7\u7684\u6807\u5c3a\u500d\u6570\u4e00\u822c\u662f18kb-36kb\u4e4b\u95f4\u65f6\uff0c\u79fb\u52a8\u6700\u4e0a\u9762\u7684\u5149\u6807\u6240\u5728\u7684\u4f4d\u7f6e\uff0c\u5373\u53ef\u770b\u5230\u76f8\u5173\u4fe1\u606f\u3002\u6216\u8005\u76f4\u63a5\u6307\u5b9a\u67d3\u8272\u4f53\u7684\u4f4d\u7f6e\u3002\u67e5\u770b\u76ee\u6807\u533a\u6bb5\u7684\u5dee\u5f02\u3002 \u56e0\u4e3aRNA-seq\u7684\u7ed3\u679c\u662f\u8f6c\u5f55\u4fe1\u606f\uff0c\u6240\u4ee5\u53ea\u663e\u793a\u7684\u662f\u7f16\u7801\u533a\u7684\u4fe1\u606f\u3002\u5185\u542b\u5b50\u7684\u4fe1\u606f\u4e0d\u663e\u793a\u3002\u6240\u4ee5\u5927\u90e8\u5206\u533a\u57df\u6ca1\u6709\u78b1\u57fa\u4fe1\u606f\u3002","title":"IGV\u7684\u4f7f\u7528"},{"location":"BSA/SIFT4G-%E9%A2%84%E6%B5%8B%E6%B0%A8%E5%9F%BA%E9%85%B8%E5%8F%96%E4%BB%A3%E6%98%AF%E5%90%A6%E4%BC%9A%E5%BD%B1%E5%93%8D%E8%9B%8B%E7%99%BD%E8%B4%A8%E5%8A%9F%E8%83%BD/","text":"SIFT4G \u4f7f\u7528\u65b9\u6cd5\uff1a 1.\u4e0b\u8f7d\u5bf9\u5e94\u7269\u79cd\u7684SIFT\u6570\u636e\u5e93 https://sift.bii.a-star.edu.sg/sift4g/ - \u4e5f\u53ef\u4ee5\u81ea\u5df1\u5236\u4f5c SIFT\u6570\u636e\u5e93 2.\u4e0b\u8f7dSIFT4G(win,linux,mac\u5747\u53ef\uff0c\u662f\u4e00\u4e2aJre\u7a0b\u5e8f\uff0c\u4f9d\u8d56Java) 3.\u4f7f\u7528SIFT4G \u5b98\u65b9\u4f7f\u7528\u8bf4\u660e \u7efc\u5408\u6027\u7a81\u53d8\u5371\u5bb3\u9884\u6d4b\u8f6f\u4ef6 dbNSFP\u662f\u4e00\u4e2a\u7efc\u5408\u6027\u7684\u6709\u5bb3\u7a81\u53d8\u9884\u6d4b\u8f6f\u4ef6\u5e93\uff0c\u5305\u542b\u591a\u79cd\u7b97\u6cd5\u7684\u591a\u4e2a\u8f6f\u4ef6\u3002 \u8be6\u60c5 \u81ea\u5df1\u5236\u4f5cSIFT\u6570\u636e\u5e93 sift4g\u72ec\u7acb\u6784\u5efa\u57fa\u56e0\u7ec4\uff0c\u5b89\u88c5\u8fc7\u7a0b root\u6743\u9650\u4e0b\u7684\u64cd\u4f5c\u65b9\u6cd5 1.\u68c0\u67e5\u662f\u5426\u5b89\u88c5perl(linux\u81ea\u5e26\u7684\u6709) perl -Version 2.\u4e0b\u8f7d\u5b89\u88c5DBI wget -C http://www.cpan.org/modules/by-module/DBD/DBI-1.643.tar.gz tar -zxvf DBI-1.643.tar.gz cd DBI-1.643 perl Makefile.PL make make test make install 3.\u5b89\u88c5LWP perl -MCPAN -e \"install Bundle::LWP\" perl -MCPAN -e \"install HTML::Formatter\" perl -MCPAN -e \"install IO::Socket::SSL and OpenSSL\" 4.\u5b89\u88c5bioperl wget https://cpan.metacpan.org/authors/id/C/CJ/CJFIELDS/BioPerl-1.7.7.tar.gz tar -zxvf BioPerl-1.7.7.tar.gz cd BioPerl-1.7.7 perl Makefile.PL make make test make install 5.\u5b89\u88c5Switch.pm sudo apt-get install libswitch-perl 6.\u5b89\u88c5SIFT4G git clone --recursive https://github.com/rvaser/sift4g.git sift4g cd sift4g make 6.1. sift4g\u4f9d\u8d56\u9879\u5b89\u88c5 g++(4.9+) GNU Make nvcc(2.*+)(optional) \u5b89\u88c5g++\u548cmake apt-get install g++ apt-get install make \u975eroot\u7528\u6237\u7684\u64cd\u4f5c\u65b9\u6cd5 #conda\u5b89\u88c5\u6700\u65b0\u7248\u7684gcc conda install gcc_impl_linux-64 #conda\u5b89\u88c5g++ 1.\u4e0b\u8f7d\u6e90\u6587\u4ef6 [DBI]http://www.cpan.org/modules/by-module/DBD/DBI-1.643.tar.gz [LWP]https://cpan.metacpan.org/authors/id/O/OA/OALDERS/libwww-perl-6.47.tar.gz [BIoPerl]https://cpan.metacpan.org/authors/id/C/CJ/CJFIELDS/BioPerl-1.7.7.tar.gz 2.perl\u7684\u5305\u5728make\u524d\u8981\u8bbe\u7f6eprefix #\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\u4e3a~/perl5 tar -zxvf DBI-1.643.tar.gz cd DBI-1.643 perl Makefile.PL PREFIX=~/perl5 make make test make install echo 'export PERL5LIB=\"$HOME/perl5/:$PERL5LIB\" '>>~/.bashrc \u5176\u4ed6\u5305\u4e5f\u91c7\u7528\u4e0a\u8ff0\u65b9\u6cd5\u5b89\u88c5\uff0c\u6216\u8005\u91c7\u7528 \u5176\u4ed6\u65b9\u6cd5\u5b89\u88c5 \u3002 \u4e0a\u8ff0\u8f6f\u4ef6\u5728\u5b89\u88c5\u8fc7\u7a0b\u4e2d\uff0cbioperl\u7684\u68c0\u67e5 make test \u53ef\u80fd\u65e0\u6cd5\u901a\u8fc7.\u4f46\u662f\u4e0d\u5f71\u54cd\u540e\u7eed\u5b89\u88c5\u548c\u4f7f\u7528\u3002 \u5f00\u59cb\u6784\u5efa\u9646\u5730\u68c9\u7684\u6570\u636e\u5e93 \u53c2\u8003\u5b98\u65b9github 1.\u5148\u51c6\u5907\u76f8\u5173\u7684\u6587\u4ef6 genome\u57fa\u56e0\u7ec4\u3001gtf\u6ce8\u91ca\u6216\u8005gff3\u6ce8\u91ca\u3001\uff08protein\u548cdbSNP\u53ef\u9009\u6587\u4ef6\uff09 NCBI\u6216\u8005ensemble\u90fd\u53ef\u4ee5\u4e0b\u8f7d\u76f8\u5173\u4fe1\u606f 2.\u521b\u5efa\u6587\u4ef6\u5939\uff0c\u79fb\u52a8\u4e0a\u8ff0\u6587\u4ef6\u5230\u5bf9\u5e94\u7684\u76ee\u5f55 cd test_files cp homo_sapiens-test.txt Gossypium_hirsutum_config.txt mkdir Gossypium_hirsutum mkdir Gossypium_hirsutum/gene-annotation-src mkdir Gossypium_hirsutum/chr-src mkdir Gossypium_hirsutum/dbSNP mv Gossypium_hirsutum.fa.gz Gossypium_hirsutum/chr-src mv Gossypium_hirsutum.gtf.gz Gossypium_hirsutum/gene-annotation-src mv Gossypium_hirsutum.protein.fa Gossypium_hirsutum/gene-annotation-src \u7279\u522b\u63d0\u793a\uff0c\u86cb\u767d\u8d28\u6587\u4ef6\u4e00\u5b9a\u8981\u89e3\u538b\u7f29\u4e3afa\u6216\u8005fasta\u683c\u5f0f\uff0c\u5982\u679c\u662f\u538b\u7f29\u6587\u4ef6\u76f4\u63a5\u8fd0\u884c\uff0c\u540e\u7eed\u4f1a\u62a5\u9519\u3002 gunzip Gossypium_hirsutum.protein.fa.gz 3.\u4fee\u6539Gossypium_hirsutum_config.txt\u7684\u914d\u7f6e\u6587\u4ef6\u91cc\u9762\u7684\u8def\u5f84\u3002 \u8bbe\u7f6e PARENT_DIR=/mnt/e/sift4g/sift4g_Create/test_files/Gossypium_hirsutum ORG=Gossypium_hirsutum_sapiens ORG_VERSION=Gh.V1 SIFT4G_PATH=/mnt/e/sift4g/sift4g/bin/sift4g PROTEIN_DB=/mnt/e/sift4g/sift4g_Create/test_files/Gossypium_hirsutum/gene-annotation-src/Gossypium_hirsutum.protein.fa \u68c0\u67e5GENETIC_CODE_TABLE\u548cMITO_GENETIC_CODE_TABLE\u662f\u5426\u6b63\u786e\u8bbe\u7f6e\u3002 \u53ef\u9009\u8bbe\u7f6e\uff1a \u5982\u679c\u6ca1\u6709dbSNP\u6587\u4ef6\uff0c\u76f4\u63a5\u5728\u6587\u4ef6\u4e2d\u8fd9\u4e00\u884c\u524d\u9762\u52a0\u4e0a # \u5373\u53ef\u3002 # DBSNP_VCF_FILE=Homo_sapiens.vcf.gz \u4e0a\u9762\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u65f6\uff0c\u91cc\u9762\u7684\u8def\u5f84\u4e00\u5b9a\u8981\u5199\u5b8c\u6574\u7684\u7edd\u5bf9\u8def\u5f84\u3002\u4e0d\u8981\u4f7f\u7528\u76f8\u5bf9\u8def\u5f84\uff0c\u4e0d\u7136\u7a0b\u5e8f\u4f1a\u627e\u4e0d\u5230\u6587\u4ef6\u5730\u5740\u3002 \u7edd\u5bf9\u8def\u5f84\u683c\u5f0f /mnt/e/sift4g/genome.fa.gz \u5982\u679c\u6ca1\u6709gtf\u6587\u4ef6\uff0c\u6709gff\u6587\u4ef6\uff0c\u4f7f\u7528 gffread \u5de5\u5177\u8f6c\u6362\u5373\u53ef\u3002\u8bf7\u4e00\u5b9a\u8981\u786e\u8ba4\u4f60\u6700\u7ec8\u7684gtf\u6587\u4ef6\u7684\u7b2c9\u5217\u5305\u542bgene_biotype\u4fe1\u606f\uff0c\u4e0d\u7136\u751f\u6210\u7684\u6570\u636e\u5e93\u65e0\u6cd5\u4f7f\u7528\u3002 #\u68c0\u6d4bgff3\u6587\u4ef6\u4e2d\u7b2c9\u5217\u5305\u542b\u7684\u4fe1\u606f awk 'BEGIN{FS=OFS=\"\\t\"} $3==\"gene\"{split($9, a, \";\"); for(i in a){split(a[i], b, \"=\"); if(++c[b[1]]==1) print b[1]}}' Gossypium_hirsutum.gene.gff3 \u4e0a\u8ff0\u547d\u4ee4\u4f1a\u8f93\u51fa\u4f60\u7684gff3\u6587\u4ef6\u7684\u7b2c9\u5217\u91cc\u5305\u542b\u7684 gffread\u4e0b\u8f7d\u5b89\u88c5 - gffread-0.12.2\u9884\u7f16\u8bd1\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6 - gffread-0.12.2\u6e90\u7801 \u5982\u679c\u4e0b\u8f7d\u4e8c\u8fdb\u5236\uff0c\u53ef\u4ee5\u76f4\u63a5\u89e3\u538b\u4f7f\u7528\u3002 \u5982\u679c\u4e0b\u8f7d\u6e90\u7801\uff0c\u672c\u5730\u7f16\u8bd1\uff0c\u5b89\u88c5\u5373\u53ef\u3002 \u6216\u8005 - github\u5b89\u88c5\u4e5f\u53ef\u4ee5 git clone https://github.com/gpertea/gffread cd gffread make release \u4e09\u9009\u4e00\u5373\u53ef\uff0c\u5b89\u88c5\u5b8c\u6210gffread\u3002 \u5c06gff\u8f6c\u6362\u4e3agtf gunzip Gossypium_hirsutum.gff.gz gffread Gossypium_hirsutum.gff -T -o Gossypium_hirsutum.gtf gzip Gossypium_hirsutum.gtf 4. \u751f\u6210\u672c\u5730sift4g\u6570\u636e\u5e93\uff08\u63a8\u8350\u4f7f\u7528\u6709root\u6743\u9650\u7684Ubuntu\uff09 perl make-SIFT-db-all.pl -config ./test_files/Gossypium_hirsutum_config.txt \u6784\u5efa\u8fc7\u7a0b\u53ef\u80fd\u9700\u89811-24h,\u5f53\u663e\u793a All done! \u5373\u4ee3\u8868\u6784\u5efa\u5b8c\u6210\u3002\uff08\u4e2a\u4eba\u7535\u8111i9\u7684\u8dd1\u4e868\u59298\u591c\uff09 \u7ecf\u8fc7\u5206\u6790\u53d1\u73b0\uff0c\u5176\u4e2d\u4f7f\u7528sift4g\u7684\u8fd9\u4e00\u6b65\u53ef\u4ee5\u4f18\u5316\uff0csift4g\u652f\u6301\u591a\u7ebf\u7a0b\uff0c\u9ed8\u8ba4\u662f8\u4e2a\uff0c\u53ef\u4ee5\u624b\u52a8\u589e\u52a0\u8fdb\u7a0b\u6570\u91cf\u5230\u4f60\u7684\u786c\u4ef6\u53ef\u4ee5\u627f\u53d7\u7684\u8303\u56f4\uff0c\u4ee5\u52a0\u5feb\u5206\u6790\u901f\u5ea6\u3002 \u4fee\u6539make-SIFT-db-all.pl\u7684\u7b2c109\u884c\u5185\u5bb9\u4e2d\uff0c\u201c -d \u201d\u524d\u9762\u6dfb\u52a0\u4e0a -t 96 .96\u662f\u4f60\u6307\u5b9a\u7684\u8fdb\u7a0b\u6570\u3002109\u884c\u4fee\u6539\u540e\u5982\u4e0b\u6240\u793a\u3002\u672c\u4eba\u4eb2\u6d4b\u572824\u4e2acpu\u4e0a\u8fd0\u884c96\u4e2a\u8fdb\u7a0b\uff0c\u5b8c\u5168\u6b63\u5e38\u3002 my $sift4g_command = $meta_hash{\"SIFT4G_PATH\"} . \" -t 96 -d \" . $meta_hash{\"PROTEIN_DB\"} . \" -q \" . $meta_hash{\"PARENT_DIR\"} . \"/all_prot.fasta --subst \" . $meta_hash{\"PARENT_DIR\"} . \"/\" . $meta_hash{\"SUBST_DIR\"} . \" --out \" . $met a_hash{\"PARENT_DIR\"} . \"/\" . $meta_hash{\"SIFT_SCORE_DIR\"} . \" --sub-results \" ; print $sift4g_command . \"\\n\"; #`$siftsharp_command`; `$sift4g_command`; \u5982\u679c\u4f60\u7814\u7a76\u7684\u7269\u79cd\u57fa\u56e0\u7ec4\u975e\u5e38\u5927\uff0c\u53ef\u4ee5\u624b\u52a8\u8fd0\u884c\u7b2c109\u884c-114\u884c\u547d\u4ee4\u8fd9\u4e00\u6b65\u3002\u624b\u52a8\u8fd0\u884c\u5b8c\u6210\u540e\uff0c\u628a\u8fd9\u6bb5\u4ee3\u7801\u548c109\u884c\u4e4b\u524d\u7684\u547d\u4ee4\u4f7f\u7528 # \u6ce8\u91ca\u6389\uff0c\u7ee7\u7eed\u8fd0\u884cmake-SIFT-db-all.pl\u5c31\u53ef\u4ee5\u6b63\u5e38\u540e\u7eed\u5206\u6790\u4e86\u3002 \u624b\u52a8\u8fd0\u884c109-114\u884c\u7684\u65b9\u6cd5 #\u4f7f\u7528conda\u5b89\u88c5sift4g,\u76f8\u4fe1\u6211\u4f7f\u7528conda\u5b89\u88c5\u662f\u6700\u6b63\u786e\u7684\u9009\u62e9\uff0c80%\u7684\u9519\u8bef\u662fsift4g\u6ca1\u6709\u6210\u529f\u5b89\u88c5\u9020\u6210\u7684\uff0c\u5b83\u9700\u8981\u7279\u5b9a\u7684GCC,G++.5%\u7684\u9519\u8bef\u662f\u7b2c\u4e00\u6b65\u6ca1\u6709\u6b63\u786e\u4fee\u6539\u8def\u5f84\u9020\u6210\u7684\u300215%\u7684\u9519\u8bef\u662fgtf\u6587\u4ef6\u683c\u5f0f\u4e0d\u6b63\u786e\u9020\u6210\u7684\u3002 #\u5148\u4f7f\u7528conda\u521b\u5efa\u65b0\u7684\u865a\u62df\u73af\u5883\uff0c\u518d\u8fdb\u5165\u865a\u62df\u73af\u5883 conda activate sift4g conda install sift4g \u5916\u9762\u8fd0\u884csift4g\u7684\u547d\u4ee4 conda activate sift4g sift4g -t 96 -d /share/softwares/sift4g/scripts_to_build_SIFT_db/test_files/Gossypium_hirsutum/gene-annotation-src/Gossypium_hirsutum.protein.fasta -q /share/softwares/sift4g/scripts_to_build_SIFT_db/test_files/Gossypium_hirsutum/all_prot.fasta --subst /share/softwares/sift4g/scripts_to_build_SIFT_db/test_files/Gossypium_hirsutum/subst --out /share/softwares/sift4g/scripts_to_build_SIFT_db/test_files/Gossypium_hirsutum/sift4_predictions --sub-results \u5982\u679c\u4f60\u7684\u57fa\u56e0\u7ec4\u975e\u5e38\u5927\uff0c\u53ef\u4ee5\u5206\u6210\u4e24\u90e8\u5206\u5206\u522b\u8fd0\u7b97\uff0c\u518d\u5408\u6210\u4e00\u5757\u3002 \u5206\u522b\u4eceall_prot.fasta\u63d0\u53d6 \u524d\u9762\u7684n\u6761\u67d3\u8272\u4f53\u548csubst\u6587\u4ef6\u91cc\u5bf9\u5e94\u7684n\u6761\u67d3\u8272\u4f53\u5bf9\u5e94\u7684\u57fa\u56e0\u7684 .subst \u6587\u4ef6\u3002 \u4fee\u6539\u8f93\u51fa\u76ee\u5f55sift4_predictions\u4e3a\u65b0\u7684\u6587\u4ef6\u5939part1_predictions\u3002 \u6700\u540e\u628a\u4e24\u6b21\u8fd0\u884c\u7684--out\u540e\u7684\u8f93\u51fa\u76ee\u5f55part1_predictions,part2_predictions\u91cc\u7684alignments.txt\uff0c\u6309\u7167\u5148\u540e\u987a\u5e8f\u5408\u5e76\u6210\u4e3a\u4e00\u4e2aalignments.txt\u3002\u628apart1_predictions,part2_predictions\u91cc\u6240\u6709\u7684 .fasta\u548c .SIFTprediction\uff0c\u4ee5\u53ca\u5408\u5e76\u540e\u7684alignments.txt\u79fb\u5230sift4_predictions\u91cc\u3002\u6ce8\u91camake-SIFT-db-all.pl\u6587\u4ef6115\u884c\u4e4b\u524d\u7684\u547d\u4ee4\u5168\u90e8\u6ce8\u91ca\uff0c\u6ce8\u610f\u53d8\u91cf\u8981\u4e0d\u80fd\u6ce8\u91ca\u3002\u518d\u6b21\u8fd0\u884c\u4fee\u6539\u540e\u7684make-SIFT-db-all.pl\u5373\u53ef\u3002 5. \u68c0\u67e5\u751f\u6210\u7684\u6570\u636e\u5e93 cd Gossypium_hirsutum/Gh.V1 zcat chr1.gz|more zcat chr1.gz|grep CDS|more more CHECK_GENES.LOG \u4e0a\u8ff0\u53ea\u662f\u67e5\u770b\u4e86chr1,\u6839\u636e\u5b9e\u9645\u67d3\u8272\u4f53\u6570\u91cf\uff0c\u5206\u522b\u67e5\u770b\u3002sift\u6570\u636e\u5e94\u5728\u7b2c10-12\u5217\u4e2d\uff0c\u5982\u679c\u6709\u5f88\u591a\u662f NA \uff0c\u5219\u53ef\u80fd\u6709\u95ee\u9898\u3002 \u6ce8\u610f\uff1a\u53ea\u6709cds\u6709\u9884\u6d4b\u7684\u503c\uff0c5\u2019-UTR\u548c3\u2018-UTR\u90fd\u662fNA,\u8fd9\u662f\u6b63\u5e38\u7684\u3002 check_genes.log \u6587\u4ef6\u6700\u540e\u4e00\u884c\u5e94\u8be5\u603b\u7ed3\u4e86\u6574\u4e2a\u57fa\u56e0\u7ec4\u7684\u9884\u6d4b\u3002\u5982\u679c\u6700\u540e3\u4e2a\u4e0d\u540c\u5217\u7684\u767e\u5206\u6bd4\u5f88\u9ad8\uff0c\u5219\u6570\u636e\u5e93\u6784\u5efa\u5b8c\u6210\u3002 check_genes.log\u6587\u4ef6\u5206\u4e3a\u5982\u4e0b4\u5217 - Chr - Gene with SIFT scores - Pos with SIFT scores - Pos with Confident Scores 6.\u7528\u6570\u636e\u5e93\u6ce8\u91cavcf\u6587\u4ef6 6.1\u4e0b\u8f7d SIFT4G_Annotator.jar\u4e0b\u8f7d\u5730\u5740 6.2 \u8fd0\u884c\u4e4b\u524d\u5148\u5bf9vcf\u6587\u4ef6\u8fdb\u884c\u6392\u5e8f\uff08\uff01VCF\u6587\u4ef6\u5fc5\u987b\u6309\u67d3\u8272\u4f53\u548c\u4f4d\u7f6e\u6392\u5e8f\u624d\u80fd\u6b63\u786e\u6ce8\u91ca\u3002\uff09 \u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u8f93\u51fa\u7684vcf\u90fd\u662f\u6309\u7167\u67d3\u8272\u4f53\u7684\u987a\u5e8f\u6392\u597d\u7684\u3002 6.3 \u8fd0\u884c\u7a0b\u5e8f\uff0c\u8fdb\u884c\u6ce8\u91ca \u8fd0\u884c\u4e4b\u524d\uff0c\u5148\u89e3\u538b\u81ea\u5df1\u6784\u5efa\u6216\u8005\u4ecesift4g\u4e0b\u8f7d\u7684\u5bf9\u5e94\u7684\u57fa\u56e0\u7ec4\u7248\u672c\u7684\u6570\u636e\u5e93\u6587\u4ef6\u3002\u5982\u679csift4g\u6570\u636e\u5e93\u7684\u7269\u79cd\u53c2\u8003\u57fa\u56e0\u7ec4\u7248\u672c\u548c\u4f60\u7528\u7684\u4e0d\u4e00\u81f4\u3002\u4f7f\u7528picard\u6216GATK\u5176\u4ed6\u57fa\u56e0\u7ec4\u7248\u672c\u8f6c\u6362\u5de5\u5177\u628a\u4f60\u7684\u53d8\u5f02\u6587\u4ef6\u8f6c\u6362\u5230\u6570\u636e\u5e93\u7684\u57fa\u56e0\u7ec4\u7248\u672c\u3002\u8f6c\u6362\u9700\u8981\u4e00\u4e2achain\u6587\u4ef6\u3002 \u6216\u8005\u6309\u7167\u4e0a\u8ff0\u6587\u4ef6\uff0c\u81ea\u884c\u6784\u5efa\u8be5\u7248\u672c\u7684\u6570\u636e\u5e93\u3002 java -Xmx128G -jar SIFT4G_Annotator.jar -c -i < \u8f93\u5165vcf\u6587\u4ef6\u7684\u8def\u5f84 > -d < SIFT4G\u6570\u636e\u5e93\u76ee\u5f55\u7684\u8def\u5f84 > -r < \u7ed3\u679c\u6587\u4ef6\u5939\u7684\u8def\u5f84 > -t \u53c2\u6570\u8bf4\u660e\uff1a -t To extract annotations for multiple transcripts (Optional)\u53ef\u9009\u53c2\u6570 7.sift4g\u7ed3\u679c\u7684\u53ef\u89c6\u5316 \u57fa\u56e0\u7ec4\u53ef\u89c6\u5316\u5de5\u5177\u5f88\u591a \u57fa\u4e8eR\u8bed\u8a00\u7684\u4e5f\u6709\u5f88\u591a CMplot\u6216\u8005ggplot\u6216\u8005ChromHeatMap\uff0c\u5f53\u7136\u53ef\u4ee5\u753b\u5708\u56fe\u4e86\u3002 \u53ef\u89c6\u5316\u53c2\u8003\u5168\u57fa\u56e0\u7ec4\u7684reads\u8986\u76d6 CMplot\u5305\u7684\u4f7f\u7528 cat 94_chr.snp_SIFTannotations.xls||grep DELETERIOUS|grep -v Mt|awk '{print $6\"\\t\"$1\"\\t\"$2}' >94_chr.badSNP.tab R\u8bed\u8a00\u91ccCMplot\u53ef\u89c6\u5316 rm(list=ls()) setwd(\"~/cotton/\") install.packages(\"CMplot\") library(CMplot) #V3.6.2 mydata<-read.table(\"94_chr.badSNP.tab\",header=FALSE) names(mydata) <- c(\"snp\",\"chr\",\"pos\") head(mydata) # snp chr pos # snp1_1 1 2041 # snp1_2 1 2062 # snp1_3 1 2190 #\u53ef\u4ee5\u81ea\u884c\u4fee\u6539window size\u9ed8\u8ba4\u7684\u662f1e6\u53731MB. CMplot(mydata,plot.type=\"d\",bin.size=1e6,col=c(\"darkgreen\",\"yellow\", \"red\"),file=\"jpg\",memo=\"snp_density\",dpi=300) ##\u56fe\u7247\u4f1a\u76f4\u63a5\u8f93\u51fa\u5230\u5de5\u4f5c\u76ee\u5f55\uff0c\u6ce8\u610f\u4fdd\u5b58\u91cd\u547d\u540d \u62a5\u9519\u4fe1\u606f\u8bf7\u5230\u5b98\u65b9 github \u67e5\u770b\u89e3\u51b3\u65b9\u6848 \u6ce8\u610f\u67e5\u770b all_prot.fasta \uff0c\u8fd9\u4e2a\u6587\u4ef6\u3002 \u8fd0\u884c\u8fd9\u884c\u547d\u4ee4 cat all_prot.fasta|grep \">\" |sort|uniq -d \uff0c\u5982\u679c\u6709\u884c\u8f93\u51fa \uff0c\u8bf4\u660e\u4f60\u7684all_prot.fasta\u91cc\u9762\u6709\u91cd\u590d\u7684\u884c\uff0c\u5c31\u662f\u663e\u793a\u7684\u8fd9\u4e9b\u884c\u3002 \u5982\u679c\u9700\u8981\u91cd\u65b0\u8fd0\u884c\uff0c\u4e00\u5b9a\u8981\u5220\u9664all_prot.fasta\u8fd9\u4e2a\u6587\u4ef6\u3002 \u62a5\u9519\u4fe1\u606f\u5904\u7406 \u6211\u7b2c\u4e00\u6b21\u4f7f\u7528\u7684\u662f\u538b\u7f29\u7684protein\u6587\u4ef6\uff0c\u7ed3\u679c\u62a5\u9519\u3002 /mnt/e/sift4g/sift4g/bin/sift4g -d /mnt/e/sift4g/sift4g_Create/test_files/Gossypium_hirsutum/gene-annotation-src/GossypiumHirsutum_ASM98774v1_protein.fa -q /mnt/e/sift4g/sift4g_Create/test_files/Gossypium_hirsutum/all_prot.fasta --subst /mnt/e/sift4g/sift4g_Create/test_files/Gossypium_hirsutum/subst --out /mnt/e/sift4g/sift4g_Create/test_files/Gossypium_hirsutum/SIFT_predictions --sub-results ** Checking query data and substitutions files ** * processing queries: 100.00/100.00% * ** Searching database for candidate sequences ** [ERROR:src/chain.c:101]: chain is empty after encoding, see scorerEncode function \u4e0a\u8ff0\u62a5\u9519\u4e4b\u540e\uff0c\u9700\u8981\u4fee\u6539\u6700\u5f00\u59cb\u8fd0\u884c\u7684perl\u811a\u672c\u4e4b\u540e\uff0c\u91cd\u65b0\u8fd0\u884c\u3002\u4ece\u524d\u9762\u8fd0\u884c\u5230\u6b64\u5904\uff0c\u5df2\u7ecf\u8fd0\u884c4*24h\u3002 \u4fee\u6539 make-SIFT-db-all.pl \u8fd9\u4e2a\u6587\u4ef6\u540e\uff0c\u7ee7\u7eed\u8fd0\u884c\u811a\u672c\u3002 \u62a5\u9519 python \u6587\u4ef6\u65e0\u6cd5\u627e\u5230\uff0c\u539f\u56e0\u662f\u672c\u673a\u6ca1\u6709\u914d\u7f6epythonpath. \u6ce8\u610f\uff1a\u8fd9\u4e2a\u811a\u672c\u91cc\uff0c\u7528\u52303\u4e2apython\u811a\u672c\u6587\u4ef6\uff0c\u5efa\u8bae\u4fee\u6539\u672c\u673a\u7684pythonpath\u4e3apython2. \u5982\u679c\u4f60\u9ed8\u8ba4\u7684python\u662fpython3\uff0c\u4e5f\u53ef\u4ee5\u76f4\u63a5\u53bb\u4fee\u6539\u8c03\u7528python\u547d\u4ee4\u7684\u5730\u65b9\uff0c\u4fee\u6539 python \u4e3a python2 ,\u81f3\u5c11\u8981\u4fee\u65392\u4e2a\u6587\u4ef6perl\u6587\u4ef6\u7684python\u8c03\u7528\u3002 \u5176\u4e2d\u4e00\u5904\u662f\uff1a make-SIFT-db-all.pl \u7684137\u884c\u7684 python \u4fee\u6539\u4e3a python2 , make-sift-scores-db-batch.pl \u768465\u884c\u7684 python \u4fee\u6539\u4e3a python2 \u62a5\u9519 \u539f\u56e0\u662fgcc\u7248\u672c\u4f4e\u4e8e4.9\uff0c\u8981\u6c42\u662fgcc 4.9+ /share/softwares/sift4g/sift4g/bin/sift4g: /lib64/libstdc++.so.6: version `CXXABI_1.3.8' not found (required by /share/softwares/sift4g/sift4g/bin/sift4g) /share/softwares/sift4g/sift4g/bin/sift4g: /lib64/libstdc++.so.6: version `GLIBCXX_3.4.21' not found (required by /share/softwares/sift4g/sift4g/bin/sift4g) \u89e3\u51b3\u529e\u6cd5\uff0c\u91cd\u65b0\u5b89\u88c5gcc8.3.0 \u4ece\u955c\u50cf\u4e0b\u8f7d https://mirrors.aliyun.com/gnu/gcc/gcc-8.3.0/ \uff0c \u5e76\u66f4\u65b0\u52a8\u6001\u5e93\u3002\u5b89\u88c5gcc8.3.0\u8bf7\u4e25\u683c\u6309\u7167 \u6b64\u94fe\u63a5 \u6267\u884c\u3002\u5b89\u88c5\u65f6\u95f4\u53ef\u80fd\u9700\u8981\u51e0\u4e2a\u5c0f\u65f6\uff0c\u5185\u5b58\u4f4e\u4e8e128g\u7684\u614e\u91cd\u5b89\u88c5\u3002 \u5185\u5b58\u4e0d\u8db3\uff0c\u8fd8\u662f\u5b89\u88c5\u4f4e\u7248\u672c\u7684\u5427\u3002https://mirrors.aliyun.com/gnu/gcc/gcc-5.5.0/\uff0c\u5b89\u88c5\u4e0a\u8ff0\u94fe\u63a5\uff0c\u5b89\u88c5\u4f9d\u8d56\uff0c\u4e4b\u540e\u5b89\u88c5\u4f4e\u7248\u672cgcc5.5.0 tar -zxvf gcc-8.3.0.tar.gz #\u4f9d\u8d56\u592a\u591a,\u7528conda,\u6216\u8005\u81ea\u5df1\u4e0b\u8f7d\u4e5f\u884c conda install gcc cd gcc-8.3.0 ./configure --disable-multilib --enable-languages=c,c++ --prefix=$HOME/local make -j5 make -j install \u4fee\u6539\u73af\u5883\u53d8\u91cf export LD_LIBRARY_PATH=$HOME/local/lib64` export PATH= /home/username/myinstall/gcc-4.8/bin: /home/username/myinstall/gcc-4.8/lib64$PATH export LD_LIBRARY_PATH= /home/username/myinstall/gcc-4.8/lib64: /home/username/myinstall/gcc-4.8/lib$LD_LIBRARY_PATH \u62a5\u9519\u4fe1\u606f\u6c47\u603b\uff0c\u5728redhat\u4e0a\u9047\u5230\u7684\uff0c\u7a0b\u5e8f\u4e00\u76f4\u6267\u884c\u4e0d\u62a5\u9519\uff0c\u4f46\u662f\u5e76\u6ca1\u6709\u751f\u6210Gh.V1\u7684\u6570\u636e\u5e93\u3002 \u8f93\u51fa\u7684\u4fe1\u606f\u5982\u4e0b\uff1a start siftsharp, getting the alignments /share/softwares/sift4g/sift4g/bin/sift4g -d /share/softwares/sift4g/scripts_to_build_SIFT_db/test_files/Gossypium_hirsutum/gene-annotation-src/Gossypium_hirsutum.protein.fasta -q /share/softwares/sift4g/scripts_to_build_SIFT_db/test_files/Gossypium_hirsutum/all_prot.fasta --subst /share/softwares/sift4g/scripts_to_build_SIFT_db/test_files/Gossypium_hirsutum/subst --out /share/softwares/sift4g/scripts_to_build_SIFT_db/test_files/Gossypium_hirsutum/SIFT_predictions --sub-results \u8fd9\u4e00\u6b65\u6bd4\u8f83\u8017\u65f6\uff0c\u8bf7\u8010\u5fc3\u7b49\u5f85\u3002\u5728 /share/softwares/sift4g/scripts_to_build_SIFT_db/test_files/Gossypium_hirsutum/SIFT_predictions \u76ee\u5f55\u91cc\u5e94\u8be5\u6709\u9884\u6d4b\u7684\u53d8\u5f02\u662f\u53ef\u63a5\u53d7\u6216\u6709\u5bb3\u7684\u6587\u4ef6\u3002\u5982\u679c\u6ca1\u6709\uff0c\u8bf7\u68c0\u67e5\u4f60\u7684gtf\u6587\u4ef6\u683c\u5f0f\u662f\u5426\u6b63\u786e\u3002 \u5982\u679c\u4f60\u751f\u6210 \u4f5c\u8005\u7684\u811a\u672c\u6838\u5fc3\u662f\uff1aperl+python+shell\u4e09\u79cd\u811a\u672c\u8bed\u8a00\u6df7\u5408\u4f7f\u7528\u3002 \u5feb\u901f\u67e5\u8be2perl\u6587\u4ef6\u4e2d\u5305\u542b python \u7684\u884c\u7684\u65b9\u6cd5 egrep python *.pl \u5173\u4e8eGCC\u7684\u5b89\u88c5\uff0c\u5f3a\u529b\u5efa\u8baeroot\u5b89\u88c5\uff0c\u56e0\u4e3a\u76ee\u524d\u4e3a\u6b62\uff0c\u5404\u79cd\u65b9\u6cd5\u90fd\u8bd5\u8fc7\u4e86\u3002\u4f46\u662f\u5b89\u88c5\u7684\u5e76\u4e0d\u6210\u529f\u3002\u8bf7\u53c2\u8003\u6b64 \u5730\u5740 \u4e0b\u8f7d\u5b89\u88c5gcc 9.3.0 \u5982\u679c\u4f60\u7684sift4g\u62a5\u9519\u662f sift4g: /lib64/libstdc++.so.6: version `CXXABI_1.3.8' not found (required by sift4g) sift4g: /lib64/libstdc++.so.6: version `GLIBCXX_3.4.21' not found (required by sift4g) \u8bf7\u4f7f\u7528 find / -name \"libstdc++.so.6\" \u627e\u51fa\u4f60\u7cfb\u7edf\u4e2d\u6700\u65b0\u7248\u672c\u7684\u8def\u5f84\uff0c\u5c31\u662f\u4e0b\u9762\u4e24\u884c\u547d\u4ee4\u524d\u9762\u7684\u8def\u5f84\uff0c\u540e\u9762\u7684\u8def\u5f84\u662f\u5bf9\u5e94\u4e0a\u9762\u62a5\u9519\u7684\u8def\u5f84\u3002 gcc\u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u4e00\u5b9a\u8981\u505a\u4e0b\u9762\u7684\u64cd\u4f5c cp /share/soft/ohpc/pub/compiler/gcc/8.3.0/lib64/libstdc++.so.6 /lib64/ ln -s /share/soft/ohpc/pub/compiler/gcc/8.3.0/lib64/libstdc++.so.6.0.25 /lib64/libstdc++.so.6.0.25 ```","title":"SIFT4G \u9884\u6d4b\u6c28\u57fa\u9178\u53d6\u4ee3\u662f\u5426\u4f1a\u5f71\u54cd\u86cb\u767d\u8d28\u529f\u80fd"},{"location":"BSA/SIFT4G-%E9%A2%84%E6%B5%8B%E6%B0%A8%E5%9F%BA%E9%85%B8%E5%8F%96%E4%BB%A3%E6%98%AF%E5%90%A6%E4%BC%9A%E5%BD%B1%E5%93%8D%E8%9B%8B%E7%99%BD%E8%B4%A8%E5%8A%9F%E8%83%BD/#sift","text":"","title":"\u81ea\u5df1\u5236\u4f5cSIFT\u6570\u636e\u5e93"},{"location":"BSA/SIFT4G-%E9%A2%84%E6%B5%8B%E6%B0%A8%E5%9F%BA%E9%85%B8%E5%8F%96%E4%BB%A3%E6%98%AF%E5%90%A6%E4%BC%9A%E5%BD%B1%E5%93%8D%E8%9B%8B%E7%99%BD%E8%B4%A8%E5%8A%9F%E8%83%BD/#sift4g","text":"","title":"sift4g\u72ec\u7acb\u6784\u5efa\u57fa\u56e0\u7ec4\uff0c\u5b89\u88c5\u8fc7\u7a0b"},{"location":"BSA/SIFT4G-%E9%A2%84%E6%B5%8B%E6%B0%A8%E5%9F%BA%E9%85%B8%E5%8F%96%E4%BB%A3%E6%98%AF%E5%90%A6%E4%BC%9A%E5%BD%B1%E5%93%8D%E8%9B%8B%E7%99%BD%E8%B4%A8%E5%8A%9F%E8%83%BD/#root","text":"1.\u68c0\u67e5\u662f\u5426\u5b89\u88c5perl(linux\u81ea\u5e26\u7684\u6709) perl -Version 2.\u4e0b\u8f7d\u5b89\u88c5DBI wget -C http://www.cpan.org/modules/by-module/DBD/DBI-1.643.tar.gz tar -zxvf DBI-1.643.tar.gz cd DBI-1.643 perl Makefile.PL make make test make install 3.\u5b89\u88c5LWP perl -MCPAN -e \"install Bundle::LWP\" perl -MCPAN -e \"install HTML::Formatter\" perl -MCPAN -e \"install IO::Socket::SSL and OpenSSL\" 4.\u5b89\u88c5bioperl wget https://cpan.metacpan.org/authors/id/C/CJ/CJFIELDS/BioPerl-1.7.7.tar.gz tar -zxvf BioPerl-1.7.7.tar.gz cd BioPerl-1.7.7 perl Makefile.PL make make test make install 5.\u5b89\u88c5Switch.pm sudo apt-get install libswitch-perl 6.\u5b89\u88c5SIFT4G git clone --recursive https://github.com/rvaser/sift4g.git sift4g cd sift4g make 6.1. sift4g\u4f9d\u8d56\u9879\u5b89\u88c5 g++(4.9+) GNU Make nvcc(2.*+)(optional) \u5b89\u88c5g++\u548cmake apt-get install g++ apt-get install make","title":"root\u6743\u9650\u4e0b\u7684\u64cd\u4f5c\u65b9\u6cd5"},{"location":"BSA/SIFT4G-%E9%A2%84%E6%B5%8B%E6%B0%A8%E5%9F%BA%E9%85%B8%E5%8F%96%E4%BB%A3%E6%98%AF%E5%90%A6%E4%BC%9A%E5%BD%B1%E5%93%8D%E8%9B%8B%E7%99%BD%E8%B4%A8%E5%8A%9F%E8%83%BD/#root_1","text":"#conda\u5b89\u88c5\u6700\u65b0\u7248\u7684gcc conda install gcc_impl_linux-64 #conda\u5b89\u88c5g++ 1.\u4e0b\u8f7d\u6e90\u6587\u4ef6 [DBI]http://www.cpan.org/modules/by-module/DBD/DBI-1.643.tar.gz [LWP]https://cpan.metacpan.org/authors/id/O/OA/OALDERS/libwww-perl-6.47.tar.gz [BIoPerl]https://cpan.metacpan.org/authors/id/C/CJ/CJFIELDS/BioPerl-1.7.7.tar.gz 2.perl\u7684\u5305\u5728make\u524d\u8981\u8bbe\u7f6eprefix #\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\u4e3a~/perl5 tar -zxvf DBI-1.643.tar.gz cd DBI-1.643 perl Makefile.PL PREFIX=~/perl5 make make test make install echo 'export PERL5LIB=\"$HOME/perl5/:$PERL5LIB\" '>>~/.bashrc \u5176\u4ed6\u5305\u4e5f\u91c7\u7528\u4e0a\u8ff0\u65b9\u6cd5\u5b89\u88c5\uff0c\u6216\u8005\u91c7\u7528 \u5176\u4ed6\u65b9\u6cd5\u5b89\u88c5 \u3002 \u4e0a\u8ff0\u8f6f\u4ef6\u5728\u5b89\u88c5\u8fc7\u7a0b\u4e2d\uff0cbioperl\u7684\u68c0\u67e5 make test \u53ef\u80fd\u65e0\u6cd5\u901a\u8fc7.\u4f46\u662f\u4e0d\u5f71\u54cd\u540e\u7eed\u5b89\u88c5\u548c\u4f7f\u7528\u3002","title":"\u975eroot\u7528\u6237\u7684\u64cd\u4f5c\u65b9\u6cd5"},{"location":"BSA/SIFT4G-%E9%A2%84%E6%B5%8B%E6%B0%A8%E5%9F%BA%E9%85%B8%E5%8F%96%E4%BB%A3%E6%98%AF%E5%90%A6%E4%BC%9A%E5%BD%B1%E5%93%8D%E8%9B%8B%E7%99%BD%E8%B4%A8%E5%8A%9F%E8%83%BD/#github","text":"","title":"\u5f00\u59cb\u6784\u5efa\u9646\u5730\u68c9\u7684\u6570\u636e\u5e93\u53c2\u8003\u5b98\u65b9github"},{"location":"BSA/SIFT4G-%E9%A2%84%E6%B5%8B%E6%B0%A8%E5%9F%BA%E9%85%B8%E5%8F%96%E4%BB%A3%E6%98%AF%E5%90%A6%E4%BC%9A%E5%BD%B1%E5%93%8D%E8%9B%8B%E7%99%BD%E8%B4%A8%E5%8A%9F%E8%83%BD/#1","text":"genome\u57fa\u56e0\u7ec4\u3001gtf\u6ce8\u91ca\u6216\u8005gff3\u6ce8\u91ca\u3001\uff08protein\u548cdbSNP\u53ef\u9009\u6587\u4ef6\uff09 NCBI\u6216\u8005ensemble\u90fd\u53ef\u4ee5\u4e0b\u8f7d\u76f8\u5173\u4fe1\u606f","title":"1.\u5148\u51c6\u5907\u76f8\u5173\u7684\u6587\u4ef6"},{"location":"BSA/SIFT4G-%E9%A2%84%E6%B5%8B%E6%B0%A8%E5%9F%BA%E9%85%B8%E5%8F%96%E4%BB%A3%E6%98%AF%E5%90%A6%E4%BC%9A%E5%BD%B1%E5%93%8D%E8%9B%8B%E7%99%BD%E8%B4%A8%E5%8A%9F%E8%83%BD/#2","text":"cd test_files cp homo_sapiens-test.txt Gossypium_hirsutum_config.txt mkdir Gossypium_hirsutum mkdir Gossypium_hirsutum/gene-annotation-src mkdir Gossypium_hirsutum/chr-src mkdir Gossypium_hirsutum/dbSNP mv Gossypium_hirsutum.fa.gz Gossypium_hirsutum/chr-src mv Gossypium_hirsutum.gtf.gz Gossypium_hirsutum/gene-annotation-src mv Gossypium_hirsutum.protein.fa Gossypium_hirsutum/gene-annotation-src","title":"2.\u521b\u5efa\u6587\u4ef6\u5939\uff0c\u79fb\u52a8\u4e0a\u8ff0\u6587\u4ef6\u5230\u5bf9\u5e94\u7684\u76ee\u5f55"},{"location":"BSA/SIFT4G-%E9%A2%84%E6%B5%8B%E6%B0%A8%E5%9F%BA%E9%85%B8%E5%8F%96%E4%BB%A3%E6%98%AF%E5%90%A6%E4%BC%9A%E5%BD%B1%E5%93%8D%E8%9B%8B%E7%99%BD%E8%B4%A8%E5%8A%9F%E8%83%BD/#fafasta","text":"","title":"\u7279\u522b\u63d0\u793a\uff0c\u86cb\u767d\u8d28\u6587\u4ef6\u4e00\u5b9a\u8981\u89e3\u538b\u7f29\u4e3afa\u6216\u8005fasta\u683c\u5f0f\uff0c\u5982\u679c\u662f\u538b\u7f29\u6587\u4ef6\u76f4\u63a5\u8fd0\u884c\uff0c\u540e\u7eed\u4f1a\u62a5\u9519\u3002"},{"location":"BSA/SIFT4G-%E9%A2%84%E6%B5%8B%E6%B0%A8%E5%9F%BA%E9%85%B8%E5%8F%96%E4%BB%A3%E6%98%AF%E5%90%A6%E4%BC%9A%E5%BD%B1%E5%93%8D%E8%9B%8B%E7%99%BD%E8%B4%A8%E5%8A%9F%E8%83%BD/#gunzip-gossypium_hirsutumproteinfagz","text":"","title":"gunzip Gossypium_hirsutum.protein.fa.gz"},{"location":"BSA/SIFT4G-%E9%A2%84%E6%B5%8B%E6%B0%A8%E5%9F%BA%E9%85%B8%E5%8F%96%E4%BB%A3%E6%98%AF%E5%90%A6%E4%BC%9A%E5%BD%B1%E5%93%8D%E8%9B%8B%E7%99%BD%E8%B4%A8%E5%8A%9F%E8%83%BD/#3gossypium_hirsutum_configtxt","text":"\u8bbe\u7f6e PARENT_DIR=/mnt/e/sift4g/sift4g_Create/test_files/Gossypium_hirsutum ORG=Gossypium_hirsutum_sapiens ORG_VERSION=Gh.V1 SIFT4G_PATH=/mnt/e/sift4g/sift4g/bin/sift4g PROTEIN_DB=/mnt/e/sift4g/sift4g_Create/test_files/Gossypium_hirsutum/gene-annotation-src/Gossypium_hirsutum.protein.fa \u68c0\u67e5GENETIC_CODE_TABLE\u548cMITO_GENETIC_CODE_TABLE\u662f\u5426\u6b63\u786e\u8bbe\u7f6e\u3002 \u53ef\u9009\u8bbe\u7f6e\uff1a","title":"3.\u4fee\u6539Gossypium_hirsutum_config.txt\u7684\u914d\u7f6e\u6587\u4ef6\u91cc\u9762\u7684\u8def\u5f84\u3002"},{"location":"BSA/SIFT4G-%E9%A2%84%E6%B5%8B%E6%B0%A8%E5%9F%BA%E9%85%B8%E5%8F%96%E4%BB%A3%E6%98%AF%E5%90%A6%E4%BC%9A%E5%BD%B1%E5%93%8D%E8%9B%8B%E7%99%BD%E8%B4%A8%E5%8A%9F%E8%83%BD/#dbsnp","text":"# DBSNP_VCF_FILE=Homo_sapiens.vcf.gz","title":"\u5982\u679c\u6ca1\u6709dbSNP\u6587\u4ef6\uff0c\u76f4\u63a5\u5728\u6587\u4ef6\u4e2d\u8fd9\u4e00\u884c\u524d\u9762\u52a0\u4e0a#\u5373\u53ef\u3002"},{"location":"BSA/SIFT4G-%E9%A2%84%E6%B5%8B%E6%B0%A8%E5%9F%BA%E9%85%B8%E5%8F%96%E4%BB%A3%E6%98%AF%E5%90%A6%E4%BC%9A%E5%BD%B1%E5%93%8D%E8%9B%8B%E7%99%BD%E8%B4%A8%E5%8A%9F%E8%83%BD/#_1","text":"\u7edd\u5bf9\u8def\u5f84\u683c\u5f0f /mnt/e/sift4g/genome.fa.gz","title":"\u4e0a\u9762\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u65f6\uff0c\u91cc\u9762\u7684\u8def\u5f84\u4e00\u5b9a\u8981\u5199\u5b8c\u6574\u7684\u7edd\u5bf9\u8def\u5f84\u3002\u4e0d\u8981\u4f7f\u7528\u76f8\u5bf9\u8def\u5f84\uff0c\u4e0d\u7136\u7a0b\u5e8f\u4f1a\u627e\u4e0d\u5230\u6587\u4ef6\u5730\u5740\u3002"},{"location":"BSA/SIFT4G-%E9%A2%84%E6%B5%8B%E6%B0%A8%E5%9F%BA%E9%85%B8%E5%8F%96%E4%BB%A3%E6%98%AF%E5%90%A6%E4%BC%9A%E5%BD%B1%E5%93%8D%E8%9B%8B%E7%99%BD%E8%B4%A8%E5%8A%9F%E8%83%BD/#gtfgffgffreadgtf9gene_biotype","text":"#\u68c0\u6d4bgff3\u6587\u4ef6\u4e2d\u7b2c9\u5217\u5305\u542b\u7684\u4fe1\u606f awk 'BEGIN{FS=OFS=\"\\t\"} $3==\"gene\"{split($9, a, \";\"); for(i in a){split(a[i], b, \"=\"); if(++c[b[1]]==1) print b[1]}}' Gossypium_hirsutum.gene.gff3 \u4e0a\u8ff0\u547d\u4ee4\u4f1a\u8f93\u51fa\u4f60\u7684gff3\u6587\u4ef6\u7684\u7b2c9\u5217\u91cc\u5305\u542b\u7684 gffread\u4e0b\u8f7d\u5b89\u88c5 - gffread-0.12.2\u9884\u7f16\u8bd1\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6 - gffread-0.12.2\u6e90\u7801 \u5982\u679c\u4e0b\u8f7d\u4e8c\u8fdb\u5236\uff0c\u53ef\u4ee5\u76f4\u63a5\u89e3\u538b\u4f7f\u7528\u3002 \u5982\u679c\u4e0b\u8f7d\u6e90\u7801\uff0c\u672c\u5730\u7f16\u8bd1\uff0c\u5b89\u88c5\u5373\u53ef\u3002 \u6216\u8005 - github\u5b89\u88c5\u4e5f\u53ef\u4ee5 git clone https://github.com/gpertea/gffread cd gffread make release \u4e09\u9009\u4e00\u5373\u53ef\uff0c\u5b89\u88c5\u5b8c\u6210gffread\u3002","title":"\u5982\u679c\u6ca1\u6709gtf\u6587\u4ef6\uff0c\u6709gff\u6587\u4ef6\uff0c\u4f7f\u7528gffread\u5de5\u5177\u8f6c\u6362\u5373\u53ef\u3002\u8bf7\u4e00\u5b9a\u8981\u786e\u8ba4\u4f60\u6700\u7ec8\u7684gtf\u6587\u4ef6\u7684\u7b2c9\u5217\u5305\u542bgene_biotype\u4fe1\u606f\uff0c\u4e0d\u7136\u751f\u6210\u7684\u6570\u636e\u5e93\u65e0\u6cd5\u4f7f\u7528\u3002"},{"location":"BSA/SIFT4G-%E9%A2%84%E6%B5%8B%E6%B0%A8%E5%9F%BA%E9%85%B8%E5%8F%96%E4%BB%A3%E6%98%AF%E5%90%A6%E4%BC%9A%E5%BD%B1%E5%93%8D%E8%9B%8B%E7%99%BD%E8%B4%A8%E5%8A%9F%E8%83%BD/#gffgtf","text":"gunzip Gossypium_hirsutum.gff.gz gffread Gossypium_hirsutum.gff -T -o Gossypium_hirsutum.gtf gzip Gossypium_hirsutum.gtf","title":"\u5c06gff\u8f6c\u6362\u4e3agtf"},{"location":"BSA/SIFT4G-%E9%A2%84%E6%B5%8B%E6%B0%A8%E5%9F%BA%E9%85%B8%E5%8F%96%E4%BB%A3%E6%98%AF%E5%90%A6%E4%BC%9A%E5%BD%B1%E5%93%8D%E8%9B%8B%E7%99%BD%E8%B4%A8%E5%8A%9F%E8%83%BD/#4-sift4grootubuntu","text":"perl make-SIFT-db-all.pl -config ./test_files/Gossypium_hirsutum_config.txt \u6784\u5efa\u8fc7\u7a0b\u53ef\u80fd\u9700\u89811-24h,\u5f53\u663e\u793a All done! \u5373\u4ee3\u8868\u6784\u5efa\u5b8c\u6210\u3002\uff08\u4e2a\u4eba\u7535\u8111i9\u7684\u8dd1\u4e868\u59298\u591c\uff09","title":"4. \u751f\u6210\u672c\u5730sift4g\u6570\u636e\u5e93\uff08\u63a8\u8350\u4f7f\u7528\u6709root\u6743\u9650\u7684Ubuntu\uff09"},{"location":"BSA/SIFT4G-%E9%A2%84%E6%B5%8B%E6%B0%A8%E5%9F%BA%E9%85%B8%E5%8F%96%E4%BB%A3%E6%98%AF%E5%90%A6%E4%BC%9A%E5%BD%B1%E5%93%8D%E8%9B%8B%E7%99%BD%E8%B4%A8%E5%8A%9F%E8%83%BD/#sift4gsift4g8","text":"","title":"\u7ecf\u8fc7\u5206\u6790\u53d1\u73b0\uff0c\u5176\u4e2d\u4f7f\u7528sift4g\u7684\u8fd9\u4e00\u6b65\u53ef\u4ee5\u4f18\u5316\uff0csift4g\u652f\u6301\u591a\u7ebf\u7a0b\uff0c\u9ed8\u8ba4\u662f8\u4e2a\uff0c\u53ef\u4ee5\u624b\u52a8\u589e\u52a0\u8fdb\u7a0b\u6570\u91cf\u5230\u4f60\u7684\u786c\u4ef6\u53ef\u4ee5\u627f\u53d7\u7684\u8303\u56f4\uff0c\u4ee5\u52a0\u5feb\u5206\u6790\u901f\u5ea6\u3002"},{"location":"BSA/SIFT4G-%E9%A2%84%E6%B5%8B%E6%B0%A8%E5%9F%BA%E9%85%B8%E5%8F%96%E4%BB%A3%E6%98%AF%E5%90%A6%E4%BC%9A%E5%BD%B1%E5%93%8D%E8%9B%8B%E7%99%BD%E8%B4%A8%E5%8A%9F%E8%83%BD/#make-sift-db-allpl109-d-t-969610924cpu96","text":"my $sift4g_command = $meta_hash{\"SIFT4G_PATH\"} . \" -t 96 -d \" . $meta_hash{\"PROTEIN_DB\"} . \" -q \" . $meta_hash{\"PARENT_DIR\"} . \"/all_prot.fasta --subst \" . $meta_hash{\"PARENT_DIR\"} . \"/\" . $meta_hash{\"SUBST_DIR\"} . \" --out \" . $met a_hash{\"PARENT_DIR\"} . \"/\" . $meta_hash{\"SIFT_SCORE_DIR\"} . \" --sub-results \" ; print $sift4g_command . \"\\n\"; #`$siftsharp_command`; `$sift4g_command`;","title":"\u4fee\u6539make-SIFT-db-all.pl\u7684\u7b2c109\u884c\u5185\u5bb9\u4e2d\uff0c\u201c -d \u201d\u524d\u9762\u6dfb\u52a0\u4e0a-t 96.96\u662f\u4f60\u6307\u5b9a\u7684\u8fdb\u7a0b\u6570\u3002109\u884c\u4fee\u6539\u540e\u5982\u4e0b\u6240\u793a\u3002\u672c\u4eba\u4eb2\u6d4b\u572824\u4e2acpu\u4e0a\u8fd0\u884c96\u4e2a\u8fdb\u7a0b\uff0c\u5b8c\u5168\u6b63\u5e38\u3002"},{"location":"BSA/SIFT4G-%E9%A2%84%E6%B5%8B%E6%B0%A8%E5%9F%BA%E9%85%B8%E5%8F%96%E4%BB%A3%E6%98%AF%E5%90%A6%E4%BC%9A%E5%BD%B1%E5%93%8D%E8%9B%8B%E7%99%BD%E8%B4%A8%E5%8A%9F%E8%83%BD/#109-114109make-sift-db-allpl","text":"","title":"\u5982\u679c\u4f60\u7814\u7a76\u7684\u7269\u79cd\u57fa\u56e0\u7ec4\u975e\u5e38\u5927\uff0c\u53ef\u4ee5\u624b\u52a8\u8fd0\u884c\u7b2c109\u884c-114\u884c\u547d\u4ee4\u8fd9\u4e00\u6b65\u3002\u624b\u52a8\u8fd0\u884c\u5b8c\u6210\u540e\uff0c\u628a\u8fd9\u6bb5\u4ee3\u7801\u548c109\u884c\u4e4b\u524d\u7684\u547d\u4ee4\u4f7f\u7528#\u6ce8\u91ca\u6389\uff0c\u7ee7\u7eed\u8fd0\u884cmake-SIFT-db-all.pl\u5c31\u53ef\u4ee5\u6b63\u5e38\u540e\u7eed\u5206\u6790\u4e86\u3002"},{"location":"BSA/SIFT4G-%E9%A2%84%E6%B5%8B%E6%B0%A8%E5%9F%BA%E9%85%B8%E5%8F%96%E4%BB%A3%E6%98%AF%E5%90%A6%E4%BC%9A%E5%BD%B1%E5%93%8D%E8%9B%8B%E7%99%BD%E8%B4%A8%E5%8A%9F%E8%83%BD/#109-114","text":"#\u4f7f\u7528conda\u5b89\u88c5sift4g,\u76f8\u4fe1\u6211\u4f7f\u7528conda\u5b89\u88c5\u662f\u6700\u6b63\u786e\u7684\u9009\u62e9\uff0c80%\u7684\u9519\u8bef\u662fsift4g\u6ca1\u6709\u6210\u529f\u5b89\u88c5\u9020\u6210\u7684\uff0c\u5b83\u9700\u8981\u7279\u5b9a\u7684GCC,G++.5%\u7684\u9519\u8bef\u662f\u7b2c\u4e00\u6b65\u6ca1\u6709\u6b63\u786e\u4fee\u6539\u8def\u5f84\u9020\u6210\u7684\u300215%\u7684\u9519\u8bef\u662fgtf\u6587\u4ef6\u683c\u5f0f\u4e0d\u6b63\u786e\u9020\u6210\u7684\u3002 #\u5148\u4f7f\u7528conda\u521b\u5efa\u65b0\u7684\u865a\u62df\u73af\u5883\uff0c\u518d\u8fdb\u5165\u865a\u62df\u73af\u5883 conda activate sift4g conda install sift4g \u5916\u9762\u8fd0\u884csift4g\u7684\u547d\u4ee4 conda activate sift4g sift4g -t 96 -d /share/softwares/sift4g/scripts_to_build_SIFT_db/test_files/Gossypium_hirsutum/gene-annotation-src/Gossypium_hirsutum.protein.fasta -q /share/softwares/sift4g/scripts_to_build_SIFT_db/test_files/Gossypium_hirsutum/all_prot.fasta --subst /share/softwares/sift4g/scripts_to_build_SIFT_db/test_files/Gossypium_hirsutum/subst --out /share/softwares/sift4g/scripts_to_build_SIFT_db/test_files/Gossypium_hirsutum/sift4_predictions --sub-results \u5982\u679c\u4f60\u7684\u57fa\u56e0\u7ec4\u975e\u5e38\u5927\uff0c\u53ef\u4ee5\u5206\u6210\u4e24\u90e8\u5206\u5206\u522b\u8fd0\u7b97\uff0c\u518d\u5408\u6210\u4e00\u5757\u3002 \u5206\u522b\u4eceall_prot.fasta\u63d0\u53d6 \u524d\u9762\u7684n\u6761\u67d3\u8272\u4f53\u548csubst\u6587\u4ef6\u91cc\u5bf9\u5e94\u7684n\u6761\u67d3\u8272\u4f53\u5bf9\u5e94\u7684\u57fa\u56e0\u7684 .subst \u6587\u4ef6\u3002 \u4fee\u6539\u8f93\u51fa\u76ee\u5f55sift4_predictions\u4e3a\u65b0\u7684\u6587\u4ef6\u5939part1_predictions\u3002 \u6700\u540e\u628a\u4e24\u6b21\u8fd0\u884c\u7684--out\u540e\u7684\u8f93\u51fa\u76ee\u5f55part1_predictions,part2_predictions\u91cc\u7684alignments.txt\uff0c\u6309\u7167\u5148\u540e\u987a\u5e8f\u5408\u5e76\u6210\u4e3a\u4e00\u4e2aalignments.txt\u3002\u628apart1_predictions,part2_predictions\u91cc\u6240\u6709\u7684 .fasta\u548c .SIFTprediction\uff0c\u4ee5\u53ca\u5408\u5e76\u540e\u7684alignments.txt\u79fb\u5230sift4_predictions\u91cc\u3002\u6ce8\u91camake-SIFT-db-all.pl\u6587\u4ef6115\u884c\u4e4b\u524d\u7684\u547d\u4ee4\u5168\u90e8\u6ce8\u91ca\uff0c\u6ce8\u610f\u53d8\u91cf\u8981\u4e0d\u80fd\u6ce8\u91ca\u3002\u518d\u6b21\u8fd0\u884c\u4fee\u6539\u540e\u7684make-SIFT-db-all.pl\u5373\u53ef\u3002","title":"\u624b\u52a8\u8fd0\u884c109-114\u884c\u7684\u65b9\u6cd5"},{"location":"BSA/SIFT4G-%E9%A2%84%E6%B5%8B%E6%B0%A8%E5%9F%BA%E9%85%B8%E5%8F%96%E4%BB%A3%E6%98%AF%E5%90%A6%E4%BC%9A%E5%BD%B1%E5%93%8D%E8%9B%8B%E7%99%BD%E8%B4%A8%E5%8A%9F%E8%83%BD/#5","text":"cd Gossypium_hirsutum/Gh.V1 zcat chr1.gz|more zcat chr1.gz|grep CDS|more more CHECK_GENES.LOG \u4e0a\u8ff0\u53ea\u662f\u67e5\u770b\u4e86chr1,\u6839\u636e\u5b9e\u9645\u67d3\u8272\u4f53\u6570\u91cf\uff0c\u5206\u522b\u67e5\u770b\u3002sift\u6570\u636e\u5e94\u5728\u7b2c10-12\u5217\u4e2d\uff0c\u5982\u679c\u6709\u5f88\u591a\u662f NA \uff0c\u5219\u53ef\u80fd\u6709\u95ee\u9898\u3002","title":"5. \u68c0\u67e5\u751f\u6210\u7684\u6570\u636e\u5e93"},{"location":"BSA/SIFT4G-%E9%A2%84%E6%B5%8B%E6%B0%A8%E5%9F%BA%E9%85%B8%E5%8F%96%E4%BB%A3%E6%98%AF%E5%90%A6%E4%BC%9A%E5%BD%B1%E5%93%8D%E8%9B%8B%E7%99%BD%E8%B4%A8%E5%8A%9F%E8%83%BD/#cds5-utr3-utrna","text":"check_genes.log \u6587\u4ef6\u6700\u540e\u4e00\u884c\u5e94\u8be5\u603b\u7ed3\u4e86\u6574\u4e2a\u57fa\u56e0\u7ec4\u7684\u9884\u6d4b\u3002\u5982\u679c\u6700\u540e3\u4e2a\u4e0d\u540c\u5217\u7684\u767e\u5206\u6bd4\u5f88\u9ad8\uff0c\u5219\u6570\u636e\u5e93\u6784\u5efa\u5b8c\u6210\u3002 check_genes.log\u6587\u4ef6\u5206\u4e3a\u5982\u4e0b4\u5217 - Chr - Gene with SIFT scores - Pos with SIFT scores - Pos with Confident Scores","title":"\u6ce8\u610f\uff1a\u53ea\u6709cds\u6709\u9884\u6d4b\u7684\u503c\uff0c5\u2019-UTR\u548c3\u2018-UTR\u90fd\u662fNA,\u8fd9\u662f\u6b63\u5e38\u7684\u3002"},{"location":"BSA/SIFT4G-%E9%A2%84%E6%B5%8B%E6%B0%A8%E5%9F%BA%E9%85%B8%E5%8F%96%E4%BB%A3%E6%98%AF%E5%90%A6%E4%BC%9A%E5%BD%B1%E5%93%8D%E8%9B%8B%E7%99%BD%E8%B4%A8%E5%8A%9F%E8%83%BD/#6vcf","text":"","title":"6.\u7528\u6570\u636e\u5e93\u6ce8\u91cavcf\u6587\u4ef6"},{"location":"BSA/SIFT4G-%E9%A2%84%E6%B5%8B%E6%B0%A8%E5%9F%BA%E9%85%B8%E5%8F%96%E4%BB%A3%E6%98%AF%E5%90%A6%E4%BC%9A%E5%BD%B1%E5%93%8D%E8%9B%8B%E7%99%BD%E8%B4%A8%E5%8A%9F%E8%83%BD/#61sift4g_annotatorjar","text":"","title":"6.1\u4e0b\u8f7dSIFT4G_Annotator.jar\u4e0b\u8f7d\u5730\u5740"},{"location":"BSA/SIFT4G-%E9%A2%84%E6%B5%8B%E6%B0%A8%E5%9F%BA%E9%85%B8%E5%8F%96%E4%BB%A3%E6%98%AF%E5%90%A6%E4%BC%9A%E5%BD%B1%E5%93%8D%E8%9B%8B%E7%99%BD%E8%B4%A8%E5%8A%9F%E8%83%BD/#62-vcfvcf","text":"\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u8f93\u51fa\u7684vcf\u90fd\u662f\u6309\u7167\u67d3\u8272\u4f53\u7684\u987a\u5e8f\u6392\u597d\u7684\u3002","title":"6.2 \u8fd0\u884c\u4e4b\u524d\u5148\u5bf9vcf\u6587\u4ef6\u8fdb\u884c\u6392\u5e8f\uff08\uff01VCF\u6587\u4ef6\u5fc5\u987b\u6309\u67d3\u8272\u4f53\u548c\u4f4d\u7f6e\u6392\u5e8f\u624d\u80fd\u6b63\u786e\u6ce8\u91ca\u3002\uff09"},{"location":"BSA/SIFT4G-%E9%A2%84%E6%B5%8B%E6%B0%A8%E5%9F%BA%E9%85%B8%E5%8F%96%E4%BB%A3%E6%98%AF%E5%90%A6%E4%BC%9A%E5%BD%B1%E5%93%8D%E8%9B%8B%E7%99%BD%E8%B4%A8%E5%8A%9F%E8%83%BD/#63","text":"\u8fd0\u884c\u4e4b\u524d\uff0c\u5148\u89e3\u538b\u81ea\u5df1\u6784\u5efa\u6216\u8005\u4ecesift4g\u4e0b\u8f7d\u7684\u5bf9\u5e94\u7684\u57fa\u56e0\u7ec4\u7248\u672c\u7684\u6570\u636e\u5e93\u6587\u4ef6\u3002\u5982\u679csift4g\u6570\u636e\u5e93\u7684\u7269\u79cd\u53c2\u8003\u57fa\u56e0\u7ec4\u7248\u672c\u548c\u4f60\u7528\u7684\u4e0d\u4e00\u81f4\u3002\u4f7f\u7528picard\u6216GATK\u5176\u4ed6\u57fa\u56e0\u7ec4\u7248\u672c\u8f6c\u6362\u5de5\u5177\u628a\u4f60\u7684\u53d8\u5f02\u6587\u4ef6\u8f6c\u6362\u5230\u6570\u636e\u5e93\u7684\u57fa\u56e0\u7ec4\u7248\u672c\u3002\u8f6c\u6362\u9700\u8981\u4e00\u4e2achain\u6587\u4ef6\u3002 \u6216\u8005\u6309\u7167\u4e0a\u8ff0\u6587\u4ef6\uff0c\u81ea\u884c\u6784\u5efa\u8be5\u7248\u672c\u7684\u6570\u636e\u5e93\u3002 java -Xmx128G -jar SIFT4G_Annotator.jar -c -i < \u8f93\u5165vcf\u6587\u4ef6\u7684\u8def\u5f84 > -d < SIFT4G\u6570\u636e\u5e93\u76ee\u5f55\u7684\u8def\u5f84 > -r < \u7ed3\u679c\u6587\u4ef6\u5939\u7684\u8def\u5f84 > -t \u53c2\u6570\u8bf4\u660e\uff1a -t To extract annotations for multiple transcripts (Optional)\u53ef\u9009\u53c2\u6570","title":"6.3 \u8fd0\u884c\u7a0b\u5e8f\uff0c\u8fdb\u884c\u6ce8\u91ca"},{"location":"BSA/SIFT4G-%E9%A2%84%E6%B5%8B%E6%B0%A8%E5%9F%BA%E9%85%B8%E5%8F%96%E4%BB%A3%E6%98%AF%E5%90%A6%E4%BC%9A%E5%BD%B1%E5%93%8D%E8%9B%8B%E7%99%BD%E8%B4%A8%E5%8A%9F%E8%83%BD/#7sift4g","text":"\u57fa\u56e0\u7ec4\u53ef\u89c6\u5316\u5de5\u5177\u5f88\u591a \u57fa\u4e8eR\u8bed\u8a00\u7684\u4e5f\u6709\u5f88\u591a CMplot\u6216\u8005ggplot\u6216\u8005ChromHeatMap\uff0c\u5f53\u7136\u53ef\u4ee5\u753b\u5708\u56fe\u4e86\u3002 \u53ef\u89c6\u5316\u53c2\u8003\u5168\u57fa\u56e0\u7ec4\u7684reads\u8986\u76d6 CMplot\u5305\u7684\u4f7f\u7528 cat 94_chr.snp_SIFTannotations.xls||grep DELETERIOUS|grep -v Mt|awk '{print $6\"\\t\"$1\"\\t\"$2}' >94_chr.badSNP.tab R\u8bed\u8a00\u91ccCMplot\u53ef\u89c6\u5316 rm(list=ls()) setwd(\"~/cotton/\") install.packages(\"CMplot\") library(CMplot) #V3.6.2 mydata<-read.table(\"94_chr.badSNP.tab\",header=FALSE) names(mydata) <- c(\"snp\",\"chr\",\"pos\") head(mydata) # snp chr pos # snp1_1 1 2041 # snp1_2 1 2062 # snp1_3 1 2190 #\u53ef\u4ee5\u81ea\u884c\u4fee\u6539window size\u9ed8\u8ba4\u7684\u662f1e6\u53731MB. CMplot(mydata,plot.type=\"d\",bin.size=1e6,col=c(\"darkgreen\",\"yellow\", \"red\"),file=\"jpg\",memo=\"snp_density\",dpi=300) ##\u56fe\u7247\u4f1a\u76f4\u63a5\u8f93\u51fa\u5230\u5de5\u4f5c\u76ee\u5f55\uff0c\u6ce8\u610f\u4fdd\u5b58\u91cd\u547d\u540d","title":"7.sift4g\u7ed3\u679c\u7684\u53ef\u89c6\u5316"},{"location":"BSA/SIFT4G-%E9%A2%84%E6%B5%8B%E6%B0%A8%E5%9F%BA%E9%85%B8%E5%8F%96%E4%BB%A3%E6%98%AF%E5%90%A6%E4%BC%9A%E5%BD%B1%E5%93%8D%E8%9B%8B%E7%99%BD%E8%B4%A8%E5%8A%9F%E8%83%BD/#github_1","text":"","title":"\u62a5\u9519\u4fe1\u606f\u8bf7\u5230\u5b98\u65b9github\u67e5\u770b\u89e3\u51b3\u65b9\u6848"},{"location":"BSA/SIFT4G-%E9%A2%84%E6%B5%8B%E6%B0%A8%E5%9F%BA%E9%85%B8%E5%8F%96%E4%BB%A3%E6%98%AF%E5%90%A6%E4%BC%9A%E5%BD%B1%E5%93%8D%E8%9B%8B%E7%99%BD%E8%B4%A8%E5%8A%9F%E8%83%BD/#all_protfasta","text":"\u8fd0\u884c\u8fd9\u884c\u547d\u4ee4 cat all_prot.fasta|grep \">\" |sort|uniq -d \uff0c\u5982\u679c\u6709\u884c\u8f93\u51fa \uff0c\u8bf4\u660e\u4f60\u7684all_prot.fasta\u91cc\u9762\u6709\u91cd\u590d\u7684\u884c\uff0c\u5c31\u662f\u663e\u793a\u7684\u8fd9\u4e9b\u884c\u3002 \u5982\u679c\u9700\u8981\u91cd\u65b0\u8fd0\u884c\uff0c\u4e00\u5b9a\u8981\u5220\u9664all_prot.fasta\u8fd9\u4e2a\u6587\u4ef6\u3002","title":"\u6ce8\u610f\u67e5\u770ball_prot.fasta\uff0c\u8fd9\u4e2a\u6587\u4ef6\u3002"},{"location":"BSA/SIFT4G-%E9%A2%84%E6%B5%8B%E6%B0%A8%E5%9F%BA%E9%85%B8%E5%8F%96%E4%BB%A3%E6%98%AF%E5%90%A6%E4%BC%9A%E5%BD%B1%E5%93%8D%E8%9B%8B%E7%99%BD%E8%B4%A8%E5%8A%9F%E8%83%BD/#_2","text":"\u6211\u7b2c\u4e00\u6b21\u4f7f\u7528\u7684\u662f\u538b\u7f29\u7684protein\u6587\u4ef6\uff0c\u7ed3\u679c\u62a5\u9519\u3002 /mnt/e/sift4g/sift4g/bin/sift4g -d /mnt/e/sift4g/sift4g_Create/test_files/Gossypium_hirsutum/gene-annotation-src/GossypiumHirsutum_ASM98774v1_protein.fa -q /mnt/e/sift4g/sift4g_Create/test_files/Gossypium_hirsutum/all_prot.fasta --subst /mnt/e/sift4g/sift4g_Create/test_files/Gossypium_hirsutum/subst --out /mnt/e/sift4g/sift4g_Create/test_files/Gossypium_hirsutum/SIFT_predictions --sub-results ** Checking query data and substitutions files ** * processing queries: 100.00/100.00% * ** Searching database for candidate sequences ** [ERROR:src/chain.c:101]: chain is empty after encoding, see scorerEncode function \u4e0a\u8ff0\u62a5\u9519\u4e4b\u540e\uff0c\u9700\u8981\u4fee\u6539\u6700\u5f00\u59cb\u8fd0\u884c\u7684perl\u811a\u672c\u4e4b\u540e\uff0c\u91cd\u65b0\u8fd0\u884c\u3002\u4ece\u524d\u9762\u8fd0\u884c\u5230\u6b64\u5904\uff0c\u5df2\u7ecf\u8fd0\u884c4*24h\u3002 \u4fee\u6539 make-SIFT-db-all.pl \u8fd9\u4e2a\u6587\u4ef6\u540e\uff0c\u7ee7\u7eed\u8fd0\u884c\u811a\u672c\u3002 \u62a5\u9519 python \u6587\u4ef6\u65e0\u6cd5\u627e\u5230\uff0c\u539f\u56e0\u662f\u672c\u673a\u6ca1\u6709\u914d\u7f6epythonpath. \u6ce8\u610f\uff1a\u8fd9\u4e2a\u811a\u672c\u91cc\uff0c\u7528\u52303\u4e2apython\u811a\u672c\u6587\u4ef6\uff0c\u5efa\u8bae\u4fee\u6539\u672c\u673a\u7684pythonpath\u4e3apython2. \u5982\u679c\u4f60\u9ed8\u8ba4\u7684python\u662fpython3\uff0c\u4e5f\u53ef\u4ee5\u76f4\u63a5\u53bb\u4fee\u6539\u8c03\u7528python\u547d\u4ee4\u7684\u5730\u65b9\uff0c\u4fee\u6539 python \u4e3a python2 ,\u81f3\u5c11\u8981\u4fee\u65392\u4e2a\u6587\u4ef6perl\u6587\u4ef6\u7684python\u8c03\u7528\u3002 \u5176\u4e2d\u4e00\u5904\u662f\uff1a make-SIFT-db-all.pl \u7684137\u884c\u7684 python \u4fee\u6539\u4e3a python2 , make-sift-scores-db-batch.pl \u768465\u884c\u7684 python \u4fee\u6539\u4e3a python2","title":"\u62a5\u9519\u4fe1\u606f\u5904\u7406"},{"location":"BSA/SIFT4G-%E9%A2%84%E6%B5%8B%E6%B0%A8%E5%9F%BA%E9%85%B8%E5%8F%96%E4%BB%A3%E6%98%AF%E5%90%A6%E4%BC%9A%E5%BD%B1%E5%93%8D%E8%9B%8B%E7%99%BD%E8%B4%A8%E5%8A%9F%E8%83%BD/#gcc49gcc-49","text":"/share/softwares/sift4g/sift4g/bin/sift4g: /lib64/libstdc++.so.6: version `CXXABI_1.3.8' not found (required by /share/softwares/sift4g/sift4g/bin/sift4g) /share/softwares/sift4g/sift4g/bin/sift4g: /lib64/libstdc++.so.6: version `GLIBCXX_3.4.21' not found (required by /share/softwares/sift4g/sift4g/bin/sift4g) \u89e3\u51b3\u529e\u6cd5\uff0c\u91cd\u65b0\u5b89\u88c5gcc8.3.0 \u4ece\u955c\u50cf\u4e0b\u8f7d https://mirrors.aliyun.com/gnu/gcc/gcc-8.3.0/ \uff0c \u5e76\u66f4\u65b0\u52a8\u6001\u5e93\u3002\u5b89\u88c5gcc8.3.0\u8bf7\u4e25\u683c\u6309\u7167 \u6b64\u94fe\u63a5 \u6267\u884c\u3002\u5b89\u88c5\u65f6\u95f4\u53ef\u80fd\u9700\u8981\u51e0\u4e2a\u5c0f\u65f6\uff0c\u5185\u5b58\u4f4e\u4e8e128g\u7684\u614e\u91cd\u5b89\u88c5\u3002 \u5185\u5b58\u4e0d\u8db3\uff0c\u8fd8\u662f\u5b89\u88c5\u4f4e\u7248\u672c\u7684\u5427\u3002https://mirrors.aliyun.com/gnu/gcc/gcc-5.5.0/\uff0c\u5b89\u88c5\u4e0a\u8ff0\u94fe\u63a5\uff0c\u5b89\u88c5\u4f9d\u8d56\uff0c\u4e4b\u540e\u5b89\u88c5\u4f4e\u7248\u672cgcc5.5.0 tar -zxvf gcc-8.3.0.tar.gz #\u4f9d\u8d56\u592a\u591a,\u7528conda,\u6216\u8005\u81ea\u5df1\u4e0b\u8f7d\u4e5f\u884c conda install gcc cd gcc-8.3.0 ./configure --disable-multilib --enable-languages=c,c++ --prefix=$HOME/local make -j5 make -j install \u4fee\u6539\u73af\u5883\u53d8\u91cf export LD_LIBRARY_PATH=$HOME/local/lib64` export PATH= /home/username/myinstall/gcc-4.8/bin: /home/username/myinstall/gcc-4.8/lib64$PATH export LD_LIBRARY_PATH= /home/username/myinstall/gcc-4.8/lib64: /home/username/myinstall/gcc-4.8/lib$LD_LIBRARY_PATH","title":"\u62a5\u9519 \u539f\u56e0\u662fgcc\u7248\u672c\u4f4e\u4e8e4.9\uff0c\u8981\u6c42\u662fgcc 4.9+"},{"location":"BSA/SIFT4G-%E9%A2%84%E6%B5%8B%E6%B0%A8%E5%9F%BA%E9%85%B8%E5%8F%96%E4%BB%A3%E6%98%AF%E5%90%A6%E4%BC%9A%E5%BD%B1%E5%93%8D%E8%9B%8B%E7%99%BD%E8%B4%A8%E5%8A%9F%E8%83%BD/#redhatghv1","text":"\u8f93\u51fa\u7684\u4fe1\u606f\u5982\u4e0b\uff1a start siftsharp, getting the alignments /share/softwares/sift4g/sift4g/bin/sift4g -d /share/softwares/sift4g/scripts_to_build_SIFT_db/test_files/Gossypium_hirsutum/gene-annotation-src/Gossypium_hirsutum.protein.fasta -q /share/softwares/sift4g/scripts_to_build_SIFT_db/test_files/Gossypium_hirsutum/all_prot.fasta --subst /share/softwares/sift4g/scripts_to_build_SIFT_db/test_files/Gossypium_hirsutum/subst --out /share/softwares/sift4g/scripts_to_build_SIFT_db/test_files/Gossypium_hirsutum/SIFT_predictions --sub-results \u8fd9\u4e00\u6b65\u6bd4\u8f83\u8017\u65f6\uff0c\u8bf7\u8010\u5fc3\u7b49\u5f85\u3002\u5728 /share/softwares/sift4g/scripts_to_build_SIFT_db/test_files/Gossypium_hirsutum/SIFT_predictions \u76ee\u5f55\u91cc\u5e94\u8be5\u6709\u9884\u6d4b\u7684\u53d8\u5f02\u662f\u53ef\u63a5\u53d7\u6216\u6709\u5bb3\u7684\u6587\u4ef6\u3002\u5982\u679c\u6ca1\u6709\uff0c\u8bf7\u68c0\u67e5\u4f60\u7684gtf\u6587\u4ef6\u683c\u5f0f\u662f\u5426\u6b63\u786e\u3002","title":"\u62a5\u9519\u4fe1\u606f\u6c47\u603b\uff0c\u5728redhat\u4e0a\u9047\u5230\u7684\uff0c\u7a0b\u5e8f\u4e00\u76f4\u6267\u884c\u4e0d\u62a5\u9519\uff0c\u4f46\u662f\u5e76\u6ca1\u6709\u751f\u6210Gh.V1\u7684\u6570\u636e\u5e93\u3002"},{"location":"BSA/SIFT4G-%E9%A2%84%E6%B5%8B%E6%B0%A8%E5%9F%BA%E9%85%B8%E5%8F%96%E4%BB%A3%E6%98%AF%E5%90%A6%E4%BC%9A%E5%BD%B1%E5%93%8D%E8%9B%8B%E7%99%BD%E8%B4%A8%E5%8A%9F%E8%83%BD/#_3","text":"\u4f5c\u8005\u7684\u811a\u672c\u6838\u5fc3\u662f\uff1aperl+python+shell\u4e09\u79cd\u811a\u672c\u8bed\u8a00\u6df7\u5408\u4f7f\u7528\u3002","title":"\u5982\u679c\u4f60\u751f\u6210"},{"location":"BSA/SIFT4G-%E9%A2%84%E6%B5%8B%E6%B0%A8%E5%9F%BA%E9%85%B8%E5%8F%96%E4%BB%A3%E6%98%AF%E5%90%A6%E4%BC%9A%E5%BD%B1%E5%93%8D%E8%9B%8B%E7%99%BD%E8%B4%A8%E5%8A%9F%E8%83%BD/#perlpython","text":"egrep python *.pl","title":"\u5feb\u901f\u67e5\u8be2perl\u6587\u4ef6\u4e2d\u5305\u542bpython\u7684\u884c\u7684\u65b9\u6cd5"},{"location":"BSA/SIFT4G-%E9%A2%84%E6%B5%8B%E6%B0%A8%E5%9F%BA%E9%85%B8%E5%8F%96%E4%BB%A3%E6%98%AF%E5%90%A6%E4%BC%9A%E5%BD%B1%E5%93%8D%E8%9B%8B%E7%99%BD%E8%B4%A8%E5%8A%9F%E8%83%BD/#gccrootgcc-930","text":"\u5982\u679c\u4f60\u7684sift4g\u62a5\u9519\u662f sift4g: /lib64/libstdc++.so.6: version `CXXABI_1.3.8' not found (required by sift4g) sift4g: /lib64/libstdc++.so.6: version `GLIBCXX_3.4.21' not found (required by sift4g) \u8bf7\u4f7f\u7528 find / -name \"libstdc++.so.6\" \u627e\u51fa\u4f60\u7cfb\u7edf\u4e2d\u6700\u65b0\u7248\u672c\u7684\u8def\u5f84\uff0c\u5c31\u662f\u4e0b\u9762\u4e24\u884c\u547d\u4ee4\u524d\u9762\u7684\u8def\u5f84\uff0c\u540e\u9762\u7684\u8def\u5f84\u662f\u5bf9\u5e94\u4e0a\u9762\u62a5\u9519\u7684\u8def\u5f84\u3002","title":"\u5173\u4e8eGCC\u7684\u5b89\u88c5\uff0c\u5f3a\u529b\u5efa\u8baeroot\u5b89\u88c5\uff0c\u56e0\u4e3a\u76ee\u524d\u4e3a\u6b62\uff0c\u5404\u79cd\u65b9\u6cd5\u90fd\u8bd5\u8fc7\u4e86\u3002\u4f46\u662f\u5b89\u88c5\u7684\u5e76\u4e0d\u6210\u529f\u3002\u8bf7\u53c2\u8003\u6b64\u5730\u5740\u4e0b\u8f7d\u5b89\u88c5gcc 9.3.0"},{"location":"BSA/SIFT4G-%E9%A2%84%E6%B5%8B%E6%B0%A8%E5%9F%BA%E9%85%B8%E5%8F%96%E4%BB%A3%E6%98%AF%E5%90%A6%E4%BC%9A%E5%BD%B1%E5%93%8D%E8%9B%8B%E7%99%BD%E8%B4%A8%E5%8A%9F%E8%83%BD/#gcc","text":"cp /share/soft/ohpc/pub/compiler/gcc/8.3.0/lib64/libstdc++.so.6 /lib64/ ln -s /share/soft/ohpc/pub/compiler/gcc/8.3.0/lib64/libstdc++.so.6.0.25 /lib64/libstdc++.so.6.0.25 ```","title":"gcc\u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u4e00\u5b9a\u8981\u505a\u4e0b\u9762\u7684\u64cd\u4f5c"},{"location":"BSA/VCF%E6%96%87%E4%BB%B6%E7%9A%84%E5%8F%AF%E8%A7%86%E5%8C%96%EF%BC%9AVariantQC/","text":"\u7c7b\u4f3c\u4e8eFastQC\uff0cVariantQC\u540c\u6837\u662f\u4ea7\u51fahtml\u754c\u9762\u3002 VariantQC \u662f\u57fa\u4e8eGATK4\u5f00\u53d1\u7684 DISCVRSeq \u7684\u5176\u4e2d\u4e00\u4e2ajava\u5305\u3002 VariantQC\u7684\u6559\u7a0b VariantQC\u6587\u6863 \u4ecegithub\u4e0b\u8f7d\u6700\u65b0\u7248\u672c\u7684DISCVRSeq github\u5730\u5740 ##\u9700\u8981\u6784\u5efa\u7d22\u5f15\u6587\u4ef6\uff08gatk4\u6d41\u7a0b\u5df2\u7ecf\u6784\u5efa\u7684\u597d\u76f8\u5173\u7684\u7d22\u5f15\u6587\u4ef6\uff09 mv DISCVRSeq*.jar DISCVRSeq.jar java -jar DISCVRSeq.jar VariantQC -O output_file.html -R ref.fa -V variant.vcf \u5f53\u4f60\u7684\u7269\u79cd\u7684\u57fa\u56e0\u7ec4\u6709\u8bb8\u591a\u91cd\u53e0\u7fa4\uff08contig\uff09\u65f6\uff0c\u4e0a\u8ff0\u547d\u4ee4\u53ef\u80fd\u4f1a\u62a5\u9519\uff0c\u9700\u8981\u589e\u52a0\u53c2\u6570\uff0c\u589e\u5927\u91cd\u53e0\u7fa4\u7684\u6570\u91cf\uff08\u9ed8\u8ba4\u503c\u65f640\uff09\u3002 \u5982\u679c\u4f60\u7684\u91cd\u53e0\u7fa4\u6bd4\u8f83\u591a\uff0c\u589e\u5927maxContigs\u7684\u503c\u3002\u8f93\u5165\u6587\u4ef6\u652f\u6301vcf/vcf.gz java -jar DISCVRSeq.jar VariantQC -O van1.html -R genome.fa --maxContigs 500 -V van1.vcf VariantQC\u7684\u8f93\u51fa\u7ed3\u679c\u5982\u4e0b\u56fe\u6240\u793a\uff0c\u53ef\u4ee5\u81ea\u5df1\u70b9\u51fb\u5de6\u4fa7\u83dc\u5355\u680f\uff0c\u770b\u76f8\u5173\u7684\u4fe1\u606f\u3002\u52a8\u6001\u7684html\u9875\u9762\u3002","title":"VCF\u6587\u4ef6\u7684\u53ef\u89c6\u5316\uff1aVariantQC"},{"location":"BSA/annovar-%E6%B3%A8%E9%87%8A%E9%9D%9E%E6%A8%A1%E5%BC%8F%E7%94%9F%E7%89%A9%E7%9A%84%E5%8F%98%E5%BC%82%E4%BF%A1%E6%81%AF/","text":"annovar\u7528\u6765\u6ce8\u91ca\u81ea\u5df1\u7684\u7269\u79cd\u7684\u53d8\u5f02\u4fe1\u606f\u3002 \u8f6c\u8f7d\u81ea\uff1ahttps://www.jianshu.com/p/0a334228377c 1.\u8f6f\u4ef6\u5b89\u88c5 annovar\u4e0b\u8f7d\u5b89\u88c5 gtfToGenePred\u4e0b\u8f7d\uff0c\u6dfb\u52a0\u5230\u73af\u5883\u53d8\u91cf gff3\u6216\u8005gtf\u8f6c\u4e3aGenePred,gtf\u4f7f\u7528 gtfToGenePred ,gff3\u4f7f\u7528 gff3ToGenePred wget http://hgdownload.cse.ucsc.edu/admin/exe/linux.x86_64/gtfToGenePred wget http://hgdownload.cse.ucsc.edu/admin/exe/linux.x86_64/gff3ToGenePred \u5229\u7528gtfToGenePred\u5bf9GTF\u6587\u4ef6\u8fdb\u884c\u64cd\u4f5c(\u8f93\u5165zm442.gtf,\u8f93\u51fazm442.txt) gtfToGenePred -genePredExt zm442.gtf genome_refGene.txt","title":"Annovar \u6ce8\u91ca\u975e\u6a21\u5f0f\u751f\u7269\u7684\u53d8\u5f02\u4fe1\u606f"},{"location":"BSA/annovar-%E6%B3%A8%E9%87%8A%E9%9D%9E%E6%A8%A1%E5%BC%8F%E7%94%9F%E7%89%A9%E7%9A%84%E5%8F%98%E5%BC%82%E4%BF%A1%E6%81%AF/#gtftogenepredgtfzm442gtfzm442txt","text":"gtfToGenePred -genePredExt zm442.gtf genome_refGene.txt","title":"\u5229\u7528gtfToGenePred\u5bf9GTF\u6587\u4ef6\u8fdb\u884c\u64cd\u4f5c(\u8f93\u5165zm442.gtf,\u8f93\u51fazm442.txt)"},{"location":"BSA/annovar-%E6%B3%A8%E9%87%8A%E9%9D%9E%E6%A8%A1%E5%BC%8F%E7%94%9F%E7%89%A9%E7%9A%84%E5%8F%98%E5%BC%82%E4%BF%A1%E6%81%AF/#_1","text":"","title":""},{"location":"BSA/eQTL%E5%88%86%E6%9E%90/","text":"\u8f93\u5165\u6587\u4ef6\uff1a genotype\u3001expression\u3001covariates\u3001gene location\u3001SNP location \u5176\u4e2dgenetype\u3001expression\u3001covariates\u9700\u8981\u6bcf\u5217\u7684\u6837\u672c\u540d\u5bf9\u5e94\u4e14\u987a\u5e8f\u4e00\u81f4\u3002","title":"eQTL\u5206\u6790"},{"location":"BSA/picard-%E5%A4%84%E7%90%86HaplotypeCaller%E6%96%AD%E7%82%B9%E7%9A%84%E9%97%AE%E9%A2%98--gatk%E6%8F%90%E5%8F%96%E6%8C%87%E5%AE%9A%E6%9F%93%E8%89%B2%E4%BD%93vcf%E6%96%87%E4%BB%B6/","text":"\u4f7f\u7528GATK4 call snp\u65f6\u603b\u4f1a\u51fa\u9519\u3002\u9274\u4e8eGATK4\u65b0\u7248\u7684\u4e0d\u7a33\u5b9a\u6027\uff0c\u5373\u4f7f\u6709\u5751\u4e5f\u5f97\u8df3\u3002\u8fd9\u91cc\u662f\u586b\u5751\u7684\u5730\u65b9\u3002 \u91cd\u8981\u4fe1\u606f\uff1a\u6240\u6709\u7684vcf\u4e00\u5b9a\u4e0d\u8981\u624b\u5de5\u4fee\u6539\uff0c\u5426\u5219gatk\u4f1a\u62a5\u9519\u3002\u5c3d\u7ba1\u4f60\u77e5\u9053\u90a3\u4e2a\u5730\u65b9\u7684\u6b63\u786e\u503c\uff0c\u4f46\u662f\u4e0d\u7528\u7528\u9664\u4e86gatk\u548cpicard\u4ee5\u5916\u7684\u5de5\u5177\u4fee\u6539\uff0c\u9664\u975e\u540e\u7eed\u6b65\u9aa4\u4e0d\u9700\u8981\u4f7f\u7528gatk.\u5426\u5219gatk\u4f1a\u62a5\u9519\u3002\u800c\u4e14gatk\u7684\u7248\u672c\u548cpicard\u7684\u7248\u672c\u5fc5\u987b\u4ece\u4e00\u800c\u7ec8\uff0c\u4e0d\u80fd\u4e2d\u9014\u6362\u7248\u672c\u3002\u5426\u5219\uff0c\u4f1a\u51fa\u73b0\u5404\u79cd\u9519\u8bef\u3002 \u5bf9\u4e8e\u4e0d\u540c\u7248\u672c\u7684\u57fa\u56e0\u7ec4\u6ce8\u91ca\u6587\u4ef6\uff0c\u751f\u6210\u7684vcf\uff0cgatk\u6709\u5de5\u5177\u53ef\u4ee5\u4ece\u5176\u4e2d\u4e00\u7248\u5bf9\u5e94\u5230\u53e6\u4e00\u7248\u672c\u3002 \u95ee\u9898\uff1a 1. call vcf\u5230\u4e00\u534a\uff0c\u7136\u540e\u7a0b\u5e8f\u56e0\u4e3a\u5185\u5b58\u4e0d\u8db3\u6302\u6389\u4e86\u3002\u4ece\u5934\u5f00\u59cbcall,\u53c8\u5f97N\u591a\u5929\u3002\u80fd\u4e0d\u80fd\u4ece\u65ad\u70b9\u5904\u7ee7\u7eedcall\uff1f \u4e0d\u80fd\uff0c\u4f46\u662f\u53ef\u4ee5\u67e5\u770b\u65e5\u5fd7\uff0c\u770bcall \u5230\u54ea\u6761\u67d3\u8272\u4f53\u65ad\u6389\u7684\u3002\u6bd4\u5982\u5728\uff1achr4:1352054\u5904\u65ad\u6389\uff0c\u8f93\u51fa\u662f\u6587\u4ef61 XXX.g.vcf.gz\u3002\u90a3\u5c31\u53ef\u4ee5\u76f4\u63a5\u4ecechr4\u5f00\u59cb\uff0c\u7ee7\u7eedcall \u540e\u7eed\u6587\u4ef6,\u8f93\u51faXXX.2.g.vcf.gz\u3002\u518d\u5408\u5e762\u6b21\u7684\u6587\u4ef6\u5230\u4e00\u4e2avcf\u5373\u53ef\u3002 \u65ad\u70b9\u4e4b\u540e\uff0c\u540e\u7eed\u6267\u884c\u547d\u4ee4\u65f6\uff0c\u589e\u52a0\u53c2\u6570-L XXXX.intervals gatk --java-options \"-Xmx8g -Xms8g\" HaplotypeCaller -R /public/home/$genome.fa -I $sample.bam --dbsnp /public/home/$db_snp.vcf --native-pair-hmm-threads 8 -stand-call-conf 30 -L XXXX.intervals -O XXX.2.g.vcf.gz -ERC GVCF XXXX.intervals\u7684\u5185\u5bb9\u683c\u5f0f\uff0c\u6839\u636e\u4f60\u7684gtf\u6ce8\u91ca\u6587\u4ef6\u51b3\u5b9a\uff0c\u5982\u679c\u662fchr1\u683c\u5f0f\uff0c\u5219\u6587\u4ef6\u91cc\u9762\u5e94\u8be5\u662fchr n ,\u5982\u679c\u548c\u6211\u7684\u4e00\u6837\uff0c\u76f4\u63a5\u662f1\u8fd9\u79cd\u65b9\u5f0f\u8868\u793a\u67d3\u8272\u4f53\u53f7\uff0c\u5219\u5982\u4e0b\u6240\u793a\u5373\u53ef\u3002 \u4e00\u5b9a\u8981\u4ece\u65ad\u6389\u7684\u90a3\u6761\u67d3\u8272\u4f53\u4ece\u65b0\u5f00\u59cb\uff0c\u4e0d\u7136\u540e\u7eed\u62fc\u63a5\u4e0d\u4e0a\u3002 XXXX.intervals\u6587\u4ef6\u5185\u5bb9 4 5 6 n 1.2 \u63d0\u53d6\u524d\u9762\u7684\u5931\u8d25\u7684\u6587\u4ef6\u4e2d\u53ef\u7528\u7684\u67d3\u8272\u4f53\u7684vcf gatk\u53ef\u4ee5\u63d0\u53d6\u6307\u5b9a\u67d3\u8272\u4f53\u7684vcf\u6587\u4ef6\u3002\uff08\u65e0\u8bba\u662fvcf\u6216\u8005\u662fvcf.gz\u90fd\u53ef\u4ee5\uff0c\u4f46\u662f\u6587\u4ef6\u540d\u4e00\u5b9a\u8981\u548c\u683c\u5f0f\u5bf9\u5e94\u3002\u662f\u538b\u7f29\u7684\uff0c\u5c31\u662fgz\uff0c\u8fd9\u6837gatk\u4f1a\u81ea\u52a8\u89e3\u538b\u7f29\uff09 gatk\u64cd\u4f5cvcf\u4e4b\u524d\u9700\u8981\u5efa\u7acb\u7d22\u5f15\u6587\u4ef6\uff0cpicard\u4e0d\u4e00\u5b9a\u9700\u8981\u3002 - \u5efa\u7acb\u5931\u8d25vcf\u7684\u7d22\u5f15 \u6210\u529f\u7684vcf\u4f1a\u81ea\u52a8\u6784\u5efa\u7d22\u5f15 #\u5931\u8d25\u5728\u7b2c7\u6761\u67d3\u8272\u4f53\uff0c\u6240\u4ee5\u8fd9\u6837\u547d\u540d gatk IndexFeatureFile -F Ran.7.g.vcf \u63d0\u53d6\u524d6\u6761\u6b63\u786e\u7684vcf, #$genome\u662f\u57fa\u56e0\u7ec4\u6587\u4ef6 gatk SelectVariants -R $genome -V Ran.7.g.vcf -L ran.intervals -O Ran.1_6.g.vcf ran.intervals \u662f\u6570\u5b571\u52306\u4ee3\u8868\u524d\u516d\u6761\u67d3\u8272\u4f53\u3002\u683c\u5f0f\u548c\u4e0a\u9762\u7684intervals\u683c\u5f0f\u4e00\u81f4\u3002 \u63d0\u53d6vcf\u5de5\u5177\uff1a 2. \u5408\u5e76vcf\u7684\u65b9\u6cd5(\u6240\u6709\u7684\u5de5\u5177\u8f93\u5165\u6587\u4ef6\u5fc5\u987b\u5177\u6709\u76f8\u540c\u7684\u6837\u672c\u548c\u91cd\u53e0\u7fa4\u5217\u8868\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5c06\u521b\u5efa\u4e00\u4e2a\u7d22\u5f15\u6587\u4ef6\u5e76\u9700\u8981\u4e00\u4e2a\u5e8f\u5217\u5b57\u5178) GatherVcfs \u6b64\u79cd\u65b9\u6cd5\uff0c\u5fc5\u987b\u8981\u6c42\u6309\u7167\u57fa\u56e0\u7ec4\u987a\u5e8f\u6392\u5217\u8f93\u5165\u6587\u4ef6\uff0c\u800c\u4e14\u4e0d\u80fd\u6709\u91cd\u53e0\u3002 SortVcf \u6392\u5e8f\u591a\u4e2avcf\uff0c MergeVcfs (\u62ef\u6551\u6211\u4eec\u7684\u65ad\u70b9\u6587\u4ef6\u62fc\u63a5\u5de5\u5177) Merges multiple VCF or BCF files into one VCF file. Input files must be sorted by their contigs and, within contigs, by start position. The input files must have the same sample and contig lists. An index file is created and a sequence dictionary is required by default. \u62fc\u63a5\u7684\u547d\u4ee4 java -jar $picard.jar MergeVcfs I=XXX.2.g.vcf.gz I=XXX.4.g.vcf.gz O=XXX.g.vcf.gz \u6b64\u5904\u8f93\u5165\u6587\u4ef6\u53ef\u4ee5\u662f\u591a\u4e2a\uff0c I \u662finput,\u00b7O\u00b7\u662foutput. \u8f93\u5165\u6587\u4ef6\u7684\u987a\u5e8f\uff0c\u4e00\u5b9a\u662f\u6309\u7167\u67d3\u8272\u4f53\u5148\u540e\u987a\u5e8f\u8f93\u5165\u3002","title":"picard \u5904\u7406HaplotypeCaller\u65ad\u70b9\u7684\u95ee\u9898  gatk\u63d0\u53d6\u6307\u5b9a\u67d3\u8272\u4f53vcf\u6587\u4ef6"},{"location":"BSA/picard-%E5%A4%84%E7%90%86HaplotypeCaller%E6%96%AD%E7%82%B9%E7%9A%84%E9%97%AE%E9%A2%98--gatk%E6%8F%90%E5%8F%96%E6%8C%87%E5%AE%9A%E6%9F%93%E8%89%B2%E4%BD%93vcf%E6%96%87%E4%BB%B6/#vcfgatkgatkpicardgatkgatkgatkpicard","text":"\u5bf9\u4e8e\u4e0d\u540c\u7248\u672c\u7684\u57fa\u56e0\u7ec4\u6ce8\u91ca\u6587\u4ef6\uff0c\u751f\u6210\u7684vcf\uff0cgatk\u6709\u5de5\u5177\u53ef\u4ee5\u4ece\u5176\u4e2d\u4e00\u7248\u5bf9\u5e94\u5230\u53e6\u4e00\u7248\u672c\u3002 \u95ee\u9898\uff1a","title":"\u91cd\u8981\u4fe1\u606f\uff1a\u6240\u6709\u7684vcf\u4e00\u5b9a\u4e0d\u8981\u624b\u5de5\u4fee\u6539\uff0c\u5426\u5219gatk\u4f1a\u62a5\u9519\u3002\u5c3d\u7ba1\u4f60\u77e5\u9053\u90a3\u4e2a\u5730\u65b9\u7684\u6b63\u786e\u503c\uff0c\u4f46\u662f\u4e0d\u7528\u7528\u9664\u4e86gatk\u548cpicard\u4ee5\u5916\u7684\u5de5\u5177\u4fee\u6539\uff0c\u9664\u975e\u540e\u7eed\u6b65\u9aa4\u4e0d\u9700\u8981\u4f7f\u7528gatk.\u5426\u5219gatk\u4f1a\u62a5\u9519\u3002\u800c\u4e14gatk\u7684\u7248\u672c\u548cpicard\u7684\u7248\u672c\u5fc5\u987b\u4ece\u4e00\u800c\u7ec8\uff0c\u4e0d\u80fd\u4e2d\u9014\u6362\u7248\u672c\u3002\u5426\u5219\uff0c\u4f1a\u51fa\u73b0\u5404\u79cd\u9519\u8bef\u3002"},{"location":"BSA/picard-%E5%A4%84%E7%90%86HaplotypeCaller%E6%96%AD%E7%82%B9%E7%9A%84%E9%97%AE%E9%A2%98--gatk%E6%8F%90%E5%8F%96%E6%8C%87%E5%AE%9A%E6%9F%93%E8%89%B2%E4%BD%93vcf%E6%96%87%E4%BB%B6/#1-call-vcfcallncall","text":"\u4e0d\u80fd\uff0c\u4f46\u662f\u53ef\u4ee5\u67e5\u770b\u65e5\u5fd7\uff0c\u770bcall \u5230\u54ea\u6761\u67d3\u8272\u4f53\u65ad\u6389\u7684\u3002\u6bd4\u5982\u5728\uff1achr4:1352054\u5904\u65ad\u6389\uff0c\u8f93\u51fa\u662f\u6587\u4ef61 XXX.g.vcf.gz\u3002\u90a3\u5c31\u53ef\u4ee5\u76f4\u63a5\u4ecechr4\u5f00\u59cb\uff0c\u7ee7\u7eedcall \u540e\u7eed\u6587\u4ef6,\u8f93\u51faXXX.2.g.vcf.gz\u3002\u518d\u5408\u5e762\u6b21\u7684\u6587\u4ef6\u5230\u4e00\u4e2avcf\u5373\u53ef\u3002","title":"1. call vcf\u5230\u4e00\u534a\uff0c\u7136\u540e\u7a0b\u5e8f\u56e0\u4e3a\u5185\u5b58\u4e0d\u8db3\u6302\u6389\u4e86\u3002\u4ece\u5934\u5f00\u59cbcall,\u53c8\u5f97N\u591a\u5929\u3002\u80fd\u4e0d\u80fd\u4ece\u65ad\u70b9\u5904\u7ee7\u7eedcall\uff1f"},{"location":"BSA/picard-%E5%A4%84%E7%90%86HaplotypeCaller%E6%96%AD%E7%82%B9%E7%9A%84%E9%97%AE%E9%A2%98--gatk%E6%8F%90%E5%8F%96%E6%8C%87%E5%AE%9A%E6%9F%93%E8%89%B2%E4%BD%93vcf%E6%96%87%E4%BB%B6/#-l-xxxxintervals","text":"gatk --java-options \"-Xmx8g -Xms8g\" HaplotypeCaller -R /public/home/$genome.fa -I $sample.bam --dbsnp /public/home/$db_snp.vcf --native-pair-hmm-threads 8 -stand-call-conf 30 -L XXXX.intervals -O XXX.2.g.vcf.gz -ERC GVCF","title":"\u65ad\u70b9\u4e4b\u540e\uff0c\u540e\u7eed\u6267\u884c\u547d\u4ee4\u65f6\uff0c\u589e\u52a0\u53c2\u6570-L XXXX.intervals"},{"location":"BSA/picard-%E5%A4%84%E7%90%86HaplotypeCaller%E6%96%AD%E7%82%B9%E7%9A%84%E9%97%AE%E9%A2%98--gatk%E6%8F%90%E5%8F%96%E6%8C%87%E5%AE%9A%E6%9F%93%E8%89%B2%E4%BD%93vcf%E6%96%87%E4%BB%B6/#xxxxintervalsgtfchr1chrn1","text":"XXXX.intervals\u6587\u4ef6\u5185\u5bb9 4 5 6 n","title":"XXXX.intervals\u7684\u5185\u5bb9\u683c\u5f0f\uff0c\u6839\u636e\u4f60\u7684gtf\u6ce8\u91ca\u6587\u4ef6\u51b3\u5b9a\uff0c\u5982\u679c\u662fchr1\u683c\u5f0f\uff0c\u5219\u6587\u4ef6\u91cc\u9762\u5e94\u8be5\u662fchrn,\u5982\u679c\u548c\u6211\u7684\u4e00\u6837\uff0c\u76f4\u63a5\u662f1\u8fd9\u79cd\u65b9\u5f0f\u8868\u793a\u67d3\u8272\u4f53\u53f7\uff0c\u5219\u5982\u4e0b\u6240\u793a\u5373\u53ef\u3002\u4e00\u5b9a\u8981\u4ece\u65ad\u6389\u7684\u90a3\u6761\u67d3\u8272\u4f53\u4ece\u65b0\u5f00\u59cb\uff0c\u4e0d\u7136\u540e\u7eed\u62fc\u63a5\u4e0d\u4e0a\u3002"},{"location":"BSA/picard-%E5%A4%84%E7%90%86HaplotypeCaller%E6%96%AD%E7%82%B9%E7%9A%84%E9%97%AE%E9%A2%98--gatk%E6%8F%90%E5%8F%96%E6%8C%87%E5%AE%9A%E6%9F%93%E8%89%B2%E4%BD%93vcf%E6%96%87%E4%BB%B6/#12-vcf","text":"gatk\u53ef\u4ee5\u63d0\u53d6\u6307\u5b9a\u67d3\u8272\u4f53\u7684vcf\u6587\u4ef6\u3002\uff08\u65e0\u8bba\u662fvcf\u6216\u8005\u662fvcf.gz\u90fd\u53ef\u4ee5\uff0c\u4f46\u662f\u6587\u4ef6\u540d\u4e00\u5b9a\u8981\u548c\u683c\u5f0f\u5bf9\u5e94\u3002\u662f\u538b\u7f29\u7684\uff0c\u5c31\u662fgz\uff0c\u8fd9\u6837gatk\u4f1a\u81ea\u52a8\u89e3\u538b\u7f29\uff09 gatk\u64cd\u4f5cvcf\u4e4b\u524d\u9700\u8981\u5efa\u7acb\u7d22\u5f15\u6587\u4ef6\uff0cpicard\u4e0d\u4e00\u5b9a\u9700\u8981\u3002 - \u5efa\u7acb\u5931\u8d25vcf\u7684\u7d22\u5f15 \u6210\u529f\u7684vcf\u4f1a\u81ea\u52a8\u6784\u5efa\u7d22\u5f15 #\u5931\u8d25\u5728\u7b2c7\u6761\u67d3\u8272\u4f53\uff0c\u6240\u4ee5\u8fd9\u6837\u547d\u540d gatk IndexFeatureFile -F Ran.7.g.vcf \u63d0\u53d6\u524d6\u6761\u6b63\u786e\u7684vcf, #$genome\u662f\u57fa\u56e0\u7ec4\u6587\u4ef6 gatk SelectVariants -R $genome -V Ran.7.g.vcf -L ran.intervals -O Ran.1_6.g.vcf ran.intervals \u662f\u6570\u5b571\u52306\u4ee3\u8868\u524d\u516d\u6761\u67d3\u8272\u4f53\u3002\u683c\u5f0f\u548c\u4e0a\u9762\u7684intervals\u683c\u5f0f\u4e00\u81f4\u3002 \u63d0\u53d6vcf\u5de5\u5177\uff1a","title":"1.2 \u63d0\u53d6\u524d\u9762\u7684\u5931\u8d25\u7684\u6587\u4ef6\u4e2d\u53ef\u7528\u7684\u67d3\u8272\u4f53\u7684vcf"},{"location":"BSA/picard-%E5%A4%84%E7%90%86HaplotypeCaller%E6%96%AD%E7%82%B9%E7%9A%84%E9%97%AE%E9%A2%98--gatk%E6%8F%90%E5%8F%96%E6%8C%87%E5%AE%9A%E6%9F%93%E8%89%B2%E4%BD%93vcf%E6%96%87%E4%BB%B6/#2-vcf","text":"GatherVcfs \u6b64\u79cd\u65b9\u6cd5\uff0c\u5fc5\u987b\u8981\u6c42\u6309\u7167\u57fa\u56e0\u7ec4\u987a\u5e8f\u6392\u5217\u8f93\u5165\u6587\u4ef6\uff0c\u800c\u4e14\u4e0d\u80fd\u6709\u91cd\u53e0\u3002 SortVcf \u6392\u5e8f\u591a\u4e2avcf\uff0c MergeVcfs (\u62ef\u6551\u6211\u4eec\u7684\u65ad\u70b9\u6587\u4ef6\u62fc\u63a5\u5de5\u5177) Merges multiple VCF or BCF files into one VCF file. Input files must be sorted by their contigs and, within contigs, by start position. The input files must have the same sample and contig lists. An index file is created and a sequence dictionary is required by default. \u62fc\u63a5\u7684\u547d\u4ee4 java -jar $picard.jar MergeVcfs I=XXX.2.g.vcf.gz I=XXX.4.g.vcf.gz O=XXX.g.vcf.gz \u6b64\u5904\u8f93\u5165\u6587\u4ef6\u53ef\u4ee5\u662f\u591a\u4e2a\uff0c I \u662finput,\u00b7O\u00b7\u662foutput. \u8f93\u5165\u6587\u4ef6\u7684\u987a\u5e8f\uff0c\u4e00\u5b9a\u662f\u6309\u7167\u67d3\u8272\u4f53\u5148\u540e\u987a\u5e8f\u8f93\u5165\u3002","title":"2. \u5408\u5e76vcf\u7684\u65b9\u6cd5(\u6240\u6709\u7684\u5de5\u5177\u8f93\u5165\u6587\u4ef6\u5fc5\u987b\u5177\u6709\u76f8\u540c\u7684\u6837\u672c\u548c\u91cd\u53e0\u7fa4\u5217\u8868\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5c06\u521b\u5efa\u4e00\u4e2a\u7d22\u5f15\u6587\u4ef6\u5e76\u9700\u8981\u4e00\u4e2a\u5e8f\u5217\u5b57\u5178)"},{"location":"BSA/pixy-%E8%AE%A1%E7%AE%97%E7%A7%8D%E7%BE%A4%E5%86%85%E5%92%8C%E7%A7%8D%E7%BE%A4%E9%97%B4%E7%9A%84%E6%A0%B8%E8%8B%B7%E9%85%B8%E5%A4%9A%E6%A0%B7%E6%80%A7%E5%B7%A5%E5%85%B7/","text":"pixy\u7528\u4e8e\u4ecevcf\u53d8\u5f02\u6587\u4ef6\u4e2d\u8ba1\u7b97pi\uff08\u03c0\uff09,Dxy\u548cFst\u7684\u503c\u3002 1.\u4f7f\u7528conda\u5b89\u88c5pixy github conda install -c conda-forge pixy conda install -c bioconda htslib 2.\u7528\u6cd5\u793a\u4f8b \u5b98\u65b9\u6587\u6863 \u4e00\u952e\u8ba1\u7b97pi,fst,dxy pixy --stats pi fst dxy \\ --vcf data/vcf/ag1000/chrX_36Ag_allsites.vcf.gz \\ --populations Ag1000_sampleIDs_popfile.txt \\ --window_size 10000 \\ --n_cores 8 \u901a\u8fc7\u6307\u5b9abed\u6765\u8ba1\u7b97 pixy --stats pi fst dxy \\ --vcf data/vcf/ag1000/chrX_36Ag_allsites.vcf.gz \\ --populations Ag1000_sampleIDs_popfile.txt \\ --bed_file genomic_windows.bed \u53c2\u6570 --chromosomes \u53ef\u4ee5\u6307\u5b9a\u67d3\u8272\u4f53\uff0c\u6709\u591a\u6761\u67d3\u8272\u4f53\u4f7f\u7528\u9017\u53f7\u5206\u5272 --chromosomes Chr1,Chr3,Chr10 --population Ag1000_sampleIDs_popfile.txt \u6587\u4ef6\u7684\u683c\u5f0f\u5982\u4e0b\uff1a ERS223827 BFS ERS223759 BFS ERS223750 BFS ERS223967 AFS ERS223970 AFS ERS223924 AFS ERS224300 AFS ERS224168 KES ERS224314 KES \u7b2c\u4e00\u5217\u662fsnp\u4e2d\u7684\u6837\u672c\u7684\u540d\u79f0\uff0c\u7b2c\u4e8c\u5217\u662f\u5206\u7ec4\u4fe1\u606f\uff0c\u4e2d\u95f4\u7528\u5236\u8868\u7b26\u5206\u5272\u3002 3.\u53ef\u89c6\u5316 \u4f7f\u7528ggplot2 pixy_to_long <- function(pixy_files){ pixy_df <- list() for(i in 1:length(pixy_files)){ stat_file_type <- gsub(\".*_|.txt\", \"\", pixy_files[i]) if(stat_file_type == \"pi\"){ df <- read_delim(pixy_files[i], delim = \"\\t\") df <- df %>% gather(-pop, -window_pos_1, -window_pos_2, -chromosome, key = \"statistic\", value = \"value\") %>% rename(pop1 = pop) %>% mutate(pop2 = NA) pixy_df[[i]] <- df } else{ df <- read_delim(pixy_files[i], delim = \"\\t\") df <- df %>% gather(-pop1, -pop2, -window_pos_1, -window_pos_2, -chromosome, key = \"statistic\", value = \"value\") pixy_df[[i]] <- df } } bind_rows(pixy_df) %>% arrange(pop1, pop2, chromosome, window_pos_1, statistic) } \u7ed8\u5236\u5728\u6240\u6709\u67d3\u8272\u4f53\u7ea7\u522b\u7684\u5206\u5e03\u56fe # create a custom labeller for special characters in pi/dxy/fst pixy_labeller <- as_labeller(c(avg_pi = \"pi\", avg_dxy = \"D[XY]\", avg_wc_fst = \"F[ST]\"), default = label_parsed) # plotting summary statistics across all chromosomes pixy_df %>% mutate(chrom_color_group = case_when(as.numeric(chromosome) %% 2 != 0 ~ \"even\", chromosome == \"X\" ~ \"even\", TRUE ~ \"odd\" )) %>% mutate(chromosome = factor(chromosome, levels = c(1:22, \"X\", \"Y\"))) %>% filter(statistic %in% c(\"avg_pi\", \"avg_dxy\", \"avg_wc_fst\")) %>% ggplot(aes(x = (window_pos_1 + window_pos_2)/2, y = value, color = chrom_color_group))+ geom_point(size = 0.5, alpha = 0.5, stroke = 0)+ facet_grid(statistic ~ chromosome, scales = \"free_y\", switch = \"x\", space = \"free_x\", labeller = labeller(statistic = pixy_labeller, value = label_value))+ xlab(\"Chromsome\")+ ylab(\"Statistic Value\")+ scale_color_manual(values = c(\"grey50\", \"black\"))+ theme_classic()+ theme(axis.text.x = element_blank(), axis.ticks.x = element_blank(), panel.spacing = unit(0.1, \"cm\"), strip.background = element_blank(), strip.placement = \"outside\", legend.position =\"none\")+ scale_x_continuous(expand = c(0, 0)) + scale_y_continuous(expand = c(0, 0), limits = c(0,NA))","title":"Pixy \u8ba1\u7b97\u79cd\u7fa4\u5185\u548c\u79cd\u7fa4\u95f4\u7684\u6838\u82f7\u9178\u591a\u6837\u6027\u5de5\u5177"},{"location":"BSA/pixy-%E8%AE%A1%E7%AE%97%E7%A7%8D%E7%BE%A4%E5%86%85%E5%92%8C%E7%A7%8D%E7%BE%A4%E9%97%B4%E7%9A%84%E6%A0%B8%E8%8B%B7%E9%85%B8%E5%A4%9A%E6%A0%B7%E6%80%A7%E5%B7%A5%E5%85%B7/#1condapixy-github","text":"conda install -c conda-forge pixy conda install -c bioconda htslib","title":"1.\u4f7f\u7528conda\u5b89\u88c5pixy github"},{"location":"BSA/pixy-%E8%AE%A1%E7%AE%97%E7%A7%8D%E7%BE%A4%E5%86%85%E5%92%8C%E7%A7%8D%E7%BE%A4%E9%97%B4%E7%9A%84%E6%A0%B8%E8%8B%B7%E9%85%B8%E5%A4%9A%E6%A0%B7%E6%80%A7%E5%B7%A5%E5%85%B7/#2","text":"","title":"2.\u7528\u6cd5\u793a\u4f8b \u5b98\u65b9\u6587\u6863"},{"location":"BSA/pixy-%E8%AE%A1%E7%AE%97%E7%A7%8D%E7%BE%A4%E5%86%85%E5%92%8C%E7%A7%8D%E7%BE%A4%E9%97%B4%E7%9A%84%E6%A0%B8%E8%8B%B7%E9%85%B8%E5%A4%9A%E6%A0%B7%E6%80%A7%E5%B7%A5%E5%85%B7/#pifstdxy","text":"pixy --stats pi fst dxy \\ --vcf data/vcf/ag1000/chrX_36Ag_allsites.vcf.gz \\ --populations Ag1000_sampleIDs_popfile.txt \\ --window_size 10000 \\ --n_cores 8","title":"\u4e00\u952e\u8ba1\u7b97pi,fst,dxy"},{"location":"BSA/pixy-%E8%AE%A1%E7%AE%97%E7%A7%8D%E7%BE%A4%E5%86%85%E5%92%8C%E7%A7%8D%E7%BE%A4%E9%97%B4%E7%9A%84%E6%A0%B8%E8%8B%B7%E9%85%B8%E5%A4%9A%E6%A0%B7%E6%80%A7%E5%B7%A5%E5%85%B7/#bed","text":"pixy --stats pi fst dxy \\ --vcf data/vcf/ag1000/chrX_36Ag_allsites.vcf.gz \\ --populations Ag1000_sampleIDs_popfile.txt \\ --bed_file genomic_windows.bed \u53c2\u6570 --chromosomes \u53ef\u4ee5\u6307\u5b9a\u67d3\u8272\u4f53\uff0c\u6709\u591a\u6761\u67d3\u8272\u4f53\u4f7f\u7528\u9017\u53f7\u5206\u5272 --chromosomes Chr1,Chr3,Chr10 --population Ag1000_sampleIDs_popfile.txt \u6587\u4ef6\u7684\u683c\u5f0f\u5982\u4e0b\uff1a ERS223827 BFS ERS223759 BFS ERS223750 BFS ERS223967 AFS ERS223970 AFS ERS223924 AFS ERS224300 AFS ERS224168 KES ERS224314 KES \u7b2c\u4e00\u5217\u662fsnp\u4e2d\u7684\u6837\u672c\u7684\u540d\u79f0\uff0c\u7b2c\u4e8c\u5217\u662f\u5206\u7ec4\u4fe1\u606f\uff0c\u4e2d\u95f4\u7528\u5236\u8868\u7b26\u5206\u5272\u3002 3.\u53ef\u89c6\u5316 \u4f7f\u7528ggplot2 pixy_to_long <- function(pixy_files){ pixy_df <- list() for(i in 1:length(pixy_files)){ stat_file_type <- gsub(\".*_|.txt\", \"\", pixy_files[i]) if(stat_file_type == \"pi\"){ df <- read_delim(pixy_files[i], delim = \"\\t\") df <- df %>% gather(-pop, -window_pos_1, -window_pos_2, -chromosome, key = \"statistic\", value = \"value\") %>% rename(pop1 = pop) %>% mutate(pop2 = NA) pixy_df[[i]] <- df } else{ df <- read_delim(pixy_files[i], delim = \"\\t\") df <- df %>% gather(-pop1, -pop2, -window_pos_1, -window_pos_2, -chromosome, key = \"statistic\", value = \"value\") pixy_df[[i]] <- df } } bind_rows(pixy_df) %>% arrange(pop1, pop2, chromosome, window_pos_1, statistic) } \u7ed8\u5236\u5728\u6240\u6709\u67d3\u8272\u4f53\u7ea7\u522b\u7684\u5206\u5e03\u56fe # create a custom labeller for special characters in pi/dxy/fst pixy_labeller <- as_labeller(c(avg_pi = \"pi\", avg_dxy = \"D[XY]\", avg_wc_fst = \"F[ST]\"), default = label_parsed) # plotting summary statistics across all chromosomes pixy_df %>% mutate(chrom_color_group = case_when(as.numeric(chromosome) %% 2 != 0 ~ \"even\", chromosome == \"X\" ~ \"even\", TRUE ~ \"odd\" )) %>% mutate(chromosome = factor(chromosome, levels = c(1:22, \"X\", \"Y\"))) %>% filter(statistic %in% c(\"avg_pi\", \"avg_dxy\", \"avg_wc_fst\")) %>% ggplot(aes(x = (window_pos_1 + window_pos_2)/2, y = value, color = chrom_color_group))+ geom_point(size = 0.5, alpha = 0.5, stroke = 0)+ facet_grid(statistic ~ chromosome, scales = \"free_y\", switch = \"x\", space = \"free_x\", labeller = labeller(statistic = pixy_labeller, value = label_value))+ xlab(\"Chromsome\")+ ylab(\"Statistic Value\")+ scale_color_manual(values = c(\"grey50\", \"black\"))+ theme_classic()+ theme(axis.text.x = element_blank(), axis.ticks.x = element_blank(), panel.spacing = unit(0.1, \"cm\"), strip.background = element_blank(), strip.placement = \"outside\", legend.position =\"none\")+ scale_x_continuous(expand = c(0, 0)) + scale_y_continuous(expand = c(0, 0), limits = c(0,NA))","title":"\u901a\u8fc7\u6307\u5b9abed\u6765\u8ba1\u7b97"},{"location":"BSA/snpEFF%E7%9A%84%E4%BD%BF%E7%94%A8/","text":"0.\u5173\u4e8esnpEff\uff0c\u5efa\u8bae\u5927\u5bb6\u53bb \u5b98\u7f51 \u770b\u4e00\u4e0b\u4f5c\u8005\u3002\u901d\u8005\u5df2\u53bb\uff0c\u6df1\u5207\u7f05\u6000\u3002\u540c\u65f6\u770b\u4e0b \u5b98\u65b9\u6587\u6863 ~\u5b98\u65b9\u6587\u6863\u6709\u51e0\u5904\u8bed\u8a00\u6216\u8005\u7a0b\u5e8f\u547d\u4ee4\u9519\u8bef~ 1. \u6559\u7a0b\u5730\u5740 \u4e0b\u8f7dsnpEff\u5730\u5740 \u89e3\u538b unzip snpEff_latest_core.zip \u6211\u7684\u8def\u5f84\u662f/home/chaim/bsa/snpEff/ 2. \u914d\u7f6e\u7389\u7c73zm437\u7248\u672c\u7684\u6570\u636e\u5e93 \u5728\u8def\u5f84 /home/chaim/bsa/snpEff/snpEff/ \u76ee\u5f55\u4e0b\u521b\u5efa\u6587\u4ef6\u5939 data , cd /home/chaim/bsa/snpEff/snpEff/ mkdir data cd data mkdir genomes mkdir zm437 #\u5728zm437\u76ee\u5f55\u5b58\u653e\u57fa\u56e0\u7ec4\u6ce8\u91ca\u6587\u4ef6genes.gff, \u86cb\u767d\u5e93\uff0cprotein.fa #\u5728genomes\u76ee\u5f55\u653e\u7f6e\u57fa\u56e0\u7ec4\u53c2\u8003\u5e8f\u5217 zm437.fa \u6ce8\u610f\u4e0a\u8ff0\u7684\u57fa\u56e0\u7ec4\u6ce8\u91ca\u6587\u4ef6\u662fgff3\u683c\u5f0f\u3002 \u4fee\u6539snpEff.config\u7684\u53c2\u6570 \u6dfb\u52a0\u5982\u4e0b\u5185\u5bb9 #maize genome,version zm437 zm437.genome:maize \u56de\u5230snpEFF\u76ee\u5f55\uff0c\u8fd0\u884c\u547d\u4ee4 java -jar snpEff.jar build -gff3 -v zm437 3. \u5bf9vcf\u683c\u5f0f\u6587\u4ef6\u8fdb\u884c\u6ce8\u91ca\uff1a bwa \u76ee\u5f55\u5b58\u653e\u7740GATK4\u5904\u7406\u4e4b\u540e\u7684\u6587\u4ef6 common_filtration.vcf \u5728 /home/chaim/bsa/bwa \u76ee\u5f55\u6267\u884c\u4e0b\u9762\u547d\u4ee4 java -Xmx8g -jar /home/chaim/bsa/snpEff/ snpEff/snpEff.jar zm437 common_filtration.vcf > common.eff \u4f1a\u8f93\u51fa\u4e09\u4e2a\u6587\u4ef6\uff0c snpEff_genes.txt snpEff_summary.html common.eff.vcf \u5982\u679c\u4e0d\u662f\u5728\u5b89\u88c5\u76ee\u5f55\u8fd0\u884csnpEff\uff0c\u9700\u8981\u52a0\u4e0a-c\u53c2\u6570\u3002 \u53c2\u6570\u8bf4\u660e\uff1a -c \u5b89\u88c5snpEff\u7684\u76ee\u5f55config\u6587\u4ef6\u7684\u4f4d\u7f6e -verbose \u8be6\u7ec6\u6a21\u5f0f\uff0c\u65b9\u4fbf\u67e5\u770b\u51fa\u9519\u4fe1\u606f zm442 \u6211\u81ea\u5df1\u751f\u6210\u7684\u57fa\u56e0\u7ec4\u6ce8\u91ca\u4fe1\u606f \u547d\u4ee4\u5982\u4e0b\uff1a java -Xmx8g -jar /public/home/soft/snpEff/snpEff/snpEff.jar -c /public/home/soft/snpEff/snpEff/snpEff.config zm442 F8.Filter.vcf -verbose -stats F8.summary.html -csvStats F8.csv >F8.ann.vcf \u5982\u679c\u60f3\u66f4\u6539\u4f7f\u7528\u5176\u4ed6\u6ce8\u91ca\u6587\u4ef6\uff0c \u5220\u9664 /home/chaim/bsa/snpEff/snpEff//data/zm437/snpEffectPredictor.bin \u8be5\u6587\u4ef6\u5220\u9664\u5373\u53ef\u3002 \u91cd\u65b0\u4ece\u6b65\u9aa41\u5f00\u59cb\u5373\u53ef\u3002 5.\u4ea7\u51fa\u7ed3\u679c\u5206\u6790 #\u9ed8\u8ba4\u662fann java -Xmx8g -jar /home/chaim/bsa/snpEff/ snpEff/snpEff.jar ann zm442 common_filtration.vcf > common.eff *.ann.vcf \u662f\u4e00\u4e2a\u6ce8\u91ca\u7ed3\u679c\u6587\u4ef6\uff0c\u5176\u5c31\u5728vcf\u7684info\u4fe1\u606f\u65b0\u6dfb\u52a0\u4e86anno\u4e00\u5217\u4fe1\u606f\uff0c\u5176\u5177\u4f53\u6bcf\u4e2a\u503c\u542b\u4e49\u5982\u4e0b\uff1a Allele \u3000\u3000\u7a81\u53d8\u4e4b\u540e\u7684\u78b1\u57fa\uff0c\u7b2c\u4e00\u4e2a\u7a81\u53d8\u4f4d\u70b9\u7531T\u78b1\u57fa\u7a81\u53d8\u6210\u4e86C\u78b1\u57fa\uff0c\u5bf9\u5e94Allel\u7684\u503c\u4e3aC Annotation \u3000\u3000\u7531sequence ontology\u5b9a\u4e49\u7684\u7a81\u53d8\u7c7b\u578b Annotation_Impact \u3000\u3000\u5bf9\u53d8\u5f02\u4f4d\u70b9\u6709\u5bb3\u7a0b\u5ea6\u7684\u7b80\u5355\u8bc4\u4f30\uff0c\u53d6\u503c\u6709HIGH, MODERATE, LOW, MODIFIER 4\u79cd\uff0c\u542b\u4e49\u5982\u4e0b Impact Meaning Example HIGH The variant is assumed to have high (disruptive) impact in the protein, probably causing protein truncation, loss of function or triggering nonsense mediated decay. stop_gained, frameshift_variant MODERATE A non-disruptive variant that might change protein effectiveness. missense_variant, inframe_deletion LOW Assumed to be mostly harmless or unlikely to change protein behavior. synonymous_variant MODIFIER Usually non-coding variants or variants affecting non-coding genes, where predictions are difficult or there is no evidence of impact. exon_variant, downstream_gene_variant Snp\u4e0b\u6e38\u7684\u5206\u6790 \u53ef\u4ee5\u4f7f\u7528snpEff\u6ce8\u91ca\u7684vcf\u8fdb\u884c4DTv\u4f4d\u70b9\u5206\u6790\uff0c\u7136\u540e\u7528\u5176\u6784\u5efa\u8fdb\u5316\u6811\u3002 \u6216\u8005\u662f\u76f4\u63a5\u4f7f\u7528vcf\u6784\u5efa\u8fdb\u5316\u6811\u3002 \u4e24\u79cd\u65b9\u6cd5\u6784\u5efa\u8fdb\u5316\u6811\u5747\u5df2\u7ecf\u5b9e\u73b0\u6d41\u7a0b\u81ea\u52a8\u5316\u3002 Vcf2Tree github","title":"snpEFF\u7684\u4f7f\u7528"},{"location":"BSA/snpEFF%E7%9A%84%E4%BD%BF%E7%94%A8/#snp","text":"\u53ef\u4ee5\u4f7f\u7528snpEff\u6ce8\u91ca\u7684vcf\u8fdb\u884c4DTv\u4f4d\u70b9\u5206\u6790\uff0c\u7136\u540e\u7528\u5176\u6784\u5efa\u8fdb\u5316\u6811\u3002 \u6216\u8005\u662f\u76f4\u63a5\u4f7f\u7528vcf\u6784\u5efa\u8fdb\u5316\u6811\u3002 \u4e24\u79cd\u65b9\u6cd5\u6784\u5efa\u8fdb\u5316\u6811\u5747\u5df2\u7ecf\u5b9e\u73b0\u6d41\u7a0b\u81ea\u52a8\u5316\u3002 Vcf2Tree github","title":"Snp\u4e0b\u6e38\u7684\u5206\u6790"},{"location":"BSA/%E4%B8%8D%E5%88%A9%E5%8F%98%E5%BC%82%E5%88%86%E6%9E%90%E5%B7%A5%E5%85%B7%E6%B1%87%E6%80%BB/","text":"annovar\u548cSnpEFF\u5185\u7f6e\u4e0d\u5229\u53d8\u5f02\u5206\u6790\u5de5\u5177\u3002\u8f93\u51fa\u6587\u4ef6\u8be6\u7ec6\u8bf4\u660e https://brb.nci.nih.gov/seqtools/colexpanno.html _annoTable.txt \u901a\u8fc7ANNOVAR\u8f93\u51fa _annoTable.txt \u901a\u8fc7SnpEff\u8f93\u51fa *_genelist.txt \u4ece\u6ce8\u91ca\u8005\u901a\u8fc7ANNOVAR\u548cSnpEff dbNSFP\u4fe1\u606f \u53c2\u80032 \u4e0d\u5229\u53d8\u5f02\u5206\u6790\u5de5\u5177\u7efc\u5408\u6027\u6570\u636e\u5e93 dbNSFP dbNSFP\u662f\u4e00\u4e2a\u6570\u636e\u5e93\uff0c\u7528\u4e8e\u529f\u80fd\u9884\u6d4b\u548c\u6ce8\u91ca\u4eba\u7c7b\u57fa\u56e0\u7ec4\u4e2d\u6240\u6709 \u6f5c\u5728\u7684\u975e\u540c\u4e49\u5355\u6838\u82f7\u9178\u53d8\u4f53\uff08nsSNV\uff09\u3002 \u5b83\u7684\u5f53\u524d\u7248\u672c\u57fa\u4e8eGencode\u7248\u672c29 / Ensembl 94\u7248\u672c\uff0c\u5305\u62ec\u603b\u5171 84,013,490 nsSNV\u548cssSNV\uff08\u62fc\u63a5\u7ad9\u70b9 SNV\uff09\u3002 \u5b83\u4e0b\u9762 37\u79cd\u9884\u6d4b\u7b97\u6cd5 - SIFT\u548c SIFT4G \uff0c\u5efa\u8bae\u4f7f\u7528SIFT4G,\u800c\u4e14\u652f\u6301\u591a\u79cd\u7269\u79cd -Polyphen2-HVAR\u548c Polyphen2-HDIV \uff0c\u53ea\u652f\u6301\u4eba\u7c7b\uff0c\u6574\u54083D\u7ed3\u6784\u7279\u5f81 - LRT\uff0c - MutationTaster2 \u5728\u7ebf\u5de5\u5177\uff0c\u53ea\u652f\u6301\u4eba\u7c7b,\u53ef\u4ee5\u6839\u636e\u75be\u75c5\u6765\u9009\u62e9\uff0c\u540c\u65f6\u652f\u6301\u5355\u4e2a\u7684\u9884\u6d4b - MutationAssessor \u5728\u7ebf\u5de5\u5177\uff0c\u4eba\u7c7b\u764c\u75c7\u65b9\u5411 - MetaSVM - MetaLR - [CADD](https://cadd.gs.washington.edu/download) \u548c CADD_hg19 \u4eba\u7c7b\u6570\u636e - VEST4 \u53ea\u652f\u6301\u4eba\u7c7b - PROVEAN \u652f\u6301\u4eba\u7c7b\u548c\u5c0f\u9f20 - FATHMM \u53ef\u4ee5\u5206\u4e3a FATHMM-MKL \u7f16\u7801\u548c FATHMM-XF \u7f16\u7801, \u53ea\u652f\u6301\u4eba\u7c7b\u764c\u75c7\u548c\u75be\u75c5 \u6c47\u603b\u9884\u6d4b\u5206\u6570\uff0c fitCons x 4 - LINSIGHT \uff0c DANN\uff0c GenoCanyon\uff0c Eigen\uff0c Eigen-PC\uff0c M-CAP\uff0c REVEL\uff0c MutPred\uff0c MVP\uff0c MPC\uff0c PrimateAI\uff0c GEOGEN2\uff0c BayesDel_addAF\uff0c BayesDel_noAF\uff0c ClinPred\uff0c LIST-S2\uff0c ALoFT 9\u4e2a\u4fdd\u5b88\u5f97\u5206 PhyloP x 3\uff0c phastCons x 3\uff0c GERP ++\uff0c SiPhy \u548c bStatistic \u4ee5\u53ca\u5176\u4ed6\u76f8\u5173\u4fe1\u606f\uff0c\u5305\u62ec \u57281000\u4e2a\u57fa\u56e0\u7ec4\u8ba1\u5212\u7b2c3\u9636\u6bb5\u6570\u636e\u4e2d\u89c2\u5bdf\u5230\u7684\u7b49\u4f4d\u57fa\u56e0\u9891\u7387 \uff0cUK10K\u961f\u5217\u6570\u636e\uff0cExAC\u534f\u4f1a\u6570\u636e\uff0cgnomAD\u6570\u636e\u548cNHLBI\u5916\u663e\u5b50\u7ec4\u6d4b\u5e8f\u8ba1\u5212ESP6500\u6570\u636e\uff0c\u6765\u81ea\u4e0d\u540c\u6570\u636e\u5e93\u7684\u5404\u79cd\u57fa\u56e0ID\uff0c\u57fa\u56e0\u529f\u80fd\u63cf\u8ff0\uff0c\u57fa\u56e0\u8868\u8fbe\u548c\u57fa\u56e0\u76f8\u4e92\u4f5c\u7528\u4fe1\u606f\u7b49\u3002 \u67d0\u4e9bdbNSFP\u5185\u5bb9\uff08\u867d\u7136\u53ef\u80fd\u4e0d\u662f\u6700\u65b0\u7684\uff09\u4e5f\u53ef\u4ee5\u901a\u8fc7 variant tools \u3001 ANNOVAR \u3001 KGGSeq \u3001 VarSome UCSC\u57fa\u56e0\u7ec4\u6d4f\u89c8\u5668\u7684 Variant Annotation Integrator \u3001 Ensembl VEP \u3001 SnpSift \u3001 HGMD","title":"\u4e0d\u5229\u53d8\u5f02\u5206\u6790\u5de5\u5177\u6c47\u603b"},{"location":"BSA/%E4%B8%8D%E5%88%A9%E5%8F%98%E5%BC%82%E5%88%86%E6%9E%90%E5%B7%A5%E5%85%B7%E6%B1%87%E6%80%BB/#_1","text":"fitCons x 4 - LINSIGHT \uff0c DANN\uff0c GenoCanyon\uff0c Eigen\uff0c Eigen-PC\uff0c M-CAP\uff0c REVEL\uff0c MutPred\uff0c MVP\uff0c MPC\uff0c PrimateAI\uff0c GEOGEN2\uff0c BayesDel_addAF\uff0c BayesDel_noAF\uff0c ClinPred\uff0c LIST-S2\uff0c ALoFT","title":"\u6c47\u603b\u9884\u6d4b\u5206\u6570\uff0c"},{"location":"BSA/%E4%B8%8D%E5%88%A9%E5%8F%98%E5%BC%82%E5%88%86%E6%9E%90%E5%B7%A5%E5%85%B7%E6%B1%87%E6%80%BB/#9","text":"PhyloP x 3\uff0c phastCons x 3\uff0c GERP ++\uff0c SiPhy \u548c bStatistic \u4ee5\u53ca\u5176\u4ed6\u76f8\u5173\u4fe1\u606f\uff0c\u5305\u62ec \u57281000\u4e2a\u57fa\u56e0\u7ec4\u8ba1\u5212\u7b2c3\u9636\u6bb5\u6570\u636e\u4e2d\u89c2\u5bdf\u5230\u7684\u7b49\u4f4d\u57fa\u56e0\u9891\u7387 \uff0cUK10K\u961f\u5217\u6570\u636e\uff0cExAC\u534f\u4f1a\u6570\u636e\uff0cgnomAD\u6570\u636e\u548cNHLBI\u5916\u663e\u5b50\u7ec4\u6d4b\u5e8f\u8ba1\u5212ESP6500\u6570\u636e\uff0c\u6765\u81ea\u4e0d\u540c\u6570\u636e\u5e93\u7684\u5404\u79cd\u57fa\u56e0ID\uff0c\u57fa\u56e0\u529f\u80fd\u63cf\u8ff0\uff0c\u57fa\u56e0\u8868\u8fbe\u548c\u57fa\u56e0\u76f8\u4e92\u4f5c\u7528\u4fe1\u606f\u7b49\u3002 \u67d0\u4e9bdbNSFP\u5185\u5bb9\uff08\u867d\u7136\u53ef\u80fd\u4e0d\u662f\u6700\u65b0\u7684\uff09\u4e5f\u53ef\u4ee5\u901a\u8fc7 variant tools \u3001 ANNOVAR \u3001 KGGSeq \u3001 VarSome","title":"9\u4e2a\u4fdd\u5b88\u5f97\u5206"},{"location":"BSA/%E4%B8%8D%E5%88%A9%E5%8F%98%E5%BC%82%E5%88%86%E6%9E%90%E5%B7%A5%E5%85%B7%E6%B1%87%E6%80%BB/#ucsc","text":"Variant Annotation Integrator \u3001 Ensembl VEP \u3001 SnpSift \u3001 HGMD","title":"UCSC\u57fa\u56e0\u7ec4\u6d4f\u89c8\u5668\u7684"},{"location":"BSA/%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8QTL-seqr/","text":"QTL-seqr\u662f\u4e00\u4e2aR\u5305\u3002 \u5b98\u65b9\u6587\u4ef6\u5730\u5740 qtl-seqr\u53c2\u6570\u8be6\u89e3 \u5b89\u88c5\u6d41\u7a0b \u5728R\u73af\u5883\u91cc install.packages(\"devtools\") #\u5b89\u88c5devtools library(devtools) install_github(\"bmansfeld/QTLseqr\") #\u4f7f\u7528devtools\u5b89\u88c5QTLseqr \u76ee\u524d\u7248\u672c\u53f7\uff1aQTLseqr v0.7.5.2 #load the package library(\"QTLseqr\") #Set sample and file names LowBulk <- \"119-8\" HighBulk <- \"2447-20\" file <- \"common.table\" #Choose which chromosomes will be included in the analysis (i.e. exclude smaller contigs) Chroms <- paste0(rep(\"\", 10), 1:10)#\u6b64\u5904\u9700\u8981\u6839\u636e\u7269\u79cd\u7684\u67d3\u8272\u4f53\u6570\u91cf\u8bbe\u5b9a\uff0c\u540c\u65f6\u62ec\u53f7\u4e2d\u53cc\u5f15\u53f7\uff0c\u5982\u679c\u662fchr1\u8fd9\u79cd\u5219\u5e94\u4fee\u6539\u4e3arep(\"chr\"\uff0c10)\u3002\u5982\u679c\u662f1\u8fd9\u79cd\u7c7b\u578b\uff0c\u5219\u548c\u6211\u7684\u8bbe\u7f6e\u4e00\u6837\u3002 #Import SNP data from file df <- importFromGATK( file = file, highBulk = HighBulk, lowBulk = LowBulk, chromList = Chroms ) #Filter SNPs based on some criteria #\u7ecf\u8fc7\u68c0\u6d4b\uff0c\u8fd9\u4e2aREF\u8bbe\u7f6e\u4e3a0.20\u7ed3\u679c\u6bd4\u8f83\u7406\u60f3\uff0c\u53ef\u4ee5\u6839\u636e\u81ea\u4e0a\u8ff0\u7684\u7edf\u8ba1\u4fe1\u606f\u81ea\u884c\u4fee\u6539 df_filt <- filterSNPs( SNPset = df, refAlleleFreq = 0.20, minTotalDepth = 100, maxTotalDepth = 400, minSampleDepth = 40, minGQ = 99 ) #\u4f7f\u7528ggplot2\u68c0\u6d4b\u8d28\u63a7\u4e4b\u524d\u7684\u8bfb\u53d6\u6df1\u5ea6\u7684\u76f4\u65b9\u56fe\uff0c\u7528\u4ee5\u786e\u5b9a\u540e\u7eedDepth\u7684\u8fc7\u6ee4\u53c2\u6570 library(\"ggplot2\") ggplot(data=df)+geom_histogram(aes(x=DP.HIGH+DP.LOW),bins=50)+xlim(0,500) #\u68c0\u6d4b\u7b49\u4f4d\u57fa\u56e0\u9891\u7387\uff0c\u5e94\u8be5\u662f\u6b63\u6001\u5206\u5e03,\u51b3\u5b9a\u540e\u7eed\u8fc7\u6ee4\u53c2\u6570REF\u7684\u503c\u3002 ggplot(data=df)+geom_histogram(aes(x=REF_FRQ),bins=50) #\u68c0\u6d4b\u6bcf\u4e2a\u6837\u672c\u7684snp-index,\u6211\u4eec\u671f\u671b\u7684\u662f\u6b63\u6001\u5206\u5e03\uff0c\u5927\u90e8\u5206\u5e94\u8be5\u57280.5\u9644\u8fd1\uff0c\u540c\u65f6\u57280\u548c1\u51fa\u73b0\u4e24\u4e2a\u5c0f\u5cf0 ggplot(data = df) + geom_histogram(aes(x = SNPindex.HIGH)) ggplot(data = df) + geom_histogram(aes(x = SNPindex.LOW)) #Run G' analysis df_filt <- runGprimeAnalysis( SNPset = df_filt, windowSize = 1e6, outlierFilter = \"deltaSNP\") #Run QTLseq analysis df_filt <- runQTLseqAnalysis( SNPset = df_filt, windowSize = 1e6,#\u5982\u679c\u7a0b\u5e8f\u62a5\u9519\uff0c\u5c31\u589e\u5927\u7a97\u53e3\u5927\u5c0f popStruc = \"F2\",#\u7fa4\u4f53\u7ed3\u6784F2\u6216\u8005RIL bulkSize = c(30, 30),#\u6bcf\u4e2a\u6c60\u7684\u5355\u682a\u6570\u91cf replications = 10000, intervals = c(95, 99) ) #Plot plotQTLStats(SNPset = df_filt, var = \"Gprime\", plotThreshold = TRUE, q = 0.01) plotQTLStats(SNPset = df_filt, var = \"deltaSNP\", plotIntervals = TRUE) #export summary CSV getQTLTable(SNPset = df_filt, alpha = 0.01, export = TRUE, fileName = \"my_BSA_QTL.csv\")","title":"\u5b89\u88c5\u4f7f\u7528QTL seqr"},{"location":"BSA/%E7%BB%93%E6%9E%84%E5%8F%98%E5%BC%82SV%E5%88%86%E6%9E%90%28WGS-WES%29%E5%92%8C%E8%9E%8D%E5%90%88%E5%9F%BA%E5%9B%A0%E6%A3%80%E6%B5%8B%EF%BC%88RNA%EF%BC%89/","text":"69\u79cd\u5de5\u5177\u68c0\u6d4bSV\u5bf9\u6bd4 https://www.jianshu.com/p/85ff211b4b4e https://zhuanlan.zhihu.com/p/87408242?utm_campaign=rss&utm_medium=rss&utm_source=rss&utm_content=title \u6700\u7ec8\u51b3\u5b9a\u4f7f\u7528wham\u548cManta\u7ec4\u5408\uff0c\u5176\u5b9e\u6700\u4f18\u7ec4\u5408\u5e94\u8be5\u662fwham\uff0cinGAP-SV\u7ec4\u5408\u6216\u8005inGAP-sv,PBHoney-NGM\u7ec4\u5408\u3002 \u5b89\u88c5wham(\u73b0\u5728\u5b9e\u9645\u662fwhamg) github git clone --recursive https://github.com/zeeev/wham.git cd wham make \u5b89\u88c5Manta github #\u5f3a\u70c8\u63a8\u8350\u4f7f\u7528\u4e8c\u8fdb\u5236\u7248\u672c\uff0c\u4e0d\u7528\u7f16\u8bd1\uff0c\u5c11\u4e86\u5f88\u591a\u9ebb\u70e6(\u867d\u7136\u662fcentos6\u4f46\u662f\u5176\u4ed6\u7248\u672c\u7684linux\u4e5f\u80fd\u4f7f\u7528) wget https://github.com/Illumina/manta/releases/download/v1.6.0/manta-1.6.0.centos6_x86_64.tar.bz2 tar -jxvf manta-1.6.0.centos6_x86_64.tar.bz2 cd manta-1.6.0.centos6_x86_64/bin ./configManta.py -h #Manta\u662f\u57fa\u4e8epython2\uff0c\u5982\u679c\u4f60\u7684\u9ed8\u8ba4python\u662fpython3\uff0c\u53ef\u4ee5\u8fd9\u6837\u8c03\u7528\u3002 python2 configManta.py ##\u6211\u76f4\u63a5\u628a\u4e0a\u8ff0\u547d\u4ee4\u548c\u8def\u5f84\u52a0\u8fdbpath alias Manta=\"python2 /share/home/software/manta/manta-1.6.0.centos6_x86_64/bin/configManta.py\" #\u76f4\u63a5\u8fd0\u884cManta \u5c31\u884c\u4e86\u3002 \u8fd0\u884cManta Manta \\ --bam NA12878_S1.bam \\ --bam NA12891_S1.bam \\ --bam NA12892_S1.bam \\ --callRegions hg38.bed \\ --referenceFasta hg38.fa \\ --runDir ${MANTA_ANALYSIS_PATH} \u53c2\u6570\u8bf4\u660e\uff1a \u8981\u6c42\u8f93\u5165\u7684bam\u548cfa\u5fc5\u987b\u6709samtool\u7684fai\u7d22\u5f15\u6587\u4ef6\uff0cbam\u8fd8\u9700\u8981sort\u8fc7\u3002 --callRegions \u9002\u7528\u4e8e\u6307\u5b9a\u67d3\u8272\u4f53\uff0c\u901a\u8fc7\u8fd9\u79cd\u65b9\u5f0f\u6765\u53ea\u5206\u6790chr\u4e0a\u7684\uff0c\u800c\u4e0d\u5206\u6790scaffold\u3002 hg38.bed\u5185\u5bb9\u5982\u4e0b chr1 0 248956422 chr2 0 242193529 chr3 0 198295559 chr4 0 190214555 chr5 0 181538259 chr6 0 170805979 chr7 0 159345973 chr8 0 145138636 chr9 0 138394717 chr10 0 133797422 chr11 0 135086622 chr12 0 133275309 chr13 0 114364328 chr14 0 107043718 chr15 0 101991189 chr16 0 90338345 chr17 0 83257441 chr18 0 80373285 chr19 0 58617616 chr20 0 64444167 chr21 0 46709983 chr22 0 50818468 chrX 0 156040895 chrY 0 57227415 chrM 0 16569 \u8fd0\u884cwhamg \u76ee\u524d\u65e0\u6cd5\u6210\u529f\u5b89\u88c5wham \u878d\u5408\u57fa\u56e0\u68c0\u6d4b http://www.bio-info-trainee.com/7258.html Comparative assessment of methods for the fusion transcripts detection from RNA-Seq data 2016\u5e74 \u6d4b\u8bc412\u4e2a\u5de5\u5177 Accuracy assessment of fusion transcript detection via read-mapping and de novo fusion transcript assembly-based methods 2019\u5e74\u6d4b\u8bc4 23\u4e2a\u5de5\u5177 \u8bba\u6587 \u51b3\u5b9a\u4f7f\u7528STAR-fusion\u68c0\u6d4b\u878d\u5408\u57fa\u56e0\u3002 STAR-fusion\u662f\u57fa\u4e8eSTAR\u6bd4\u5bf9\u7684\u7ed3\u679c\u8fdb\u884c\u68c0\u6d4b\u878d\u5408\u57fa\u56e0\u7684\u3002 #\u5b89\u88c5START-fusion conda install -c bioconda star-fusion \u6ce8\u610f\uff1aSTAR\u548cSTAR-fusion\u7684\u4e0d\u540c\u7248\u672c\u7684\u517c\u5bb9\u6027\u6709\u8f83\u5927\u95ee\u9898\uff0c\u5f00\u59cb\u5206\u6790\u524d\uff0c\u4e00\u5b9a\u5148\u786e\u5b9a\u4f7f\u7528\u7684\u7248\u672c\u4e4b\u95f4\u4ea7\u51fa\u7684\u6587\u4ef6\u662f\u5426\u517c\u5bb9\u3002 \u53c2\u8003: STAR-fusion\u7684\u4f7f\u7528 STAR-fusion\u68c0\u51fa\u878d\u5408\u57fa\u56e0\u7684\u540e\u7eed\u5206\u6790 WGS\u548cRNA-seq\u8054\u5408\u5206\u6790\u53c2\u8003\u6587\u7ae0 2019 NC https://www.nature.com/articles/s41467-019-10680-5#Sec10","title":"\u7ed3\u6784\u53d8\u5f02SV\u5206\u6790(WGS WES)\u548c\u878d\u5408\u57fa\u56e0\u68c0\u6d4b\uff08RNA\uff09"},{"location":"BSA/%E7%BB%93%E6%9E%84%E5%8F%98%E5%BC%82SV%E5%88%86%E6%9E%90%28WGS-WES%29%E5%92%8C%E8%9E%8D%E5%90%88%E5%9F%BA%E5%9B%A0%E6%A3%80%E6%B5%8B%EF%BC%88RNA%EF%BC%89/#whamwhamg-github","text":"git clone --recursive https://github.com/zeeev/wham.git cd wham make","title":"\u5b89\u88c5wham(\u73b0\u5728\u5b9e\u9645\u662fwhamg) github"},{"location":"BSA/%E7%BB%93%E6%9E%84%E5%8F%98%E5%BC%82SV%E5%88%86%E6%9E%90%28WGS-WES%29%E5%92%8C%E8%9E%8D%E5%90%88%E5%9F%BA%E5%9B%A0%E6%A3%80%E6%B5%8B%EF%BC%88RNA%EF%BC%89/#manta-github","text":"#\u5f3a\u70c8\u63a8\u8350\u4f7f\u7528\u4e8c\u8fdb\u5236\u7248\u672c\uff0c\u4e0d\u7528\u7f16\u8bd1\uff0c\u5c11\u4e86\u5f88\u591a\u9ebb\u70e6(\u867d\u7136\u662fcentos6\u4f46\u662f\u5176\u4ed6\u7248\u672c\u7684linux\u4e5f\u80fd\u4f7f\u7528) wget https://github.com/Illumina/manta/releases/download/v1.6.0/manta-1.6.0.centos6_x86_64.tar.bz2 tar -jxvf manta-1.6.0.centos6_x86_64.tar.bz2 cd manta-1.6.0.centos6_x86_64/bin ./configManta.py -h #Manta\u662f\u57fa\u4e8epython2\uff0c\u5982\u679c\u4f60\u7684\u9ed8\u8ba4python\u662fpython3\uff0c\u53ef\u4ee5\u8fd9\u6837\u8c03\u7528\u3002 python2 configManta.py ##\u6211\u76f4\u63a5\u628a\u4e0a\u8ff0\u547d\u4ee4\u548c\u8def\u5f84\u52a0\u8fdbpath alias Manta=\"python2 /share/home/software/manta/manta-1.6.0.centos6_x86_64/bin/configManta.py\" #\u76f4\u63a5\u8fd0\u884cManta \u5c31\u884c\u4e86\u3002","title":"\u5b89\u88c5Manta github"},{"location":"BSA/%E7%BB%93%E6%9E%84%E5%8F%98%E5%BC%82SV%E5%88%86%E6%9E%90%28WGS-WES%29%E5%92%8C%E8%9E%8D%E5%90%88%E5%9F%BA%E5%9B%A0%E6%A3%80%E6%B5%8B%EF%BC%88RNA%EF%BC%89/#manta","text":"Manta \\ --bam NA12878_S1.bam \\ --bam NA12891_S1.bam \\ --bam NA12892_S1.bam \\ --callRegions hg38.bed \\ --referenceFasta hg38.fa \\ --runDir ${MANTA_ANALYSIS_PATH}","title":"\u8fd0\u884cManta"},{"location":"BSA/%E7%BB%93%E6%9E%84%E5%8F%98%E5%BC%82SV%E5%88%86%E6%9E%90%28WGS-WES%29%E5%92%8C%E8%9E%8D%E5%90%88%E5%9F%BA%E5%9B%A0%E6%A3%80%E6%B5%8B%EF%BC%88RNA%EF%BC%89/#_1","text":"\u8981\u6c42\u8f93\u5165\u7684bam\u548cfa\u5fc5\u987b\u6709samtool\u7684fai\u7d22\u5f15\u6587\u4ef6\uff0cbam\u8fd8\u9700\u8981sort\u8fc7\u3002 --callRegions \u9002\u7528\u4e8e\u6307\u5b9a\u67d3\u8272\u4f53\uff0c\u901a\u8fc7\u8fd9\u79cd\u65b9\u5f0f\u6765\u53ea\u5206\u6790chr\u4e0a\u7684\uff0c\u800c\u4e0d\u5206\u6790scaffold\u3002 hg38.bed\u5185\u5bb9\u5982\u4e0b chr1 0 248956422 chr2 0 242193529 chr3 0 198295559 chr4 0 190214555 chr5 0 181538259 chr6 0 170805979 chr7 0 159345973 chr8 0 145138636 chr9 0 138394717 chr10 0 133797422 chr11 0 135086622 chr12 0 133275309 chr13 0 114364328 chr14 0 107043718 chr15 0 101991189 chr16 0 90338345 chr17 0 83257441 chr18 0 80373285 chr19 0 58617616 chr20 0 64444167 chr21 0 46709983 chr22 0 50818468 chrX 0 156040895 chrY 0 57227415 chrM 0 16569","title":"\u53c2\u6570\u8bf4\u660e\uff1a"},{"location":"BSA/%E7%BB%93%E6%9E%84%E5%8F%98%E5%BC%82SV%E5%88%86%E6%9E%90%28WGS-WES%29%E5%92%8C%E8%9E%8D%E5%90%88%E5%9F%BA%E5%9B%A0%E6%A3%80%E6%B5%8B%EF%BC%88RNA%EF%BC%89/#whamg","text":"\u76ee\u524d\u65e0\u6cd5\u6210\u529f\u5b89\u88c5wham \u878d\u5408\u57fa\u56e0\u68c0\u6d4b http://www.bio-info-trainee.com/7258.html Comparative assessment of methods for the fusion transcripts detection from RNA-Seq data 2016\u5e74 \u6d4b\u8bc412\u4e2a\u5de5\u5177 Accuracy assessment of fusion transcript detection via read-mapping and de novo fusion transcript assembly-based methods 2019\u5e74\u6d4b\u8bc4 23\u4e2a\u5de5\u5177 \u8bba\u6587 \u51b3\u5b9a\u4f7f\u7528STAR-fusion\u68c0\u6d4b\u878d\u5408\u57fa\u56e0\u3002 STAR-fusion\u662f\u57fa\u4e8eSTAR\u6bd4\u5bf9\u7684\u7ed3\u679c\u8fdb\u884c\u68c0\u6d4b\u878d\u5408\u57fa\u56e0\u7684\u3002 #\u5b89\u88c5START-fusion conda install -c bioconda star-fusion \u6ce8\u610f\uff1aSTAR\u548cSTAR-fusion\u7684\u4e0d\u540c\u7248\u672c\u7684\u517c\u5bb9\u6027\u6709\u8f83\u5927\u95ee\u9898\uff0c\u5f00\u59cb\u5206\u6790\u524d\uff0c\u4e00\u5b9a\u5148\u786e\u5b9a\u4f7f\u7528\u7684\u7248\u672c\u4e4b\u95f4\u4ea7\u51fa\u7684\u6587\u4ef6\u662f\u5426\u517c\u5bb9\u3002 \u53c2\u8003: STAR-fusion\u7684\u4f7f\u7528 STAR-fusion\u68c0\u51fa\u878d\u5408\u57fa\u56e0\u7684\u540e\u7eed\u5206\u6790 WGS\u548cRNA-seq\u8054\u5408\u5206\u6790\u53c2\u8003\u6587\u7ae0 2019 NC https://www.nature.com/articles/s41467-019-10680-5#Sec10","title":"\u8fd0\u884cwhamg"},{"location":"English-Write-practice/How-to-change-one-mind/","text":"i have heard one news,that one Japanese soldiers fighting in forests,after war end many years.when local human told him the war have end many years.he donnot believe it, until find his commander. then he believe the war is over. so i just thinking How to change one man mind.as we know there many illegal organize,which means \u4f20\u9500. to be continue update...","title":"How to change one mind"},{"location":"English-Write-practice/how-to-ask-question-%E6%8F%90%E9%97%AE%E7%9A%84%E8%89%BA%E6%9C%AF/","text":"\u751f\u7269\u4fe1\u606f\u5b66\u7684\u95ee\u9898\u89e3\u51b3\u9014\u5f84\u6709\uff1a 1. Google 2. github 3. \u8f6f\u4ef6\u5b98\u7f51 4. stack overflow \u524d\u56db\u79cd\u65b9\u6cd5\u9996\u9009\uff0c\u57fa\u672c\u53ef\u4ee5\u89e3\u51b399.9%\u7684\u95ee\u9898\u3002 \u4e0d\u63a8\u8350\u4e0b\u9762\u7684\u4e24\u79cd\u65b9\u6cd5 5. \u76f8\u5173\u7fa4 6. \u4f5c\u8005 before ask any question ,make sure you have follow my advice. make sure use the last version soft or packages make sure after update all the last version, and restart the soft. clary where is the error?software or packages or realy on or your computer system. make sure you have read the Readme or Document and Help. generally 99.9% error have been come up before you face it.So try to find it,by yourself. Remember you are most familiar with your current project, and you will find the answers to your questions much faster than others. try to learn find and read error log information. if you have to issue your question,please offer a background of you run system .it should at least conclude:you system Version ,software version,software relay on packages version,your origin code ,the error information. if you have try all the methods still not solve the problem,send a email to the author of the software or packages may be the last choice.","title":"How to ask question \u63d0\u95ee\u7684\u827a\u672f"},{"location":"English-Write-practice/how-to-ask-question-%E6%8F%90%E9%97%AE%E7%9A%84%E8%89%BA%E6%9C%AF/#before-ask-any-question-make-sure-you-have-follow-my-advice","text":"make sure use the last version soft or packages make sure after update all the last version, and restart the soft. clary where is the error?software or packages or realy on or your computer system. make sure you have read the Readme or Document and Help. generally 99.9% error have been come up before you face it.So try to find it,by yourself. Remember you are most familiar with your current project, and you will find the answers to your questions much faster than others. try to learn find and read error log information. if you have to issue your question,please offer a background of you run system .it should at least conclude:you system Version ,software version,software relay on packages version,your origin code ,the error information. if you have try all the methods still not solve the problem,send a email to the author of the software or packages may be the last choice.","title":"before ask any question ,make sure you have follow my advice."},{"location":"English-Write-practice/%E5%8D%9A%E5%A3%AB%E7%A0%94%E7%A9%B6%E8%AE%A1%E5%88%92%E7%9A%84%E5%86%99%E6%B3%95/","text":"\u603b\u4f53\u5927\u69823000\u5b57\u5de6\u53f3\u3002 \u901a\u8fc7\u535a\u58eb\u7814\u7a76\u8ba1\u5212\uff0c\u53ef\u4ee5\u770b\u5230\u535a\u58eb\u5019\u9009\u4eba\u7684\u79d1\u7814\u5b9e\u529b\uff0c\u7279\u522b\u662f\u7533\u8bf7\u56fd\u5916\u7684phd\u65f6\uff0c\u751a\u81f3\u8d77\u5230\u51b3\u5b9a\u6027\u4f5c\u7528\u3002 \u5199\u4f5c\u524d\u63d0\uff1a 1. \u9996\u5148\u4e86\u89e3\u76ee\u6807\u5bfc\u5e08\u7684\u7814\u7a76\u76ee\u6807\uff0c\u65b9\u5411\uff0c\u7ecf\u9a8c\uff0c\u5174\u8da3\u3002 2. \u51c6\u5907\u597d\u8db3\u591f\u7684\u6587\u732e\u3002 - \u6807\u9898\uff1a - \u7814\u7a76\u80cc\u666f\uff1a\uff081000\u5b57\uff0c\u6587\u732e\u7efc\u8ff0\uff0c\u5b8c\u5584\u8bfe\u9898\u7684\u80cc\u666f\uff09 - \u7814\u7a76\u76ee\u7684\uff1a\uff08500\u5b57\u5de6\u53f3\uff09 - \u7814\u7a76\u65b9\u6cd5\uff1a\uff08500-800\u5b57\uff09\u6574\u4f53\u7684\u7814\u7a76 - \u5b9e\u9a8c\u8bbe\u8ba1\uff1a\uff08\u6574\u4e2a\u5b9e\u9a8c\u8bbe\u8ba1\u7684\u601d\u8def\uff0c\u5927\u6982\u9884\u671f\u7684\u65f6\u95f4\u6d41\u7a0b\uff09 - \u7814\u7a76\u57fa\u7840\uff1a\uff08\u4e2a\u4eba\u73b0\u9636\u6bb5\u7684\u80fd\u529b\u3001\u76f8\u5173\u7814\u7a76\u7ecf\u9a8c\u5c55\u793a\uff09\uff08500-700\u5b57\uff09 \u603b\u4f53\u8981\u89e3\u51b3\u5982\u4e0b\u51e0\u4e2a\u95ee\u9898\uff1a - A. \u4e3a\u4ec0\u4e48\u8981\u505a\u8fd9\u4e2a\u7814\u7a76\uff1f\uff08\u7814\u7a76\u95ee\u9898\u7684\u539f\u56e0\uff09 - B. \u4e3a\u4ec0\u4e48\u8fd9\u4e2a\u95ee\u9898\u96be\u4ee5\u89e3\u51b3\uff1f - C. \u4e3a\u4ec0\u4e48\u4f60\u9002\u5408\u8fd9\u4e2a\u7814\u7a76\uff1f\uff08\u91c7\u7528\u7684\u65b9\u6cd5\uff0c\u7406\u8bba\uff0c\u7ecf\u9a8c\uff0c\u7a0b\u5e8f\uff09 - D. \u4e3a\u4ec0\u4e48\u73b0\u5728\u9700\u8981\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff1f\uff08\u7814\u7a76\u7684\u91cd\u8981\u6027\uff09 - a) \u7814\u7a76\u7684\u53c2\u6570\uff08\u4e3b\u9898\uff09 - b) \u6574\u4f53\u7684\u65b9\u6cd5 - c) \u5177\u4f53\u7684\u76ee\u7684\u548c\u76ee\u6807 - d) \u7b80\u8981\u8ba8\u8bba\u5b9e\u73b0\u8fd9\u4e00\u76ee\u6807\u7684\u65f6\u95f4\u7ebf","title":"\u535a\u58eb\u7814\u7a76\u8ba1\u5212\u7684\u5199\u6cd5"},{"location":"English-Write-practice/%E8%AE%BA%E6%96%87%E6%8A%95%E7%A8%BF%E9%80%89%E5%88%8A%E7%B3%BB%E7%BB%9F/","text":"\u5199\u597d\u4e86\u8bba\u6587\uff0c\u4e0d\u77e5\u9053\u53ef\u4ee5\u6295\u54ea\u4e9b\u671f\u520a\u3002 \u8f6c\u8f7d \u53f0\u6e7e\u5927\u5b66\u56fe\u4e66\u9986\u7684\u63a8\u8350 \u56fd\u9645\u4e24\u5927\u671f\u520a\u51fa\u7248\u5546 Springer\u548cELSEVIER \u53ef\u4ee5\u8bd5\u4e00\u8bd5\u8fd9\u4e9b\u5de5\u5177\uff1a\u67d0\u4e9b\u7f51\u7ad9\u53ef\u80fd\u9700\u8981\u7a7f\u4e91\u68af\u624d\u80fd\u6b63\u5e38\u8bbf\u95ee\u3002 Endnote \u5728\u7ebf\u7248 https://www.myendnoteweb.com/EndNoteWeb.html?func=journalDetails&cat=details& \u9700\u8981\u5148\u6ce8\u518cendnote\u7684\u8d26\u6237\uff0c\u4e4b\u540e\u767b\u9646\u8d26\u6237\u3002 \u8f93\u5165\u6807\u9898\u548c\u6458\u8981\uff0c\u5c31\u53ef\u4ee5\u67e5\u770b\u63a8\u8350\u6295\u7a3f\u6587\u732e\u3002 ELSEVIER\u4e13\u4e1a\u7684\u671f\u520a\u6295\u7a3f\u7cfb\u7edf https://journalfinder.elsevier.com/#results \u8fd9\u4e2a\u7cfb\u7edf\u53ef\u4ee5\u7ed9\u51fa\u671f\u520a\u7684\u5ba1\u7a3f\u65f6\u95f4\uff0c\u63a5\u53d7\u6982\u7387\u3002 edanz https://www.edanzediting.com/journal-selector springer\u9009\u520a https://journalsuggester.springer.com/ journal https://www.journalguide.com/ IEEE\u9009\u520a\u7cfb\u7edf http://publication-recommender.ieee.org/home","title":"\u8bba\u6587\u6295\u7a3f\u9009\u520a\u7cfb\u7edf"},{"location":"GWAS/GWAS%E5%88%86%E6%9E%90/","text":"Plink FaST-LMM TASSEL \u6709Windows\u7248\u672c FaST-LMM-Select GAPIT \u57fa\u4e8eR GAPIT \u548cTassle\u7b49\u7684\u5bf9\u6bd4\u3002 TASSEL5\u547d\u4ee4\u884c\u6a21\u5f0f\u8fd0\u884c\u65b9\u6cd5 1. \u5178\u578b\u7684MLM\uff08\u6df7\u5408\u7ebf\u6027\u6a21\u578b\uff09\u5206\u6790\u7ba1\u9053\u547d\u4ee4\u5982\u4e0b\uff1a perl run_pipeline.pl -fork1 -h genotype.hmp -filterAlign -filterAlignMinFreq 0.05 \u6ce8\uff1a\u5bfc\u5165\u57fa\u56e0\u578b\u6570\u636e\u5e76\u8fc7\u6ee4 -fork2 -r trait.txt \u6ce8\uff1a\u5bfc\u5165\u8868\u578b\u6570\u636e -fork3 -r pop_structure.txt -excludeLastTrait \u6ce8\uff1a\u5bfc\u5165\u7fa4\u4f53\u7ed3\u6784\u6570\u636e -fork4 -k kinship.txt -combine5 -input1 -input2 -input3 -intersect -combine6 -input5 -input4 -mlm -mlmVarCompEst P3D -mlmCompressionLevel None -export result \u6ce8\uff1a\u5bfc\u5165kinship\u77e9\u9635\uff0c\u5408\u5e76\u8868\u578b\u3001\u57fa\u56e0\u578b\u548c\u7fa4\u4f53\u7ed3\u6784\uff0c\u8bbe\u5b9aMLM\u53c2\u6570 2. \u4f8b\u5b50\uff1a\u5728\u6b64\u57fa\u7840\u4e0a\u7ed3\u5408\u6279\u5904\u7406\u5b9e\u73b0\u5bf9\u57fa\u56e0\u578b\u6570\u636e\u7684MLM\u5206\u6790\uff1a perl run_pipeline.pl -fork1 -h ./hmp/mouse.hmp -filterAlign -filterAlignMinFreq 0.05 -fork2 -r trait.txt -fork3 -r pop_structure -excludeLastTrait -fork4 -k kinship -combine5 -input1 -input2 -input3 -intersect -combine6 -input5 -input4 -mlm -mlmVarCompEst P3D -mlmCompressionLevel None -export result \u5c06\u4ee5\u4e0a\u811a\u672c\u4fdd\u5b58\u4e3abat\u683c\u5f0f\uff0c\u653e\u5728TASSEL5\u7684\u5b89\u88c5\u76ee\u5f55\u91cc\uff0c\u5176\u5b83\u6570\u636e\u4e5f\u653e\u5728\u5b89\u88c5\u76ee\u5f55\u4e2d\u3002 3.tassel5\u8def\u5f84 nohup /home/guo/tool/tasseladmin-tassel-5-standalone-5100767ae9e7/run_pipeline.pl -fork1 -h All_Merged_1.25M_MAF0.05.hmp -filterAlign -filterAlignMinFreq 0.05 \\ -fork2 -r 2011\u2014.txt\\ -fork3 -r 513lines_27229snps_pop_structure_110608.txt -excludeLastTrait \\ -fork4 -k 513lines_27229snps_kinship_110608.txt -combine5 -input1 -input2 -input3 -intersect -combine6 -input5 -input4 -mlm -mlmVarCompEst P3D -mlmCompressionLevel None -export result & 4.\u5de5\u4f5c\u8def\u5f84\uff1a /home/fzy/ /disks/workin/fzy/ \u5b58\u50a8\u8def\u5f84\uff1a /disks/backup/fzy/ 5.\u63d0\u4ea4\u4efb\u52a1\uff1a nohup \u5b8c\u6574\u547d\u4ee4\u884c & /home/guo/tool/tasseladmin-tassel-5-standalone-5100767ae9e7/run_pipeline.pl -fork1 -h All_Merged_1.25M_MAF0.05.hmp -filterAlign -filterAlignMinFreq 0.05 -fork2 -r 2011.txt -fork3 -r 513lines_27229sn ps_pop_structure_110608.txt -excludeLastTrait -fork4 -k 513lines_27229snps_kinship_110608.txt -combine5 -input1 -input2 -input3 -intersect -combine6 -input5 -input4 -mlm -mlmVarCompEst P3D -mlmCompressionLevel None -export result /home/guo/tool/tasseladmin-tassel-5-standalone-5100767ae9e7/run_pipeline.pl -Xms10G -Xmx10G -fork1 -h All_Merged_1.25M_MAF0.05.hmp -filterAlign -filterAlignMinFreq 0.05 -fork2 -r 2011.txt -fork3 -r 513lines_27229snps_pop_structure_110608.txt -excludeLastTrait -fork4 -k 513lines_27229snps_kinship_110608.txt -combine5 -input1 -input2 -input3 -intersect -combine6 -input5 -input4 -mlm -mlmVarCompEst P3D -mlmCompressionLevel None -export result /home/fzy/tassel3.0_standalone_110430/tassel3.0_standalone/run_pipeline.pl -Xms10G -Xmx10G -fork1 -h All_Merged_1.25M_MAF0.05.hmp -filterAlign -filterAlignMinFreq 0.05 -fork2 -r 2011.txt -fork3 -r 513lines_27229snps_pop_structure_110608.txt -excludeLastTrait -fork4 -k 513lines_27229snps_kinship_110608.txt -combine5 -input1 -input2 -input3 -intersect -combine6 -input5 -input4 -mlm -mlmVarCompEst P3D -mlmCompressionLevel None -export result GAPTI\u4f7f\u7528\u65b9\u6cd5 \u4ee5\u4e0b\u5185\u5bb9\u4e3aR\u8bed\u8a00\uff0c\u76f4\u63a5\u4fdd\u5b58\u4e3atest.R \u5728\u7ec8\u7aef\u8fd0\u884c\uff0c Rscript test.R \u5373\u53ef\u3002 #!/path/to/Rscript #Author\uff1aFrank Chai #Email:chaimol@163.com #this is a code for GWAS analysis.use packages is GAPIT #\u53c2\u8003\u7f51\u5740http://blog.sina.com.cn/s/blog_83f77c940102wg16.html #\u5b89\u88c5\u5305 source(\"http://www.bioconductor.org/biocLite.R\") #options(BioC_mirror=\"http://mirrors.ustc.edu.cn/bioc/\") biocLite(\"multtest\",destdir = \"~/disk/GWAS/R\",lib=\"~/disk/GWAS/GAPIT/\") #biocLite(\"ggbio\") install.packages(\"gplots\",destdir = \"~/disk/GWAS/R\",lib=\"~/disk/GWAS/GAPIT/\") install.packages(\"LDheatmap\",destdir = \"~/disk/GWAS/R\",lib=\"~/disk/GWAS/GAPIT/\") install.packages(\"genetics\",destdir = \"~/disk/GWAS/R\",lib=\"~/disk/GWAS/GAPIT/\") install.packages(\"ape\",destdir = \"~/disk/GWAS/R\",lib=\"~/disk/GWAS/GAPIT/\") install.packages(\"EMMREML\",destdir = \"~/disk/GWAS/R\",lib=\"~/disk/GWAS/GAPIT/\") install.packages(\"scatterplot3d\",destdir = \"~/disk/GWAS/R\",lib=\"~/disk/GWAS/GAPIT/\") #\u52a0\u8f7d\u5305 library(multtest) library(gplots) library(LDheatmap) library(genetics) library(ape) library(EMMREML) library(compiler) source(\"http://zzlab.net/GAPIT/gapit_functions.txt\") source(\"http://zzlab.net/GAPIT/emma.txt\") setwd(\"~/disk/GWAS/test/\") myG <- read.table(\"mdp_traits_validation.txt\",head=TRUE) myY <- read.table(\"mdp_genotype_test.hmp.txt\",head=TRUE) myGAPIT <- GAPIT(Y=myY,G=myG,kinship.cluster=c(\"average\",\"complete\",\"ward\"),kinship.group=c(\"Mean\",\"Max\"),SNP.MAF=0,SNP.FDR=1,PCA.total=3,Model.selection=TRUE)","title":"GWAS\u5206\u6790"},{"location":"GWAS/GWAS%E5%AD%A6%E4%B9%A0/","text":"\u5b66\u4e60\u5730\u5740 https://genome.sph.umich.edu/wiki/LocusZoom_Standalone#Quick_Start_.28Requirements.29 https://www.jianshu.com/p/70164cce947c https://www.nature.com/articles/s41467-019-09462-w#Sec8 https://genome.sph.umich.edu/wiki/LocusZoom_Standalone#Quick_Start_.28Requirements.29 https://www.cnblogs.com/leezx/p/9013615.html EBI GWAS\u6570\u636e\u5e93\uff0c\u4e3b\u8981\u662f\u4eba\u7c7b\u7684\u6570\u636e 2017\u5e74\u7efc\u8ff0 \u690d\u7269\u57fa\u56e0\u7ec4\u4fe1\u606f\u6570\u636e\u5e93FTP\u670d\u52a1\u5668 ftp://ftp.ensemblgenomes.org/pub/plants/current/ 2019\u5e74Nature Reviews Genetics 2020\u5e74NC TWAS \u53cd\u5411GWAS","title":"GWAS\u5b66\u4e60"},{"location":"GWAS/GWAS%E6%B5%81%E7%A8%8B/","text":"1. \u91cd\u65b0\u6784\u5efa\u9057\u4f20\u56fe\u8c31 2. \u57fa\u56e0\u578b\u63d2\u8865\u2014\u2014impute2 3. \u8d28\u91cf\u63a7\u5236 QCTOOL V2 http://www.well.ox.ac.uk/~gav/qctool_v2/ ./qctool -g GWAS.gen -snp-stats \u6570\u636e\u8f6c\u6362 GTOOL 4. \u8fde\u9501\u4e0d\u5e73\u8861 plink --indep-pairwise 50 5 0.2 (windows, step, r2) \u2013maf 0.05 -\u4e3b\u6210\u5206\u5206\u6790 5. \u7fa4\u4f53\u7ed3\u6784 structure LocusZoom Standalone 6.\u6784\u5efa\u672c\u5730\u7684SQLite\u6570\u636e\u5e93 dbmeister.py --db my_database.db --snp_pos my_snp_pos_file \u4f7f\u7528gff3ToGenePred\u8f6c\u6362Gff3\u5230pred\u683c\u5f0f gff3ToGenepred ucsc \u76ee\u5f55","title":"GWAS\u6d41\u7a0b"},{"location":"GWAS/GWAS%E6%B5%81%E7%A8%8B/#1","text":"","title":"1. \u91cd\u65b0\u6784\u5efa\u9057\u4f20\u56fe\u8c31"},{"location":"GWAS/GWAS%E6%B5%81%E7%A8%8B/#2-impute2","text":"","title":"2. \u57fa\u56e0\u578b\u63d2\u8865\u2014\u2014impute2"},{"location":"GWAS/GWAS%E6%B5%81%E7%A8%8B/#3","text":"QCTOOL V2 http://www.well.ox.ac.uk/~gav/qctool_v2/ ./qctool -g GWAS.gen -snp-stats \u6570\u636e\u8f6c\u6362 GTOOL","title":"3. \u8d28\u91cf\u63a7\u5236"},{"location":"GWAS/GWAS%E6%B5%81%E7%A8%8B/#4","text":"plink --indep-pairwise 50 5 0.2 (windows, step, r2) \u2013maf 0.05 -\u4e3b\u6210\u5206\u5206\u6790","title":"4. \u8fde\u9501\u4e0d\u5e73\u8861"},{"location":"GWAS/GWAS%E6%B5%81%E7%A8%8B/#5","text":"structure LocusZoom Standalone","title":"5. \u7fa4\u4f53\u7ed3\u6784"},{"location":"GWAS/GWAS%E6%B5%81%E7%A8%8B/#6sqlite","text":"dbmeister.py --db my_database.db --snp_pos my_snp_pos_file \u4f7f\u7528gff3ToGenePred\u8f6c\u6362Gff3\u5230pred\u683c\u5f0f gff3ToGenepred ucsc \u76ee\u5f55","title":"6.\u6784\u5efa\u672c\u5730\u7684SQLite\u6570\u636e\u5e93"},{"location":"GWAS/GWAS%E7%9A%84%E5%B7%A5%E5%85%B7%EF%BC%9A%E4%B8%8B%E8%BD%BD%E3%80%81%E5%AE%89%E8%A3%85%E3%80%81%E4%BD%BF%E7%94%A8/","text":"\u6240\u6709\u7684\u8f6f\u4ef6\uff0c\u9ed8\u8ba4\u4e0b\u8f7d\u7684\u662flinux\u7684intel\u5185\u683864\u4f4d\u3002 plink2\u4e0b\u8f7d\u5730\u5740 \u4e0b\u8f7d\u5b8c\u6210\u540e unzip plink_linux_x86_64_20190304.zip #\u6267\u884c\u53ef\u6267\u884c\u6587\u4ef6 ./plink2 impute2\u4e0b\u8f7d\u5730\u5740 tar -zxvf impute_v2.3.2_x86_64_static.tgz cd impute ./impute2 \u8f6f\u4ef6\u7684\u4f7f\u7528\uff1a impute2\u5b98\u7f51 \uff1a\u4f5c\u7528\u662f\u63d2\u8865\u57fa\u56e0\u578b\u6570\u636e\uff0c\u5bf9\u4e8e\u7f3a\u5931\u7684\u57fa\u56e0\u578b\u6570\u636e\u8fdb\u884c\u4f30\u8ba1\u3002 plink2\u5b98\u7f51 \uff1a\u4e3b\u8981\u7528GWAS\u5206\u6790\uff0c\u76ee\u524d\u4f7f\u7528\u7684\u8f83\u591a\u7684\u540c\u7c7b\u5de5\u5177\u8fd8\u6709TASSEL5.0\u3002 plink1.9 \u56e0\u4e3a\u5b98\u7f51\u8bf4\u76ee\u524d2.0\u53ea\u662f1.9\u7684\u8865\u5145\uff0c\u610f\u601d\u5c31\u662f\u4e0d\u5b8c\u5584\u3002\u6240\u4ee51.9\u4e5f\u88c5\u4e0a\u5427\u3002","title":"GWAS\u7684\u5de5\u5177\uff1a\u4e0b\u8f7d\u3001\u5b89\u88c5\u3001\u4f7f\u7528"},{"location":"GWAS/GWAS%E7%9A%84%E5%B7%A5%E5%85%B7%EF%BC%9A%E4%B8%8B%E8%BD%BD%E3%80%81%E5%AE%89%E8%A3%85%E3%80%81%E4%BD%BF%E7%94%A8/#linuxintel64","text":"plink2\u4e0b\u8f7d\u5730\u5740 \u4e0b\u8f7d\u5b8c\u6210\u540e unzip plink_linux_x86_64_20190304.zip #\u6267\u884c\u53ef\u6267\u884c\u6587\u4ef6 ./plink2 impute2\u4e0b\u8f7d\u5730\u5740 tar -zxvf impute_v2.3.2_x86_64_static.tgz cd impute ./impute2 \u8f6f\u4ef6\u7684\u4f7f\u7528\uff1a impute2\u5b98\u7f51 \uff1a\u4f5c\u7528\u662f\u63d2\u8865\u57fa\u56e0\u578b\u6570\u636e\uff0c\u5bf9\u4e8e\u7f3a\u5931\u7684\u57fa\u56e0\u578b\u6570\u636e\u8fdb\u884c\u4f30\u8ba1\u3002 plink2\u5b98\u7f51 \uff1a\u4e3b\u8981\u7528GWAS\u5206\u6790\uff0c\u76ee\u524d\u4f7f\u7528\u7684\u8f83\u591a\u7684\u540c\u7c7b\u5de5\u5177\u8fd8\u6709TASSEL5.0\u3002 plink1.9 \u56e0\u4e3a\u5b98\u7f51\u8bf4\u76ee\u524d2.0\u53ea\u662f1.9\u7684\u8865\u5145\uff0c\u610f\u601d\u5c31\u662f\u4e0d\u5b8c\u5584\u3002\u6240\u4ee51.9\u4e5f\u88c5\u4e0a\u5427\u3002","title":"\u6240\u6709\u7684\u8f6f\u4ef6\uff0c\u9ed8\u8ba4\u4e0b\u8f7d\u7684\u662flinux\u7684intel\u5185\u683864\u4f4d\u3002"},{"location":"GWAS/rMVP-%E4%B8%80%E4%B8%AA%E7%94%A8%E4%BA%8EGWAS%E5%88%86%E6%9E%90%E7%9A%84R%E5%8C%85/","text":"rMVP\u7684github rMVP\u4e3b\u8981\u662f\u4f18\u5316\u5185\u5b58\u7684\u4f7f\u7528\uff0c\u4f7f\u7528\u4e86\u591a\u7ebf\u7a0b\uff0c\u731c\u6d4b\u4f5c\u8005\u662fNBA\u7684\u5fe0\u5b9e\u89c2\u4f17\uff0c\u4f5c\u8005\u7ed9MVP\u7684\u89e3\u91ca\u662fMemory-efficient, Visualization-enhanced, and Parallel-accelerated","title":"rMVP \u4e00\u4e2a\u7528\u4e8eGWAS\u5206\u6790\u7684R\u5305"},{"location":"GWAS/%E5%AD%9F%E5%BE%B7%E5%B0%94%E9%9A%8F%E6%9C%BA%E5%8C%96%E5%88%86%E6%9E%90%EF%BC%9A%E7%94%A8%E4%BA%8E%E5%88%86%E6%9E%90%E5%9F%BA%E5%9B%A0%E5%92%8C%E8%A1%A8%E5%9E%8B%E4%B9%8B%E9%97%B4%E7%9A%84%E7%9B%B8%E5%85%B3%E6%80%A7/","text":"\u5b5f\u5fb7\u5c14\u968f\u673a\u5316\u5206\u6790\u5178\u578b\u5b9e\u4f8b\uff1a \u5927\u80f8\u5973\u751f\u4e0e\u4e0d\u7231\u8fd0\u52a8\u4e4b\u95f4\u7684\u5173\u7cfb \u57fa\u4e8eTWAS\u7684\u5b5f\u5fb7\u5c14\u968f\u673a\u5316\u5206\u6790\u5de5\u5177 PMR \u8bba\u6587 PMR github PMR\u662f\u7528\u4e8e\u8f6c\u5f55\u7ec4\u5173\u8054\u7814\u7a76\uff08TWAS\uff09\u4e2d\u4e24\u4e2a\u6837\u672cMR\u5206\u6790\u7684\u6709\u6548\u7edf\u8ba1\u63a8\u65ad\u7684R\u5305 TWAS\u7684\u524d\u666f\u548c\u73b0\u72b6 2019.03 NG TWAS 2019.03 NG \u5168\u8f6c\u5f55\u7ec4\u5206\u6790\u5b9e\u6218\u4ee3\u7801 TWAS\u662f\u57fa\u4e8eGWAS\u7684\u7ed3\u679c\uff0c\u4f46\u662f\u56e0\u4e3a\u8f6c\u5f55\u7ec4\u4e2d\u57fa\u56e0\u8868\u8fbe\u90e8\u4f4d\u7684\u7279\u5f02\u6027\uff0c\u53ef\u80fd\u4f1a\u9020\u6210\u5047\u9633\u6027\u3002\u4f8b\u5982\uff1a\u672c\u6765\u662f\u5728\u53f6\u7247\u4e2d\u53d1\u6325\u4f5c\u7528\u7684\u57fa\u56e0\uff0c\u4f46\u662f\u8f6c\u5f55\u7ec4\u6d4b\u7684\u90e8\u4f4d\u5374\u662f\u82b1\u836f\uff0c\u5c31\u4f1a\u6709\u504f\u5dee\u3002","title":"\u5b5f\u5fb7\u5c14\u968f\u673a\u5316\u5206\u6790\uff1a\u7528\u4e8e\u5206\u6790\u57fa\u56e0\u548c\u8868\u578b\u4e4b\u95f4\u7684\u76f8\u5173\u6027"},{"location":"Linux-learning/Linux%E4%B8%8B%E6%89%B9%E9%87%8F%E8%8E%B7%E5%8F%96%E6%96%87%E4%BB%B6%E5%A4%B9%E7%9A%84%E5%AD%90%E6%96%87%E4%BB%B6%E7%9A%84%E6%89%80%E6%9C%89%E5%9B%BE%E7%89%87%E7%9A%84%E6%96%87%E5%AD%97/","text":"\u4efb\u52a1\u8981\u6c42 \uff1a\u6279\u91cf\u83b7\u53d6\u6307\u5b9a\u6587\u4ef6\u5939\u5185\u6240\u6709\u7684\u5b50\u76ee\u5f55\u7ed3\u6784\u7684\u56fe\u7247\u7684\u6587\u5b57\uff0c\u8f93\u51fa\u65f6\u6309\u7167\u5404\u7ea7\u76ee\u5f55\u7a7a\u4e00\u4e2a\u8f93\u51fa\u3002 \u4f8b\u5982\uff1amotifs/prodfi/noden/pic.png \u8f93\u51fa\u4e3a motifs prodfi noden TTCATC \u89e3\u51b3\u65b9\u6cd5 1. \u83b7\u5f97\u76ee\u5f55\u7ed3\u6784\u4f7f\u7528 find\u547d\u4ee4 find ./motifs -name \"*.txt\">>../output/full.txt //\u8f93\u51famotifs\u7684\u6240\u6709\u5b50\u6587\u4ef6\u91cc\u7684TXT\u6587\u4ef6\u5230full.txt 2.\u5904\u7406full.txt\u683c\u5f0f\u4e3a\u8981\u6c42\u683c\u5f0f\u3002 \u8ba1\u5212\u4f7f\u7528ps\u6279\u5904\u7406\u56fe\u7247\uff0c\u88c1\u526a\u4e4b\u540e\uff0c\u4f7f\u7528\u767e\u5ea6API\u8bc6\u522b\u6587\u5b57\u3002 \u8ba1\u7b97\u6587\u4ef6\u5927\u5c0f du -sh \u67e5\u770b\u5f53\u524d\u76ee\u5f55\u7684\u5927\u5c0f df -h \u67e5\u770b\u4e3b\u673a\u6240\u6709\u76d8\u7684\u7a7a\u95f4\u60c5\u51b5 du -h \u67e5\u770b\u5f53\u524d\u76ee\u5f55\u4e0b\u6240\u6709\u6587\u4ef6\u7684\u5927\u5c0f ls -lh *.sam|awk 'BEGIN{sum=0}{sum=sum+$5}END{print sum} \u67e5\u770b\u5f53\u524d\u76ee\u5f55sam\u6587\u4ef6\u7684\u603b\u5927\u5c0f\u3002","title":"Linux\u4e0b\u6279\u91cf\u83b7\u53d6\u6587\u4ef6\u5939\u7684\u5b50\u6587\u4ef6\u7684\u6240\u6709\u56fe\u7247\u7684\u6587\u5b57"},{"location":"Linux-learning/Linux%E5%91%BD%E4%BB%A4%E6%80%BB%E7%BB%93/","text":"linux\u4e09\u5251\u5ba2awk\u3001grep\u3001sed\u5e94\u7528\u73af\u5883\u5373\u5e38\u7528\u547d\u4ee4 linux\u5e38\u7528\u547d\u4ee4\u94fe\u63a5 https://man.linuxde.net/dos2unix https://man.linuxde.net/\u547d\u4ee4 https://man.linuxde.net/awk \u6587\u672c\u5904\u7406 awk cat name.txt|awk '{print $1,$NR,$0}' \u8bfb\u53d6name.txt \u8f93\u51fa\u7b2c\u4e00\u5217 $1 \uff0c\u6700\u540e\u4e00\u5217 $NR \uff0c\u548c\u6574\u884c $0 \u5206\u5217\u8f93\u51fa\u6587\u4ef6\u65e0\u9700\u5faa\u73af\uff0c\u5206\u5217\u7cbe\u54c1\u3002 awk -F , 'NR!=1{print $2 >$1\".txt\"}' geneinfo.csv \u6307\u5b9a , \u4e3a\u5206\u9694\u7b26,\u9010\u884c\u8f93\u51fa\u7b2c\u4e8c\u5217\u7684\u5185\u5bb9\u5230\u5bf9\u5e94\u7684\u7b2c1\u5217\u7684 \u6587\u4ef6\u540d\u7684txt\u6587\u4ef6\u3002 awk\u4f7f\u7528shell\u4e2d\u7684\u53d8\u91cf awk\u4e2d\u7684\u53d8\u91cf\u4e0d\u9700\u8981\u4f7f\u7528 $ \u7b26\u53f7\u3002\u4f7f\u7528 $ \u7b26\u53f7\u5219\u8868\u793a\u7684\u662f\u7b2cn\u5217\u3002 num=100 awk -v num=$num 'BEGIN{print num/0.5}' awk\u5411shell\u4e2d\u4f20\u9012\u53d8\u91cf eval $(awk 'BEGIN{print \"var1='str1';var2='str2'\"}') # $()\u7b49\u4ef7\u4e8e`` eval `awk 'BEGIN{print \"var1='str1';var2='str2'\"}'` awk \u83b7\u53d6\u6307\u5b9a\u5217\uff08\u6b64\u5904\u662f\u7b2c\u4e09\u5217\u5230\u6700\u540e\u4e00\u5217\uff09\u5206\u9694\u7b26\u4e3a\u4e00\u4e2a\u7a7a\u683c awk -F \" \" '{for(i=3;i<=NF;i++) {printf $i\" \"} printf \"\\n\"}' file awk\u83b7\u53d6\u6307\u5b9a\u5217\uff08\u6b64\u5904\u662f\u7b2c\u4e09\u5217\u5230\u6700\u540e\u4e00\u5217\uff09\u5206\u5272\u7b26\u4e3atab awk '{$1=\"\";$2=\"\";print $0}' file |sed 's/\\t\\t//g' grep cat name| grep zhan \u67e5\u627ename\u6587\u4ef6\u91cc\u542b\u6709zhan\u7684\u884c grep -v \"node\" filename \u67e5\u627efilename\u91cc\u4e0d\u5305\u542bnode\u7684\u884c sed sed -n '1,10p' name.txt \u83b7\u53d61-10\u884c\u7684\u5185\u5bb9 - cut cut -f 4-10 test.txt #\u83b7\u53d6text.txt\u7684\u7b2c4-10\u5217\u3002 cut\u53c2\u6570\u8bf4\u660e -b \u8868\u793a\u5b57\u8282\uff1b -c \u8868\u793a\u5b57\u7b26\uff1b -f \u8868\u793a\u5b9a\u4e49\u5b57\u6bb5\u3002 \u6307\u5b9a\u5206\u9694\u7b26\u53f7\u4f7f\u7528 -d \u7b26\u53f7 N-\uff1a\u4ece\u7b2cN\u4e2a\u5b57\u8282\u3001\u5b57\u7b26\u3001\u5b57\u6bb5\u5230\u7ed3\u5c3e\uff1b N-M\uff1a\u4ece\u7b2cN\u4e2a\u5b57\u8282\u3001\u5b57\u7b26\u3001\u5b57\u6bb5\u5230\u7b2cM\u4e2a\uff08\u5305\u62ecM\u5728\u5185\uff09\u5b57\u8282\u3001\u5b57\u7b26\u3001\u5b57\u6bb5\uff1b -M\uff1a\u4ece\u7b2c1\u4e2a\u5b57\u8282\u3001\u5b57\u7b26\u3001\u5b57\u6bb5\u5230\u7b2cM\u4e2a\uff08\u5305\u62ecM\u5728\u5185\uff09\u5b57\u8282\u3001\u5b57\u7b26\u3001\u5b57\u6bb5\u3002 \u4f8b\uff1a cut -f 5- -d \",\" test.csv \u67e5\u770btest.csv\u6587\u4ef6\u7684\u7b2c5\u5217\u5230\u6700\u540e\u4e00\u5217,\u6307\u5b9a\u7684\u5206\u9694\u7b26\u53f7\u662f , cut -c 1-4 test_Dsuite.txt \u67e5\u770b\u6587\u4ef6\u7684\u7b2c1\u5230\u7b2c4\u4e2a\u5b57\u7b26\u3002 - column column -t \u6587\u4ef6\u6309\u7167table\u683c\u5f0f\u67e5\u770b,\u914d\u5408 head \u53ef\u4ee5\u66f4\u52a0\u6e05\u695a\u7684\u9605\u8bfb\u6587\u4ef6\u7684\u524d\u51e0\u884c\u3002 column -t test_Dsuite.txt|head -5 \u67e5\u770btab\u5206\u5272\u6587\u4ef6\u7684\u524d5\u884c\uff0c\u4ee5table\u683c\u5f0f\u67e5\u770b\u3002 \u6587\u4ef6\u5904\u7406 find \u67e5\u627e\u6587\u4ef6 find ./ -name \"*.txt\" \u67e5\u627e\u5f53\u524d\u76ee\u5f55\u4e0b\u6240\u6709\u7684txt\u7ed3\u5c3e\u7684\u6587\u4ef6\uff0c\u5305\u62ec\u5b50\u76ee\u5f55\u91cc\u7684\u6587\u4ef6\u3002 rename \u6279\u91cf\u91cd\u547d\u540d\uff08\u6b64\u5904\u7684rename\u662fperl\u7248\u672c\u7684\uff09 rename\u6709C\u8bed\u8a00\u7248\u672c\u548cperl\u7248\u672c\uff0c\u4ee5\u4e0b\u547d\u4ee4\u5747\u662fperl\u7248\u672c\u7684\u547d\u4ee4\u3002 \u4f7f\u7528\u547d\u4ee4 man rename \u5982\u679c\u8fd4\u56de\u7684\u7a97\u53e3\u9996\u884c\u6709 perl`\u5219\u662fperl\u7248\u672c\uff0c\u5426\u5219\u5373\u662fC\u8bed\u8a00\u7248\u672c\u3002 ubuntu\u5b89\u88c5perl\u7248\u672c\u7684rename shell sudo apt update sudo apt-get install rename rename\u53c2\u6570\u8bb2\u89e3\uff1a s\u8868\u793a\u4f7f\u7528\u6b63\u5219\uff0c \u7b2c1-2\u4e2a/\u4e4b\u95f4\u662f\u8981\u5339\u914d\u7684\u5185\u5bb9, $ \u8868\u793a\u6587\u4ef6\u7ed3\u5c3e\u3002\u7b2c2\u4e2a/\u4e4b\u540e\u662f\u8981\u66ff\u6362\u6210\u7684\u5185\u5bb9\uff0c\u6700\u540e\u8ddf\u4e0a\u8981\u64cd\u4f5c\u7684\u6587\u4ef6 *\u8868\u793a\u6240\u6709\u6587\u4ef6\u3002\u6ce8\u610f\uff1aperl\u4e2d '' \u548c \"\" \u4e0d\u7b49\u4ef7\uff0c\u6b64\u5904\u5e94\u8be5\u4f7f\u7528\u7684\u662f\u5355\u5f15\u53f7 '' \u3002 \u5b57\u7b26\u66ff\u6362 rename 's/AA/aa' *.fa \u628a\u6240\u6709.fa\u6587\u4ef6\u540d\u4e2d\u7684AA\u66ff\u6362\u6210aa \u4fee\u6539\u6587\u4ef6\u540e\u7f00 rename 's/\\.html/\\.php' * \u628a.html\u6587\u4ef6\u6539\u4e3a.php\u6587\u4ef6 rename 's//$/.txt' * \u628a\u6240\u6709\u6587\u4ef6\u540d\u672b\u5c3e\u6dfb\u52a0.txt rename 's/^/admin' * \u6240\u6709\u6587\u4ef6\u5f00\u5934\u6dfb\u52a0\u5b57\u7b26admin rename 'y/A-Z/a-z/' * \u4fee\u6539\u6587\u4ef6\u540d\u5927\u5199\u5b57\u7b26\u4e3a\u5c0f\u5199 rename 's/[]+//g' * \u53bb\u6389\u6587\u4ef6\u540d\u4e2d\u7684\u7a7a\u683c rename 's/\\.bak$//' *.bak \u6240\u6709\u7684.bak\u540e\u7f00\u540d\u7684\u6587\u4ef6\u5168\u90e8\u5220\u9664\u540e\u7f00\u540d \u6b63\u5219\u5339\u914d\u4fee\u6539\u6587\u4ef6\u540d rename 's/(/d)/\u7b2c$1\u7ae0/' * \u4fee\u6539\u4e3a\u7b2c1\u7ae0\uff0c\u7b2c2\u7ae0 \u65b9\u6cd51\uff1a\u628a\u6587\u4ef6\u540d\u62c6\u5206\u5904\u7406\uff0c\u53ef\u4ee5\u4efb\u610f\u4fee\u6539\u6587\u4ef6\u540d find -name '*.log' -printf %f//n|awk -F'.' '{print $1}'|xargs -i{} mv {}.log xiyun_{}.log \u65b9\u6cd52\uff1a\u5229\u7528rename \u4e00\u822c\u7684linux\u4e0b\u7684rename\u547d\u4ee4\u6bd4\u8f83\u7b80\u5355 rename 'test' 'xiyun' '*.log' \u628a\u6587\u4ef6\u540d\u4e2d\u7684\u67d0\u90e8\u5206\u5b57\u7b26\u4e32\u66ff\u6362\u6389 ubuntu\u4e0b\u7684rename\u547d\u4ee4\u652f\u6301\u6b63\u5219\u8868\u8fbe\u5f0f\uff0c\u56e0\u6b64\u529f\u80fd\u66f4\u5f3a\u5927\u3002 \u65b9\u6cd53\uff1a\u76f4\u63a5\u5229\u7528find\u548cxargs\u548cmv\uff0c\u4e2d\u95f4\u4e0d\u7528awk\uff0c\u8fd9\u6837\u53ea\u80fd\u6dfb\u52a0\u540e\u7f00\u540d\uff0c\u4e0d\u80fd\u4fee\u6539\u6587\u4ef6\u540d\u3002 ln \u5efa\u7acb\u8d85\u94fe\u63a5 ln \u8fdc\u7aef\u6587\u4ef6 \u65b0\u6587\u4ef6 \u65b0\u6587\u4ef6\u5373\u751f\u6210\u7684\u8fdc\u7aef\u6587\u4ef6\u7684\u786c\u94fe\u63a5 ln -s /disk/readme ./read \u751f\u6210\u8f6f\u94fe\u63a5\uff0c\u5b9e\u9645\u662f\u5728\u5f53\u524d\u76ee\u5f55\u751f\u6210\u540d\u4e3aread\u7684\u8d85\u94fe\u63a5\uff0c\u94fe\u63a5\u5230disk/readme \uff0c\u8bbf\u95eeread\uff0c\u5373\u76f8\u5f53\u4e8e\u8bbf\u95eereadme dos2unix \u8f6c\u6362windows\u6587\u4ef6\u4e3aUnix\u683c\u5f0f dos2unix test.py \u628atest.py\u8f6c\u6362\u6210Unix\u683c\u5f0f dos2unix -n test.py u-test.py \u628atest.py\u8f6c\u6362\u6210unix\u7684\u65b0\u6587\u4ef6u-test.py dos2unix -o test.py \u76f4\u63a5\u4fee\u6539\u539f\u59cb\u6587\u4ef6\u683c\u5f0f\u4e3aunix dos2unix file1 file2 file3 \u540c\u65f6\u4fee\u6539\u591a\u4e2a\u6587\u4ef6\u7684\u683c\u5f0f\u4e3aunix unix2dos \u8f6c\u6362Unix\u683c\u5f0f\u4e3awindows unix\u548cwindows \u7684\u6587\u4ef6\u683c\u5f0f\u4e2d\u6362\u884c\u7b26\u7684\u683c\u5f0f\u4e0d\u4e00\u81f4\uff0c\u4e00\u5b9a\u8981\u6ce8\u610f\u8f6c\u6362\u6362\u884c\u7b26\u3002\u5426\u5219\u4f1a\u62a5\u9519\u3002 unix\u548cwindows\u7684\u6587\u4ef6\u7cfb\u7edf\u4e5f\u4e0d\u4e00\u81f4\uff0cwindows\u7684Fat32\uff08\u4e0d\u652f\u6301\u5355\u4e2a\u6587\u4ef6\u5927\u4e8e4G\uff09,NTFS\uff08\u76ee\u524d\u5e38\u7528\u7684\u6587\u4ef6\u7cfb\u7edf\u683c\u5f0f\uff09\uff0clinux\u662fExt2\u683c\u5f0f\u3002\u5982\u679c\u8981\u5728\u4e24\u79cd\u7cfb\u7edf\u683c\u5f0f\u4e4b\u95f4\u4f20\u8f93\u6587\u4ef6\uff0cNTFS\u7684\u786c\u76d8\u5728linux\u4e0a\u4e0d\u4f1a\u88ab\u8bc6\u522b,\u6700\u540e\u4f7f\u7528\u7b2c\u4e09\u65b9\u8f6f\u4ef6\u8bc6\u522b\u3002 md5sum MD5\u503c\u751f\u6210\u6838\u5bf9 md5sum test \u751f\u6210test\u6587\u4ef6\u7684md5\u503c\u3002 md5sum -c testsum test \u6838\u5bf9test\u7684\u6587\u4ef6\u548ctestsum\u6587\u4ef6\u4e2d\u7684MD5\u503c\u662f\u5426\u4e00\u81f4\u3002 \u6392\u5e8f \u53c2\u8003 sort test.txt \u6392\u5e8f sort \u547d\u4ee4\u7684\u5b57\u6bb5 -n\u6309\u7167\u6570\u5b57\u8fdb\u884c\u6392\u5e8f -d \u6309\u7167\u5b57\u5178\u987a\u5e8f\u6392\u5e8f -r \u9006\u5e8f\u6392\u5e8f -k N\u6307\u5b9a\u6309\u7b2cN\u5217\u6392\u5e8f sort -nrk 1 data.txt sort -bd data //\u5ffd\u7565\u7a7a\u683c\u4e4b\u7c7b\u7684\u524d\u5bfc\u7a7a\u767d\u7b26 sort info.csv|uniq \u53cd\u5411\u6392\u5e8f sort test.txt | uniq \u6d88\u9664\u91cd\u590d\u884c sort test.txt | uniq -c \u7edf\u8ba1\u91cd\u590d\u884c\u51fa\u73b0\u7684\u6b21\u6570 sort test.txt | uniq -d \u627e\u51fa\u91cd\u590d\u884c \u6307\u5b9a\u6bcf\u884c\u4e2d\u9700\u8981\u6bd4\u8f83\u7684\u91cd\u590d\u5185\u5bb9 -s \u5f00\u59cb\u4f4d\u7f6e -w \u6bd4\u8f83\u5b57\u7b26\u6570 \u8fdb\u7a0b\u7ba1\u7406( \u6740\u6b7b\u8fdb\u7a0b\u53c2\u8003 ) ps \u67e5\u770b\u540e\u53f0\u8fdb\u7a0b\uff08\u4ec5\u9650\u5f53\u524d\u7ec8\u7aef\u7528\u6237\u7684\u540e\u53f0\u8fdb\u7a0b\uff09 ps\u547d\u4ee4\u8f93\u51fa\u7684\u7b2c\u4e00\u5217\u5373\u4e3aPID. ps -ef \u67e5\u770b\u6240\u6709\u7528\u6237\u8fdb\u7a0b kill -s 9 3645522 \u6740\u6389PID\u4e3a3645522\u7684\u8fdb\u7a0b,\u6b64\u5904\u662f\u6740\u6389md5sum\u7684\u8fdb\u7a0b\u3002 pkill -9 md5sum \u5f3a\u529b\u5220\u9664\u7a0b\u5e8f\u540d\u4e3amd5sum\u7684\u8fdb\u7a0b\u3002 kill -s 9 `pgrep vim ` #\u4f7f\u7528pgrep\u548ckill\u6765\u5220\u9664\u540d\u5b57\u4e3avim\u7684\u8fdb\u7a0b\u3002 -\u8fdb\u7a0b\u68c0\u6d4b ps -x |grep fastp|grep -v \"grep\"|wc -l \u7edf\u8ba1\u5f53\u524d\u7528\u6237\u7684\u6240\u6709\u8fd0\u884c\u8fdb\u7a0b\u4e2d\uff0c\u540d\u5b57\u4e3afastp\u7684\u8fdb\u7a0b\u6570\u91cf \u6587\u4ef6\u540d\u5b57\u7b26\u7684\u5904\u7406 cut\u53c2\u8003 expr\u53c2\u8003 name\u662f\u4e00\u4e2a\u6587\u4ef6\u5939\uff0c\u91cc\u9762\u6709zao_L2_384384.R1.fastq.gz\u4e4b\u7c7b\u6587\u672c\u3002 cut -f1 -d \".\" name \u6307\u5b9a\u5206\u5272\u7b26\u53f7 . \u5206\u5272\uff0c\u83b7\u53d6\u7b2c\u4e00\u5217\u7684\u5b57\u7b26 cut -f1 -d \".\" --complement name \u6307\u5b9a\u5206\u5272\u7b26\u53f7 . \u5206\u5272\uff0c\u5220\u9664\u7b2c1\u5217\u540e\u7684\u5b57\u7b26 expr substr zao_L2_384384.R1.fastq.gz 1 3 \u83b7\u53d6\u5b57\u7b26\u4e32\u7684\u6307\u5b9a\u5b57\u7b26\uff0c\u7b2c1-3\u4e2a\u5b57\u7b26\u3002 -xargs ls *.gz|grep F2-3|xargs -i mv {} ./F2-3/ \u67e5\u627e\u5f53\u524d\u76ee\u5f55\u4e2d\u6240\u6709\u7684gz\u6587\u4ef6\uff0c\u4ece\u4e2d\u627e\u5230\u542b\u6709F2-3\u7684\uff0c\u5168\u90e8\u79fb\u52a8\u5230\u5f53\u524d\u76ee\u5f55\u4e2dF2-3\u6587\u4ef6\u5939\u4e2d\u3002 #### \u8fdb\u7a0b\u76d1\u63a7\u811a\u672c #!/bin/bash line=`ps x|grep processname|grep -v \"grep\"|wc -l` while [ $line -gt 0 ] do echo \"no~\" sleep 30 line=`ps aux|grep processname|grep -v \"grep\"|wc -l` done echo \"yes!\" \u78c1\u76d8\u7a7a\u95f4\u67e5\u770b df -lh \u67e5\u770b\u6574\u4e2a\u670d\u52a1\u5668\u7684\u78c1\u76d8\u5206\u533a\u4f7f\u7528\u60c5\u51b5 du -lh \u67e5\u770b\u5f53\u524d\u76ee\u5f55\u7684\u78c1\u76d8\u4f7f\u7528\u60c5\u51b5 \u67e5\u770b\u670d\u52a1\u5668\u8fd0\u884c\u72b6\u6001 top \u6240\u6709\u4fe1\u606f top -u username \u6307\u5b9a\u7528\u6237\u7684\u8fd0\u884c\u4fe1\u606f ps -ef \u6240\u6709\u8fdb\u7a0b\u4fe1\u606f ps -x \u5f53\u524d\u7528\u6237\u7684\u8fdb\u7a0b \u6587\u4ef6\u67e5\u770b\u5de5\u5177 head filename \u67e5\u770b\u524d\u51e0\u884c\uff0c - head -10 readme \u67e5\u770breadme\u6587\u4ef6\u7684\u524d10\u884c tail filename - tail -8 errinfo \u67e5\u770berrinfo\u6587\u4ef6\u7684\u540e8\u884c more filename \u6eda\u52a8\u65b9\u5f0f\u67e5\u770b\u6587\u4ef6\uff0c\u7a7a\u683c\u6216enter\u952e\uff0c\u5f80\u4e0b\u7ee7\u7eed\u9605\u8bfb\u3002\u4e0d\u80fd\u4e0a\u7ffb less filename \u6eda\u52a8\u65b9\u5f0f\u67e5\u770b\u6587\u4ef6\uff0cpgdn\u5411\u4e0b\u7ffb\u9875\uff0cpgup\u5411\u4e0a\u7ffb\u9875\u3002 vim readme \u4f7f\u7528vim\u7f16\u8f91readme\u6587\u4ef6\u3002 \u6587\u4ef6\u4f20\u8f93 \u5e38\u7528\u7684\u6587\u4ef6\u4f20\u8f93\u7c7b\u578b\u6709\uff1awin-linux\u548clinux-linux mac\u6ca1\u7528\u8fc7\u4e0d\u6e05\u695a\u3002 - windows\u4f20\u8f93\u5230linux\uff0c\u6211\u4e00\u822c\u4f7f\u7528 winSCP\u8fd9\u4e2a\u8f6f\u4ef6 \u4e0b\u8f7d\u5730\u5740 \u3002\u5404\u5927\u8f6f\u4ef6\u5546\u5e97\u90fd\u6709\u8fd9\u6b3e\u8f6f\u4ef6\u3002 - linux\u5230linux\u4f20\u8f93\uff0c\u4f7f\u7528\u547d\u4ee4scp. \u53c2\u8003\u6587\u7ae0 \u4f8b\u5982\u6709\u5982\u4e0b\u4e24\u4e2a\u4e3b\u673a\uff1a172.28.218.254\uff08\u672c\u5730\uff09172.28.210.9\uff08\u8fdc\u7a0b\uff09 \u4f20\u8f93\u6587\u4ef6 \u5728\u672c\u5730\u4e3b\u673a\uff08172.28.218.254\uff09\u8fd0\u884c\u5982\u4e0b\u547d\u4ee4\uff1a \u8bf4\u660e\uff1achaim\u662f\u6211\u5728\u8fdc\u7a0b\u4e3b\u673a\u4e0a\u7684\u7528\u6237\u540d + \u83b7\u53d6\u8fdc\u7a0b\u76ee\u5f55maize scp -r chaim@172.28.210.9:/disk/maize/ ./maize/ /disk/maize/ \u8fd9\u662f\u8fdc\u7aef\u670d\u52a1\u5668\u7684\u6587\u4ef6\u5730\u5740 ./maize/\u8fd9\u662f\u5b58\u50a8\u5230\u672c\u5730\u670d\u52a1\u5668\u7684\u5730\u5740 + \u83b7\u53d6\u8fdc\u7a0b\u6587\u4ef6readme scp chaim@172.28.210.9:/home/info/readme ./Readme +\u5c06\u672c\u5730\u6587\u4ef6\u4e0a\u4f20\u5230\u8fdc\u7a0b scp /public/disk.info chaim@172.28.210.9:/home/info/disk.info +\u5c06\u672c\u5730\u6587\u4ef6\u5939\u4e0a\u4f20\u5230\u8fdc\u7a0b scp -r /public/maize/ chaim@172.28.210.9:/disks/backup/maize/ + \u6307\u5b9a\u7aef\u53e32235\u4f20\u8f93\u672c\u5730bam\u5230\u8fdc\u7a0b\u4e3b\u673a172.28.210.9 scp -P 2235 sam1.bam chaim@172.28.210.9:/disks/backup/maize/ \u5728\u7ecf\u5386\u4e86scp\u4f20\u8f93\u4e2d\u65ad\uff0c\u591a\u4e2a\u5927\u6587\u4ef6\u9700\u8981\u91cd\u65b0\u4f20\u8f93\u7684\u75db\u82e6\u540e\uff0c\u51b3\u5b9a\u4f7f\u7528\u652f\u6301\u65ad\u70b9\u7eed\u4f20\u7684rsync rsync \u4f20\u8f93\u65f6\uff0c\u5728\u53e6\u4e00\u7aef\u4e3b\u673a\u4e0a\u4f1a\u751f\u6210\u4e34\u65f6\u7684\u9690\u85cf\u6587\u4ef6\uff0c\u901a\u8fc7ls -la\u53ef\u4ee5\u67e5\u770b\u5230\u3002\u7b49\u5f85\u4f20\u8f93\u5b8c\u6210\u6216\u4e2d\u65ad\u65f6\u4f1a\u663e\u793a\u51fa\u6b63\u5e38\u7684\u6587\u4ef6\u540d\u3002 \u4e0a\u4f20\u6570\u636e\u5230\u8fdc\u7a0b\u670d\u52a1\u5668 rsync -P --rsh=ssh readme.md tang@172.28.218.254:~/chaim/ \u6307\u5b9a\u7aef\u53e32222\uff0c\u4f20\u8f93bam\u6587\u4ef6\u5230\u8fdc\u7a0b\u4e3b\u673a21.28.170.146 rsync -P -e 'ssh -p 2222' sample.bam chaim@21.28.170.146:/share/home/bam","title":"linux\u4e09\u5251\u5ba2awk\u3001grep\u3001sed\u5e94\u7528\u73af\u5883\u5373\u5e38\u7528\u547d\u4ee4"},{"location":"Linux-learning/Linux%E5%91%BD%E4%BB%A4%E6%80%BB%E7%BB%93/#linuxawkgrepsed","text":"linux\u5e38\u7528\u547d\u4ee4\u94fe\u63a5 https://man.linuxde.net/dos2unix https://man.linuxde.net/\u547d\u4ee4 https://man.linuxde.net/awk","title":"linux\u4e09\u5251\u5ba2awk\u3001grep\u3001sed\u5e94\u7528\u73af\u5883\u5373\u5e38\u7528\u547d\u4ee4"},{"location":"Linux-learning/Linux%E5%91%BD%E4%BB%A4%E6%80%BB%E7%BB%93/#_1","text":"awk cat name.txt|awk '{print $1,$NR,$0}' \u8bfb\u53d6name.txt \u8f93\u51fa\u7b2c\u4e00\u5217 $1 \uff0c\u6700\u540e\u4e00\u5217 $NR \uff0c\u548c\u6574\u884c $0","title":"\u6587\u672c\u5904\u7406"},{"location":"Linux-learning/Linux%E5%91%BD%E4%BB%A4%E6%80%BB%E7%BB%93/#_2","text":"awk -F , 'NR!=1{print $2 >$1\".txt\"}' geneinfo.csv \u6307\u5b9a , \u4e3a\u5206\u9694\u7b26,\u9010\u884c\u8f93\u51fa\u7b2c\u4e8c\u5217\u7684\u5185\u5bb9\u5230\u5bf9\u5e94\u7684\u7b2c1\u5217\u7684 \u6587\u4ef6\u540d\u7684txt\u6587\u4ef6\u3002","title":"\u5206\u5217\u8f93\u51fa\u6587\u4ef6\u65e0\u9700\u5faa\u73af\uff0c\u5206\u5217\u7cbe\u54c1\u3002"},{"location":"Linux-learning/Linux%E5%91%BD%E4%BB%A4%E6%80%BB%E7%BB%93/#awkshell","text":"","title":"awk\u4f7f\u7528shell\u4e2d\u7684\u53d8\u91cf"},{"location":"Linux-learning/Linux%E5%91%BD%E4%BB%A4%E6%80%BB%E7%BB%93/#awkn","text":"num=100 awk -v num=$num 'BEGIN{print num/0.5}'","title":"awk\u4e2d\u7684\u53d8\u91cf\u4e0d\u9700\u8981\u4f7f\u7528$\u7b26\u53f7\u3002\u4f7f\u7528$\u7b26\u53f7\u5219\u8868\u793a\u7684\u662f\u7b2cn\u5217\u3002"},{"location":"Linux-learning/Linux%E5%91%BD%E4%BB%A4%E6%80%BB%E7%BB%93/#awkshell_1","text":"eval $(awk 'BEGIN{print \"var1='str1';var2='str2'\"}') # $()\u7b49\u4ef7\u4e8e`` eval `awk 'BEGIN{print \"var1='str1';var2='str2'\"}'`","title":"awk\u5411shell\u4e2d\u4f20\u9012\u53d8\u91cf"},{"location":"Linux-learning/Linux%E5%91%BD%E4%BB%A4%E6%80%BB%E7%BB%93/#awk","text":"awk -F \" \" '{for(i=3;i<=NF;i++) {printf $i\" \"} printf \"\\n\"}' file","title":"awk \u83b7\u53d6\u6307\u5b9a\u5217\uff08\u6b64\u5904\u662f\u7b2c\u4e09\u5217\u5230\u6700\u540e\u4e00\u5217\uff09\u5206\u9694\u7b26\u4e3a\u4e00\u4e2a\u7a7a\u683c"},{"location":"Linux-learning/Linux%E5%91%BD%E4%BB%A4%E6%80%BB%E7%BB%93/#awktab","text":"awk '{$1=\"\";$2=\"\";print $0}' file |sed 's/\\t\\t//g' grep cat name| grep zhan \u67e5\u627ename\u6587\u4ef6\u91cc\u542b\u6709zhan\u7684\u884c grep -v \"node\" filename \u67e5\u627efilename\u91cc\u4e0d\u5305\u542bnode\u7684\u884c sed sed -n '1,10p' name.txt \u83b7\u53d61-10\u884c\u7684\u5185\u5bb9 - cut cut -f 4-10 test.txt #\u83b7\u53d6text.txt\u7684\u7b2c4-10\u5217\u3002","title":"awk\u83b7\u53d6\u6307\u5b9a\u5217\uff08\u6b64\u5904\u662f\u7b2c\u4e09\u5217\u5230\u6700\u540e\u4e00\u5217\uff09\u5206\u5272\u7b26\u4e3atab"},{"location":"Linux-learning/Linux%E5%91%BD%E4%BB%A4%E6%80%BB%E7%BB%93/#cut","text":"-b \u8868\u793a\u5b57\u8282\uff1b -c \u8868\u793a\u5b57\u7b26\uff1b -f \u8868\u793a\u5b9a\u4e49\u5b57\u6bb5\u3002 \u6307\u5b9a\u5206\u9694\u7b26\u53f7\u4f7f\u7528 -d \u7b26\u53f7 N-\uff1a\u4ece\u7b2cN\u4e2a\u5b57\u8282\u3001\u5b57\u7b26\u3001\u5b57\u6bb5\u5230\u7ed3\u5c3e\uff1b N-M\uff1a\u4ece\u7b2cN\u4e2a\u5b57\u8282\u3001\u5b57\u7b26\u3001\u5b57\u6bb5\u5230\u7b2cM\u4e2a\uff08\u5305\u62ecM\u5728\u5185\uff09\u5b57\u8282\u3001\u5b57\u7b26\u3001\u5b57\u6bb5\uff1b -M\uff1a\u4ece\u7b2c1\u4e2a\u5b57\u8282\u3001\u5b57\u7b26\u3001\u5b57\u6bb5\u5230\u7b2cM\u4e2a\uff08\u5305\u62ecM\u5728\u5185\uff09\u5b57\u8282\u3001\u5b57\u7b26\u3001\u5b57\u6bb5\u3002 \u4f8b\uff1a cut -f 5- -d \",\" test.csv \u67e5\u770btest.csv\u6587\u4ef6\u7684\u7b2c5\u5217\u5230\u6700\u540e\u4e00\u5217,\u6307\u5b9a\u7684\u5206\u9694\u7b26\u53f7\u662f , cut -c 1-4 test_Dsuite.txt \u67e5\u770b\u6587\u4ef6\u7684\u7b2c1\u5230\u7b2c4\u4e2a\u5b57\u7b26\u3002 - column column -t \u6587\u4ef6\u6309\u7167table\u683c\u5f0f\u67e5\u770b,\u914d\u5408 head \u53ef\u4ee5\u66f4\u52a0\u6e05\u695a\u7684\u9605\u8bfb\u6587\u4ef6\u7684\u524d\u51e0\u884c\u3002 column -t test_Dsuite.txt|head -5 \u67e5\u770btab\u5206\u5272\u6587\u4ef6\u7684\u524d5\u884c\uff0c\u4ee5table\u683c\u5f0f\u67e5\u770b\u3002","title":"cut\u53c2\u6570\u8bf4\u660e"},{"location":"Linux-learning/Linux%E5%91%BD%E4%BB%A4%E6%80%BB%E7%BB%93/#_3","text":"find \u67e5\u627e\u6587\u4ef6 find ./ -name \"*.txt\" \u67e5\u627e\u5f53\u524d\u76ee\u5f55\u4e0b\u6240\u6709\u7684txt\u7ed3\u5c3e\u7684\u6587\u4ef6\uff0c\u5305\u62ec\u5b50\u76ee\u5f55\u91cc\u7684\u6587\u4ef6\u3002 rename \u6279\u91cf\u91cd\u547d\u540d\uff08\u6b64\u5904\u7684rename\u662fperl\u7248\u672c\u7684\uff09 rename\u6709C\u8bed\u8a00\u7248\u672c\u548cperl\u7248\u672c\uff0c\u4ee5\u4e0b\u547d\u4ee4\u5747\u662fperl\u7248\u672c\u7684\u547d\u4ee4\u3002 \u4f7f\u7528\u547d\u4ee4 man rename \u5982\u679c\u8fd4\u56de\u7684\u7a97\u53e3\u9996\u884c\u6709 perl`\u5219\u662fperl\u7248\u672c\uff0c\u5426\u5219\u5373\u662fC\u8bed\u8a00\u7248\u672c\u3002 ubuntu\u5b89\u88c5perl\u7248\u672c\u7684rename shell sudo apt update sudo apt-get install rename rename\u53c2\u6570\u8bb2\u89e3\uff1a s\u8868\u793a\u4f7f\u7528\u6b63\u5219\uff0c \u7b2c1-2\u4e2a/\u4e4b\u95f4\u662f\u8981\u5339\u914d\u7684\u5185\u5bb9, $ \u8868\u793a\u6587\u4ef6\u7ed3\u5c3e\u3002\u7b2c2\u4e2a/\u4e4b\u540e\u662f\u8981\u66ff\u6362\u6210\u7684\u5185\u5bb9\uff0c\u6700\u540e\u8ddf\u4e0a\u8981\u64cd\u4f5c\u7684\u6587\u4ef6 *\u8868\u793a\u6240\u6709\u6587\u4ef6\u3002\u6ce8\u610f\uff1aperl\u4e2d '' \u548c \"\" \u4e0d\u7b49\u4ef7\uff0c\u6b64\u5904\u5e94\u8be5\u4f7f\u7528\u7684\u662f\u5355\u5f15\u53f7 '' \u3002 \u5b57\u7b26\u66ff\u6362 rename 's/AA/aa' *.fa \u628a\u6240\u6709.fa\u6587\u4ef6\u540d\u4e2d\u7684AA\u66ff\u6362\u6210aa \u4fee\u6539\u6587\u4ef6\u540e\u7f00 rename 's/\\.html/\\.php' * \u628a.html\u6587\u4ef6\u6539\u4e3a.php\u6587\u4ef6 rename 's//$/.txt' * \u628a\u6240\u6709\u6587\u4ef6\u540d\u672b\u5c3e\u6dfb\u52a0.txt rename 's/^/admin' * \u6240\u6709\u6587\u4ef6\u5f00\u5934\u6dfb\u52a0\u5b57\u7b26admin rename 'y/A-Z/a-z/' * \u4fee\u6539\u6587\u4ef6\u540d\u5927\u5199\u5b57\u7b26\u4e3a\u5c0f\u5199 rename 's/[]+//g' * \u53bb\u6389\u6587\u4ef6\u540d\u4e2d\u7684\u7a7a\u683c rename 's/\\.bak$//' *.bak \u6240\u6709\u7684.bak\u540e\u7f00\u540d\u7684\u6587\u4ef6\u5168\u90e8\u5220\u9664\u540e\u7f00\u540d \u6b63\u5219\u5339\u914d\u4fee\u6539\u6587\u4ef6\u540d rename 's/(/d)/\u7b2c$1\u7ae0/' * \u4fee\u6539\u4e3a\u7b2c1\u7ae0\uff0c\u7b2c2\u7ae0 \u65b9\u6cd51\uff1a\u628a\u6587\u4ef6\u540d\u62c6\u5206\u5904\u7406\uff0c\u53ef\u4ee5\u4efb\u610f\u4fee\u6539\u6587\u4ef6\u540d find -name '*.log' -printf %f//n|awk -F'.' '{print $1}'|xargs -i{} mv {}.log xiyun_{}.log \u65b9\u6cd52\uff1a\u5229\u7528rename \u4e00\u822c\u7684linux\u4e0b\u7684rename\u547d\u4ee4\u6bd4\u8f83\u7b80\u5355 rename 'test' 'xiyun' '*.log' \u628a\u6587\u4ef6\u540d\u4e2d\u7684\u67d0\u90e8\u5206\u5b57\u7b26\u4e32\u66ff\u6362\u6389 ubuntu\u4e0b\u7684rename\u547d\u4ee4\u652f\u6301\u6b63\u5219\u8868\u8fbe\u5f0f\uff0c\u56e0\u6b64\u529f\u80fd\u66f4\u5f3a\u5927\u3002 \u65b9\u6cd53\uff1a\u76f4\u63a5\u5229\u7528find\u548cxargs\u548cmv\uff0c\u4e2d\u95f4\u4e0d\u7528awk\uff0c\u8fd9\u6837\u53ea\u80fd\u6dfb\u52a0\u540e\u7f00\u540d\uff0c\u4e0d\u80fd\u4fee\u6539\u6587\u4ef6\u540d\u3002 ln \u5efa\u7acb\u8d85\u94fe\u63a5 ln \u8fdc\u7aef\u6587\u4ef6 \u65b0\u6587\u4ef6 \u65b0\u6587\u4ef6\u5373\u751f\u6210\u7684\u8fdc\u7aef\u6587\u4ef6\u7684\u786c\u94fe\u63a5 ln -s /disk/readme ./read \u751f\u6210\u8f6f\u94fe\u63a5\uff0c\u5b9e\u9645\u662f\u5728\u5f53\u524d\u76ee\u5f55\u751f\u6210\u540d\u4e3aread\u7684\u8d85\u94fe\u63a5\uff0c\u94fe\u63a5\u5230disk/readme \uff0c\u8bbf\u95eeread\uff0c\u5373\u76f8\u5f53\u4e8e\u8bbf\u95eereadme dos2unix \u8f6c\u6362windows\u6587\u4ef6\u4e3aUnix\u683c\u5f0f dos2unix test.py \u628atest.py\u8f6c\u6362\u6210Unix\u683c\u5f0f dos2unix -n test.py u-test.py \u628atest.py\u8f6c\u6362\u6210unix\u7684\u65b0\u6587\u4ef6u-test.py dos2unix -o test.py \u76f4\u63a5\u4fee\u6539\u539f\u59cb\u6587\u4ef6\u683c\u5f0f\u4e3aunix dos2unix file1 file2 file3 \u540c\u65f6\u4fee\u6539\u591a\u4e2a\u6587\u4ef6\u7684\u683c\u5f0f\u4e3aunix unix2dos \u8f6c\u6362Unix\u683c\u5f0f\u4e3awindows unix\u548cwindows \u7684\u6587\u4ef6\u683c\u5f0f\u4e2d\u6362\u884c\u7b26\u7684\u683c\u5f0f\u4e0d\u4e00\u81f4\uff0c\u4e00\u5b9a\u8981\u6ce8\u610f\u8f6c\u6362\u6362\u884c\u7b26\u3002\u5426\u5219\u4f1a\u62a5\u9519\u3002 unix\u548cwindows\u7684\u6587\u4ef6\u7cfb\u7edf\u4e5f\u4e0d\u4e00\u81f4\uff0cwindows\u7684Fat32\uff08\u4e0d\u652f\u6301\u5355\u4e2a\u6587\u4ef6\u5927\u4e8e4G\uff09,NTFS\uff08\u76ee\u524d\u5e38\u7528\u7684\u6587\u4ef6\u7cfb\u7edf\u683c\u5f0f\uff09\uff0clinux\u662fExt2\u683c\u5f0f\u3002\u5982\u679c\u8981\u5728\u4e24\u79cd\u7cfb\u7edf\u683c\u5f0f\u4e4b\u95f4\u4f20\u8f93\u6587\u4ef6\uff0cNTFS\u7684\u786c\u76d8\u5728linux\u4e0a\u4e0d\u4f1a\u88ab\u8bc6\u522b,\u6700\u540e\u4f7f\u7528\u7b2c\u4e09\u65b9\u8f6f\u4ef6\u8bc6\u522b\u3002 md5sum MD5\u503c\u751f\u6210\u6838\u5bf9 md5sum test \u751f\u6210test\u6587\u4ef6\u7684md5\u503c\u3002 md5sum -c testsum test \u6838\u5bf9test\u7684\u6587\u4ef6\u548ctestsum\u6587\u4ef6\u4e2d\u7684MD5\u503c\u662f\u5426\u4e00\u81f4\u3002 \u6392\u5e8f \u53c2\u8003 sort test.txt \u6392\u5e8f sort \u547d\u4ee4\u7684\u5b57\u6bb5 -n\u6309\u7167\u6570\u5b57\u8fdb\u884c\u6392\u5e8f -d \u6309\u7167\u5b57\u5178\u987a\u5e8f\u6392\u5e8f -r \u9006\u5e8f\u6392\u5e8f -k N\u6307\u5b9a\u6309\u7b2cN\u5217\u6392\u5e8f sort -nrk 1 data.txt sort -bd data //\u5ffd\u7565\u7a7a\u683c\u4e4b\u7c7b\u7684\u524d\u5bfc\u7a7a\u767d\u7b26 sort info.csv|uniq \u53cd\u5411\u6392\u5e8f sort test.txt | uniq \u6d88\u9664\u91cd\u590d\u884c sort test.txt | uniq -c \u7edf\u8ba1\u91cd\u590d\u884c\u51fa\u73b0\u7684\u6b21\u6570 sort test.txt | uniq -d \u627e\u51fa\u91cd\u590d\u884c \u6307\u5b9a\u6bcf\u884c\u4e2d\u9700\u8981\u6bd4\u8f83\u7684\u91cd\u590d\u5185\u5bb9 -s \u5f00\u59cb\u4f4d\u7f6e -w \u6bd4\u8f83\u5b57\u7b26\u6570 \u8fdb\u7a0b\u7ba1\u7406( \u6740\u6b7b\u8fdb\u7a0b\u53c2\u8003 ) ps \u67e5\u770b\u540e\u53f0\u8fdb\u7a0b\uff08\u4ec5\u9650\u5f53\u524d\u7ec8\u7aef\u7528\u6237\u7684\u540e\u53f0\u8fdb\u7a0b\uff09 ps\u547d\u4ee4\u8f93\u51fa\u7684\u7b2c\u4e00\u5217\u5373\u4e3aPID. ps -ef \u67e5\u770b\u6240\u6709\u7528\u6237\u8fdb\u7a0b kill -s 9 3645522 \u6740\u6389PID\u4e3a3645522\u7684\u8fdb\u7a0b,\u6b64\u5904\u662f\u6740\u6389md5sum\u7684\u8fdb\u7a0b\u3002 pkill -9 md5sum \u5f3a\u529b\u5220\u9664\u7a0b\u5e8f\u540d\u4e3amd5sum\u7684\u8fdb\u7a0b\u3002 kill -s 9 `pgrep vim ` #\u4f7f\u7528pgrep\u548ckill\u6765\u5220\u9664\u540d\u5b57\u4e3avim\u7684\u8fdb\u7a0b\u3002 -\u8fdb\u7a0b\u68c0\u6d4b ps -x |grep fastp|grep -v \"grep\"|wc -l \u7edf\u8ba1\u5f53\u524d\u7528\u6237\u7684\u6240\u6709\u8fd0\u884c\u8fdb\u7a0b\u4e2d\uff0c\u540d\u5b57\u4e3afastp\u7684\u8fdb\u7a0b\u6570\u91cf \u6587\u4ef6\u540d\u5b57\u7b26\u7684\u5904\u7406 cut\u53c2\u8003 expr\u53c2\u8003 name\u662f\u4e00\u4e2a\u6587\u4ef6\u5939\uff0c\u91cc\u9762\u6709zao_L2_384384.R1.fastq.gz\u4e4b\u7c7b\u6587\u672c\u3002 cut -f1 -d \".\" name \u6307\u5b9a\u5206\u5272\u7b26\u53f7 . \u5206\u5272\uff0c\u83b7\u53d6\u7b2c\u4e00\u5217\u7684\u5b57\u7b26 cut -f1 -d \".\" --complement name \u6307\u5b9a\u5206\u5272\u7b26\u53f7 . \u5206\u5272\uff0c\u5220\u9664\u7b2c1\u5217\u540e\u7684\u5b57\u7b26 expr substr zao_L2_384384.R1.fastq.gz 1 3 \u83b7\u53d6\u5b57\u7b26\u4e32\u7684\u6307\u5b9a\u5b57\u7b26\uff0c\u7b2c1-3\u4e2a\u5b57\u7b26\u3002 -xargs ls *.gz|grep F2-3|xargs -i mv {} ./F2-3/ \u67e5\u627e\u5f53\u524d\u76ee\u5f55\u4e2d\u6240\u6709\u7684gz\u6587\u4ef6\uff0c\u4ece\u4e2d\u627e\u5230\u542b\u6709F2-3\u7684\uff0c\u5168\u90e8\u79fb\u52a8\u5230\u5f53\u524d\u76ee\u5f55\u4e2dF2-3\u6587\u4ef6\u5939\u4e2d\u3002 #### \u8fdb\u7a0b\u76d1\u63a7\u811a\u672c #!/bin/bash line=`ps x|grep processname|grep -v \"grep\"|wc -l` while [ $line -gt 0 ] do echo \"no~\" sleep 30 line=`ps aux|grep processname|grep -v \"grep\"|wc -l` done echo \"yes!\"","title":"\u6587\u4ef6\u5904\u7406"},{"location":"Linux-learning/Linux%E5%91%BD%E4%BB%A4%E6%80%BB%E7%BB%93/#_4","text":"df -lh \u67e5\u770b\u6574\u4e2a\u670d\u52a1\u5668\u7684\u78c1\u76d8\u5206\u533a\u4f7f\u7528\u60c5\u51b5 du -lh \u67e5\u770b\u5f53\u524d\u76ee\u5f55\u7684\u78c1\u76d8\u4f7f\u7528\u60c5\u51b5","title":"\u78c1\u76d8\u7a7a\u95f4\u67e5\u770b"},{"location":"Linux-learning/Linux%E5%91%BD%E4%BB%A4%E6%80%BB%E7%BB%93/#_5","text":"top \u6240\u6709\u4fe1\u606f top -u username \u6307\u5b9a\u7528\u6237\u7684\u8fd0\u884c\u4fe1\u606f ps -ef \u6240\u6709\u8fdb\u7a0b\u4fe1\u606f ps -x \u5f53\u524d\u7528\u6237\u7684\u8fdb\u7a0b","title":"\u67e5\u770b\u670d\u52a1\u5668\u8fd0\u884c\u72b6\u6001"},{"location":"Linux-learning/Linux%E5%91%BD%E4%BB%A4%E6%80%BB%E7%BB%93/#_6","text":"head filename \u67e5\u770b\u524d\u51e0\u884c\uff0c - head -10 readme \u67e5\u770breadme\u6587\u4ef6\u7684\u524d10\u884c tail filename - tail -8 errinfo \u67e5\u770berrinfo\u6587\u4ef6\u7684\u540e8\u884c more filename \u6eda\u52a8\u65b9\u5f0f\u67e5\u770b\u6587\u4ef6\uff0c\u7a7a\u683c\u6216enter\u952e\uff0c\u5f80\u4e0b\u7ee7\u7eed\u9605\u8bfb\u3002\u4e0d\u80fd\u4e0a\u7ffb less filename \u6eda\u52a8\u65b9\u5f0f\u67e5\u770b\u6587\u4ef6\uff0cpgdn\u5411\u4e0b\u7ffb\u9875\uff0cpgup\u5411\u4e0a\u7ffb\u9875\u3002 vim readme \u4f7f\u7528vim\u7f16\u8f91readme\u6587\u4ef6\u3002","title":"\u6587\u4ef6\u67e5\u770b\u5de5\u5177"},{"location":"Linux-learning/Linux%E5%91%BD%E4%BB%A4%E6%80%BB%E7%BB%93/#_7","text":"\u5e38\u7528\u7684\u6587\u4ef6\u4f20\u8f93\u7c7b\u578b\u6709\uff1awin-linux\u548clinux-linux mac\u6ca1\u7528\u8fc7\u4e0d\u6e05\u695a\u3002 - windows\u4f20\u8f93\u5230linux\uff0c\u6211\u4e00\u822c\u4f7f\u7528 winSCP\u8fd9\u4e2a\u8f6f\u4ef6 \u4e0b\u8f7d\u5730\u5740 \u3002\u5404\u5927\u8f6f\u4ef6\u5546\u5e97\u90fd\u6709\u8fd9\u6b3e\u8f6f\u4ef6\u3002 - linux\u5230linux\u4f20\u8f93\uff0c\u4f7f\u7528\u547d\u4ee4scp. \u53c2\u8003\u6587\u7ae0 \u4f8b\u5982\u6709\u5982\u4e0b\u4e24\u4e2a\u4e3b\u673a\uff1a172.28.218.254\uff08\u672c\u5730\uff09172.28.210.9\uff08\u8fdc\u7a0b\uff09 \u4f20\u8f93\u6587\u4ef6 \u5728\u672c\u5730\u4e3b\u673a\uff08172.28.218.254\uff09\u8fd0\u884c\u5982\u4e0b\u547d\u4ee4\uff1a \u8bf4\u660e\uff1achaim\u662f\u6211\u5728\u8fdc\u7a0b\u4e3b\u673a\u4e0a\u7684\u7528\u6237\u540d + \u83b7\u53d6\u8fdc\u7a0b\u76ee\u5f55maize scp -r chaim@172.28.210.9:/disk/maize/ ./maize/ /disk/maize/ \u8fd9\u662f\u8fdc\u7aef\u670d\u52a1\u5668\u7684\u6587\u4ef6\u5730\u5740 ./maize/\u8fd9\u662f\u5b58\u50a8\u5230\u672c\u5730\u670d\u52a1\u5668\u7684\u5730\u5740 + \u83b7\u53d6\u8fdc\u7a0b\u6587\u4ef6readme scp chaim@172.28.210.9:/home/info/readme ./Readme +\u5c06\u672c\u5730\u6587\u4ef6\u4e0a\u4f20\u5230\u8fdc\u7a0b scp /public/disk.info chaim@172.28.210.9:/home/info/disk.info +\u5c06\u672c\u5730\u6587\u4ef6\u5939\u4e0a\u4f20\u5230\u8fdc\u7a0b scp -r /public/maize/ chaim@172.28.210.9:/disks/backup/maize/ + \u6307\u5b9a\u7aef\u53e32235\u4f20\u8f93\u672c\u5730bam\u5230\u8fdc\u7a0b\u4e3b\u673a172.28.210.9 scp -P 2235 sam1.bam chaim@172.28.210.9:/disks/backup/maize/","title":"\u6587\u4ef6\u4f20\u8f93"},{"location":"Linux-learning/Linux%E5%91%BD%E4%BB%A4%E6%80%BB%E7%BB%93/#scprsync","text":"rsync \u4f20\u8f93\u65f6\uff0c\u5728\u53e6\u4e00\u7aef\u4e3b\u673a\u4e0a\u4f1a\u751f\u6210\u4e34\u65f6\u7684\u9690\u85cf\u6587\u4ef6\uff0c\u901a\u8fc7ls -la\u53ef\u4ee5\u67e5\u770b\u5230\u3002\u7b49\u5f85\u4f20\u8f93\u5b8c\u6210\u6216\u4e2d\u65ad\u65f6\u4f1a\u663e\u793a\u51fa\u6b63\u5e38\u7684\u6587\u4ef6\u540d\u3002 \u4e0a\u4f20\u6570\u636e\u5230\u8fdc\u7a0b\u670d\u52a1\u5668 rsync -P --rsh=ssh readme.md tang@172.28.218.254:~/chaim/","title":"\u5728\u7ecf\u5386\u4e86scp\u4f20\u8f93\u4e2d\u65ad\uff0c\u591a\u4e2a\u5927\u6587\u4ef6\u9700\u8981\u91cd\u65b0\u4f20\u8f93\u7684\u75db\u82e6\u540e\uff0c\u51b3\u5b9a\u4f7f\u7528\u652f\u6301\u65ad\u70b9\u7eed\u4f20\u7684rsync"},{"location":"Linux-learning/Linux%E5%91%BD%E4%BB%A4%E6%80%BB%E7%BB%93/#2222bam2128170146","text":"rsync -P -e 'ssh -p 2222' sample.bam chaim@21.28.170.146:/share/home/bam","title":"\u6307\u5b9a\u7aef\u53e32222\uff0c\u4f20\u8f93bam\u6587\u4ef6\u5230\u8fdc\u7a0b\u4e3b\u673a21.28.170.146"},{"location":"Linux-learning/Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E/","text":"\u8fd9\u662fLinux\u7684\u64cd\u4f5c\u7cfb\u7edf\uff0c\u4f7f\u7528\u7684VMware \u5b89\u88c5\u7684\u865a\u62df\u673a\u7684\u64cd\u4f5c\u7cfb\u7edf \u5207\u6362\u7528\u6237su su - \u5207\u6362\u56deroot\u76ee\u5f55\uff08\u9700\u8981\u8f93\u5165\u5bc6\u7801\uff0cLinux\u4e0b\u8f93\u5165\u7684\u5bc6\u7801\u662f\u4e0d\u53ef\u89c1\u7684\uff09 su - chaim \u5207\u6362\u5230chaim\u7528\u6237\u6a21\u5f0f\u4e0b passwd \u66f4\u6539\u5f53\u524d\u7528\u6237\u7684\u5bc6\u7801 \u5207\u6362\u7528\u6237\u65f6\uff0c\u4e00\u5b9a\u8981\u4f7f\u7528 su - \u7528\u6237\u540d ,\u4e2d\u95f4\u7684 - \u4e0d\u80fd\u7701\u7565\uff0c\u5982\u679c\u7701\u7565\u5219\u4f7f\u7528\u7684\u8fd8\u662f\u5207\u6362\u524d\u7684\u7528\u6237\u7684\u73af\u5883\u53d8\u91cf\u3002 \u6211\u4f7f\u7528\u4e0d\u540c\u7684\u8d26\u6237\u65f6\uff0c\u76f4\u63a5\u4f7f\u7528 su chaim \u7ed3\u679c\u5c31\u662f\uff0c\u8d26\u6237\u7684perl\u65e0\u6cd5\u4f7f\u7528\uff0c\u7ecf\u8fc7\u53cd\u590d\u67e5\u627e\uff0c\u624d\u53d1\u73b0\u662f\u5207\u6362\u7684\u65b9\u6cd5\u4e0d\u6b63\u786e\uff0c\u7701\u7565\u4e86 - ,\u5bfc\u81f4\u73af\u5883\u53d8\u91cf\u6ca1\u6709\u5207\u6362\u3002 \u8fdb\u7a0b\u5b88\u62a4\u548c\u7ed3\u675f \u8fdb\u7a0b\u5b88\u62a4 nohup ascp -i /share/home/jialj/.aspera/connect/etc/asperaweb_id_dsa.putty --mode recv --host ftp-private.ncbi.nlm.nih.gov --user anonftp --file-list SRR_Download_List_file_list.txt ./ & \u7528 nohup \u4f60\u7684\u4efb\u52a1 & \u6765\u5b88\u62a4\u8fdb\u7a0b\uff0c\u5373\u4f7f\u9000\u51fa\u5f53\u524d\u8fde\u63a5\uff0c\u8fdb\u7a0b\u4ecd\u7136\u4f1a\u5728\u540e\u53f0\u8fdb\u884c\u3002 \u6b64\u5904\u9000\u51fa\u65f6\uff0c\u4f7f\u7528 logout \u9000\u51fa\u8fdc\u7a0b\u8fde\u63a5\u3002\u975e\u6b63\u5e38\u9000\u51fa\u7ec8\u7aef\uff0cnohup\u7684\u8fdb\u7a0b\u4f1a\u88abkill\u6389\u3002 \u8fdb\u7a0b\u5b88\u62a4\u4e4bScreen \u5728\u4f7f\u7528nohup\u65f6\uff0c\u53ef\u80fd\u4f1a\u5728\u8f93\u51fa\u6587\u4ef6\u6dfb\u52a0\u8bf4\u660e\u6027\u5185\u5bb9\uff0c\u7ed3\u679c\u4f1a\u5bfc\u81f4\u540e\u7eed\u7a0b\u5e8f\u62a5\u9519\u3002 \u6240\u4ee5\u5efa\u8bae\uff0c\u5728\u8fd0\u884c\u547d\u4ee4\u65f6\uff0c\u6307\u5b9alog\u8f93\u51fa\u6587\u4ef6\uff0c #\u6b64\u5904\u76842 \u540e\u9762\u7684\u65f6\u8f93\u51falog\u7684\u6587\u4ef6\u5939 nohup ascp -i /EDE/lk.putty XXXX 2 >ascp_output_info & \u9664\u4e86nohup\u8fd8\u6709screen\uff0c\u4e5f\u662f\u5f88\u597d\u7528\u7684\u540e\u53f0\u6302\u8d77\u7684\u547d\u4ee4\u3002 screen\u5e38\u7528\u547d\u4ee4 #\u65b0\u5efa\u4e00\u4e2a\u540d\u5b57\u4e3ahello\u7684session\uff0c\u76f4\u63a5\u8fdb\u5165\u5230\u8be5session screen -S hello #\u9000\u51fa\u5f53\u524d\u7684session\uff0cCTRL+A+D \uff0c\u4f46\u662f\u8be5session\u4ecd\u7136\u5728\u540e\u53f0\u8fd0\u884c \u540c\u65f6\u6309\u4e0bCTRL+A+D #\u67e5\u770b\u6240\u6709\u7684screen session screen -ls #\u8fd4\u56dehello session screen -r hello #\u7ed3\u675f\u5f53\u524dsession \uff0c\u5e76\u524d\u5f80test session screen -d -r test # \u79bb\u7ebfhello\u8fd9\u4e2asession screen -d hello #\u6062\u590d\u79bb\u7ebf\u7684hello session screen -x hello \u8fdb\u7a0b\u7ed3\u675f ps -efww|grep ascp |grep -v grep|cut -c 9-15|xargs kill -9 \u7ed3\u675fascp\u7a0b\u5e8f\u7684\u6240\u6709\u8fdb\u7a0b\u3002 \u53ef\u4ee5\u66f4\u6362\u4e2d\u95f4\u7684ascp\u4e3a\u4efb\u4f55\u60f3\u8981\u7ed3\u675f\u7684\u7a0b\u5e8f\u7684\u540d\u5b57 \u8bf4\u660e\uff1a\u7ba1\u9053\u7b26\u201c|\u201d\u7528\u6765\u9694\u5f00\u4e24\u4e2a\u547d\u4ee4\uff0c\u7ba1\u9053\u7b26\u5de6\u8fb9\u547d\u4ee4\u7684\u8f93\u51fa\u4f1a\u4f5c\u4e3a\u7ba1\u9053\u7b26\u53f3\u8fb9\u547d\u4ee4\u7684\u8f93\u5165\u3002 ps\u3000-efww \u662f\u67e5\u770b\u6240\u6709\u8fdb\u7a0b\u7684\u547d\u4ee4\u3002\u8fd9\u65f6\u68c0\u7d22\u51fa\u7684\u8fdb\u7a0b\u5c06\u4f5c\u4e3a\u4e0b\u4e00\u6761\u547d\u4ee4 grep \u7684\u8f93\u5165\uff0c\u6ce8\u610f\u8981\u7ed3\u675f\u5176\u5b83\u7a0b\u5e8f\u65f6\uff0c\u8bf7\u5c06\u4e0a\u9762\u547d\u4ee4\u4e2d\u7684vim\u66ff\u6362\u6210\u5176\u5b83\u7a0b\u5e8f\u540d\u3002 grep -v grep \u662f\u5728\u5217\u51fa\u7684\u8fdb\u7a0b\u4e2d\u53bb\u9664\u542b\u6709\u5173\u952e\u5b57\u201cgrep\u201d\u7684\u8fdb\u7a0b\u3002 cut -c 9-15 \u662f\u622a\u53d6\u8f93\u5165\u884c\u7684\u7b2c9\u4e2a\u5b57\u7b26\u5230\u7b2c15\u4e2a\u5b57\u7b26\uff0c\u800c\u8fd9\u6b63\u597d\u662f\u8fdb\u7a0b\u53f7PID\u3002 xargs kill -9 \u4e2d\u7684xargs\u547d\u4ee4\u662f\u7528\u6765\u628a\u524d\u9762\u547d\u4ee4\u7684\u8f93\u51fa\u7ed3\u679c\uff08PID\uff09\u4f5c\u4e3a kill -9 \u547d\u4ee4\u7684\u53c2\u6570\uff0c\u5e76\u6267\u884c\u8be5\u547d\u4ee4\u3002 kill -9 \u4f1a\u5f3a\u884c\u6740\u6389\u6307\u5b9a\u8fdb\u7a0b\uff0c\u8fd9\u6837\u5c31\u6210\u529f\u6e05\u9664\u4e86\u540c\u540d\u8fdb\u7a0b\u3002 \u5207\u6362\u5230\u4e0d\u540c\u7684\u76ee\u5f55\u4f4d\u7f6ecd cd ~ \u5feb\u901f\u8fdb\u5165/home/chaimol\u76ee\u5f55 \uff08\u5728\u975eroot\u7528\u6237\u6a21\u5f0f\u4e0b \uff09 cd - \u8fd4\u56de\u8fdb\u5165\u672c\u76ee\u5f55\u524d\u6240\u5728\u7684\u76ee\u5f55 mkdir newfile \u521b\u5efa\u4e00\u4e2a\u540d\u5b57\u4e3anewfile\u7684\u6587\u4ef6\u5939 cd ../ (\u8fdb\u5165\u4e0a\u4e00\u7ea7\u76ee\u5f55) cd ./home (\u8fdb\u5165\u540c\u7ea7\u7684home\u6587\u4ef6\u5939) mkdir name \u65b0\u5efa\u4e00\u4e2a\u540d\u5b57\u662fname\u7684\u6587\u4ef6\u5939 touch myfirst.txt \u65b0\u5efa\u4e00\u4e2a\u540d\u5b57\u4e3amyfirst\u7684txt\u6587\u4ef6 rm -rf myfirst.txt \u5220\u9664\u540d\u5b57\u4e3amyfirst.txt\u7684\u6587\u4ef6 ln -s /home/user/smpamples.peopleRNAseq/ /home/f \u8bbe\u7f6e\u8d85\u8fde\u63a5\uff0c\u7528home\u76ee\u5f55\u4e0b\u7684f\u6587\u4ef6\u5939\u8f6f\u8d85\u8fde\u63a5\u5230/home/user/smpamples.peopleRNAseq/\u76ee\u5f55\u3002\u8bbf\u95ee/home/f,\uff0c\u5c31\u76f8\u5f53\u4e8e\u8bbf\u95ee\u4e0a\u8ff0\u76ee\u5f55\u3002 \u590d\u5236cp cp inex.html testBaidu \u590d\u5236index.html\u5230testBaidu\u6587\u4ef6\u5939\u5185\uff08\u4f1a\u81ea\u52a8\u628a\u65f6\u95f4\u6233\u6539\u4e3a\u5f53\u524d\u7684\u65f6\u95f4\u6233\uff09 cp -p index.html testBaidu \u590d\u5236index.html\u5230testBaidu\u6587\u4ef6\u5939\u5185(\u65f6\u95f4\u6233\u4ecd\u7136\u662f\u6e90\u6587\u4ef6\u7684\u65f6\u95f4\u6233) cp index.html index.css index.js testBaidu \u590d\u5236index.html\uff0cindex.css\uff0cindex.js\u6587\u4ef6\u5230testBaidu\u6587\u4ef6\u5939\u5185 cp -r cat dog \u628acat\u6587\u4ef6\u5939\u590d\u5236\u5230dog\u6587\u4ef6\u5939\u5185 \u79fb\u52a8\u3001\u91cd\u547d\u540dmv mv cat dog cat\u91cd\u547d\u540d\u4e3adog mv cat/ dog/ cat\u6587\u4ef6\u5939\u5185\u5bb9\u79fb\u52a8\u5230dog\u6587\u4ef6\u5939\uff0c\u540c\u65f6\u5220\u9664cat\u6587\u4ef6\u5939 rm index.html \u5220\u9664index.html \u4f1a\u8981\u6c42\u786e\u8ba4\u662f\u5426\u5220\u9664\uff0c\u8f93\u5165y\uff0c\u5219\u5220\u9664\u3002 rm -f inex.html \u5220\u9664index.html \uff0c\u4e0d\u8981\u6c42\u518d\u6b21\u786e\u8ba4\u3002 rm -r dog/ \u5220\u9664dog\u6587\u4ef6\u5939\uff0c\u9700\u8981\u518d\u6b21\u786e\u8ba4\uff0c\u8f93\u5165y\uff0c\u5219\u5220\u9664\u3002\uff08\u5220\u9664\u6587\u4ef6\u5939\u65f6\uff0c\u5219\u4f1a\u8fdb\u5165\u8be5\u6587\u4ef6\u5939\uff0c\u8981\u6c42\u4f60\u4e00\u4e00\u786e\u8ba4\u662f\u5426\u5220\u9664\u6587\u4ef6\u5939\u91cc\u7684\u6bcf\u4e00\u9879\uff09 rm -rf dog/ \u5220\u9664dog\u6587\u4ef6\u5939\uff0c\u4e0d\u9700\u8981\u518d\u6b21\u786e\u8ba4\u3002 \u67e5\u770b\u6587\u4ef6\u5939\u5185\u5bb9ls pwd \u663e\u793a\u5f53\u524d\u6240\u5728\u7684\u76ee\u5f55 dir \u67e5\u770b\u76ee\u5f55\u5185\u5bb9\uff08\u53ea\u663e\u793a\u6587\u4ef6\u540d\uff09 ls -l \u67e5\u770b\u6240\u5728\u76ee\u5f55\u5185\u5bb9\uff08\u5305\u62ec\u6587\u4ef6\u540d\u548c\u65f6\u95f4\u7b49\u8be6\u7ec6\u5217\u8868\uff09 ls -la \u67e5\u770b\u5305\u542b\u9690\u85cf\u6587\u4ef6\u5728\u5185\u7684\u672c\u76ee\u5f55\u6240\u6709\u5185\u5bb9\uff08\u6587\u4ef6\u5927\u5c0f\u5168\u90e8\u663e\u793a\u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d\u663e\u793a\uff09 ls \u663e\u793a\u5f53\u524d\u6240\u5728\u7684\u76ee\u5f55\u5185\u5bb9\uff08\u53ea\u663e\u793a\u6587\u4ef6\u540d\uff09 ls / \u663e\u793a\u6839\u76ee\u5f55\u7684\u5185\u5bb9 ls -a \u663e\u793a\u672c\u76ee\u5f55\u5185\u5305\u542b\u9690\u85cf\u6587\u4ef6\u5728\u5185\u7684\u6240\u6709\u6587\u4ef6\uff08\u53ea\u663e\u793a\u6587\u4ef6\u540d\uff09 ls -ld \u663e\u793a\u672c\u76ee\u5f55\u81ea\u8eab\u7684\u4fe1\u606f ls -lh \u663e\u793a\u672c\u76ee\u5f55\u4e0b\u6240\u6709\u5185\u5bb9\uff08\u4ee5\u5217\u8868\u7684\u5f62\u5f0f\uff0c\u53ea\u662f\u6587\u4ef6\u5927\u5c0f\u4f1a\u4ee5\u5408\u9002\u7684\u5355\u4f4d\u8868\u793a\uff09 file index.css \u786e\u8ba4index.css\u7684\u6587\u4ef6\u683c\u5f0f cat index.css \u6253\u5f00index.css\u6587\u4ef6\u67e5\u770b\u6587\u672c\u6587\u4ef6 less index.txt \u67e5\u770bindex.txt\u6587\u4ef6 \u4f7f\u7528less\u6253\u5f00\u540e\u547d\u4ee4 g \u8fd4\u56de\u5934\u90e8 G \u8fd4\u56de\u5e95\u90e8 /chaimol \u641c\u7d22chaimol n \u641c\u7d22\u540e\u7684\u64cd\u4f5c\u3002\u5c0f\u5199\u7684n\u5411\u4e0a\u641c\u7d22 N \u5927\u5199\u7684N,\u5411\u4e0b\u641c\u7d22\u3002 \uff08\u952e\u76d8\u6309\u952e\uff09pageUp \u4e0a\u4e00\u9875 \uff08\u952e\u76d8\u6309\u952e\uff09PageDown \u4e0b\u4e00\u9875 q \u9000\u51fa Linux\u7684\u65e5\u671f\u662f\u4ee51970\u5e741\u67081\u65e5\u4e3a1\uff0c\u5f00\u59cb\u8ba1\u7b97\u5929\u6570\u7684\u3002\u4f8b\u59823\uff0c\u8868\u793a1970\u5e741\u67083\u65e5\u3002 \u76ee\u5f55\u7cfb\u7edf\uff08Linux\u7cfb\u7edf\u6587\u4ef6\u540d\u533a\u5206\u5927\u5c0f\u5199\uff09 1.home\u76ee\u5f55 root\u7528\u6237\u7684\u76ee\u5f55\u662f/root \u666e\u901a\u7528\u6237\u7684\u76ee\u5f55\u662f/home/\u7528\u6237\u540d 2.bin\u76ee\u5f55 \u5e38\u7528\u7684\u53ef\u6267\u884c\u6587\u4ef6 /bin\u3001/usr/bin\u3001/sbin\u7b49 3.\u5916\u90e8\u8bbe\u5907mountpoint /media\u3001/mnt \u5f53\u68c0\u6d4b\u5230\u8bbe\u5907\u65f6\u4f1a\u81ea\u52a8\u6302\u8f7d 4./etc\uff0c\u7cfb\u7edf\u914d\u7f6e\u6587\u4ef6 5./tmp,\u4e34\u65f6\u6587\u4ef6 6./boot \u7cfb\u7edf\u5185\u6838\u548c\u5f00\u673a\u5fc5\u8981\u6587\u4ef6 7./dev \u7cfb\u7edf\u6240\u6709\u7684\u8bbe\u5907\u6587\u4ef6 8./usr unix system resource(\u7cfb\u7edf\u6587\u4ef6) \u4fdd\u5b58\u7a0b\u5e8f\u7684\u76f8\u5173\u6587\u4ef6 9./lost+found \u6bcf\u4e2a\u5206\u533a\u90fd\u4f1a\u81ea\u52a8\u521b\u5efa 10./var\u3001/srv(\u4fdd\u5b58\u6570\u636e\u5e93\u6570\u636e\u7b49\uff0c\u4f1a\u81ea\u52a8\u589e\u5927) 11./proc 12./lib\u3001/usr/lib\u3001\uff08\u53ef\u590d\u7528\u7684\u5e93\uff09 \u66f4\u6539\u6587\u4ef6\u7684\u6743\u9650 r \u8bfb w \u5199 x \u6267\u884c \u66f4\u6539\u6587\u4ef6\u7684\u6743\u9650\u7684\u65b9\u5f0f \u4f7f\u7528ls -l\u67e5\u770b\u76ee\u5f55\u6587\u4ef6\u7684\u8be6\u7ec6\u5217\u8868\u5305\u62ec\u4f7f\u7528\u6743\u9650\u65e5\u671f\u5185\u5bb9\u7b49\u3002 \u4f8b\u5982\uff1a\u4e0b\u9762\u7684 drwxrwxr-x 3 root root 4096 05-31 17:25 perm \u524d\u9762\u7684d\u662f\u76ee\u5f55\u6587\u4ef6\uff0c\u4f9d\u6b21\u662fU\uff08\u62e5\u6709\u8005\uff09G\uff08\u7528\u6237\u7ec4\uff09O\uff08\u5176\u4ed6\uff09\u7684\u6743\u9650\u3002 \u8fd9\u91cc\u662fd(\u76ee\u5f55)rwx\uff08\u62e5\u6709\u8005\u2014\u2014\u62e5\u6709\u8bfb\u5199\u6267\u884c\u6743\u9650\uff09rwx(\u7528\u6237\u7ec4\u2014\u2014\u62e5\u6709\u8bfb\u5199\u6267\u884c\u6743\u9650) r-x(\u5176\u4ed6\u2014\u2014\u62e5\u6709\u8bfb\u6267\u884c\u7684\u6743\u9650) 1. \u4f7f\u7528\u5b57\u7b26\u8868\u793a\u6cd5 chmod [-R] UGO+rwx perm //\u5c06perm\u76ee\u5f55\uff08\u5982\u679c\u6dfb\u52a0\u4e86\u2014R\uff0c\u5219\u66f4\u6539\u6743\u9650\u5305\u62ec\u76ee\u5f55\u4e0b\u6240\u6709\u6587\u4ef6\uff09\u6743\u9650\u66f4\u6539\u4e3a\u5168\u90e8\u5177\u6709\u8bfb\u5199\u6267\u884c\u64cd\u4f5c\u3002 2. \u4f7f\u7528\u6570\u5b57\u6a21\u5f0f r 4 w 2 x 1 \u6ca1\u6709\u6743\u9650\u662f0 chmod 777 perm //\u5c06perm\u76ee\u5f55\u6743\u9650\u66f4\u6539\u4e3a\u5168\u90e8\u5177\u6709\u8bfb\u5199\u64cd\u4f5c\u3002 3. \u4f7f\u7528\u53ef\u89c6\u5316\u754c\u9762\u6539\u53d8 \u538b\u7f29\u6253\u5305 \u538b\u7f29\u5de5\u5177 Linux\u652f\u6301\u7684\u538b\u7f29\u683c\u5f0f 1. .Z ,compress\u7a0b\u5e8f\u538b\u7f29\u6587\u4ef6 2. .gz ,gzip\u7a0b\u5e8f\u538b\u7f29\u6587\u4ef6 3. .bz2 ,bzip2\u7a0b\u5e8f\u538b\u7f29\u6587\u4ef6 4. .tar ,tar\u7a0b\u5e8f\u6253\u5305\u6587\u4ef6\uff0c\u5e76\u672a\u538b\u7f29 5. .tar.gz ,tar\u6253\u5305\u7684\u6863\u6848\uff0c\u4f7f\u7528gzip\u538b\u7f29 6. .tar.bz2 ,tar\u6253\u5305\u7684\u6587\u4ef6\uff0c\u4f7f\u7528bzip2\u538b\u7f29 gzip\u538b\u7f29\u5de5\u5177 gzip perm \u538b\u7f29perm gzip -c perm >perm.gz \u538b\u7f29perm\uff0c\u540c\u65f6\u4fdd\u7559\u539f\u6587\u4ef6\u3002 gzip -cv perm.gz \u663e\u793aperm.gz\u7684\u538b\u7f29\u6bd4 gzip -c perm \u538b\u7f29\u6587\u4ef6perm gzip -d perm.gz \u89e3\u538b\u7f29perm.gz\u6587\u4ef6 1\u3001gzip \u007f [-cdtv#] \u007f \u6587\u4ef6\u540d\u79f0 \u007f \u007f 1\uff09\u6269\u5c55\u540d\u4e3a*.gz \u007f \u007f 2\uff09-c\uff1a\u5c06\u538b\u7f29\u7684\u6570\u636e\u8f93\u51fa\u5230\u5c4f\u5e55\u4e0a \u007f \u007f 3\uff09-d\uff1a\u89e3\u538b\u7f29\u7684\u53c2\u6570 \u007f \u007f 4\uff09-t\uff1a\u8fdb\u884c\u6587\u4ef6\u7684\u4e00\u81f4\u6027\u6821\u9a8c\u770b\u662f\u5426\u635f\u574f \u007f \u007f 5\uff09-v\uff1a\u663e\u793a\u548c\u539f\u6587\u4ef6\u76f8\u6bd4\u7684\u538b\u7f29\u6bd4 \u007f \u007f 6\uff09-#\uff1a\u538b\u7f29\u7b49\u7ea7\uff0c-1\u6700\u5feb\uff0c-9\u6700\u6162\uff0c\u9ed8\u8ba4\u662f-6 \u007f 2\u3001bzip2 \u007f [-cdkzv#] \u007f \u6587\u4ef6\u540d\u79f0 \u007f \u007f 1\uff09\u6269\u5c55\u540d\u4e3a*.bz2 \u007f \u007f \u007f 2\uff09-c\uff1a\u5c06\u538b\u7f29\u7684\u6570\u636e\u8f93\u51fa\u5230\u5c4f\u5e55\u4e0a \u007f \u007f 3\uff09-d\uff1a\u89e3\u538b\u7f29\u7684\u53c2\u6570\uff0c\u8be5\u53c2\u6570\u4ee3\u8868\u6267\u884c\u89e3\u538b\u7f29\u64cd\u4f5c \u007f \u007f 4\uff09-k\uff1a\u4fdd\u7559\u539f\u6587\u4ef6\u5e76\u4e0d\u5220\u9664\u539f\u59cb\u6587\u4ef6 \u007f \u007f 5\uff09-z\uff1a\u538b\u7f29\u7684\u53c2\u6570\uff0c\u8be5\u53c2\u6570\u4ee3\u8868\u662f\u6267\u884c\u538b\u7f29\u64cd\u4f5c \u007f \u007f 6\uff09-v\uff1a\u663e\u793a\u548c\u539f\u6587\u4ef6\u5bf9\u6bd4\u7684\u538b\u7f29\u6bd4 \u007f \u007f 7\uff09-#\uff1a\u538b\u7f29\u7b49\u7ea7\uff0c-1\u6700\u5feb\uff0c-9\u6700\u6162\uff0c\u9ed8\u8ba4\u662f-6 \u007f Linux\u6587\u4ef6\u6253\u5305\u6307\u4ee4 1\u3001 tar \u007f \u007f [-jcv] \u007f \u2013f \u007f finaname.tar.bz2 \u007f \u5f85\u538b\u7f29\u7684\u6863\u6848\u6216\u8005\u76ee\u5f55\u540d \u007f \u007f \u5c06\u67d0\u4e2a\u6587\u4ef6\u6216\u8005\u76ee\u5f55\u6253\u5305\u5e76\u4f7f\u7528bzip2\u538b\u7f29\u6210\u4e00\u4e2a\u6587\u4ef6 \u007f 2\u3001tar \u007f \u007f [-jxv] \u007f \u2013f \u007f filename.tar.bz2 \u007f \u2013C \u007f \u89e3\u538b\u7f29\u7684\u76ee\u5f55 \u007f \u007f \u5c06\u538b\u7f29\u6587\u4ef6\u89e3\u538b\u7f29\u81f3\u7279\u5b9a\u7684\u76ee\u5f55 \u007f 3\u3001\u53c2\u6570\u89e3\u91ca \u007f \u007f 1\uff09-c\uff1a\u5efa\u7acb\u6253\u5305\u6863\u6848 \u007f \u007f 2\uff09-t\uff1a\u67e5\u770b\u6253\u5305\u7684\u6587\u4ef6\u90fd\u6709\u54ea\u4e9b\u6587\u4ef6\u540d \u007f \u007f 3\uff09-x\uff1a\u89e3\u538b\u7f29\u6216\u8005\u89e3\u6253\u5305\u6587\u4ef6\uff0c\u548c-C\u642d\u914d\u4f7f\u7528\u89e3\u538b\u7f29\u81f3\u7279\u5b9a\u76ee\u5f55 \u007f \u007f 4\uff09-j\uff1a\u901a\u8fc7bz2\u652f\u6301\u8fdb\u884c\u538b\u7f29\u6216\u8005\u89e3\u538b\u7f29 \u007f \u007f 5\uff09-z\uff1a\u4f7f\u7528gzip\u8fdb\u884c\u538b\u7f29\u6216\u8005\u89e3\u538b\u7f29 \u007f \u007f 6\uff09-v\uff1a\u5c06\u6b63\u5728\u5904\u7406\u7684\u6587\u4ef6\u540d\u663e\u793a\u51fa\u6765 \u007f \u007f 7\uff09-f\uff1a\u7d27\u8ddf\u8981\u88ab\u5904\u7406\u7684\u6587\u4ef6\u540d\uff0c\u5efa\u8bae\u5355\u72ec\u5199\u4e00\u4e2a\u9009\u9879 \u007f 3.\u4f7f\u7528zip\u538b\u7f29\u6253\u5305 zip -f filename.zip \u6587\u4ef6\u5939\u540d //\u4f7f\u7528zip\u538b\u7f29 vi\u7f16\u8f91\u5668\uff08\u8bb0\u4e8b\u672c\uff09 vim\u7f16\u8f91\u5668\uff08\u7f16\u5199\u4ee3\u7801\u4f7f\u7528\uff0c\u5168\u9762\u517c\u5bb9vi\u7684\u6307\u4ee4\uff09 vi\u5e38\u7528\u7684\u547d\u4ee4 vi perm \u6253\u5f00\u6587\u4ef6perm,\u5982\u679c\u4e0d\u5b58\u5728\uff0c\u5219\u4f1a\u5728\u4fdd\u5b58\u65f6\uff0c\u65b0\u5efa\u5e76\u4fdd\u5b58\u8be5\u6587\u4ef6\u3002 vi\u7684\u4e09\u79cd\u6a21\u5f0f 1\uff09\u547d\u4ee4\u6a21\u5f0f\uff0c\u53ef\u4ee5\u79fb\u52a8\u5149\u6807\uff0c\u4fee\u6539\u3001\u5220\u9664\u3001\u590d\u5236\u3001\u641c\u7d22 2\uff09\u63d2\u5165\u6a21\u5f0f\uff0c\u901a\u8fc7a\u6216\u8005i\u6216\u8005o\u8fdb\u5165\uff0c\u53ef\u4ee5\u4fee\u6539\u6587\u4ef6\u5185\u5bb9 3\uff09\u6269\u5c55\u6a21\u5f0f\uff0c\u5728insert\uff0c\u6a21\u5f0f\u4e0b\u5148\u6309\u4e0bEsc\u952e\uff08\u5de6\u4e0a\u89d2\uff09\uff0c\u518d\u6309\u5192\u53f7\uff1a \u901a\u8fc7:\u8fdb\u5165\uff0c\u9000\u51fa\u3001\u4fdd\u5b58\u3001\u67e5\u627e\u66ff\u6362 4.\u547d\u4ee4\u884c\u4e0b\u5220\u9664\u66f4\u6539\u590d\u5236 Change Delete Yank(copy) Line cc dd yy Letter cl dl yl Word cw dw yw 5\u3001\u64a4\u9500\u64cd\u4f5c 1\uff09u\uff0c\u64a4\u9500\u6700\u8fd1\u4e00\u6b21\u7684\u4fee\u6539\uff0cundo 2\uff09ctrl-r\uff0c\u53d6\u6d88\u6700\u540e\u4e00\u6b21\u7684\u64a4\u9500\uff0credo 3\uff09U\uff0c\u64a4\u9500\u6240\u6709\u4fee\u6539 6\u3001\u67e5\u627e\u64cd\u4f5c 1\uff09 /text \uff0c\u5411\u540e\u641c\u7d22 2\uff09 ?text \uff0c\u5411\u524d\u641c\u7d22 3\uff09n\uff0c(\u6309\u4e0bn\u952e)\u641c\u7d22\u4e0b\u4e00\u4e2a\u540c\u6837\u7684\u5185\u5bb9 4\uff09N (\u6309\u4e0bn\u952e\u548cshift\u952e) \u641c\u7d22\u4e0a\u4e00\u4e2a\u540c\u6837\u7684\u5185\u5bb9 7\u3001\u7c98\u8d34\u64cd\u4f5c 1\uff09\u7528p\u7c98\u8d34\u590d\u5236\u3001\u4fee\u6539\u6216\u8005\u5220\u9664\u7684\u6570\u636e 2\uff09\u5bf9\u4e8e\u884c\uff0cp\u7c98\u8d34\u5728\u884c\u4e0a\uff0cP\u7c98\u8d34\u5728\u884c\u4e0b 3\uff09\u5bf9\u4e8e\u5b57\u7b26\uff0cp\u7c98\u8d34\u5728\u5b57\u7b26\u53f3\u4fa7\uff0cP\u7c98\u8d34\u5728\u5b57\u7b26\u5de6\u4fa7 8\u3001\u547d\u4ee4\u6a21\u5f0f\u4e0b\u7684\u4e00\u4e9b\u6280\u5de7 1\uff09dtc\uff0c\u5220\u9664\u4ece\u5149\u6807\u5230c\u4e4b\u95f4\u7684\u6240\u6709\u5b57\u7b26 2\uff09rc\uff0c\u5c06\u5149\u6807\u4e0b\u7684\u5b57\u7b26\u66ff\u6362\u4e3ac 3\uff09dw\u5220\u9664\u6e38\u6807\u5904\u6240\u5728\u7684\u5b57\u7b26 4\uff095dd\uff0c\u5220\u96645\u884c\u6570\u636e 5\uff095yy\uff0c\u590d\u52365\u884c\u6570\u636e 6\uff095x\uff0c\u5220\u96645\u4e2a\u5b57\u7b26 7\uff09R\uff0c\u8fdb\u5165\u66ff\u6362\u72b6\u6001\uff0cesc\u9000\u51fa 9\u3001\u4fdd\u5b58\u3001\u9000\u51fa\uff0c\u8fdb\u5165\u6269\u5c55\u6a21\u5f0f 1\uff09:w\uff0c\u4fdd\u5b58 2\uff09:q\uff0c\u9000\u51fa 3\uff09:wq\uff0c\u4fdd\u5b58\u5e76\u9000\u51fa 4\uff09:w!\uff0c\u5f3a\u5236\u4fdd\u5b58 5\uff09:q!\uff0c\u5f3a\u5236\u9000\u51fa 6\uff09:wq!\uff0c\u5f3a\u5236\u4fdd\u5b58\u9000\u51fa vi\u7f16\u8f91\u5668\u7684\u8fdb\u9636\u4f7f\u7528 1\u3001\u6587\u4ef6\u5185\u5b9a\u4f4d 1\uff09G\uff0c\u8df3\u8f6c\u5230\u6587\u4ef6\u6700\u540e\u4e00\u884c 2\uff091G\uff0c\u8df3\u8f6c\u5230\u6587\u4ef6\u7684\u7b2c\u4e00\u884c 3\uff09ctrl+d\uff0c\u5f80\u4e0b\u6eda\u52a8\u534a\u5c4f 4\uff09ctrl+u\uff0c\u5f80\u4e0a\u6eda\u52a8\u534a\u5c4f 2\u3001\u5c4f\u5e55\u5b9a\u4f4d\u76f8\u5173 1\uff09H\uff0c\u8df3\u8f6c\u5230\u672c\u5c4f\u663e\u793a\u7684\u7b2c\u4e00\u884c 2\uff09M\uff0c\u8c03\u8f6c\u5230\u672c\u5c4f\u663e\u793a\u7684\u4e2d\u95f4\u4e00\u884c 3\uff09L\uff0c\u8df3\u8f6c\u5230\u672c\u5c4f\u663e\u793a\u7684\u6700\u540e\u4e00\u884c 4\uff09z+Enter\uff0c\u4f7f\u5f53\u524d\u7684\u884c\u6210\u4e3a\u5c4f\u5e55\u663e\u793a\u7684\u7b2c\u4e00\u884c 5\uff09z-\uff0c\u4f7f\u5f53\u524d\u884c\u6210\u4e3a\u5c4f\u5e55\u7684\u6700\u540e\u4e00\u884c 3\u3001\u67e5\u627e\u5e76\u6279\u91cf\u66ff\u6362 1\uff09\u901a\u8fc7sed\u6765\u67e5\u627e 2\uff09\u9ed8\u8ba4\u5bf9\u5f53\u524d\u884c\u8fdb\u884c\u67e5\u627e 3\uff091,10\uff0c\u5bf91-10\u884c\u8fdb\u884c\u67e5\u627e 4\uff091,$ %\uff0c\u5bf9\u6574\u4e2a\u6587\u4ef6\u67e5\u627e 4\u3001\u8bfb\u53d6\u548c\u4fdd\u5b58 1\uff09:r file\uff0c\u5c06\u53e6\u5916\u4e00\u4e2afile\u7684\u5185\u5bb9\u8bfb\u5165\u5230\u5f53\u524d\u6587\u4ef6 2\uff091,20 w file\uff0c\u5c061-20\u884c\u7684\u5185\u5bb9\u5199\u5165\u5230\u4e00\u4e2a\u65b0\u7684file\u4e2d 3\uff091,$ w file\uff0c\u5c06\u6574\u4e2a\u6587\u4ef6\u5199\u5165\u4e00\u4e2a\u65b0\u7684file 4\uff091,20 w>>file\uff0c\u5c061-20\u884c\u6570\u636e\u8ffd\u52a0\u5230file\u4e2d 5\uff09:n\uff0c\u8df3\u5230\u4e0b\u4e00\u4e2a\u6587\u4ef6 6\uff09:rew\uff0c\u56de\u5230\u7b2c\u4e00\u4e2a\u6587\u4ef6 5\u3001\u67e5\u627e\u5e76\u6279\u91cf\u66ff\u6362 1\uff09\u901a\u8fc7sed\u6765\u67e5\u627e 2\uff09\u9ed8\u8ba4\u5bf9\u5f53\u524d\u884c\u8fdb\u884c\u67e5\u627e 3\uff091,10\uff0c\u5bf91-10\u884c\u8fdb\u884c\u67e5\u627e 4\uff091,$ %\uff0c\u5bf9\u6574\u4e2a\u6587\u4ef6\u67e5\u627e 6\u3001\u8bfb\u53d6\u548c\u4fdd\u5b58 1\uff09:r file\uff0c\u5c06\u53e6\u5916\u4e00\u4e2afile\u7684\u5185\u5bb9\u8bfb\u5165\u5230\u5f53\u524d\u6587\u4ef6 2\uff091,20 w file\uff0c\u5c061-20\u884c\u7684\u5185\u5bb9\u5199\u5165\u5230\u4e00\u4e2a\u65b0\u7684file\u4e2d 3\uff091,$ w file\uff0c\u5c06\u6574\u4e2a\u6587\u4ef6\u5199\u5165\u4e00\u4e2a\u65b0\u7684file 4\uff091,20 w>>file\uff0c\u5c061-20\u884c\u6570\u636e\u8ffd\u52a0\u5230file\u4e2d 7\u3001\u8bbe\u7f6e 1\uff09:set\uff0c\u663e\u793a\u5e38\u7528\u7684\u914d\u7f6e\u9009\u9879 2\uff09:set all\uff0c\u663e\u793a\u6240\u6709\u7684\u914d\u7f6e\u9009\u9879 3\uff09:set number\uff0c\u8bbe\u7f6e\u884c\u53f7 \u4e0b\u8f7d\u6587\u4ef6 wget https://www.baidu.download.min.css //\u4ece\u6307\u5b9a\u7f51\u5740\u4e0b\u8f7d\u6587\u4ef6 wget https://www.baidu.download.min.css --no-check-certificate // \u5f53\u9047\u5230ssl\u9519\u8bef\u65f6\uff0c\u540e\u9762\u6dfb\u52a0\u8be5\u547d\u4ee4\u3002\u53ef\u89e3\u51b3\u65e0\u6cd5\u4e0b\u8f7d\u7684\u95ee\u9898\u3002 cal >pem2 //cal\u662f\u8f93\u51fa\u65e5\u5386\u547d\u4ee4\uff0c\u540e\u9762\u7684\u5927\u4e8e\u53f7\uff08\u91cd\u5b9a\u5411\uff09\uff0c\u662f\u628a\u5c4f\u5e55\u7684\u8f93\u51fa\u4fdd\u5b58\u5230perm2\u91cc\u3002\u5982\u679cperm2\u4e0d\u5b58\u5728\uff0c\u5219\u65b0\u5efa\u5e76\u4fdd\u5b58\u8f93\u51fa\u7684\u6570\u636e\u3002\u6ce8\u610f:\u6267\u884c\u6b64\u64cd\u4f5c\u4f1a\u66ff\u6362\u6587\u4ef6\u91cc\u539f\u6709\u7684\u5185\u5bb9\u3002 cal >>pem2 //\u8fd9\u91cc\u7684\u4e24\u4e2a\u5927\u4e8e\u53f7\uff08\u91cd\u5b9a\u5411\uff09\uff0c\u662f\u8ffd\u52a0\u5230pem2,\u5e76\u4fdd\u5b58\u3002 mkdir test&&cd test&&touch baidu.txt //\u8fd9\u91cc\u8fde\u63a5\u51e0\u4e2a\u547d\u4ee4\u7528\u7684\u662f&&\uff0c\u53ea\u6709\u5728\u524d\u4e00\u4e2a\u547d\u4ee4\u6b63\u786e\u6267\u884c\u540e\uff0c\u540e\u4e00\u4e2a\u624d\u4f1a\u7ee7\u7eed\u6267\u884c\u3002 bash1||bash2 //\u8fd9\u91cc\u7684|| \u8868\u793a\uff0c\u53ea\u6709\u524d\u4e00\u4e2a\u547d\u4ee4\u6267\u884c\u9519\u8bef\u65f6\uff0c\u624d\u4f1a\u6267\u884c\u540e\u4e00\u4e2a\u547d\u4ee4\u3002 \u7ba1\u9053\u547d\u4ee4 \u7ba1\u9053\u7b26\u662f| cat perm |wc -l //\u7edf\u8ba1perm\u91cc\u6709\u51e0\u884c\u5185\u5bb9 cat perm |wc -w //\u7edf\u8ba1perm\u91cc\u603b\u5171\u6709\u51e0\u4e2a\u8bcd cat perm |wc -m //\u7edf\u8ba1perm\u91cc\u5b57\u7b26\u6570 \u66f4\u6539\u73af\u5883\u53d8\u91cf vim ~/./.bashrc \u5728\u5176\u540e\u9762\u589e\u52a0\u5185\u5bb9\u540e\uff0c\u6267\u884csource ~/./.bashrc vim /etc/profile \u5728\u5176\u540e\u9762\u589e\u52a0\u5185\u5bb9\u540e\uff0c\u6267\u884csource /etc/profile export \u67e5\u8be2\u73af\u5883\u53d8\u91cf echo $PATH \u5355\u72ec\u67e5\u770bPATH\u73af\u5883\u53d8\u91cf mysql\u6570\u636e\u5e93\u7684\u8fde\u63a5 \u8be6\u7ec6\u5730\u5740\uff1a [http://www.cnblogs.com/mfryf/archive/2012/02/12/2348164.html] mysql -u root -p 123 //\u8fde\u63a5\u6570\u636e\u5e93 \u7528\u6237\u540d\u4e3aroot \uff0c\u5bc6\u7801\u4e3a123 mysql\u6570\u636e\u5e93\u91cc\u9762\u7684\u64cd\u4f5c\u547d\u4ee4 show databases; //\u663e\u793a\u5f53\u524d\u6240\u6709\u7684\u6570\u636e\u5e93\u540d create database phplesson1; //\u521b\u5efa\u65b0\u7684\u540d\u4e3aphplesson1\u7684\u6570\u636e\u5e93\u3002 use phplesson1; //\u4f7f\u7528\u540d\u4e3aphplesson1\u7684\u6570\u636e\u5e93\u3002 source lesson1.sql; //\u5bfc\u5165\u8868\u540d\u4e3aphplesson1.sql\u7684\u8868 source userinfo.sql; //\u5bfc\u5165\u8868\u540d\u4e3auserinfo.sql\u7684\u8868 pm2\u4f7f\u7528 $ npm install pm2 -g # \u547d\u4ee4\u884c\u5b89\u88c5 pm2 $ pm2 start app.js -i 4 # \u540e\u53f0\u8fd0\u884cpm2\uff0c\u542f\u52a84\u4e2aapp.js # \u4e5f\u53ef\u4ee5\u628a'max' \u53c2\u6570\u4f20\u9012\u7ed9 start # \u6b63\u786e\u7684\u8fdb\u7a0b\u6570\u76ee\u4f9d\u8d56\u4e8eCpu\u7684\u6838\u5fc3\u6570\u76ee $ pm2 start app.js --name my-api # \u547d\u540d\u8fdb\u7a0b $ pm2 list # \u663e\u793a\u6240\u6709\u8fdb\u7a0b\u72b6\u6001 $ pm2 monit # \u76d1\u89c6\u6240\u6709\u8fdb\u7a0b $ pm2 logs # \u663e\u793a\u6240\u6709\u8fdb\u7a0b\u65e5\u5fd7 $ pm2 stop all # \u505c\u6b62\u6240\u6709\u8fdb\u7a0b $ pm2 restart all # \u91cd\u542f\u6240\u6709\u8fdb\u7a0b $ pm2 reload all # 0 \u79d2\u505c\u673a\u91cd\u8f7d\u8fdb\u7a0b (\u7528\u4e8e NETWORKED \u8fdb\u7a0b) $ pm2 stop 0 # \u505c\u6b62\u6307\u5b9a\u7684\u8fdb\u7a0b $ pm2 restart 0 # \u91cd\u542f\u6307\u5b9a\u7684\u8fdb\u7a0b $ pm2 startup # \u4ea7\u751f init \u811a\u672c \u4fdd\u6301\u8fdb\u7a0b\u6d3b\u7740 $ pm2 web # \u8fd0\u884c\u5065\u58ee\u7684 computer API endpoint (http://localhost:9615) $ pm2 delete 0 # \u6740\u6b7b\u6307\u5b9a\u7684\u8fdb\u7a0b $ pm2 delete all # \u6740\u6b7b\u5168\u90e8\u8fdb\u7a0b rename\u547d\u4ee4 \u6279\u91cf\u91cd\u547d\u540d\u6587\u4ef6 #\u628a\u6240\u6709\u4ee5R18019091\u5f00\u5934\u7684\u6587\u4ef6\u91cd\u547d\u540d\u4e3aw\u5f00\u5934\u3002 rename R18019091 w R18019091* shell\u811a\u672c\u4f7f\u7528 \u65b0\u5efa\u540d\u4e3atest.sh\u7684shell\u811a\u672c\u6587\u4ef6 \u5185\u5bb9\u5982\u4e0b #!/bin/bash //\u4f7f\u7528bash\u89e3\u6790\u5668 echo \"hello world!\"//\u5c4f\u5e55\u8f93\u51fahello world chmod 777 test.sh //\u4f7f\u811a\u672c\u5177\u6709\u6267\u884c\u6743\u9650 eval \u662f\u4e2a\u597d\u5de5\u5177 \u4f8b\u5982\uff1a date //Fri Apr 13 21:32:10 DST 2018 echo date //date eval `echo date` //Fri Apr 13 21:32:10 DST 2018 \u7b80\u5355\u8bf4\uff0ceval\u53ef\u4ee5\u5bf9\u547d\u4ee4\u91cc\u7684\u53d8\u91cf\u8fdb\u884c\u4e8c\u6b21\u8fd0\u7b97\u3002\u76f8\u5f53\u597d\u7528\u7684\u547d\u4ee4\u3002","title":"Linux\u5e38\u7528\u547d\u4ee4\u4f7f\u7528\u8bf4\u660e"},{"location":"Linux-learning/Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E/#su","text":"su - \u5207\u6362\u56deroot\u76ee\u5f55\uff08\u9700\u8981\u8f93\u5165\u5bc6\u7801\uff0cLinux\u4e0b\u8f93\u5165\u7684\u5bc6\u7801\u662f\u4e0d\u53ef\u89c1\u7684\uff09 su - chaim \u5207\u6362\u5230chaim\u7528\u6237\u6a21\u5f0f\u4e0b passwd \u66f4\u6539\u5f53\u524d\u7528\u6237\u7684\u5bc6\u7801 \u5207\u6362\u7528\u6237\u65f6\uff0c\u4e00\u5b9a\u8981\u4f7f\u7528 su - \u7528\u6237\u540d ,\u4e2d\u95f4\u7684 - \u4e0d\u80fd\u7701\u7565\uff0c\u5982\u679c\u7701\u7565\u5219\u4f7f\u7528\u7684\u8fd8\u662f\u5207\u6362\u524d\u7684\u7528\u6237\u7684\u73af\u5883\u53d8\u91cf\u3002 \u6211\u4f7f\u7528\u4e0d\u540c\u7684\u8d26\u6237\u65f6\uff0c\u76f4\u63a5\u4f7f\u7528 su chaim \u7ed3\u679c\u5c31\u662f\uff0c\u8d26\u6237\u7684perl\u65e0\u6cd5\u4f7f\u7528\uff0c\u7ecf\u8fc7\u53cd\u590d\u67e5\u627e\uff0c\u624d\u53d1\u73b0\u662f\u5207\u6362\u7684\u65b9\u6cd5\u4e0d\u6b63\u786e\uff0c\u7701\u7565\u4e86 - ,\u5bfc\u81f4\u73af\u5883\u53d8\u91cf\u6ca1\u6709\u5207\u6362\u3002","title":"\u5207\u6362\u7528\u6237su"},{"location":"Linux-learning/Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E/#_1","text":"","title":"\u8fdb\u7a0b\u5b88\u62a4\u548c\u7ed3\u675f"},{"location":"Linux-learning/Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E/#_2","text":"nohup ascp -i /share/home/jialj/.aspera/connect/etc/asperaweb_id_dsa.putty --mode recv --host ftp-private.ncbi.nlm.nih.gov --user anonftp --file-list SRR_Download_List_file_list.txt ./ & \u7528 nohup \u4f60\u7684\u4efb\u52a1 & \u6765\u5b88\u62a4\u8fdb\u7a0b\uff0c\u5373\u4f7f\u9000\u51fa\u5f53\u524d\u8fde\u63a5\uff0c\u8fdb\u7a0b\u4ecd\u7136\u4f1a\u5728\u540e\u53f0\u8fdb\u884c\u3002 \u6b64\u5904\u9000\u51fa\u65f6\uff0c\u4f7f\u7528 logout \u9000\u51fa\u8fdc\u7a0b\u8fde\u63a5\u3002\u975e\u6b63\u5e38\u9000\u51fa\u7ec8\u7aef\uff0cnohup\u7684\u8fdb\u7a0b\u4f1a\u88abkill\u6389\u3002","title":"\u8fdb\u7a0b\u5b88\u62a4"},{"location":"Linux-learning/Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E/#screen","text":"\u5728\u4f7f\u7528nohup\u65f6\uff0c\u53ef\u80fd\u4f1a\u5728\u8f93\u51fa\u6587\u4ef6\u6dfb\u52a0\u8bf4\u660e\u6027\u5185\u5bb9\uff0c\u7ed3\u679c\u4f1a\u5bfc\u81f4\u540e\u7eed\u7a0b\u5e8f\u62a5\u9519\u3002 \u6240\u4ee5\u5efa\u8bae\uff0c\u5728\u8fd0\u884c\u547d\u4ee4\u65f6\uff0c\u6307\u5b9alog\u8f93\u51fa\u6587\u4ef6\uff0c #\u6b64\u5904\u76842 \u540e\u9762\u7684\u65f6\u8f93\u51falog\u7684\u6587\u4ef6\u5939 nohup ascp -i /EDE/lk.putty XXXX 2 >ascp_output_info & \u9664\u4e86nohup\u8fd8\u6709screen\uff0c\u4e5f\u662f\u5f88\u597d\u7528\u7684\u540e\u53f0\u6302\u8d77\u7684\u547d\u4ee4\u3002 screen\u5e38\u7528\u547d\u4ee4 #\u65b0\u5efa\u4e00\u4e2a\u540d\u5b57\u4e3ahello\u7684session\uff0c\u76f4\u63a5\u8fdb\u5165\u5230\u8be5session screen -S hello #\u9000\u51fa\u5f53\u524d\u7684session\uff0cCTRL+A+D \uff0c\u4f46\u662f\u8be5session\u4ecd\u7136\u5728\u540e\u53f0\u8fd0\u884c \u540c\u65f6\u6309\u4e0bCTRL+A+D #\u67e5\u770b\u6240\u6709\u7684screen session screen -ls #\u8fd4\u56dehello session screen -r hello #\u7ed3\u675f\u5f53\u524dsession \uff0c\u5e76\u524d\u5f80test session screen -d -r test # \u79bb\u7ebfhello\u8fd9\u4e2asession screen -d hello #\u6062\u590d\u79bb\u7ebf\u7684hello session screen -x hello","title":"\u8fdb\u7a0b\u5b88\u62a4\u4e4bScreen"},{"location":"Linux-learning/Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E/#_3","text":"ps -efww|grep ascp |grep -v grep|cut -c 9-15|xargs kill -9 \u7ed3\u675fascp\u7a0b\u5e8f\u7684\u6240\u6709\u8fdb\u7a0b\u3002 \u53ef\u4ee5\u66f4\u6362\u4e2d\u95f4\u7684ascp\u4e3a\u4efb\u4f55\u60f3\u8981\u7ed3\u675f\u7684\u7a0b\u5e8f\u7684\u540d\u5b57 \u8bf4\u660e\uff1a\u7ba1\u9053\u7b26\u201c|\u201d\u7528\u6765\u9694\u5f00\u4e24\u4e2a\u547d\u4ee4\uff0c\u7ba1\u9053\u7b26\u5de6\u8fb9\u547d\u4ee4\u7684\u8f93\u51fa\u4f1a\u4f5c\u4e3a\u7ba1\u9053\u7b26\u53f3\u8fb9\u547d\u4ee4\u7684\u8f93\u5165\u3002 ps\u3000-efww \u662f\u67e5\u770b\u6240\u6709\u8fdb\u7a0b\u7684\u547d\u4ee4\u3002\u8fd9\u65f6\u68c0\u7d22\u51fa\u7684\u8fdb\u7a0b\u5c06\u4f5c\u4e3a\u4e0b\u4e00\u6761\u547d\u4ee4 grep \u7684\u8f93\u5165\uff0c\u6ce8\u610f\u8981\u7ed3\u675f\u5176\u5b83\u7a0b\u5e8f\u65f6\uff0c\u8bf7\u5c06\u4e0a\u9762\u547d\u4ee4\u4e2d\u7684vim\u66ff\u6362\u6210\u5176\u5b83\u7a0b\u5e8f\u540d\u3002 grep -v grep \u662f\u5728\u5217\u51fa\u7684\u8fdb\u7a0b\u4e2d\u53bb\u9664\u542b\u6709\u5173\u952e\u5b57\u201cgrep\u201d\u7684\u8fdb\u7a0b\u3002 cut -c 9-15 \u662f\u622a\u53d6\u8f93\u5165\u884c\u7684\u7b2c9\u4e2a\u5b57\u7b26\u5230\u7b2c15\u4e2a\u5b57\u7b26\uff0c\u800c\u8fd9\u6b63\u597d\u662f\u8fdb\u7a0b\u53f7PID\u3002 xargs kill -9 \u4e2d\u7684xargs\u547d\u4ee4\u662f\u7528\u6765\u628a\u524d\u9762\u547d\u4ee4\u7684\u8f93\u51fa\u7ed3\u679c\uff08PID\uff09\u4f5c\u4e3a kill -9 \u547d\u4ee4\u7684\u53c2\u6570\uff0c\u5e76\u6267\u884c\u8be5\u547d\u4ee4\u3002 kill -9 \u4f1a\u5f3a\u884c\u6740\u6389\u6307\u5b9a\u8fdb\u7a0b\uff0c\u8fd9\u6837\u5c31\u6210\u529f\u6e05\u9664\u4e86\u540c\u540d\u8fdb\u7a0b\u3002","title":"\u8fdb\u7a0b\u7ed3\u675f"},{"location":"Linux-learning/Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E/#cd","text":"cd ~ \u5feb\u901f\u8fdb\u5165/home/chaimol\u76ee\u5f55 \uff08\u5728\u975eroot\u7528\u6237\u6a21\u5f0f\u4e0b \uff09 cd - \u8fd4\u56de\u8fdb\u5165\u672c\u76ee\u5f55\u524d\u6240\u5728\u7684\u76ee\u5f55 mkdir newfile \u521b\u5efa\u4e00\u4e2a\u540d\u5b57\u4e3anewfile\u7684\u6587\u4ef6\u5939 cd ../ (\u8fdb\u5165\u4e0a\u4e00\u7ea7\u76ee\u5f55) cd ./home (\u8fdb\u5165\u540c\u7ea7\u7684home\u6587\u4ef6\u5939) mkdir name \u65b0\u5efa\u4e00\u4e2a\u540d\u5b57\u662fname\u7684\u6587\u4ef6\u5939 touch myfirst.txt \u65b0\u5efa\u4e00\u4e2a\u540d\u5b57\u4e3amyfirst\u7684txt\u6587\u4ef6 rm -rf myfirst.txt \u5220\u9664\u540d\u5b57\u4e3amyfirst.txt\u7684\u6587\u4ef6 ln -s /home/user/smpamples.peopleRNAseq/ /home/f \u8bbe\u7f6e\u8d85\u8fde\u63a5\uff0c\u7528home\u76ee\u5f55\u4e0b\u7684f\u6587\u4ef6\u5939\u8f6f\u8d85\u8fde\u63a5\u5230/home/user/smpamples.peopleRNAseq/\u76ee\u5f55\u3002\u8bbf\u95ee/home/f,\uff0c\u5c31\u76f8\u5f53\u4e8e\u8bbf\u95ee\u4e0a\u8ff0\u76ee\u5f55\u3002","title":"\u5207\u6362\u5230\u4e0d\u540c\u7684\u76ee\u5f55\u4f4d\u7f6ecd"},{"location":"Linux-learning/Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E/#cp","text":"cp inex.html testBaidu \u590d\u5236index.html\u5230testBaidu\u6587\u4ef6\u5939\u5185\uff08\u4f1a\u81ea\u52a8\u628a\u65f6\u95f4\u6233\u6539\u4e3a\u5f53\u524d\u7684\u65f6\u95f4\u6233\uff09 cp -p index.html testBaidu \u590d\u5236index.html\u5230testBaidu\u6587\u4ef6\u5939\u5185(\u65f6\u95f4\u6233\u4ecd\u7136\u662f\u6e90\u6587\u4ef6\u7684\u65f6\u95f4\u6233) cp index.html index.css index.js testBaidu \u590d\u5236index.html\uff0cindex.css\uff0cindex.js\u6587\u4ef6\u5230testBaidu\u6587\u4ef6\u5939\u5185 cp -r cat dog \u628acat\u6587\u4ef6\u5939\u590d\u5236\u5230dog\u6587\u4ef6\u5939\u5185","title":"\u590d\u5236cp"},{"location":"Linux-learning/Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E/#mv","text":"mv cat dog cat\u91cd\u547d\u540d\u4e3adog mv cat/ dog/ cat\u6587\u4ef6\u5939\u5185\u5bb9\u79fb\u52a8\u5230dog\u6587\u4ef6\u5939\uff0c\u540c\u65f6\u5220\u9664cat\u6587\u4ef6\u5939 rm index.html \u5220\u9664index.html \u4f1a\u8981\u6c42\u786e\u8ba4\u662f\u5426\u5220\u9664\uff0c\u8f93\u5165y\uff0c\u5219\u5220\u9664\u3002 rm -f inex.html \u5220\u9664index.html \uff0c\u4e0d\u8981\u6c42\u518d\u6b21\u786e\u8ba4\u3002 rm -r dog/ \u5220\u9664dog\u6587\u4ef6\u5939\uff0c\u9700\u8981\u518d\u6b21\u786e\u8ba4\uff0c\u8f93\u5165y\uff0c\u5219\u5220\u9664\u3002\uff08\u5220\u9664\u6587\u4ef6\u5939\u65f6\uff0c\u5219\u4f1a\u8fdb\u5165\u8be5\u6587\u4ef6\u5939\uff0c\u8981\u6c42\u4f60\u4e00\u4e00\u786e\u8ba4\u662f\u5426\u5220\u9664\u6587\u4ef6\u5939\u91cc\u7684\u6bcf\u4e00\u9879\uff09 rm -rf dog/ \u5220\u9664dog\u6587\u4ef6\u5939\uff0c\u4e0d\u9700\u8981\u518d\u6b21\u786e\u8ba4\u3002","title":"\u79fb\u52a8\u3001\u91cd\u547d\u540dmv"},{"location":"Linux-learning/Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E/#ls","text":"pwd \u663e\u793a\u5f53\u524d\u6240\u5728\u7684\u76ee\u5f55 dir \u67e5\u770b\u76ee\u5f55\u5185\u5bb9\uff08\u53ea\u663e\u793a\u6587\u4ef6\u540d\uff09 ls -l \u67e5\u770b\u6240\u5728\u76ee\u5f55\u5185\u5bb9\uff08\u5305\u62ec\u6587\u4ef6\u540d\u548c\u65f6\u95f4\u7b49\u8be6\u7ec6\u5217\u8868\uff09 ls -la \u67e5\u770b\u5305\u542b\u9690\u85cf\u6587\u4ef6\u5728\u5185\u7684\u672c\u76ee\u5f55\u6240\u6709\u5185\u5bb9\uff08\u6587\u4ef6\u5927\u5c0f\u5168\u90e8\u663e\u793a\u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d\u663e\u793a\uff09 ls \u663e\u793a\u5f53\u524d\u6240\u5728\u7684\u76ee\u5f55\u5185\u5bb9\uff08\u53ea\u663e\u793a\u6587\u4ef6\u540d\uff09 ls / \u663e\u793a\u6839\u76ee\u5f55\u7684\u5185\u5bb9 ls -a \u663e\u793a\u672c\u76ee\u5f55\u5185\u5305\u542b\u9690\u85cf\u6587\u4ef6\u5728\u5185\u7684\u6240\u6709\u6587\u4ef6\uff08\u53ea\u663e\u793a\u6587\u4ef6\u540d\uff09 ls -ld \u663e\u793a\u672c\u76ee\u5f55\u81ea\u8eab\u7684\u4fe1\u606f ls -lh \u663e\u793a\u672c\u76ee\u5f55\u4e0b\u6240\u6709\u5185\u5bb9\uff08\u4ee5\u5217\u8868\u7684\u5f62\u5f0f\uff0c\u53ea\u662f\u6587\u4ef6\u5927\u5c0f\u4f1a\u4ee5\u5408\u9002\u7684\u5355\u4f4d\u8868\u793a\uff09 file index.css \u786e\u8ba4index.css\u7684\u6587\u4ef6\u683c\u5f0f cat index.css \u6253\u5f00index.css\u6587\u4ef6\u67e5\u770b\u6587\u672c\u6587\u4ef6 less index.txt \u67e5\u770bindex.txt\u6587\u4ef6","title":"\u67e5\u770b\u6587\u4ef6\u5939\u5185\u5bb9ls"},{"location":"Linux-learning/Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E/#less","text":"g \u8fd4\u56de\u5934\u90e8 G \u8fd4\u56de\u5e95\u90e8 /chaimol \u641c\u7d22chaimol n \u641c\u7d22\u540e\u7684\u64cd\u4f5c\u3002\u5c0f\u5199\u7684n\u5411\u4e0a\u641c\u7d22 N \u5927\u5199\u7684N,\u5411\u4e0b\u641c\u7d22\u3002 \uff08\u952e\u76d8\u6309\u952e\uff09pageUp \u4e0a\u4e00\u9875 \uff08\u952e\u76d8\u6309\u952e\uff09PageDown \u4e0b\u4e00\u9875 q \u9000\u51fa Linux\u7684\u65e5\u671f\u662f\u4ee51970\u5e741\u67081\u65e5\u4e3a1\uff0c\u5f00\u59cb\u8ba1\u7b97\u5929\u6570\u7684\u3002\u4f8b\u59823\uff0c\u8868\u793a1970\u5e741\u67083\u65e5\u3002","title":"\u4f7f\u7528less\u6253\u5f00\u540e\u547d\u4ee4"},{"location":"Linux-learning/Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E/#linux","text":"1.home\u76ee\u5f55 root\u7528\u6237\u7684\u76ee\u5f55\u662f/root \u666e\u901a\u7528\u6237\u7684\u76ee\u5f55\u662f/home/\u7528\u6237\u540d 2.bin\u76ee\u5f55 \u5e38\u7528\u7684\u53ef\u6267\u884c\u6587\u4ef6 /bin\u3001/usr/bin\u3001/sbin\u7b49 3.\u5916\u90e8\u8bbe\u5907mountpoint /media\u3001/mnt \u5f53\u68c0\u6d4b\u5230\u8bbe\u5907\u65f6\u4f1a\u81ea\u52a8\u6302\u8f7d 4./etc\uff0c\u7cfb\u7edf\u914d\u7f6e\u6587\u4ef6 5./tmp,\u4e34\u65f6\u6587\u4ef6 6./boot \u7cfb\u7edf\u5185\u6838\u548c\u5f00\u673a\u5fc5\u8981\u6587\u4ef6 7./dev \u7cfb\u7edf\u6240\u6709\u7684\u8bbe\u5907\u6587\u4ef6 8./usr unix system resource(\u7cfb\u7edf\u6587\u4ef6) \u4fdd\u5b58\u7a0b\u5e8f\u7684\u76f8\u5173\u6587\u4ef6 9./lost+found \u6bcf\u4e2a\u5206\u533a\u90fd\u4f1a\u81ea\u52a8\u521b\u5efa 10./var\u3001/srv(\u4fdd\u5b58\u6570\u636e\u5e93\u6570\u636e\u7b49\uff0c\u4f1a\u81ea\u52a8\u589e\u5927) 11./proc 12./lib\u3001/usr/lib\u3001\uff08\u53ef\u590d\u7528\u7684\u5e93\uff09","title":"\u76ee\u5f55\u7cfb\u7edf\uff08Linux\u7cfb\u7edf\u6587\u4ef6\u540d\u533a\u5206\u5927\u5c0f\u5199\uff09"},{"location":"Linux-learning/Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E/#_4","text":"r \u8bfb w \u5199 x \u6267\u884c","title":"\u66f4\u6539\u6587\u4ef6\u7684\u6743\u9650"},{"location":"Linux-learning/Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E/#_5","text":"\u4f7f\u7528ls -l\u67e5\u770b\u76ee\u5f55\u6587\u4ef6\u7684\u8be6\u7ec6\u5217\u8868\u5305\u62ec\u4f7f\u7528\u6743\u9650\u65e5\u671f\u5185\u5bb9\u7b49\u3002 \u4f8b\u5982\uff1a\u4e0b\u9762\u7684 drwxrwxr-x 3 root root 4096 05-31 17:25 perm \u524d\u9762\u7684d\u662f\u76ee\u5f55\u6587\u4ef6\uff0c\u4f9d\u6b21\u662fU\uff08\u62e5\u6709\u8005\uff09G\uff08\u7528\u6237\u7ec4\uff09O\uff08\u5176\u4ed6\uff09\u7684\u6743\u9650\u3002 \u8fd9\u91cc\u662fd(\u76ee\u5f55)rwx\uff08\u62e5\u6709\u8005\u2014\u2014\u62e5\u6709\u8bfb\u5199\u6267\u884c\u6743\u9650\uff09rwx(\u7528\u6237\u7ec4\u2014\u2014\u62e5\u6709\u8bfb\u5199\u6267\u884c\u6743\u9650) r-x(\u5176\u4ed6\u2014\u2014\u62e5\u6709\u8bfb\u6267\u884c\u7684\u6743\u9650) 1. \u4f7f\u7528\u5b57\u7b26\u8868\u793a\u6cd5 chmod [-R] UGO+rwx perm //\u5c06perm\u76ee\u5f55\uff08\u5982\u679c\u6dfb\u52a0\u4e86\u2014R\uff0c\u5219\u66f4\u6539\u6743\u9650\u5305\u62ec\u76ee\u5f55\u4e0b\u6240\u6709\u6587\u4ef6\uff09\u6743\u9650\u66f4\u6539\u4e3a\u5168\u90e8\u5177\u6709\u8bfb\u5199\u6267\u884c\u64cd\u4f5c\u3002 2. \u4f7f\u7528\u6570\u5b57\u6a21\u5f0f r 4 w 2 x 1 \u6ca1\u6709\u6743\u9650\u662f0 chmod 777 perm //\u5c06perm\u76ee\u5f55\u6743\u9650\u66f4\u6539\u4e3a\u5168\u90e8\u5177\u6709\u8bfb\u5199\u64cd\u4f5c\u3002 3. \u4f7f\u7528\u53ef\u89c6\u5316\u754c\u9762\u6539\u53d8 \u538b\u7f29\u6253\u5305 \u538b\u7f29\u5de5\u5177 Linux\u652f\u6301\u7684\u538b\u7f29\u683c\u5f0f 1. .Z ,compress\u7a0b\u5e8f\u538b\u7f29\u6587\u4ef6 2. .gz ,gzip\u7a0b\u5e8f\u538b\u7f29\u6587\u4ef6 3. .bz2 ,bzip2\u7a0b\u5e8f\u538b\u7f29\u6587\u4ef6 4. .tar ,tar\u7a0b\u5e8f\u6253\u5305\u6587\u4ef6\uff0c\u5e76\u672a\u538b\u7f29 5. .tar.gz ,tar\u6253\u5305\u7684\u6863\u6848\uff0c\u4f7f\u7528gzip\u538b\u7f29 6. .tar.bz2 ,tar\u6253\u5305\u7684\u6587\u4ef6\uff0c\u4f7f\u7528bzip2\u538b\u7f29 gzip\u538b\u7f29\u5de5\u5177 gzip perm \u538b\u7f29perm gzip -c perm >perm.gz \u538b\u7f29perm\uff0c\u540c\u65f6\u4fdd\u7559\u539f\u6587\u4ef6\u3002 gzip -cv perm.gz \u663e\u793aperm.gz\u7684\u538b\u7f29\u6bd4 gzip -c perm \u538b\u7f29\u6587\u4ef6perm gzip -d perm.gz \u89e3\u538b\u7f29perm.gz\u6587\u4ef6 1\u3001gzip \u007f [-cdtv#] \u007f \u6587\u4ef6\u540d\u79f0 \u007f \u007f 1\uff09\u6269\u5c55\u540d\u4e3a*.gz \u007f \u007f 2\uff09-c\uff1a\u5c06\u538b\u7f29\u7684\u6570\u636e\u8f93\u51fa\u5230\u5c4f\u5e55\u4e0a \u007f \u007f 3\uff09-d\uff1a\u89e3\u538b\u7f29\u7684\u53c2\u6570 \u007f \u007f 4\uff09-t\uff1a\u8fdb\u884c\u6587\u4ef6\u7684\u4e00\u81f4\u6027\u6821\u9a8c\u770b\u662f\u5426\u635f\u574f \u007f \u007f 5\uff09-v\uff1a\u663e\u793a\u548c\u539f\u6587\u4ef6\u76f8\u6bd4\u7684\u538b\u7f29\u6bd4 \u007f \u007f 6\uff09-#\uff1a\u538b\u7f29\u7b49\u7ea7\uff0c-1\u6700\u5feb\uff0c-9\u6700\u6162\uff0c\u9ed8\u8ba4\u662f-6 \u007f 2\u3001bzip2 \u007f [-cdkzv#] \u007f \u6587\u4ef6\u540d\u79f0 \u007f \u007f 1\uff09\u6269\u5c55\u540d\u4e3a*.bz2 \u007f \u007f \u007f 2\uff09-c\uff1a\u5c06\u538b\u7f29\u7684\u6570\u636e\u8f93\u51fa\u5230\u5c4f\u5e55\u4e0a \u007f \u007f 3\uff09-d\uff1a\u89e3\u538b\u7f29\u7684\u53c2\u6570\uff0c\u8be5\u53c2\u6570\u4ee3\u8868\u6267\u884c\u89e3\u538b\u7f29\u64cd\u4f5c \u007f \u007f 4\uff09-k\uff1a\u4fdd\u7559\u539f\u6587\u4ef6\u5e76\u4e0d\u5220\u9664\u539f\u59cb\u6587\u4ef6 \u007f \u007f 5\uff09-z\uff1a\u538b\u7f29\u7684\u53c2\u6570\uff0c\u8be5\u53c2\u6570\u4ee3\u8868\u662f\u6267\u884c\u538b\u7f29\u64cd\u4f5c \u007f \u007f 6\uff09-v\uff1a\u663e\u793a\u548c\u539f\u6587\u4ef6\u5bf9\u6bd4\u7684\u538b\u7f29\u6bd4 \u007f \u007f 7\uff09-#\uff1a\u538b\u7f29\u7b49\u7ea7\uff0c-1\u6700\u5feb\uff0c-9\u6700\u6162\uff0c\u9ed8\u8ba4\u662f-6 \u007f","title":"\u66f4\u6539\u6587\u4ef6\u7684\u6743\u9650\u7684\u65b9\u5f0f"},{"location":"Linux-learning/Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E/#linux_1","text":"1\u3001 tar \u007f \u007f [-jcv] \u007f \u2013f \u007f finaname.tar.bz2 \u007f \u5f85\u538b\u7f29\u7684\u6863\u6848\u6216\u8005\u76ee\u5f55\u540d \u007f \u007f \u5c06\u67d0\u4e2a\u6587\u4ef6\u6216\u8005\u76ee\u5f55\u6253\u5305\u5e76\u4f7f\u7528bzip2\u538b\u7f29\u6210\u4e00\u4e2a\u6587\u4ef6 \u007f 2\u3001tar \u007f \u007f [-jxv] \u007f \u2013f \u007f filename.tar.bz2 \u007f \u2013C \u007f \u89e3\u538b\u7f29\u7684\u76ee\u5f55 \u007f \u007f \u5c06\u538b\u7f29\u6587\u4ef6\u89e3\u538b\u7f29\u81f3\u7279\u5b9a\u7684\u76ee\u5f55 \u007f 3\u3001\u53c2\u6570\u89e3\u91ca \u007f \u007f 1\uff09-c\uff1a\u5efa\u7acb\u6253\u5305\u6863\u6848 \u007f \u007f 2\uff09-t\uff1a\u67e5\u770b\u6253\u5305\u7684\u6587\u4ef6\u90fd\u6709\u54ea\u4e9b\u6587\u4ef6\u540d \u007f \u007f 3\uff09-x\uff1a\u89e3\u538b\u7f29\u6216\u8005\u89e3\u6253\u5305\u6587\u4ef6\uff0c\u548c-C\u642d\u914d\u4f7f\u7528\u89e3\u538b\u7f29\u81f3\u7279\u5b9a\u76ee\u5f55 \u007f \u007f 4\uff09-j\uff1a\u901a\u8fc7bz2\u652f\u6301\u8fdb\u884c\u538b\u7f29\u6216\u8005\u89e3\u538b\u7f29 \u007f \u007f 5\uff09-z\uff1a\u4f7f\u7528gzip\u8fdb\u884c\u538b\u7f29\u6216\u8005\u89e3\u538b\u7f29 \u007f \u007f 6\uff09-v\uff1a\u5c06\u6b63\u5728\u5904\u7406\u7684\u6587\u4ef6\u540d\u663e\u793a\u51fa\u6765 \u007f \u007f 7\uff09-f\uff1a\u7d27\u8ddf\u8981\u88ab\u5904\u7406\u7684\u6587\u4ef6\u540d\uff0c\u5efa\u8bae\u5355\u72ec\u5199\u4e00\u4e2a\u9009\u9879 \u007f 3.\u4f7f\u7528zip\u538b\u7f29\u6253\u5305 zip -f filename.zip \u6587\u4ef6\u5939\u540d //\u4f7f\u7528zip\u538b\u7f29 vi\u7f16\u8f91\u5668\uff08\u8bb0\u4e8b\u672c\uff09 vim\u7f16\u8f91\u5668\uff08\u7f16\u5199\u4ee3\u7801\u4f7f\u7528\uff0c\u5168\u9762\u517c\u5bb9vi\u7684\u6307\u4ee4\uff09 vi\u5e38\u7528\u7684\u547d\u4ee4 vi perm \u6253\u5f00\u6587\u4ef6perm,\u5982\u679c\u4e0d\u5b58\u5728\uff0c\u5219\u4f1a\u5728\u4fdd\u5b58\u65f6\uff0c\u65b0\u5efa\u5e76\u4fdd\u5b58\u8be5\u6587\u4ef6\u3002 vi\u7684\u4e09\u79cd\u6a21\u5f0f 1\uff09\u547d\u4ee4\u6a21\u5f0f\uff0c\u53ef\u4ee5\u79fb\u52a8\u5149\u6807\uff0c\u4fee\u6539\u3001\u5220\u9664\u3001\u590d\u5236\u3001\u641c\u7d22 2\uff09\u63d2\u5165\u6a21\u5f0f\uff0c\u901a\u8fc7a\u6216\u8005i\u6216\u8005o\u8fdb\u5165\uff0c\u53ef\u4ee5\u4fee\u6539\u6587\u4ef6\u5185\u5bb9 3\uff09\u6269\u5c55\u6a21\u5f0f\uff0c\u5728insert\uff0c\u6a21\u5f0f\u4e0b\u5148\u6309\u4e0bEsc\u952e\uff08\u5de6\u4e0a\u89d2\uff09\uff0c\u518d\u6309\u5192\u53f7\uff1a \u901a\u8fc7:\u8fdb\u5165\uff0c\u9000\u51fa\u3001\u4fdd\u5b58\u3001\u67e5\u627e\u66ff\u6362 4.\u547d\u4ee4\u884c\u4e0b\u5220\u9664\u66f4\u6539\u590d\u5236 Change Delete Yank(copy) Line cc dd yy Letter cl dl yl Word cw dw yw 5\u3001\u64a4\u9500\u64cd\u4f5c 1\uff09u\uff0c\u64a4\u9500\u6700\u8fd1\u4e00\u6b21\u7684\u4fee\u6539\uff0cundo 2\uff09ctrl-r\uff0c\u53d6\u6d88\u6700\u540e\u4e00\u6b21\u7684\u64a4\u9500\uff0credo 3\uff09U\uff0c\u64a4\u9500\u6240\u6709\u4fee\u6539 6\u3001\u67e5\u627e\u64cd\u4f5c 1\uff09 /text \uff0c\u5411\u540e\u641c\u7d22 2\uff09 ?text \uff0c\u5411\u524d\u641c\u7d22 3\uff09n\uff0c(\u6309\u4e0bn\u952e)\u641c\u7d22\u4e0b\u4e00\u4e2a\u540c\u6837\u7684\u5185\u5bb9 4\uff09N (\u6309\u4e0bn\u952e\u548cshift\u952e) \u641c\u7d22\u4e0a\u4e00\u4e2a\u540c\u6837\u7684\u5185\u5bb9 7\u3001\u7c98\u8d34\u64cd\u4f5c 1\uff09\u7528p\u7c98\u8d34\u590d\u5236\u3001\u4fee\u6539\u6216\u8005\u5220\u9664\u7684\u6570\u636e 2\uff09\u5bf9\u4e8e\u884c\uff0cp\u7c98\u8d34\u5728\u884c\u4e0a\uff0cP\u7c98\u8d34\u5728\u884c\u4e0b 3\uff09\u5bf9\u4e8e\u5b57\u7b26\uff0cp\u7c98\u8d34\u5728\u5b57\u7b26\u53f3\u4fa7\uff0cP\u7c98\u8d34\u5728\u5b57\u7b26\u5de6\u4fa7 8\u3001\u547d\u4ee4\u6a21\u5f0f\u4e0b\u7684\u4e00\u4e9b\u6280\u5de7 1\uff09dtc\uff0c\u5220\u9664\u4ece\u5149\u6807\u5230c\u4e4b\u95f4\u7684\u6240\u6709\u5b57\u7b26 2\uff09rc\uff0c\u5c06\u5149\u6807\u4e0b\u7684\u5b57\u7b26\u66ff\u6362\u4e3ac 3\uff09dw\u5220\u9664\u6e38\u6807\u5904\u6240\u5728\u7684\u5b57\u7b26 4\uff095dd\uff0c\u5220\u96645\u884c\u6570\u636e 5\uff095yy\uff0c\u590d\u52365\u884c\u6570\u636e 6\uff095x\uff0c\u5220\u96645\u4e2a\u5b57\u7b26 7\uff09R\uff0c\u8fdb\u5165\u66ff\u6362\u72b6\u6001\uff0cesc\u9000\u51fa 9\u3001\u4fdd\u5b58\u3001\u9000\u51fa\uff0c\u8fdb\u5165\u6269\u5c55\u6a21\u5f0f 1\uff09:w\uff0c\u4fdd\u5b58 2\uff09:q\uff0c\u9000\u51fa 3\uff09:wq\uff0c\u4fdd\u5b58\u5e76\u9000\u51fa 4\uff09:w!\uff0c\u5f3a\u5236\u4fdd\u5b58 5\uff09:q!\uff0c\u5f3a\u5236\u9000\u51fa 6\uff09:wq!\uff0c\u5f3a\u5236\u4fdd\u5b58\u9000\u51fa vi\u7f16\u8f91\u5668\u7684\u8fdb\u9636\u4f7f\u7528 1\u3001\u6587\u4ef6\u5185\u5b9a\u4f4d 1\uff09G\uff0c\u8df3\u8f6c\u5230\u6587\u4ef6\u6700\u540e\u4e00\u884c 2\uff091G\uff0c\u8df3\u8f6c\u5230\u6587\u4ef6\u7684\u7b2c\u4e00\u884c 3\uff09ctrl+d\uff0c\u5f80\u4e0b\u6eda\u52a8\u534a\u5c4f 4\uff09ctrl+u\uff0c\u5f80\u4e0a\u6eda\u52a8\u534a\u5c4f 2\u3001\u5c4f\u5e55\u5b9a\u4f4d\u76f8\u5173 1\uff09H\uff0c\u8df3\u8f6c\u5230\u672c\u5c4f\u663e\u793a\u7684\u7b2c\u4e00\u884c 2\uff09M\uff0c\u8c03\u8f6c\u5230\u672c\u5c4f\u663e\u793a\u7684\u4e2d\u95f4\u4e00\u884c 3\uff09L\uff0c\u8df3\u8f6c\u5230\u672c\u5c4f\u663e\u793a\u7684\u6700\u540e\u4e00\u884c 4\uff09z+Enter\uff0c\u4f7f\u5f53\u524d\u7684\u884c\u6210\u4e3a\u5c4f\u5e55\u663e\u793a\u7684\u7b2c\u4e00\u884c 5\uff09z-\uff0c\u4f7f\u5f53\u524d\u884c\u6210\u4e3a\u5c4f\u5e55\u7684\u6700\u540e\u4e00\u884c 3\u3001\u67e5\u627e\u5e76\u6279\u91cf\u66ff\u6362 1\uff09\u901a\u8fc7sed\u6765\u67e5\u627e 2\uff09\u9ed8\u8ba4\u5bf9\u5f53\u524d\u884c\u8fdb\u884c\u67e5\u627e 3\uff091,10\uff0c\u5bf91-10\u884c\u8fdb\u884c\u67e5\u627e 4\uff091,$ %\uff0c\u5bf9\u6574\u4e2a\u6587\u4ef6\u67e5\u627e 4\u3001\u8bfb\u53d6\u548c\u4fdd\u5b58 1\uff09:r file\uff0c\u5c06\u53e6\u5916\u4e00\u4e2afile\u7684\u5185\u5bb9\u8bfb\u5165\u5230\u5f53\u524d\u6587\u4ef6 2\uff091,20 w file\uff0c\u5c061-20\u884c\u7684\u5185\u5bb9\u5199\u5165\u5230\u4e00\u4e2a\u65b0\u7684file\u4e2d 3\uff091,$ w file\uff0c\u5c06\u6574\u4e2a\u6587\u4ef6\u5199\u5165\u4e00\u4e2a\u65b0\u7684file 4\uff091,20 w>>file\uff0c\u5c061-20\u884c\u6570\u636e\u8ffd\u52a0\u5230file\u4e2d 5\uff09:n\uff0c\u8df3\u5230\u4e0b\u4e00\u4e2a\u6587\u4ef6 6\uff09:rew\uff0c\u56de\u5230\u7b2c\u4e00\u4e2a\u6587\u4ef6 5\u3001\u67e5\u627e\u5e76\u6279\u91cf\u66ff\u6362 1\uff09\u901a\u8fc7sed\u6765\u67e5\u627e 2\uff09\u9ed8\u8ba4\u5bf9\u5f53\u524d\u884c\u8fdb\u884c\u67e5\u627e 3\uff091,10\uff0c\u5bf91-10\u884c\u8fdb\u884c\u67e5\u627e 4\uff091,$ %\uff0c\u5bf9\u6574\u4e2a\u6587\u4ef6\u67e5\u627e 6\u3001\u8bfb\u53d6\u548c\u4fdd\u5b58 1\uff09:r file\uff0c\u5c06\u53e6\u5916\u4e00\u4e2afile\u7684\u5185\u5bb9\u8bfb\u5165\u5230\u5f53\u524d\u6587\u4ef6 2\uff091,20 w file\uff0c\u5c061-20\u884c\u7684\u5185\u5bb9\u5199\u5165\u5230\u4e00\u4e2a\u65b0\u7684file\u4e2d 3\uff091,$ w file\uff0c\u5c06\u6574\u4e2a\u6587\u4ef6\u5199\u5165\u4e00\u4e2a\u65b0\u7684file 4\uff091,20 w>>file\uff0c\u5c061-20\u884c\u6570\u636e\u8ffd\u52a0\u5230file\u4e2d 7\u3001\u8bbe\u7f6e 1\uff09:set\uff0c\u663e\u793a\u5e38\u7528\u7684\u914d\u7f6e\u9009\u9879 2\uff09:set all\uff0c\u663e\u793a\u6240\u6709\u7684\u914d\u7f6e\u9009\u9879 3\uff09:set number\uff0c\u8bbe\u7f6e\u884c\u53f7 \u4e0b\u8f7d\u6587\u4ef6 wget https://www.baidu.download.min.css //\u4ece\u6307\u5b9a\u7f51\u5740\u4e0b\u8f7d\u6587\u4ef6 wget https://www.baidu.download.min.css --no-check-certificate // \u5f53\u9047\u5230ssl\u9519\u8bef\u65f6\uff0c\u540e\u9762\u6dfb\u52a0\u8be5\u547d\u4ee4\u3002\u53ef\u89e3\u51b3\u65e0\u6cd5\u4e0b\u8f7d\u7684\u95ee\u9898\u3002 cal >pem2 //cal\u662f\u8f93\u51fa\u65e5\u5386\u547d\u4ee4\uff0c\u540e\u9762\u7684\u5927\u4e8e\u53f7\uff08\u91cd\u5b9a\u5411\uff09\uff0c\u662f\u628a\u5c4f\u5e55\u7684\u8f93\u51fa\u4fdd\u5b58\u5230perm2\u91cc\u3002\u5982\u679cperm2\u4e0d\u5b58\u5728\uff0c\u5219\u65b0\u5efa\u5e76\u4fdd\u5b58\u8f93\u51fa\u7684\u6570\u636e\u3002\u6ce8\u610f:\u6267\u884c\u6b64\u64cd\u4f5c\u4f1a\u66ff\u6362\u6587\u4ef6\u91cc\u539f\u6709\u7684\u5185\u5bb9\u3002 cal >>pem2 //\u8fd9\u91cc\u7684\u4e24\u4e2a\u5927\u4e8e\u53f7\uff08\u91cd\u5b9a\u5411\uff09\uff0c\u662f\u8ffd\u52a0\u5230pem2,\u5e76\u4fdd\u5b58\u3002 mkdir test&&cd test&&touch baidu.txt //\u8fd9\u91cc\u8fde\u63a5\u51e0\u4e2a\u547d\u4ee4\u7528\u7684\u662f&&\uff0c\u53ea\u6709\u5728\u524d\u4e00\u4e2a\u547d\u4ee4\u6b63\u786e\u6267\u884c\u540e\uff0c\u540e\u4e00\u4e2a\u624d\u4f1a\u7ee7\u7eed\u6267\u884c\u3002 bash1||bash2 //\u8fd9\u91cc\u7684|| \u8868\u793a\uff0c\u53ea\u6709\u524d\u4e00\u4e2a\u547d\u4ee4\u6267\u884c\u9519\u8bef\u65f6\uff0c\u624d\u4f1a\u6267\u884c\u540e\u4e00\u4e2a\u547d\u4ee4\u3002","title":"Linux\u6587\u4ef6\u6253\u5305\u6307\u4ee4"},{"location":"Linux-learning/Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E/#_6","text":"\u7ba1\u9053\u7b26\u662f| cat perm |wc -l //\u7edf\u8ba1perm\u91cc\u6709\u51e0\u884c\u5185\u5bb9 cat perm |wc -w //\u7edf\u8ba1perm\u91cc\u603b\u5171\u6709\u51e0\u4e2a\u8bcd cat perm |wc -m //\u7edf\u8ba1perm\u91cc\u5b57\u7b26\u6570 \u66f4\u6539\u73af\u5883\u53d8\u91cf vim ~/./.bashrc \u5728\u5176\u540e\u9762\u589e\u52a0\u5185\u5bb9\u540e\uff0c\u6267\u884csource ~/./.bashrc vim /etc/profile \u5728\u5176\u540e\u9762\u589e\u52a0\u5185\u5bb9\u540e\uff0c\u6267\u884csource /etc/profile export \u67e5\u8be2\u73af\u5883\u53d8\u91cf echo $PATH \u5355\u72ec\u67e5\u770bPATH\u73af\u5883\u53d8\u91cf mysql\u6570\u636e\u5e93\u7684\u8fde\u63a5 \u8be6\u7ec6\u5730\u5740\uff1a [http://www.cnblogs.com/mfryf/archive/2012/02/12/2348164.html] mysql -u root -p 123 //\u8fde\u63a5\u6570\u636e\u5e93 \u7528\u6237\u540d\u4e3aroot \uff0c\u5bc6\u7801\u4e3a123 mysql\u6570\u636e\u5e93\u91cc\u9762\u7684\u64cd\u4f5c\u547d\u4ee4 show databases; //\u663e\u793a\u5f53\u524d\u6240\u6709\u7684\u6570\u636e\u5e93\u540d create database phplesson1; //\u521b\u5efa\u65b0\u7684\u540d\u4e3aphplesson1\u7684\u6570\u636e\u5e93\u3002 use phplesson1; //\u4f7f\u7528\u540d\u4e3aphplesson1\u7684\u6570\u636e\u5e93\u3002 source lesson1.sql; //\u5bfc\u5165\u8868\u540d\u4e3aphplesson1.sql\u7684\u8868 source userinfo.sql; //\u5bfc\u5165\u8868\u540d\u4e3auserinfo.sql\u7684\u8868 pm2\u4f7f\u7528 $ npm install pm2 -g # \u547d\u4ee4\u884c\u5b89\u88c5 pm2 $ pm2 start app.js -i 4 # \u540e\u53f0\u8fd0\u884cpm2\uff0c\u542f\u52a84\u4e2aapp.js # \u4e5f\u53ef\u4ee5\u628a'max' \u53c2\u6570\u4f20\u9012\u7ed9 start # \u6b63\u786e\u7684\u8fdb\u7a0b\u6570\u76ee\u4f9d\u8d56\u4e8eCpu\u7684\u6838\u5fc3\u6570\u76ee $ pm2 start app.js --name my-api # \u547d\u540d\u8fdb\u7a0b $ pm2 list # \u663e\u793a\u6240\u6709\u8fdb\u7a0b\u72b6\u6001 $ pm2 monit # \u76d1\u89c6\u6240\u6709\u8fdb\u7a0b $ pm2 logs # \u663e\u793a\u6240\u6709\u8fdb\u7a0b\u65e5\u5fd7 $ pm2 stop all # \u505c\u6b62\u6240\u6709\u8fdb\u7a0b $ pm2 restart all # \u91cd\u542f\u6240\u6709\u8fdb\u7a0b $ pm2 reload all # 0 \u79d2\u505c\u673a\u91cd\u8f7d\u8fdb\u7a0b (\u7528\u4e8e NETWORKED \u8fdb\u7a0b) $ pm2 stop 0 # \u505c\u6b62\u6307\u5b9a\u7684\u8fdb\u7a0b $ pm2 restart 0 # \u91cd\u542f\u6307\u5b9a\u7684\u8fdb\u7a0b $ pm2 startup # \u4ea7\u751f init \u811a\u672c \u4fdd\u6301\u8fdb\u7a0b\u6d3b\u7740 $ pm2 web # \u8fd0\u884c\u5065\u58ee\u7684 computer API endpoint (http://localhost:9615) $ pm2 delete 0 # \u6740\u6b7b\u6307\u5b9a\u7684\u8fdb\u7a0b $ pm2 delete all # \u6740\u6b7b\u5168\u90e8\u8fdb\u7a0b","title":"\u7ba1\u9053\u547d\u4ee4"},{"location":"Linux-learning/Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E/#rename","text":"","title":"rename\u547d\u4ee4"},{"location":"Linux-learning/Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E/#_7","text":"#\u628a\u6240\u6709\u4ee5R18019091\u5f00\u5934\u7684\u6587\u4ef6\u91cd\u547d\u540d\u4e3aw\u5f00\u5934\u3002 rename R18019091 w R18019091*","title":"\u6279\u91cf\u91cd\u547d\u540d\u6587\u4ef6"},{"location":"Linux-learning/Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E/#shell","text":"\u65b0\u5efa\u540d\u4e3atest.sh\u7684shell\u811a\u672c\u6587\u4ef6 \u5185\u5bb9\u5982\u4e0b #!/bin/bash //\u4f7f\u7528bash\u89e3\u6790\u5668 echo \"hello world!\"//\u5c4f\u5e55\u8f93\u51fahello world chmod 777 test.sh //\u4f7f\u811a\u672c\u5177\u6709\u6267\u884c\u6743\u9650 eval \u662f\u4e2a\u597d\u5de5\u5177 \u4f8b\u5982\uff1a date //Fri Apr 13 21:32:10 DST 2018 echo date //date eval `echo date` //Fri Apr 13 21:32:10 DST 2018 \u7b80\u5355\u8bf4\uff0ceval\u53ef\u4ee5\u5bf9\u547d\u4ee4\u91cc\u7684\u53d8\u91cf\u8fdb\u884c\u4e8c\u6b21\u8fd0\u7b97\u3002\u76f8\u5f53\u597d\u7528\u7684\u547d\u4ee4\u3002","title":"shell\u811a\u672c\u4f7f\u7528"},{"location":"Linux-learning/Ubuntu20-04%E5%AE%89%E8%A3%85LAMP%E5%92%8Cphpmyadmin/","text":"ubuntu20.04\u5b89\u88c5LAMP \u53c2\u8003\u94fe\u63a5 0.\u66f4\u6362\u8f6f\u4ef6\u6e90\uff08\u4ec5\u56fd\u5185\u4e3b\u673a\u9700\u8981\u66f4\u6362\uff09 vim /etc/apt/sources.list #\u963f\u91cc\u4e91\u955c\u50cf\u6e90 deb http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse deb-src http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse deb http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse deb-src http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse deb http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse deb-src http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse deb http://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse deb-src http://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse deb http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse deb-src http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse \u4e2d\u79d1\u5927\u955c\u50cf\u6e90 deb https://mirrors.ustc.edu.cn/ubuntu/ focal main restricted universe multiverse deb-src https://mirrors.ustc.edu.cn/ubuntu/ focal main restricted universe multiverse deb https://mirrors.ustc.edu.cn/ubuntu/ focal-updates main restricted universe multiverse deb-src https://mirrors.ustc.edu.cn/ubuntu/ focal-updates main restricted universe multiverse deb https://mirrors.ustc.edu.cn/ubuntu/ focal-backports main restricted universe multiverse deb-src https://mirrors.ustc.edu.cn/ubuntu/ focal-backports main restricted universe multiverse deb https://mirrors.ustc.edu.cn/ubuntu/ focal-security main restricted universe multiverse deb-src https://mirrors.ustc.edu.cn/ubuntu/ focal-security main restricted universe multiverse deb https://mirrors.ustc.edu.cn/ubuntu/ focal-proposed main restricted universe multiverse deb-src https://mirrors.ustc.edu.cn/ubuntu/ focal-proposed main restricted universe multiverse 1.\u66f4\u65b0\u8f6f\u4ef6 sudo apt-get update sudo apt-get upgrade 2.\u5b89\u88c5Apache sudo apt install apache2 -y systemctl status apache2 #\u67e5\u770bApache\u8fd0\u884c\u72b6\u6001\uff0c\u5982\u679c\u8bbe\u7f6e\u4e86\u57df\u540d\u89e3\u6790\u5230\u8fd9\u4e2aIP\uff0c\u6b64\u65f6\u5e94\u8be5\u53ef\u4ee5\u6b63\u5e38\u901a\u8fc7\u57df\u540d\u8bbf\u95ee\uff0c\u770b\u5230Apache\u9996\u9875\u3002\u6216\u8005\u662f127.0.0.1\u8bbf\u95ee\u672c\u5730\u4e3b\u9875\u4e5f\u662f\u4e00\u6837\u3002 Apache\u670d\u52a1\u5668\u64cd\u4f5c\u547d\u4ee4 apache2 start apache2 stop 3.\u5b89\u88c5Mysql 5.7 sudo apt install mysql-server mysql-client \u6d4b\u8bd5mysql\u662f\u5426\u6b63\u5e38\u5b89\u88c5 mysql \u5982\u679c\u8fdb\u5165mysql>\u8bf4\u660e\u6b63\u5e38 4.\u5b89\u88c5PHP sudo apt-get install php php -v \u6d4b\u8bd5\uff0c\u5982\u679c\u51fa\u73b0\u7248\u672c\u4fe1\u606f\u8bf4\u660e\u6b63\u5e38\u3002 4.1 \u5173\u8054Apache2\u548cphp sudo apt-get install libapache2-mod-php 4.2 \u5173\u8054mysql\u548cphp sudo apt-get install php-mysql 4.3 \u4fee\u6539Apache\u7684\u914d\u7f6e\u6587\u4ef6\u7684\u7b2c\u4e00\u884c vim /etc/apache2/mod-available/php7.4.conf \u628a\u7b2c\u4e00\u884c\u4ece <FilesMatch \".+.ph(ar|p|tml)$\"> \u4fee\u6539\u4e3a <FilesMatch \".+.(ph(ar|p|tml)|html|htm)$\"> \u6ce8\u610f\uff0c\u539f\u535a\u4e3b\uff0c\u6b64\u5904\u5c11\u5199\u4e86\u4e00\u4e2a\u53f3\u62ec\u53f7\u3002 \u91cd\u542fApache2 sudo /etc/init.d/apache2 restart 5.\u8bbf\u95ee\u6d4b\u8bd5\u9875\u9762 127.0.0.1 #\u5e94\u8be5\u662fApache2\u7684\u9875\u9762 127.0.1.1/test.html #\u5e94\u8be5\u662fPHP\u7684\u9875\u9762 127.0.0.1/test.php #\u5e94\u8be5\u662fPHP\u7684\u9875\u9762 \u4e0a\u8ff0\u5df2\u7ecf\u5b8c\u6210LAMP\u7684\u5b89\u88c5\u3001\u914d\u7f6e\u5de5\u4f5c\u3002\u540e\u7eed\u5185\u5bb9\u5c5e\u4e8e\u4f18\u5316\u3001\u7ba1\u7406\u7ef4\u62a4\u3002 6.\u6dfb\u52a0\u670d\u52a1\u5668swap\u7a7a\u95f4\uff08\u865a\u62df\u5185\u5b58\uff09 \u56e0\u672c\u670d\u52a1\u5668\u5185\u5b58\u8f83\u5c0f512M,\u6545\u589e\u5927\u865a\u62df\u5185\u5b58(SWAP)1G. free -m \u67e5\u770b\u73b0\u6709\u5185\u5b58\u5927\u5c0f cd /var/ #\u6b64\u5904\u7684count=1048576=1024*1024M,\u5982\u679c\u60f3\u589e\u5927SWAP\u5230512M,\u6b64\u5904count=524288 dd if=/dev/zero of =swapfile bs=1024 count=1048576 ##\u521b\u5efa\u6587\u4ef6/\u6fc0\u6d3b /sbin/mkswap swapfile /sbin/swapon swapfile ##\u6dfb\u52a0\u5230\u542f\u52a8\u9879 echo `/var/swapfile swap swap defaults 0 0` >>/etc/fstab ##\u91cd\u542f\u670d\u52a1\u5668\uff0c\u67e5\u770b\u5185\u5b58\u5df2\u7ecf\u751f\u6548\u3002 7.mysql\u547d\u4ee4 \u521b\u5efa\u7528\u6237root,\u5bc6\u7801\u4e3a \u4f60\u7684\u5bc6\u7801 mysql -u root -p CREATE USER 'root' @'localhost' INENTIFIED BY '\u4f60\u7684\u5bc6\u7801'; CREATE USER 'root' @'%' IDENTIFIED BY '\u4f60\u7684\u5bc6\u7801'; 8.\u5b89\u88c5phpmyadmin sudo apt install phpmyadmin \u9009\u62e9\u670d\u52a1\u5668apache2,\u4e00\u76f4\u4e0b\u4e00\u6b65\u5373\u53ef\u3002\u6700\u540e\u4e00\u6b65\u662f\u914d\u7f6e\uff0cmysql\u767b\u5f55\u5bc6\u7801\u3002 8.1 \u767b\u5f55phpadmin\u9875\u9762 \u8bbf\u95ee127.0.0.1/phpmyadmin/\u65e0\u6cd5\u6253\u5f00\u3002\u4fee\u590d\u65b9\u6cd5\uff1a echo `Include /etc/phpmyadmin/apache.conf` >>/etc/apache2/apache2.conf sudo systemctl restart apache2 #\u91cd\u542fApache2 \u4ee5\u4e0bmysql\u7684\u62a5\u9519\u89e3\u51b3\u65b9\u6848\uff0c\u90fd\u662f\u57fa\u4e8eMYSQL 8.0\u7248\u672c,\u7f51\u4e0a\u4e00\u5806\u7b54\u6848\u90fd\u662f5.6\u7248\u672c\u7684\uff0c\u4e0d\u540c\u7248\u672c\u7684\u547d\u4ee4\u4e0d\u4e00\u6837\u3002 \u6b64\u65f6\u53ef\u4ee5\u6b63\u5e38\u8bbf\u95ee\u7f51\u9875\u7684phpmyadmin,\u4f46\u662f\u65e0\u6cd5\u767b\u5f55\u3002\u767b\u5f55\u62a5\u9519\uff0c1698\u9519\u8bef\u3002 8.2 1698\u9519\u8bef\u4fee\u590d \u539f\u56e0\u662froot\u7528\u6237\u7684\u63d2\u4ef6\u548c\u9884\u671f\u7684\u4e0d\u4e00\u81f4\uff0c\u65b0\u5efa\u4e00\u4e2a\u7528\u6237\uff0c\u5e76\u8d4b\u4e88\u5b8c\u5168\u6743\u9650\u5373\u53ef\u3002 sudo mysql -u root mysql> create user chm@localhost identified by 'yourpassword'; grant all privileges on *.* to chm@localhost with grant option; \u5237\u65b0\u6743\u9650\u5e76\u9000\u51fa\uff1a flush privileges; exit; 8.3 mysql 1449 \uff1a The user specified as a definer ('root'@'%') does not exist \u89e3\u51b3\u65b9\u6cd5 1449\u9519\u8bef\u90fd\u662f\u6ca1\u6709\u6743\u9650\uff0c\u6dfb\u52a0\u6743\u9650\uff0c\u5237\u65b0\u5373\u53ef mysql -u root -p CREATE USER 'root'@'%' IDENTIFIED BY '****\u5bc6\u7801****'; GRANT ALL ON *.* TO 'root'@'%'; ALTER USER 'root'@'%' IDENTIFIED WITH mysql_native_password BY '****\u5bc6\u7801****'; use mysql; flush privileges; select host, user from user; \u67e5\u770b\u7528\u6237\u662f\u5426\u540c\u65f6\u6709%\u548clocal,\u7f3a\u5c11\u67d0\u4e00\u4e2a\u90fd\u4f1a\u62a5\u95191449.","title":"Ubuntu20 04\u5b89\u88c5LAMP\u548cphpmyadmin"},{"location":"Linux-learning/Ubuntu20-04%E5%AE%89%E8%A3%85LAMP%E5%92%8Cphpmyadmin/#ubuntu2004lamp","text":"\u53c2\u8003\u94fe\u63a5","title":"ubuntu20.04\u5b89\u88c5LAMP"},{"location":"Linux-learning/Ubuntu20-04%E5%AE%89%E8%A3%85LAMP%E5%92%8Cphpmyadmin/#0","text":"vim /etc/apt/sources.list #\u963f\u91cc\u4e91\u955c\u50cf\u6e90 deb http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse deb-src http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse deb http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse deb-src http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse deb http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse deb-src http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse deb http://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse deb-src http://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse deb http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse deb-src http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse \u4e2d\u79d1\u5927\u955c\u50cf\u6e90 deb https://mirrors.ustc.edu.cn/ubuntu/ focal main restricted universe multiverse deb-src https://mirrors.ustc.edu.cn/ubuntu/ focal main restricted universe multiverse deb https://mirrors.ustc.edu.cn/ubuntu/ focal-updates main restricted universe multiverse deb-src https://mirrors.ustc.edu.cn/ubuntu/ focal-updates main restricted universe multiverse deb https://mirrors.ustc.edu.cn/ubuntu/ focal-backports main restricted universe multiverse deb-src https://mirrors.ustc.edu.cn/ubuntu/ focal-backports main restricted universe multiverse deb https://mirrors.ustc.edu.cn/ubuntu/ focal-security main restricted universe multiverse deb-src https://mirrors.ustc.edu.cn/ubuntu/ focal-security main restricted universe multiverse deb https://mirrors.ustc.edu.cn/ubuntu/ focal-proposed main restricted universe multiverse deb-src https://mirrors.ustc.edu.cn/ubuntu/ focal-proposed main restricted universe multiverse","title":"0.\u66f4\u6362\u8f6f\u4ef6\u6e90\uff08\u4ec5\u56fd\u5185\u4e3b\u673a\u9700\u8981\u66f4\u6362\uff09"},{"location":"Linux-learning/Ubuntu20-04%E5%AE%89%E8%A3%85LAMP%E5%92%8Cphpmyadmin/#1","text":"sudo apt-get update sudo apt-get upgrade","title":"1.\u66f4\u65b0\u8f6f\u4ef6"},{"location":"Linux-learning/Ubuntu20-04%E5%AE%89%E8%A3%85LAMP%E5%92%8Cphpmyadmin/#2apache","text":"sudo apt install apache2 -y systemctl status apache2 #\u67e5\u770bApache\u8fd0\u884c\u72b6\u6001\uff0c\u5982\u679c\u8bbe\u7f6e\u4e86\u57df\u540d\u89e3\u6790\u5230\u8fd9\u4e2aIP\uff0c\u6b64\u65f6\u5e94\u8be5\u53ef\u4ee5\u6b63\u5e38\u901a\u8fc7\u57df\u540d\u8bbf\u95ee\uff0c\u770b\u5230Apache\u9996\u9875\u3002\u6216\u8005\u662f127.0.0.1\u8bbf\u95ee\u672c\u5730\u4e3b\u9875\u4e5f\u662f\u4e00\u6837\u3002 Apache\u670d\u52a1\u5668\u64cd\u4f5c\u547d\u4ee4 apache2 start apache2 stop","title":"2.\u5b89\u88c5Apache"},{"location":"Linux-learning/Ubuntu20-04%E5%AE%89%E8%A3%85LAMP%E5%92%8Cphpmyadmin/#3mysql-57","text":"sudo apt install mysql-server mysql-client \u6d4b\u8bd5mysql\u662f\u5426\u6b63\u5e38\u5b89\u88c5 mysql \u5982\u679c\u8fdb\u5165mysql>\u8bf4\u660e\u6b63\u5e38","title":"3.\u5b89\u88c5Mysql 5.7"},{"location":"Linux-learning/Ubuntu20-04%E5%AE%89%E8%A3%85LAMP%E5%92%8Cphpmyadmin/#4php","text":"sudo apt-get install php php -v \u6d4b\u8bd5\uff0c\u5982\u679c\u51fa\u73b0\u7248\u672c\u4fe1\u606f\u8bf4\u660e\u6b63\u5e38\u3002","title":"4.\u5b89\u88c5PHP"},{"location":"Linux-learning/Ubuntu20-04%E5%AE%89%E8%A3%85LAMP%E5%92%8Cphpmyadmin/#41-apache2php","text":"sudo apt-get install libapache2-mod-php","title":"4.1 \u5173\u8054Apache2\u548cphp"},{"location":"Linux-learning/Ubuntu20-04%E5%AE%89%E8%A3%85LAMP%E5%92%8Cphpmyadmin/#42-mysqlphp","text":"sudo apt-get install php-mysql","title":"4.2 \u5173\u8054mysql\u548cphp"},{"location":"Linux-learning/Ubuntu20-04%E5%AE%89%E8%A3%85LAMP%E5%92%8Cphpmyadmin/#43-apache","text":"vim /etc/apache2/mod-available/php7.4.conf \u628a\u7b2c\u4e00\u884c\u4ece <FilesMatch \".+.ph(ar|p|tml)$\"> \u4fee\u6539\u4e3a <FilesMatch \".+.(ph(ar|p|tml)|html|htm)$\"> \u6ce8\u610f\uff0c\u539f\u535a\u4e3b\uff0c\u6b64\u5904\u5c11\u5199\u4e86\u4e00\u4e2a\u53f3\u62ec\u53f7\u3002 \u91cd\u542fApache2 sudo /etc/init.d/apache2 restart","title":"4.3 \u4fee\u6539Apache\u7684\u914d\u7f6e\u6587\u4ef6\u7684\u7b2c\u4e00\u884c"},{"location":"Linux-learning/Ubuntu20-04%E5%AE%89%E8%A3%85LAMP%E5%92%8Cphpmyadmin/#5","text":"127.0.0.1 #\u5e94\u8be5\u662fApache2\u7684\u9875\u9762 127.0.1.1/test.html #\u5e94\u8be5\u662fPHP\u7684\u9875\u9762 127.0.0.1/test.php #\u5e94\u8be5\u662fPHP\u7684\u9875\u9762 \u4e0a\u8ff0\u5df2\u7ecf\u5b8c\u6210LAMP\u7684\u5b89\u88c5\u3001\u914d\u7f6e\u5de5\u4f5c\u3002\u540e\u7eed\u5185\u5bb9\u5c5e\u4e8e\u4f18\u5316\u3001\u7ba1\u7406\u7ef4\u62a4\u3002","title":"5.\u8bbf\u95ee\u6d4b\u8bd5\u9875\u9762"},{"location":"Linux-learning/Ubuntu20-04%E5%AE%89%E8%A3%85LAMP%E5%92%8Cphpmyadmin/#6swap","text":"\u56e0\u672c\u670d\u52a1\u5668\u5185\u5b58\u8f83\u5c0f512M,\u6545\u589e\u5927\u865a\u62df\u5185\u5b58(SWAP)1G. free -m \u67e5\u770b\u73b0\u6709\u5185\u5b58\u5927\u5c0f cd /var/ #\u6b64\u5904\u7684count=1048576=1024*1024M,\u5982\u679c\u60f3\u589e\u5927SWAP\u5230512M,\u6b64\u5904count=524288 dd if=/dev/zero of =swapfile bs=1024 count=1048576 ##\u521b\u5efa\u6587\u4ef6/\u6fc0\u6d3b /sbin/mkswap swapfile /sbin/swapon swapfile ##\u6dfb\u52a0\u5230\u542f\u52a8\u9879 echo `/var/swapfile swap swap defaults 0 0` >>/etc/fstab ##\u91cd\u542f\u670d\u52a1\u5668\uff0c\u67e5\u770b\u5185\u5b58\u5df2\u7ecf\u751f\u6548\u3002","title":"6.\u6dfb\u52a0\u670d\u52a1\u5668swap\u7a7a\u95f4\uff08\u865a\u62df\u5185\u5b58\uff09"},{"location":"Linux-learning/Ubuntu20-04%E5%AE%89%E8%A3%85LAMP%E5%92%8Cphpmyadmin/#7mysql","text":"\u521b\u5efa\u7528\u6237root,\u5bc6\u7801\u4e3a \u4f60\u7684\u5bc6\u7801 mysql -u root -p CREATE USER 'root' @'localhost' INENTIFIED BY '\u4f60\u7684\u5bc6\u7801'; CREATE USER 'root' @'%' IDENTIFIED BY '\u4f60\u7684\u5bc6\u7801';","title":"7.mysql\u547d\u4ee4"},{"location":"Linux-learning/Ubuntu20-04%E5%AE%89%E8%A3%85LAMP%E5%92%8Cphpmyadmin/#8phpmyadmin","text":"sudo apt install phpmyadmin \u9009\u62e9\u670d\u52a1\u5668apache2,\u4e00\u76f4\u4e0b\u4e00\u6b65\u5373\u53ef\u3002\u6700\u540e\u4e00\u6b65\u662f\u914d\u7f6e\uff0cmysql\u767b\u5f55\u5bc6\u7801\u3002","title":"8.\u5b89\u88c5phpmyadmin"},{"location":"Linux-learning/Ubuntu20-04%E5%AE%89%E8%A3%85LAMP%E5%92%8Cphpmyadmin/#81-phpadmin","text":"\u8bbf\u95ee127.0.0.1/phpmyadmin/\u65e0\u6cd5\u6253\u5f00\u3002\u4fee\u590d\u65b9\u6cd5\uff1a echo `Include /etc/phpmyadmin/apache.conf` >>/etc/apache2/apache2.conf sudo systemctl restart apache2 #\u91cd\u542fApache2 \u4ee5\u4e0bmysql\u7684\u62a5\u9519\u89e3\u51b3\u65b9\u6848\uff0c\u90fd\u662f\u57fa\u4e8eMYSQL 8.0\u7248\u672c,\u7f51\u4e0a\u4e00\u5806\u7b54\u6848\u90fd\u662f5.6\u7248\u672c\u7684\uff0c\u4e0d\u540c\u7248\u672c\u7684\u547d\u4ee4\u4e0d\u4e00\u6837\u3002 \u6b64\u65f6\u53ef\u4ee5\u6b63\u5e38\u8bbf\u95ee\u7f51\u9875\u7684phpmyadmin,\u4f46\u662f\u65e0\u6cd5\u767b\u5f55\u3002\u767b\u5f55\u62a5\u9519\uff0c1698\u9519\u8bef\u3002","title":"8.1 \u767b\u5f55phpadmin\u9875\u9762"},{"location":"Linux-learning/Ubuntu20-04%E5%AE%89%E8%A3%85LAMP%E5%92%8Cphpmyadmin/#82-1698","text":"\u539f\u56e0\u662froot\u7528\u6237\u7684\u63d2\u4ef6\u548c\u9884\u671f\u7684\u4e0d\u4e00\u81f4\uff0c\u65b0\u5efa\u4e00\u4e2a\u7528\u6237\uff0c\u5e76\u8d4b\u4e88\u5b8c\u5168\u6743\u9650\u5373\u53ef\u3002 sudo mysql -u root mysql> create user chm@localhost identified by 'yourpassword'; grant all privileges on *.* to chm@localhost with grant option; \u5237\u65b0\u6743\u9650\u5e76\u9000\u51fa\uff1a flush privileges; exit;","title":"8.2 1698\u9519\u8bef\u4fee\u590d"},{"location":"Linux-learning/Ubuntu20-04%E5%AE%89%E8%A3%85LAMP%E5%92%8Cphpmyadmin/#83-mysql-1449-the-user-specified-as-a-definer-root-does-not-exist","text":"1449\u9519\u8bef\u90fd\u662f\u6ca1\u6709\u6743\u9650\uff0c\u6dfb\u52a0\u6743\u9650\uff0c\u5237\u65b0\u5373\u53ef mysql -u root -p CREATE USER 'root'@'%' IDENTIFIED BY '****\u5bc6\u7801****'; GRANT ALL ON *.* TO 'root'@'%'; ALTER USER 'root'@'%' IDENTIFIED WITH mysql_native_password BY '****\u5bc6\u7801****'; use mysql; flush privileges; select host, user from user; \u67e5\u770b\u7528\u6237\u662f\u5426\u540c\u65f6\u6709%\u548clocal,\u7f3a\u5c11\u67d0\u4e00\u4e2a\u90fd\u4f1a\u62a5\u95191449.","title":"8.3 mysql 1449 \uff1a The user specified as a definer ('root'@'%') does not exist \u89e3\u51b3\u65b9\u6cd5"},{"location":"Linux-learning/YAML%E8%AF%AD%E8%A8%80/","text":"YAML\u7ecf\u5e38\u88ab\u7528\u4e8e\u7f16\u5199\u914d\u7f6e\u6587\u4ef6\u3002 \u8d8a\u6765\u8d8a\u591a\u7684\u5de5\u5177\u4f7f\u7528YAML\u8bed\u8a00\u4f5c\u4e3a\u914d\u7f6e\u6587\u4ef6\u8bed\u8a00\u3002 YAML\u683c\u5f0f\u53c2\u8003 YAML\u8bed\u8a00\u8bed\u6cd5 \u89c4\u5219\uff1a \u5927\u5c0f\u5199\u654f\u611f \u4f7f\u7528\u7f29\u8fdb\u8868\u793a\u5c42\u7ea7\u5173\u7cfb \u7f29\u8fdb\u4e0d\u5141\u8bb8\u4f7f\u7528Tab\u952e\uff0c\u53ea\u5141\u8bb8\u4f7f\u7528\u7a7a\u683c \u7f29\u8fdb\u7684\u7a7a\u683c\u6570\u76ee\u4e0d\u91cd\u8981\uff0c\u53ea\u9700\u8981\u76f8\u540c\u5c42\u7ea7\u7684\u5143\u7d20\u5de6\u4fa7\u5bf9\u9f50\u5373\u53ef \u6570\u636e\u7ed3\u6784\uff1a \u5bf9\u8c61\uff1a\u952e\u503c\u5bf9\u7684\u96c6\u5408 \u6570\u7ec4\uff1a\u4e00\u7ec4\u6309\u6b21\u5e8f\u6392\u5217\u7684\u503c \u7eaf\u91cf\uff1a\u5355\u4e2a\u4e0d\u53ef\u518d\u5206\u7684\u503c \u5bf9\u8c61\uff1a name:zhang san info:{age:14,value:bad} \u6570\u7ec4\uff1a -zhang san -li si -wang wang \u5b57\u7b26\u4e32\uff1a str: \u8fd9\u662f\u5b57\u7b26\u4e32 s1:'\u6d4b\u8bd5\\n\u5b57\u7b26\u4e32' s2:\"\u6d4b\u8bd5\\n\u5b57\u7b26\u4e32\" \u5355\u5f15\u53f7\u548c\u53cc\u5f15\u53f7\u7684\u533a\u522b\u662f\uff0c\u5355\u5f15\u53f7\u4f1a\u5bf9\u7279\u6b8a\u5b57\u7b26\u8fdb\u884c\u8f6c\u4e49 \u590d\u5408\u7ed3\u6784\uff1a lab: -Zhang -Li -Zang website: java:java.org python:python.com C#:c+++.cpm.com","title":"YAML\u8bed\u8a00"},{"location":"Linux-learning/githubs-%E9%95%9C%E5%83%8F%E7%AB%99%E7%82%B9fastgit%EF%BC%8C%E6%8F%90%E5%8D%87%E8%AE%BF%E9%97%AE%E9%80%9F%E5%BA%A6/","text":"\u5f53\u4e0b\u8f7dgithubs\u7684\u6570\u636e\u91cf\u8f83\u5927\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528\u955c\u50cf\u7ad9\u52a0\u901f\u3002 fastgit \u955c\u50cf\u52a0\u901f \u6b63\u5e38\u7684git clone git clone https://github.com/chaimol/bio_code.git \u4f7f\u7528\u955c\u50cf\u52a0\u901f\u7684git clone git clone https://hub.fastgit.org/chaimol/bio_code.git \u8bbf\u95ee hub.fastgit.org \u8fd9\u4e2a\u955c\u50cf\u7ad9\u70b9\u66ff\u4ee3\u539f\u6765\u7684githubs. githubs\u65b0\u5efa\u4ed3\u5e93\u548c\u672c\u5730\u4ed3\u5e93\u5173\u8054 github\u7aef\uff08\u9ed8\u8ba4\u4f60\u5df2\u7ecf\u6709\u522b\u7684\u4ed3\u5e93\uff0c\u5e76\u4e14\u672c\u5730\u5df2\u7ecf\u90e8\u7f72\u79c1\u94a5\u5230github\u4e86\uff09 \u65b0\u5efa\u4ed3\u5e93new repository\uff0c\u586b\u5199\u540e,\u9009\u62e9LISCENSE\uff0c\u4f1a\u81ea\u52a8\u751f\u6210readme\u548cLISCENSE\u6587\u4ef6\u3002 \u70b9\u51fb code \u6309\u94ae\uff0c\u9009\u62e9ssh,\u4f1a\u6709\u4e00\u4e2a\u8fdc\u7a0b\u4ed3\u5e93\u5730\u5740 git@github.com:<username>/<repository name>.git \u672c\u5730\u7535\u8111 \u9009\u62e9\u5408\u9002\u7684\u76ee\u5f55\u65b0\u5efa\u4e00\u4e2a\u6587\u4ef6\u5939\uff0c\u5efa\u8bae\u548c\u8fdc\u7a0b\u4ed3\u5e93\u7684\u540d\u5b57\u4e00\u6837\u3002 \u628a\u9700\u8981\u63d0\u4ea4\u7684\u6587\u4ef6\u90fd\u590d\u5236\u4e00\u4efd\u5230\u8fd9\u4e2a\u6587\u4ef6\u5939\u3002 \u4f7f\u7528git\u8fdb\u5165\u8fd9\u4e2a\u6587\u4ef6\u5939\u3002 1.\u9996\u5148\u5728\u9879\u76ee\u76ee\u5f55\u4e0b\u521d\u59cb\u5316\u672c\u5730\u4ed3\u5e93 git init 2.\u6dfb\u52a0\u6240\u6709\u6587\u4ef6( . \u8868\u793a\u6240\u6709) git add . 3.\u63d0\u4ea4\u6240\u6709\u672c\u5730\u6587\u4ef6\u5230\u672c\u5730\u4ed3\u5e93 git commit -m \"\u5907\u6ce8\" 4.\u8fde\u63a5\u5230\u8fdc\u7a0b\u4ed3\u5e93\uff08\u6b64\u5904\u7684 \u662f\u4f60\u7684\u7528\u6237\u540d\uff0c \u662f\u4f60\u7684\u4ed3\u5e93\u7684\u540d\u79f0\uff09 git remote add origin git@github.com:<username>/<repository name>.git 5.\u5c06\u9879\u76ee\u63a8\u9001\u5230\u8fdc\u7a0b\u4ed3\u5e93 git push -u origin master \u7b2c\u4e94\u6b65\u51fa\u9519\uff0c $ git push origin master error: src refspec master does not match any error: failed to push some refs to 'github.com:XXX/XXX.git' \u4e34\u65f6\u7684\u89e3\u51b3\u529e\u6cd5\u662f\uff1a git push origin HEAD:master \u66ff\u4ee3\u4e0a\u9762\u7684\u547d\u4ee4\u53ef\u4ee5\u89e3\u51b3\u3002","title":"Githubs \u955c\u50cf\u7ad9\u70b9fastgit\uff0c\u63d0\u5347\u8bbf\u95ee\u901f\u5ea6"},{"location":"Linux-learning/githubs-%E9%95%9C%E5%83%8F%E7%AB%99%E7%82%B9fastgit%EF%BC%8C%E6%8F%90%E5%8D%87%E8%AE%BF%E9%97%AE%E9%80%9F%E5%BA%A6/#git-clone","text":"git clone https://github.com/chaimol/bio_code.git","title":"\u6b63\u5e38\u7684git clone"},{"location":"Linux-learning/githubs-%E9%95%9C%E5%83%8F%E7%AB%99%E7%82%B9fastgit%EF%BC%8C%E6%8F%90%E5%8D%87%E8%AE%BF%E9%97%AE%E9%80%9F%E5%BA%A6/#git-clone_1","text":"git clone https://hub.fastgit.org/chaimol/bio_code.git \u8bbf\u95ee hub.fastgit.org \u8fd9\u4e2a\u955c\u50cf\u7ad9\u70b9\u66ff\u4ee3\u539f\u6765\u7684githubs.","title":"\u4f7f\u7528\u955c\u50cf\u52a0\u901f\u7684git clone"},{"location":"Linux-learning/githubs-%E9%95%9C%E5%83%8F%E7%AB%99%E7%82%B9fastgit%EF%BC%8C%E6%8F%90%E5%8D%87%E8%AE%BF%E9%97%AE%E9%80%9F%E5%BA%A6/#githubs","text":"","title":"githubs\u65b0\u5efa\u4ed3\u5e93\u548c\u672c\u5730\u4ed3\u5e93\u5173\u8054"},{"location":"Linux-learning/githubs-%E9%95%9C%E5%83%8F%E7%AB%99%E7%82%B9fastgit%EF%BC%8C%E6%8F%90%E5%8D%87%E8%AE%BF%E9%97%AE%E9%80%9F%E5%BA%A6/#githubgithub","text":"\u65b0\u5efa\u4ed3\u5e93new repository\uff0c\u586b\u5199\u540e,\u9009\u62e9LISCENSE\uff0c\u4f1a\u81ea\u52a8\u751f\u6210readme\u548cLISCENSE\u6587\u4ef6\u3002 \u70b9\u51fb code \u6309\u94ae\uff0c\u9009\u62e9ssh,\u4f1a\u6709\u4e00\u4e2a\u8fdc\u7a0b\u4ed3\u5e93\u5730\u5740 git@github.com:<username>/<repository name>.git","title":"github\u7aef\uff08\u9ed8\u8ba4\u4f60\u5df2\u7ecf\u6709\u522b\u7684\u4ed3\u5e93\uff0c\u5e76\u4e14\u672c\u5730\u5df2\u7ecf\u90e8\u7f72\u79c1\u94a5\u5230github\u4e86\uff09"},{"location":"Linux-learning/githubs-%E9%95%9C%E5%83%8F%E7%AB%99%E7%82%B9fastgit%EF%BC%8C%E6%8F%90%E5%8D%87%E8%AE%BF%E9%97%AE%E9%80%9F%E5%BA%A6/#_1","text":"\u9009\u62e9\u5408\u9002\u7684\u76ee\u5f55\u65b0\u5efa\u4e00\u4e2a\u6587\u4ef6\u5939\uff0c\u5efa\u8bae\u548c\u8fdc\u7a0b\u4ed3\u5e93\u7684\u540d\u5b57\u4e00\u6837\u3002 \u628a\u9700\u8981\u63d0\u4ea4\u7684\u6587\u4ef6\u90fd\u590d\u5236\u4e00\u4efd\u5230\u8fd9\u4e2a\u6587\u4ef6\u5939\u3002 \u4f7f\u7528git\u8fdb\u5165\u8fd9\u4e2a\u6587\u4ef6\u5939\u3002 1.\u9996\u5148\u5728\u9879\u76ee\u76ee\u5f55\u4e0b\u521d\u59cb\u5316\u672c\u5730\u4ed3\u5e93 git init 2.\u6dfb\u52a0\u6240\u6709\u6587\u4ef6( . \u8868\u793a\u6240\u6709) git add . 3.\u63d0\u4ea4\u6240\u6709\u672c\u5730\u6587\u4ef6\u5230\u672c\u5730\u4ed3\u5e93 git commit -m \"\u5907\u6ce8\" 4.\u8fde\u63a5\u5230\u8fdc\u7a0b\u4ed3\u5e93\uff08\u6b64\u5904\u7684 \u662f\u4f60\u7684\u7528\u6237\u540d\uff0c \u662f\u4f60\u7684\u4ed3\u5e93\u7684\u540d\u79f0\uff09 git remote add origin git@github.com:<username>/<repository name>.git 5.\u5c06\u9879\u76ee\u63a8\u9001\u5230\u8fdc\u7a0b\u4ed3\u5e93 git push -u origin master \u7b2c\u4e94\u6b65\u51fa\u9519\uff0c $ git push origin master error: src refspec master does not match any error: failed to push some refs to 'github.com:XXX/XXX.git' \u4e34\u65f6\u7684\u89e3\u51b3\u529e\u6cd5\u662f\uff1a git push origin HEAD:master \u66ff\u4ee3\u4e0a\u9762\u7684\u547d\u4ee4\u53ef\u4ee5\u89e3\u51b3\u3002","title":"\u672c\u5730\u7535\u8111"},{"location":"Linux-learning/github%E7%9B%B8%E5%85%B3%E5%91%BD%E4%BB%A4/","text":"\u5173\u4e8e\u89e3\u51b3github\u672c\u5730\u4ed3\u5e93\u65e0\u6cd5push\u5230\u8fdc\u7a0b\u4ed3\u5e93\u7684\u95ee\u9898 \u89e3\u51b3\u65b9\u6848 \u3002 \u4e3b\u8981\u662f\u672c\u673a\u7684\u516c\u5171key\u672a\u4e0a\u4f20\u5230\u8fdc\u7a0b\u4ed3\u5e93\u3002 \\$ git config --global user.name chaim \\$ git config --global user.email chaim@163.com $ git help config //\u6253\u5f00git\u5e2e\u52a9\u6587\u6863 password\uff1a * * \u5728\u81ea\u5df1\u7684github\u4e0a\u65b0\u5efaresponsibility \u5b8c\u6210\u540d\u5b57\u540e\uff08\u4f8b\u5982\uff1achaim.github.com\uff09 \u540e\u7eed\u53ef\u4ee5\u901a\u8fc7https://chaim.github.io \u8bbf\u95ee\u81ea\u5df1\u7684\u7ad9\u70b9 mkdir myblog cd myblog git init \u521d\u59cb\u5316\u5b8c\u6210 \u5728myblog\u6587\u4ef6\u5939\u91cc\uff0c\u5b8c\u6210\u7f51\u7ad9\u6587\u4ef6\u7684\u90e8\u7f72\uff0c\u9996\u9875\u4e3aindex.html \u63a8\u9001\u5230git\u672c\u5730\u4ed3\u5e93 git add \u4f60\u672c\u76ee\u5f55\u6240\u6709\u6587\u4ef6 git commit -m \"\u63a8\u9001\u63cf\u8ff0\" \u5173\u8054\u5230\u8fdc\u7a0b\u4ed3\u5e93 git remote add origin git@github.com:chaimol/chaim.github.com \u63a8\u9001\u5230\u8fdc\u7a0b\u4ed3\u5e93\uff08\u5982\u679c\u521b\u5efa\u7248\u672c\u5e93\u65f6\uff0c\u52fe\u9009\u4e86\u521b\u5efareadme\uff0c\u7528\u7b2c\u4e8c\u4e2a\uff0c\u4f1a\u5f3a\u5236\u66ff\u6362\u6389\u8fdc\u7a0b\u4ed3\u5e93\u7684\u5185\u5bb9\u3002 \u7b2c\u4e00\u4e2a\u662f\u6ca1\u521b\u5efareadme\u65f6\u4f7f\u7528\uff09 git push -u origin master git push origin master -f \u5982\u679c\u60f3\u7ed1\u5b9a\u81ea\u5df1\u7684\u57df\u540d \u5728\u6839\u76ee\u5f55\u521b\u5efaCNAME\u6587\u4ef6 \uff0c\u6ca1\u6709\u6587\u4ef6\u540e\u7f00\u540d\u3002\u6587\u4ef6\u5185\u5bb9\u662f\u4f60\u8d2d\u4e70\u7684\u57df\u540d chaim.com \u5230\u57df\u540d\u4f9b\u5e94\u5546\u90a3\u91cc\u66f4\u6539\u57df\u540d\u89e3\u6790 //\u5df2\u914d\u7f6e\u7684git\u5e38\u7528\u547d\u4ee4 git co checkout git br branch git st status //\u67e5\u770b\u4ed3\u5e93\u72b6\u6001 git ci commit git lol log --oneline git add \u8981\u6dfb\u52a0\u7684\u6587\u4ef6 //\u628a\u6587\u4ef6\u4ece\u5de5\u4f5c\u533a\u4e0a\u4f20\u5230\u6682\u5b58\u533a \uff08\u4e00\u6b21\u53ea\u80fd\u4e0a\u4f20\u4e00\u4e2a\u6587\u4ef6\uff09 git commit -m \"\u6539\u52a8\u6587\u4ef6\u7684\u63cf\u8ff0\" //\u628a\u6682\u5b58\u533a\u6587\u4ef6\u63d0\u4ea4\u5230\u63a7\u5236\u5206\u533a git push origin master //\u6587\u4ef6\u63a8\u9001\u5230git\u4ed3\u5e93 git log //\u547d\u4ee4\u663e\u793a\u4ece\u6700\u8fd1\u5230\u6700\u8fdc\u7684\u63d0\u4ea4\u65e5\u5fd7 git checkout -b \u65b0\u7684\u5206\u652f\u7684\u540d\u5b57\uff08\u4f8b\u5982\uff1afeature\uff09 //\u521b\u5efa\u65b0\u7684\u5206\u652f\uff0c\u5e76\u8f6c\u5230\u8be5\u5206\u652f git checkout \u5206\u652f\u540d //\uff08\u5207\u6362\u5230\u67d0\u5206\u652f\uff0c\u5e38\u7528\u7684\u7ebf\u4e0a\u5206\u652f\u662fmaster\uff0c\u6d4b\u8bd5\u5206\u652f\u662fdev,\u4e2a\u4eba\u5206\u652f\u662fchaim\uff09","title":"Github\u76f8\u5173\u547d\u4ee4"},{"location":"Linux-learning/linux--%E7%A2%B1%E5%9F%BA%E5%BA%8F%E5%88%97%E5%A4%84%E7%90%86/","text":"\u4ece\u57fa\u56e0\u6ce8\u91ca\u6587\u4ef6\u63d0\u53d6\u57fa\u56e0\u4fe1\u606f Zea_mays.B73_RefGen_v4.42.gtf gtf\u683c\u5f0f\u7684\u6ce8\u91ca\u6587\u4ef6 \u63d0\u53d6\u6240\u6709\u57fa\u56e0\u7684\u4f4d\u7f6e\u4fe1\u606f cat Zea_mays.B73_RefGen_v4.42.gtf|awk -F \"\\t\" '{if($3~/gene/)print $1\",\"$4\",\"$5\",\"$9}' >B73-V442.position.txt \u63d0\u53d6\u5236\u5b9a\u67d3\u8272\u4f53\u7684\u6240\u6709\u57fa\u56e0\u7684\u4f4d\u7f6e\u4fe1\u606f \u63d0\u53d6chr5 cat Zea_mays.B73_RefGen_v4.42.gtf|awk -F \"\\t\" '{if($3~/gene/&&$1~/5/)print $1\",\"$4\",\"$5\",\"$9}' >B73-V442.Chr5.csv \u63d0\u53d6chr3,chr5 cat Zea_mays.B73_RefGen_v4.42.gtf|awk -F \"\\t\" '{if($3~/gene/&&$1~/^[3,5]/)print $1\",\"$4\",\"$5\",\"$9}' \u63d0\u53d6\u6307\u5b9a\u67d3\u8272\u4f53\u6307\u5b9a\u533a\u95f4\u7684\u6240\u6709\u57fa\u56e0 \u6307\u5b9a\u7b2c3\u6761\u67d3\u8272\u4f53\uff0c\u533a\u95f4\u5de6\u4fa7\u662f100450260\uff0c\u533a\u95f4\u53f3\u4fa7\u662f112424507\u7684\u6240\u6709\u7684\u57fa\u56e0\u548c\u5176\u4f4d\u7f6e\u4fe1\u606f cat Zea_mays.B73_RefGen_v4.42.gtf|awk -F \"\\t\" '{if($3~/gene/&&$1~/3/&&$4>100450260&&$5<112424507)print $1\",\"$4\",\"$5\",\"$9}'","title":"Linux  \u78b1\u57fa\u5e8f\u5217\u5904\u7406"},{"location":"Linux-learning/linux-shell%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5/","text":"\u751f\u6210\u8fde\u7eed\u7684\u81ea\u7136\u6570 seq 1 20 #\u8f93\u51fa\u662f1\uff0c2\u2026\u202620\uff0c\u5206\u9694\u7b26\u662f\u6362\u884c\u7b26 seq -s \",\" 1 20 #\u8f93\u51fa\u662f 1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20 \u5206\u5272\u7b26\u662f , seq -s \" \" -w 1 13 #\u8f93\u51fa\u662f 01 02 03 04 05 06 07 08 09 10 11 12 13 \u8fd9\u662f\u5bbd\u683c\u5f0f\u6570\u5b57\uff0c\u5206\u9694\u7b26\u662f\u7a7a\u683c seq -w 1 20 #\u8f93\u51fa01\uff0c02\uff0c\u2026\u202620 \u9ed8\u8ba4\u5206\u5272\u7b26\u662f\u6362\u884c\u7b26\uff0c\u8f93\u51fa\u7684\u6570\u5b57\u524d\u9762\u662f\u67090\u7684\uff0c\u7528\u4e8e\u5bbd\u683c\u5f0f\u3002 \u67e5\u627e\u6307\u5b9a\u5927\u5c0f\u7684\u6587\u4ef6\u6216\u6587\u4ef6\u5939 find . -name \"*\" -type f -size 0c | xargs -n 1 rm -rf #\u5220\u9664\u5927\u5c0f\u4e3a0\u7684\u6587\u4ef6\u5939 find . -name \"*\" -size 0c | xargs -n 1 rm -rf #\u5220\u9664\u5927\u5c0f\u4e3a0\u7684\u6587\u4ef6\u548c\u6587\u4ef6\u5939 find . -name \"*\" -type f -size +10G | xargs -n 1 rm -rf #\u627e\u5230\u5927\u4e8e10G\u7684\u6587\u4ef6,\u5e76\u5220\u9664\u3002 find . -name \"*.fpkm |xargs -i {} cp /tmp/fpkm/\" #\u590d\u5236\u4ee5.fpkm\u7ed3\u5c3e\u7684\u6587\u4ef6\u5230\u65b0\u7684\u76ee\u5f55/temp/fpkm\u76ee\u5f55\u91cc\u3002 sed\u4f7f\u7528shell\u53d8\u91cf sed \"s/${filename}/${filename}.new/g\" #\u4f7f\u7528shell\u53d8\u91cf\u7684\u65f6\u5019,\u9700\u8981\u4f7f\u7528\u53cc\u5f15\u53f7\u3002 \u884c\u5c3e\u6dfb\u52a0\u5b57\u7b26 TAIL sed 's/$/&TAIL/g' \u884c\u9996\u6dfb\u52a0\u5b57\u7b26 HEAD sed 's/^/HEAD/g' \u884c\u9996\u548c\u884c\u5c3e\u540c\u65f6\u6dfb\u52a0 sed 's/^/START/;s/$/END/g' \u5339\u914d\u5b57\u7b26\u4e32\u884c\u9996\u6dfb\u52a0\u5176\u4ed6\u5b57\u7b26\u4e32 sed -i \"/gene/ s/^/g\\*/\" file.txt #file.txt\u6587\u4ef6\u4e2d\u5305\u542b gene \u7684\u884c\uff0c\u884c\u9996\u6dfb\u52a0\u4e0a g* \u5b57\u7b26\u4e32\uff0c\u8fd9\u662f\u76f4\u63a5\u4fee\u6539\u6e90\u6587\u4ef6\u3002 \u5339\u914d\u5947\u6570\u884c\u6216\u5076\u6570\u884c cat 1.txt|sed -n '1~2p' #\u83b7\u53d6\u5947\u6570\u884c cat 1.txt|sed -n '2~2p' #\u83b7\u53d6\u5076\u6570\u884c \u5339\u914d\u5355\u5f15\u53f7(\u4f7f\u7528\u5355\u5f15\u53f7\u5305\u62ec \\ \u6765\u8f6c\u4e49 ' ) sed 's/^>/sed -i '\\''s\\//g;' cds.fa #\u66ff\u6362\u7684\u5b57\u7b26\u4e2d\u6709\u5355\u5f15\u53f7 \u5e8f\u5217\u5927\u5c0f\u5199\u8f6c\u6362 sed '/^[a-z]/s/[a-z]/\\u&/g' novel.fa #\u8f6c\u6362fasta\u7684\u5e8f\u5217\u4ece\u5c0f\u5199\u53d8\u4e3a\u5927\u5199\u5b57\u6bcd sed '/^[A-Z]/s/[A-Z]/\\l&/g' novel.fa #\u8f6c\u6362\u5927\u5199\u4e3a\u5c0f\u5199\u5b57\u6bcd sed\u5339\u914d\u6307\u5b9a\u5b57\u7b26\u4e4b\u95f4\u7684\u5185\u5bb9 cat kegg1.txt |sed 's/\\[.*\\]//g' >kegg_des #\u5339\u914d [] \u4e2d\u62ec\u53f7\u5305\u542b\u7684\u5185\u5bb9\uff0c\u5220\u9664\u4e2d\u62ec\u53f7\u548c\u5176\u4e2d\u7684\u5b57\u7b26\u3002 cat kegg1.txt |sed 's/\\(.*\\)//g' >kegg_des #\u5339\u914d () \u5c0f\u62ec\u53f7\u5305\u542b\u7684\u5185\u5bb9\uff0c\u5220\u9664\u5c0f\u62ec\u53f7\u548c\u5176\u4e2d\u7684\u5b57\u7b26\u3002 cat genome.fa|sed 's/CM[0-9]\\{2,6\\}//g;s/, whole genome shotgun sequence//g;' >genome.new.fa #\u5339\u914dCM\u540e\u9762\u662f0-9\u7684\u6570\u5b57\u4e2d2-6\u4f4d\u6570\u5b57\uff0c\u540e\u4e00\u4e2a\u662f\u66ff\u6362\u6307\u5b9a\u5b57\u7b26\u4e32 , whole genome shotgun sequence cat genome.fa|sed 's/CM[0-9]\\{6\\}//g;' >genome.new.fa #\u5339\u914dCM\u540e\u9762\u662f0-9\u7684\u6570\u5b57\u4e2d6\u4f4d\u6570\u5b57 \u83b7\u53d6\u5339\u914d\u884c\u548c\u524d\u540e\u884c grep -A 1 INT LTR.fa #\u83b7\u53d6\u5305\u542bINT\u7684\u884c\u548c\u540e\u4e00\u884c\uff08after\uff09 grep -B 1 INT LTR.fa #\u83b7\u53d6\u5305\u542bINT\u7684\u884c\u548c\u524d\u4e00\u884c\uff08before\uff09 grep -C 4 INT LTR.fa #\u83b7\u53d6\u5305\u542bINT\u7684\u884c\u548c\u524d\u540e\u54044\u884c\uff08context\uff09 \u53bb\u9664\u91cd\u590d\u884c sort -u file1 \u548c cat file1|sort|uniq \u7684\u4f5c\u7528\u90fd\u662f\u53bb\u9664\u91cd\u590d\u884c\uff0c\u6ce8\u610f\uff1auniq\u4f7f\u7528\u524d\uff0c\u9700\u8981sort uniq -c file1 \u663e\u793a\u8be5\u884c\u51fa\u73b0\u7684\u6b21\u6570 uniq -u file1 \u4ec5\u663e\u793a\u51fa\u73b0\u4e00\u6b21\u7684\u884c\u5217 uniq -d file1 \u4ec5\u663e\u793a\u91cd\u590d\u51fa\u73b0\u7684\u884c \u5220\u9664\u7a7a\u767d\u884c cat 1.txt|tr -s '\\n' \u8981\u6c42\u6587\u4ef6\u683c\u5f0f\u662funix\u683c\u5f0f\u3002 awk if else\u5224\u65ad awk '{if($4<$5)print $1,$2,$3,$4,$5,$6,\"+\",$8,$9;else print $1,$2,$3,$5,$4,$6,\"-\",$8,$9}' InGenome.gff3|tr \" \" \"\\t\" >genome.gff3 \u67e5\u770bgff\u6587\u4ef6\u7b2c9\u5217\u6709\u54ea\u4e9b\u5b57\u6bb5 awk 'BEGIN{FS=OFS=\"\\t\"} $3==\"gene\"{split($9, a, \";\"); for(i in a){split(a[i], b, \"=\"); if(++c[b[1]]==1) print b[1]}}' GCF_000001405.33_GRCh38.p7_genomic.gff awk\u4f7f\u7528shell\u91cc\u9762\u7684\u53d8\u91cf \u6ce8\u610f\uff1aawk\u4f7f\u7528shell\u53d8\u91cf\u7684\u65f6\u5019,\u524d\u9762\u7528 -v \u53d8\u91cf\u540d=\u503c \u58f0\u660e\u53d8\u91cf\u7684\u8d4b\u503c\uff0c\u540e\u9762\u4f7f\u7528\u7684\u65f6\u5019\u76f4\u63a5\u4f7f\u7528\uff0c\u4e0d\u9700\u8981\u518d\u4f7f\u7528 $ \uff0cawk\u91cc\u9762\u666e\u901a\u5b57\u7b26\u4e32\u9700\u8981\u4f7f\u7528 \"\u5b57\u7b26\u4e32\" \uff0c\u53d8\u91cf\u4e0d\u80fd\u88ab\u53cc\u5f15\u53f7\u5305\u62ec\u3002 ``` abbr=$inputfile awk -v abbr=\"${abbr}\" '{print $1\"_\"abbr}' genome.id #awk\u8f93\u51fa\u6307\u5b9a\u5217\u5230\u6700\u540e\u4e00\u5217 \u5206\u5272\u7b26\u53f7\u662ftab `awk -F \"\\t\" '{for (i=2;i<=NF;i++)printf(\"%s\\t\", $i);print \"\"}' file` \u5206\u5272\u7b26\u53f7\u662f\u7a7a\u683c `awk -F \" \" '{for (i=2;i<=NF;i++)printf(\"%s \", $i);print \"\"}' file` ##awk\u91cc\u53ef\u4ee5\u8fdb\u884c\u5404\u79cd\u7b97\u6570\u8fd0\u7b97[awk\u6df1\u5165\u5b66\u4e60](https://www.cnblogs.com/xiaotengyi/articles/6429698.html) `awk '$3==\"gene\"{print $1,$4,$5,$5-$4}' test.bed` #\u7b2c5\u5217\u51cf\u53bb\u7b2c4\u5217\u7684\u503c `awk '$3==\"gene\"{print $1,$4,$5,log($5)/log(10)}' test.bed` #\u7b2c5\u5217\u53d6\u4ee510\u4e3a\u5e95\u7684\u5bf9\u6570 `cat counts_num.bed| awk '{s[$1\"\\t\"$2\"\\t\"$3\"\\t\"] += $4}END{ for(i in s){ print i, s[i] } }'` #\u8ba1\u7b97\u51fa\u7b2c1-3\u5217\u884c\u5185\u5bb9\u4e00\u81f4\u7684\u7b2c4\u5217\u5bf9\u5e94\u7684\u884c\u7684\u548c\u3002 ` awk '$3==\"gene\"{sum+= $5-$4+1}END{print sum}' Spo.gff3` #\u8ba1\u7b97\u6240\u6709\u57fa\u56e0\u7684\u603b\u957f\u5ea6 `cat Sp.genome.gff3|awk '$3==\"gene\"{split($9,a,\"=\");print a[2]}'` #\u7b2c\u4e09\u5217\u662fgene\uff0c\u5206\u5272\u7b2c9\u5217\uff0c\u6253\u5370\u51fa\u5206\u5272\u540e\u7684\u7b2c\u4e8c\u4e2a\u5b57\u7b26\u3002 `paste -d \"\\t\" <(cat Sp.genome.gff3|awk '$3==\"gene\"{split($9,a,\"=\");print a[2]}') <(cat Sp.genome.gff3|awk '$3==\"gene\"{print $1\"\\t\"$4\"\\t\"$5}') >sp.genes `#\u63d0\u53d6\u4e00\u4e2a\u57fa\u56e0\u7ec4\u7684\u6240\u6709\u57fa\u56e0\u548c\u4f4d\u7f6e\u4fe1\u606f `cat counts_num.bed| awk '{s[$1\"\\t\"$2\"\\t\"$3\"\\t\"] += $4;b[$1\"\\t\"$2\"\\t\"$3\"\\t\"] += 1}END{ for(i in s){ print i, s[i],b[i] } }'|awk '{print $1\"\\t\"$2\"\\t\"$3\"\\t\"log($4/$5)/log(10)}' `#\u63d0\u53d6\u7b2c1-3\u5217\u76f8\u540c\u7684\u884c\u5728\u7b2c4\u5217\u7684\u503c\u7684\u548c/\u5bf9\u5e94\u7684\u884c\u6570(\u5373\u5747\u503c)\uff0c\u7136\u540e\u518d\u53d6\u4ee510\u4e3a\u5e95\u7684\u5bf9\u6570\u3002\u5176\u5b9e$5\u5c31\u662f\u57fa\u56e0\u5bc6\u5ea6\u3002 ### \u8f93\u51fa\u7b2c\u4e00\u5217\u4e2d\u5b57\u7b26\u957f\u5ea6\u5927\u4e8e15\u7684\u884c awk 'length($1)>15' ### \u884c\u5217\u8f6c\u7f6e `awk 'BEGIN{c=0;} {for(i=1;i<=NF;i++) {num[c,i] = $i;} c++;} END{ for(i=1;i<=NF;i++){str=\"\"; for(j=0;j<NR;j++){ if(j>0){str = str\" \"} str= str\"\"num[j,i]}printf(\"%s\\n\", str)} }' file` #awk\u91cd\u547d\u540dfasta\u6587\u4ef6 `awk 'FNR==NR{a[\">\"$1]=$2;next} $1 in a{ sub(/>/,\">\"a[$1]\" \",$1)}1' name.list protein.fa` name.list\u9700\u8981\u6709\u4e24\u5217\uff0c\u7b2c\u4e00\u5217\u662f\u539f\u6765\u7684ID,\u7b2c\u4e8c\u5217\u662f\u65b0\u7684ID.protein.fa\u662f\u9700\u8981\u91cd\u547d\u540d\u7684fasta\u6587\u4ef6 #\u6309\u884c\u5408\u5e76\u6587\u4ef6 `cat file1 file2 >file0` #\u6309\u5217\u5408\u5e76\u6587\u4ef6 `paste file1 file2 >file0` #\u6307\u5b9a\u5206\u9694\u7b26\uff0c\u6309\u5217\u5408\u5e76\u6587\u4ef6 `paste -d \"\\t\" file1 file2 >file0` #cut\u83b7\u53d6\u6307\u5b9a\u5217 `cut -f 2-8 file1` \u83b7\u53d6\u4ee5tab\u5206\u5272\u7684\u7b2c2\u52308\u5217 `cut -d, -f 1-3 3.csv` \u83b7\u53d6\u4ee5`,`\u5206\u5272\u7684csv\u6587\u4ef6\u7684\u7b2c1\u52303\u5217\u3002 #sed\u8f93\u51fa\u6587\u4ef6\u6307\u5b9a\u884c `sed -n '3,101p' 3.csv` \u83b7\u53d6\u7b2c3\u5230101\u884c\u3002 `cat 3.csv|sed '1,5d'` \u8f93\u51fa\u5220\u96641-5\u884c\u540e\u7684\u5185\u5bb9\u3002 `cat 3.csv|sed -e '3,$d'`\u5220\u9664\u7b2c3\u5230\u6700\u540e1\u884c `cat 3.csv|sed '2,5c No 2-5 number'` \u66ff\u6362\u7b2c2-5\u884c\u7684\u5185\u5bb9\u4e3a`No 2-5 number` `cat 3.csv|sed '1c\\test'` \u66ff\u6362\u7b2c1\u884c\u7684\u5185\u5bb9\u4e3atest `cat 3.csv|sed '1a\\test1'` \u5728\u7b2c1\u884c\u4e0b\u4e00\u884c\u63d2\u5165\u65b0\u7684\u4e00\u884c\u5185\u5bb9\u662f`test1` `cat 3.csv|sed '1,3a\\test1'`\u5728\u7b2c1-3\u884c\u6bcf\u884c\u4e4b\u540e\u63d2\u5165\u65b0\u4e00\u884c `cat 3.csv|sed '1i/test1'` \u5728\u7b2c1\u884c\u4e0a\u4e00\u884c\u63d2\u5165\u65b0\u7684\u4e00\u884c\u5185\u5bb9\u662f`test1` `cat 3.csv | sed -e '/motif/d' `\u5220\u9664\u5305\u542b\u5b57\u7b26\u4e32\u2019motif\u2018\u7684\u884c\u3002 `sed '1~2 s/aaa/bbb/' filename` \u4fee\u6539\u5947\u6570\u884c\u7684\u5185\u5bb9 `sed '2~2 s/aaa/bbb/' filename` \u4fee\u6539\u5076\u6570\u884c\u7684\u5185\u5bb9 `sed '3~5 s/aaa/bbb/' filename` \u4fee\u6539\u7b2c3\u884c\u7684\u5185\u5bb9\uff0c\u95f4\u96945\u884c\u7684\u7b2c3\u884c\uff0c\u53733,8,13\uff0c18\u2026\u2026\u884c\u3002\uff08\u7b49\u5dee\u6570\u5217\uff09 #\u5408\u5e76\u4e24\u4e2a\u6587\u4ef6(\u5408\u5e76\u4e4b\u524d\uff0c\u5148\u7528sort\u6392\u5e8f) `join plant.tab 2.tab -t $'\\t' >test.tab` \u6307\u5b9a\u8f93\u51fa\u5206\u9694\u7b26\u4e3atab `sort -k2 cdd.xls >cdd.xls.sort`\u6839\u636e\u7b2c2\u5217\u8fdb\u884c\u6392\u5e8f `sort -k1 cddid.tbl >cddid.sort`\u6839\u636e\u7b2c1\u5217\u8fdb\u884c\u6392\u5e8f `join -a 1 -1 2 -2 1 cdd.xls.sort cddid.sort -t $'\\t' >cdd.final.xls ` \u5339\u914d\u7b2c1\u4e2a\u6587\u4ef6\u7684\u7b2c2\u5217\uff08`-1 2`\uff09\u548c\u7b2c2\u4e2a\u6587\u4ef6\u7684\u7b2c1\u5217(`-2 1`)\u4e00\u81f4\u7684\u884c,\u540c\u65f6\u8f93\u51fa\u7b2c1\u4e2a\u6587\u4ef6\u4e2d\u672a\u5339\u914d\u7684\u884c`-a 1`,\u4f7f\u7528tab\u4f5c\u4e3a\u5206\u5272\u7b26`$'\\t'` `join -o 1.1 2.3 cdd.xls.sort cddid.sort -t $'\\t' >cdd` \u8f93\u51fa\u5339\u914d\u7684\u7b2c\u4e00\u4e2a\u6587\u4ef6\u7684\u7b2c\u4e00\u5217`-o 1.1`\u548c\u7b2c\u4e8c\u4e2a\u6587\u4ef6\u7684\u7b2c3\u5217` 2.3` #\u5339\u914d\u4e24\u4e2a\u6587\u4ef6 `grep -f file1 file2` #\u5339\u914dfile1\u548cfile2\u4e2d\u5305\u542b\u76f8\u540c\u5185\u5bb9\u7684\u884c\uff0c\u8f93\u51fafile2\u4e2d\u8fd9\u4e9b\u884c\u7684\u5185\u5bb9\u3002 `grep -v -f file1 file2` #\u5339\u914dfile1\u548cfile2\u4e2d\u4e0d\u540c\u5185\u5bb9\u7684\u884c\uff0c\u8f93\u51fafile2\u4e2d\u8fd9\u4e9b\u884c\u7684\u5185\u5bb9\u3002 \u6bd4\u8f83\u4e24\u4e2a\u6587\u4ef6\u7684\u4e0d\u540c `comm -1 file1 file2` \u6587\u4ef6\u9700\u8981\u5148sort\uff0c\u6309\u5217\u8f93\u51fa\u4e0d\u540c\u3002\u53c2\u6570\uff1a-123 `-1`\u8868\u793a\u4e0d\u663e\u793a\u53ea\u5728file1\u4e2d\u51fa\u73b0\u7684\u5217\uff0c`-2`\u4e0d\u663e\u793a\u53ea\u5728file2\u4e2d\u51fa\u73b0\u7684\u5217\uff0c`-3`\u4e0d\u663e\u793afile1\u548cfile2\u5171\u6709\u7684\u5217\u3002 `comm -3 file1 file2 '`\u6587\u4ef6\u9700\u8981\u5148sort\uff0c\u8f93\u51fa\u7684\u662f\u6587\u4ef61\u548c2\u5171\u6709\u7684\u5217\uff0c\u4f46\u662f\u662f\u5206\u5e03\u5728\u4e24\u5217\uff0c\u9700\u8981\u7528sed\u66ff\u6362tab\u3002 `diff log2013.log log2014.log -y -W 50` \u6309\u884c\u8f93\u51fa\u4e24\u4e2a\u6587\u4ef6\u7684\u4e0d\u540c\uff0c-y\u662f\u4ee5\u5e76\u5217\u7684\u65b9\u5f0f\u663e\u793a\u6587\u4ef6\u7684\u5f02\u540c\u4e4b\u5904 -W 50\u662f\u6307\u5b9a\u680f\u5bbd\u3002 #\u68c0\u6d4b\u6570\u636e\u683c\u5f0f(\u68c0\u6d4b\u5b57\u6bb5\u6570\u662f\u5426\u4e00\u81f4) (datamash\u9700\u8981\u5355\u72ec\u5b89\u88c5) `datamash check <test.tab` #\u6587\u4ef6\u538b\u7f29\u548c\u89e3\u538b\u7f29pigz pigz\u652f\u6301\u591a\u7ebf\u7a0b\uff0c\u901f\u5ea6\u6bd4gzip,bzip2\u5feb\u7684\u591a\u3002 \u538b\u7f29 `pigz -k -9 -p 48 sample.bam > bam.tar.gz` -k\u662f\u4fdd\u7559\u6e90\u6587\u4ef6 -9\u662f\u6307\u5b9a\u538b\u7f29\u6bd4\u4f8b\uff0c-11\u662f\u6700\u5927\u538b\u7f29\u6bd4\u4f8b\uff0c-0\u662f\u6700\u5c0f\u538b\u7f29\u6bd4\u7387\u3002 -p \u6307\u5b9a\u7ebf\u7a0b\u6570\u91cf \u6253\u5305\u538b\u7f29 `tar cvf - \u76ee\u5f55\u540d | pigz -k -9 -p 48 > bam.tar.gz` \u89e3\u538b\u7f29`unpigz -p 48 bam.tar.gz` #\u591a\u7ebf\u7a0b\uff08\u5927\u6570\u636e\u91cf\u7684\u65f6\u5019\uff0c\u80fd\u5927\u5927\u52a0\u5feb\u901f\u5ea6\uff09 \u5b89\u88c5Parallel\uff0c\u542f\u7528\u591a\u7ebf\u7a0b\u3002[\u53c2\u8003](https://www.jianshu.com/p/d5d7a256b6b9) [\u7528\u6cd5](https://www.oschina.net/news/45477/use-cpu-cores-linux-commands) wget https://ftp.gnu.org/gnu/parallel/parallel-20190122.tar.bz2 tar jxvf parallel-20190122.tar.bz2 cd parallel-20190122 ./configure -prefix=~/software/ make -j 8 make install parallel\u652f\u6301\u6807\u51c6\u8f93\u51fa\u8fd0\u884c\u548c\u547d\u4ee4\u8c03\u7528\u8fd0\u884c\u3002 `cat jobs2run` jobs2run\u662f\u8981\u8fd0\u884c\u7684\u547d\u4ee4\u811a\u672c bzip2 oldstuff.tar oggenc music.flac opusenc ambiance.wav convert bigfile.tiff small.jpeg ffmepg -i foo.avi -v:b 12000k foo.mp4 xsltproc --output build/tmp.fo style/dm.xsl src/tmp.xml bzip2 archive.tar `` \u591a\u7ebf\u7a0b\u65b9\u5f0f1\uff1a parallel --jobs 6 < jobs2run \u591a\u7ebf\u7a0b\u65b9\u5f0f2\uff1a bzip\u539f\u59cb cat bigfile.bin | bzip2 --best > compressedfile.bz2 bzip\u4f7f\u7528\u591a\u7ebf\u7a0b cat bigfile.bin | parallel --pipe --recend '' -k bzip2 --best > compressedfile.bz2 grep\u539f\u59cb grep pattern bigfile.txt grep\u591a\u7ebf\u7a0b cat bigfile.txt | parallel --block 1M --pipe grep 'pattern' 1M\u662f\u6307\u6bcf\u4e2acpu\u8fd0\u884c\u7684100\u4e07\u884c\u3002\u4f1a\u628a\u4efb\u52a1\u6309\u7167\u8fd9\u4e2a\u503c\uff0c\u5206\u914d\u7ed9\u5404\u4e2acpu. awk\u539f\u59cb cat rands20M.txt | awk '{s+=$1} END {print s}' awk\u591a\u7ebf\u7a0b cat rands20M.txt | parallel --pipe awk \\'{s+=\\$1} END {print s}\\' | awk '{s+=$1} END {print s}' wc\u539f\u59cb wc -l bigfile.txt wc\u591a\u7ebf\u7a0b cat bigfile.txt | parallel --pipe wc -l | awk '{s+=$1} END {print s}' sed\u539f\u59cb sed s^old^new^g bigfile.txt sed\u591a\u7ebf\u7a0b cat bigfile.txt | parallel --pipe sed s^old^new^g` \u901f\u5ea6\u5bf9\u6bd4 grep>awk>sed,cut sed\u548ccut\u901f\u5ea6\u6bd4\u8f83\u6162\u3002grep -f \u4e5f\u6bd4\u8f83\u6162\u3002sed\u4e0d\u652f\u6301\u591a\u7ebf\u7a0b\uff0csed\u662f\u6309\u884c\u64cd\u4f5c\uff0c\u591a\u7ebf\u7a0b\u4f1a\u51fa\u95ee\u9898\u3002 \u591a\u884cfasta\u8f6c\u5355\u884c cat test.fa | tr '\\n' '\\t' |sed 's/\\t>/\\n>/g'|sed 's/\\t/\\n/'|sed 's/\\t//g'|sed '$s/$/$\\n/' \u5148\u66ff\u6362\\n\u4e3a\\t.\u7136\u540e\u628a\\t>\u8fd9\u4e2a\u662f\u5934\u90e8\u8f6c\u56de\\n>,\u6ce8\u610f\u7b2c\u4e8c\u6b21sed\u662f\u53ea\u66ff\u6362\u4e00\u6b21\uff0c\u5c31\u628a\u6bcf\u884c\u7b2c\u4e00\u4e2a\\t\u6362\u6210\\n,\u7136\u540e\u628a\u5168\u5c40\u7684\\t\u5220\u9664\u3002\u7b2c4\u4e2ased\u662f\u5728\u6587\u4ef6\u672b\u5c3e\u6dfb\u52a0\u4e0a\u6362\u884c\u7b26\uff08\u591a\u6b21\u4f7f\u7528sed,\u901f\u5ea6\u6162\uff09 awk '/^>/&&NR>1{print \"\"}{printf \"%s\",/^>/?$0\"\\n\":$0}END{print \"\"}' test.fa awk\u901f\u5ea6\u6bd4\u8f83\u5feb \u547d\u4ee4\u8bb2\u89e3 \uff1a /^>/&&NR>1 \u5339\u914d > \u5f00\u5934\u4e14\u884c\u53f7\u5927\u4e8e1\u7684\u8f93\u51fa\u6362\u884c\u7b26 /^>/?$0\"\\n\":$0 \u662f\u5224\u65ad\u662f\u5426 > \u5f00\u5934\uff0c\u662f\u8f93\u51fa\u672c\u884c\u548c\u6362\u884c\uff0c\u5426\uff0c\u5219\u8f93\u51fa\u672c\u884c\u3002\u518d\u7528printf\u6253\u5370\u51fa\u6765\uff0c\u4f46\u662f\u8fd9\u6837\u8f93\u51fa\u7684\u6bcf\u4e2a\u5e8f\u5217\u7684\u672b\u5c3e\u6ca1\u6709\u6362\u884c\u7b26\u3002\u6240\u4ee5\u624d\u6709\u524d\u4e00\u4e2a\u5224\u65ad\u53ea\u8981\u4e0d\u662f\u7b2c\u4e00\u884c > ,\u90fd\u5148\u8f93\u51fa\u4e00\u4e2a\u6362\u884c\u7b26\u3002 END{print \"\"} \u662f\u5728\u6587\u6863\u6700\u540e\u8f93\u51fa\u4e00\u4e2a\u6362\u884c\u3002 \u66f4\u591a\u751f\u7269\u4fe1\u606f\u5b66\u7684one liner https://github.com/stephenturner/oneliners#etc \u6587\u672c\u884c\u6570\u8d85\u8fc73\u4e07\u884c\uff0clinux\u8bb8\u591a\u547d\u4ee4\u4f1a\u62a5\u9519 Argument list too long \u3002 \u89e3\u51b3\u65b9\u6848\uff0c\u4f7f\u7528 find \u548c xargs \u53c2\u8003\u5730\u5740 \u3002 find ./result_dir -name \"*.kaks\" |xargs cat |cut -f 1,3,4,5 | grep -v 'Sequence' >All_kaks.txt find ./result_dir -name \"*.axt.one-line\"|while read id;do calculate_4DTV_correction.pl $id >${id%%one-line}4dtv;done \u8ba1\u7b974DTv\u3002 \u591a\u8fdb\u7a0b\u5e76\u884c\u8fd0\u884c nohup parallel -j 8 < 2.sh & \u4e00\u6b21\u8fd0\u884c\u811a\u672c2.sh\u91cc\u76848\u884c\u547d\u4ee4\u30022.sh\u91cc\u662f\u6709n\u884c\u9700\u8981\u5e76\u884c\u6267\u884c\u7684\u7a0b\u5e8f\u3002 \u5feb\u901f\u5220\u9664\u7a7a\u884c\u7684\u901f\u5ea6\u5bf9\u6bd4 genome.fa\u6587\u4ef6\u5927\u5c0f\u662f4G. |\u8fd0\u884c\u547d\u4ee4|\u65f6\u95f4| |---|---| |time grep -v '^$' genome.fa >genome.grep.fa|13.45s| |time sed '/^$/d' genome.fa >genome.sed.fa |19.565s| |time tr -s \"n\" genome.fa >genome.tr.fa |>3min| |time awk '/./ {print}' genome.fa >genome.awk.fa |21.971s| |time sed -i '/^$/d' genome.fa|18.693s|","title":"Linux shell\u5e38\u7528\u547d\u4ee4\u901f\u67e5"},{"location":"Linux-learning/linux-shell%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5/#_1","text":"seq 1 20 #\u8f93\u51fa\u662f1\uff0c2\u2026\u202620\uff0c\u5206\u9694\u7b26\u662f\u6362\u884c\u7b26 seq -s \",\" 1 20 #\u8f93\u51fa\u662f 1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20 \u5206\u5272\u7b26\u662f , seq -s \" \" -w 1 13 #\u8f93\u51fa\u662f 01 02 03 04 05 06 07 08 09 10 11 12 13 \u8fd9\u662f\u5bbd\u683c\u5f0f\u6570\u5b57\uff0c\u5206\u9694\u7b26\u662f\u7a7a\u683c seq -w 1 20 #\u8f93\u51fa01\uff0c02\uff0c\u2026\u202620 \u9ed8\u8ba4\u5206\u5272\u7b26\u662f\u6362\u884c\u7b26\uff0c\u8f93\u51fa\u7684\u6570\u5b57\u524d\u9762\u662f\u67090\u7684\uff0c\u7528\u4e8e\u5bbd\u683c\u5f0f\u3002","title":"\u751f\u6210\u8fde\u7eed\u7684\u81ea\u7136\u6570"},{"location":"Linux-learning/linux-shell%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5/#_2","text":"find . -name \"*\" -type f -size 0c | xargs -n 1 rm -rf #\u5220\u9664\u5927\u5c0f\u4e3a0\u7684\u6587\u4ef6\u5939 find . -name \"*\" -size 0c | xargs -n 1 rm -rf #\u5220\u9664\u5927\u5c0f\u4e3a0\u7684\u6587\u4ef6\u548c\u6587\u4ef6\u5939 find . -name \"*\" -type f -size +10G | xargs -n 1 rm -rf #\u627e\u5230\u5927\u4e8e10G\u7684\u6587\u4ef6,\u5e76\u5220\u9664\u3002 find . -name \"*.fpkm |xargs -i {} cp /tmp/fpkm/\" #\u590d\u5236\u4ee5.fpkm\u7ed3\u5c3e\u7684\u6587\u4ef6\u5230\u65b0\u7684\u76ee\u5f55/temp/fpkm\u76ee\u5f55\u91cc\u3002","title":"\u67e5\u627e\u6307\u5b9a\u5927\u5c0f\u7684\u6587\u4ef6\u6216\u6587\u4ef6\u5939"},{"location":"Linux-learning/linux-shell%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5/#sedshell","text":"sed \"s/${filename}/${filename}.new/g\" #\u4f7f\u7528shell\u53d8\u91cf\u7684\u65f6\u5019,\u9700\u8981\u4f7f\u7528\u53cc\u5f15\u53f7\u3002","title":"sed\u4f7f\u7528shell\u53d8\u91cf"},{"location":"Linux-learning/linux-shell%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5/#tail","text":"sed 's/$/&TAIL/g'","title":"\u884c\u5c3e\u6dfb\u52a0\u5b57\u7b26TAIL"},{"location":"Linux-learning/linux-shell%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5/#head","text":"sed 's/^/HEAD/g'","title":"\u884c\u9996\u6dfb\u52a0\u5b57\u7b26HEAD"},{"location":"Linux-learning/linux-shell%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5/#_3","text":"sed 's/^/START/;s/$/END/g'","title":"\u884c\u9996\u548c\u884c\u5c3e\u540c\u65f6\u6dfb\u52a0"},{"location":"Linux-learning/linux-shell%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5/#_4","text":"sed -i \"/gene/ s/^/g\\*/\" file.txt #file.txt\u6587\u4ef6\u4e2d\u5305\u542b gene \u7684\u884c\uff0c\u884c\u9996\u6dfb\u52a0\u4e0a g* \u5b57\u7b26\u4e32\uff0c\u8fd9\u662f\u76f4\u63a5\u4fee\u6539\u6e90\u6587\u4ef6\u3002","title":"\u5339\u914d\u5b57\u7b26\u4e32\u884c\u9996\u6dfb\u52a0\u5176\u4ed6\u5b57\u7b26\u4e32"},{"location":"Linux-learning/linux-shell%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5/#_5","text":"cat 1.txt|sed -n '1~2p' #\u83b7\u53d6\u5947\u6570\u884c cat 1.txt|sed -n '2~2p' #\u83b7\u53d6\u5076\u6570\u884c","title":"\u5339\u914d\u5947\u6570\u884c\u6216\u5076\u6570\u884c"},{"location":"Linux-learning/linux-shell%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5/#_6","text":"sed 's/^>/sed -i '\\''s\\//g;' cds.fa #\u66ff\u6362\u7684\u5b57\u7b26\u4e2d\u6709\u5355\u5f15\u53f7","title":"\u5339\u914d\u5355\u5f15\u53f7(\u4f7f\u7528\u5355\u5f15\u53f7\u5305\u62ec\\\u6765\u8f6c\u4e49')"},{"location":"Linux-learning/linux-shell%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5/#_7","text":"sed '/^[a-z]/s/[a-z]/\\u&/g' novel.fa #\u8f6c\u6362fasta\u7684\u5e8f\u5217\u4ece\u5c0f\u5199\u53d8\u4e3a\u5927\u5199\u5b57\u6bcd sed '/^[A-Z]/s/[A-Z]/\\l&/g' novel.fa #\u8f6c\u6362\u5927\u5199\u4e3a\u5c0f\u5199\u5b57\u6bcd","title":"\u5e8f\u5217\u5927\u5c0f\u5199\u8f6c\u6362"},{"location":"Linux-learning/linux-shell%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5/#sed","text":"cat kegg1.txt |sed 's/\\[.*\\]//g' >kegg_des #\u5339\u914d [] \u4e2d\u62ec\u53f7\u5305\u542b\u7684\u5185\u5bb9\uff0c\u5220\u9664\u4e2d\u62ec\u53f7\u548c\u5176\u4e2d\u7684\u5b57\u7b26\u3002 cat kegg1.txt |sed 's/\\(.*\\)//g' >kegg_des #\u5339\u914d () \u5c0f\u62ec\u53f7\u5305\u542b\u7684\u5185\u5bb9\uff0c\u5220\u9664\u5c0f\u62ec\u53f7\u548c\u5176\u4e2d\u7684\u5b57\u7b26\u3002 cat genome.fa|sed 's/CM[0-9]\\{2,6\\}//g;s/, whole genome shotgun sequence//g;' >genome.new.fa #\u5339\u914dCM\u540e\u9762\u662f0-9\u7684\u6570\u5b57\u4e2d2-6\u4f4d\u6570\u5b57\uff0c\u540e\u4e00\u4e2a\u662f\u66ff\u6362\u6307\u5b9a\u5b57\u7b26\u4e32 , whole genome shotgun sequence cat genome.fa|sed 's/CM[0-9]\\{6\\}//g;' >genome.new.fa #\u5339\u914dCM\u540e\u9762\u662f0-9\u7684\u6570\u5b57\u4e2d6\u4f4d\u6570\u5b57","title":"sed\u5339\u914d\u6307\u5b9a\u5b57\u7b26\u4e4b\u95f4\u7684\u5185\u5bb9"},{"location":"Linux-learning/linux-shell%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5/#_8","text":"grep -A 1 INT LTR.fa #\u83b7\u53d6\u5305\u542bINT\u7684\u884c\u548c\u540e\u4e00\u884c\uff08after\uff09 grep -B 1 INT LTR.fa #\u83b7\u53d6\u5305\u542bINT\u7684\u884c\u548c\u524d\u4e00\u884c\uff08before\uff09 grep -C 4 INT LTR.fa #\u83b7\u53d6\u5305\u542bINT\u7684\u884c\u548c\u524d\u540e\u54044\u884c\uff08context\uff09","title":"\u83b7\u53d6\u5339\u914d\u884c\u548c\u524d\u540e\u884c"},{"location":"Linux-learning/linux-shell%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5/#_9","text":"sort -u file1 \u548c cat file1|sort|uniq \u7684\u4f5c\u7528\u90fd\u662f\u53bb\u9664\u91cd\u590d\u884c\uff0c\u6ce8\u610f\uff1auniq\u4f7f\u7528\u524d\uff0c\u9700\u8981sort uniq -c file1 \u663e\u793a\u8be5\u884c\u51fa\u73b0\u7684\u6b21\u6570 uniq -u file1 \u4ec5\u663e\u793a\u51fa\u73b0\u4e00\u6b21\u7684\u884c\u5217 uniq -d file1 \u4ec5\u663e\u793a\u91cd\u590d\u51fa\u73b0\u7684\u884c","title":"\u53bb\u9664\u91cd\u590d\u884c"},{"location":"Linux-learning/linux-shell%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5/#_10","text":"cat 1.txt|tr -s '\\n' \u8981\u6c42\u6587\u4ef6\u683c\u5f0f\u662funix\u683c\u5f0f\u3002","title":"\u5220\u9664\u7a7a\u767d\u884c"},{"location":"Linux-learning/linux-shell%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5/#awk-if-else","text":"awk '{if($4<$5)print $1,$2,$3,$4,$5,$6,\"+\",$8,$9;else print $1,$2,$3,$5,$4,$6,\"-\",$8,$9}' InGenome.gff3|tr \" \" \"\\t\" >genome.gff3","title":"awk if else\u5224\u65ad"},{"location":"Linux-learning/linux-shell%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5/#gff9","text":"awk 'BEGIN{FS=OFS=\"\\t\"} $3==\"gene\"{split($9, a, \";\"); for(i in a){split(a[i], b, \"=\"); if(++c[b[1]]==1) print b[1]}}' GCF_000001405.33_GRCh38.p7_genomic.gff","title":"\u67e5\u770bgff\u6587\u4ef6\u7b2c9\u5217\u6709\u54ea\u4e9b\u5b57\u6bb5"},{"location":"Linux-learning/linux-shell%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5/#awkshell","text":"\u6ce8\u610f\uff1aawk\u4f7f\u7528shell\u53d8\u91cf\u7684\u65f6\u5019,\u524d\u9762\u7528 -v \u53d8\u91cf\u540d=\u503c \u58f0\u660e\u53d8\u91cf\u7684\u8d4b\u503c\uff0c\u540e\u9762\u4f7f\u7528\u7684\u65f6\u5019\u76f4\u63a5\u4f7f\u7528\uff0c\u4e0d\u9700\u8981\u518d\u4f7f\u7528 $ \uff0cawk\u91cc\u9762\u666e\u901a\u5b57\u7b26\u4e32\u9700\u8981\u4f7f\u7528 \"\u5b57\u7b26\u4e32\" \uff0c\u53d8\u91cf\u4e0d\u80fd\u88ab\u53cc\u5f15\u53f7\u5305\u62ec\u3002 ``` abbr=$inputfile awk -v abbr=\"${abbr}\" '{print $1\"_\"abbr}' genome.id #awk\u8f93\u51fa\u6307\u5b9a\u5217\u5230\u6700\u540e\u4e00\u5217 \u5206\u5272\u7b26\u53f7\u662ftab `awk -F \"\\t\" '{for (i=2;i<=NF;i++)printf(\"%s\\t\", $i);print \"\"}' file` \u5206\u5272\u7b26\u53f7\u662f\u7a7a\u683c `awk -F \" \" '{for (i=2;i<=NF;i++)printf(\"%s \", $i);print \"\"}' file` ##awk\u91cc\u53ef\u4ee5\u8fdb\u884c\u5404\u79cd\u7b97\u6570\u8fd0\u7b97[awk\u6df1\u5165\u5b66\u4e60](https://www.cnblogs.com/xiaotengyi/articles/6429698.html) `awk '$3==\"gene\"{print $1,$4,$5,$5-$4}' test.bed` #\u7b2c5\u5217\u51cf\u53bb\u7b2c4\u5217\u7684\u503c `awk '$3==\"gene\"{print $1,$4,$5,log($5)/log(10)}' test.bed` #\u7b2c5\u5217\u53d6\u4ee510\u4e3a\u5e95\u7684\u5bf9\u6570 `cat counts_num.bed| awk '{s[$1\"\\t\"$2\"\\t\"$3\"\\t\"] += $4}END{ for(i in s){ print i, s[i] } }'` #\u8ba1\u7b97\u51fa\u7b2c1-3\u5217\u884c\u5185\u5bb9\u4e00\u81f4\u7684\u7b2c4\u5217\u5bf9\u5e94\u7684\u884c\u7684\u548c\u3002 ` awk '$3==\"gene\"{sum+= $5-$4+1}END{print sum}' Spo.gff3` #\u8ba1\u7b97\u6240\u6709\u57fa\u56e0\u7684\u603b\u957f\u5ea6 `cat Sp.genome.gff3|awk '$3==\"gene\"{split($9,a,\"=\");print a[2]}'` #\u7b2c\u4e09\u5217\u662fgene\uff0c\u5206\u5272\u7b2c9\u5217\uff0c\u6253\u5370\u51fa\u5206\u5272\u540e\u7684\u7b2c\u4e8c\u4e2a\u5b57\u7b26\u3002 `paste -d \"\\t\" <(cat Sp.genome.gff3|awk '$3==\"gene\"{split($9,a,\"=\");print a[2]}') <(cat Sp.genome.gff3|awk '$3==\"gene\"{print $1\"\\t\"$4\"\\t\"$5}') >sp.genes `#\u63d0\u53d6\u4e00\u4e2a\u57fa\u56e0\u7ec4\u7684\u6240\u6709\u57fa\u56e0\u548c\u4f4d\u7f6e\u4fe1\u606f `cat counts_num.bed| awk '{s[$1\"\\t\"$2\"\\t\"$3\"\\t\"] += $4;b[$1\"\\t\"$2\"\\t\"$3\"\\t\"] += 1}END{ for(i in s){ print i, s[i],b[i] } }'|awk '{print $1\"\\t\"$2\"\\t\"$3\"\\t\"log($4/$5)/log(10)}' `#\u63d0\u53d6\u7b2c1-3\u5217\u76f8\u540c\u7684\u884c\u5728\u7b2c4\u5217\u7684\u503c\u7684\u548c/\u5bf9\u5e94\u7684\u884c\u6570(\u5373\u5747\u503c)\uff0c\u7136\u540e\u518d\u53d6\u4ee510\u4e3a\u5e95\u7684\u5bf9\u6570\u3002\u5176\u5b9e$5\u5c31\u662f\u57fa\u56e0\u5bc6\u5ea6\u3002 ### \u8f93\u51fa\u7b2c\u4e00\u5217\u4e2d\u5b57\u7b26\u957f\u5ea6\u5927\u4e8e15\u7684\u884c awk 'length($1)>15' ### \u884c\u5217\u8f6c\u7f6e `awk 'BEGIN{c=0;} {for(i=1;i<=NF;i++) {num[c,i] = $i;} c++;} END{ for(i=1;i<=NF;i++){str=\"\"; for(j=0;j<NR;j++){ if(j>0){str = str\" \"} str= str\"\"num[j,i]}printf(\"%s\\n\", str)} }' file` #awk\u91cd\u547d\u540dfasta\u6587\u4ef6 `awk 'FNR==NR{a[\">\"$1]=$2;next} $1 in a{ sub(/>/,\">\"a[$1]\" \",$1)}1' name.list protein.fa` name.list\u9700\u8981\u6709\u4e24\u5217\uff0c\u7b2c\u4e00\u5217\u662f\u539f\u6765\u7684ID,\u7b2c\u4e8c\u5217\u662f\u65b0\u7684ID.protein.fa\u662f\u9700\u8981\u91cd\u547d\u540d\u7684fasta\u6587\u4ef6 #\u6309\u884c\u5408\u5e76\u6587\u4ef6 `cat file1 file2 >file0` #\u6309\u5217\u5408\u5e76\u6587\u4ef6 `paste file1 file2 >file0` #\u6307\u5b9a\u5206\u9694\u7b26\uff0c\u6309\u5217\u5408\u5e76\u6587\u4ef6 `paste -d \"\\t\" file1 file2 >file0` #cut\u83b7\u53d6\u6307\u5b9a\u5217 `cut -f 2-8 file1` \u83b7\u53d6\u4ee5tab\u5206\u5272\u7684\u7b2c2\u52308\u5217 `cut -d, -f 1-3 3.csv` \u83b7\u53d6\u4ee5`,`\u5206\u5272\u7684csv\u6587\u4ef6\u7684\u7b2c1\u52303\u5217\u3002 #sed\u8f93\u51fa\u6587\u4ef6\u6307\u5b9a\u884c `sed -n '3,101p' 3.csv` \u83b7\u53d6\u7b2c3\u5230101\u884c\u3002 `cat 3.csv|sed '1,5d'` \u8f93\u51fa\u5220\u96641-5\u884c\u540e\u7684\u5185\u5bb9\u3002 `cat 3.csv|sed -e '3,$d'`\u5220\u9664\u7b2c3\u5230\u6700\u540e1\u884c `cat 3.csv|sed '2,5c No 2-5 number'` \u66ff\u6362\u7b2c2-5\u884c\u7684\u5185\u5bb9\u4e3a`No 2-5 number` `cat 3.csv|sed '1c\\test'` \u66ff\u6362\u7b2c1\u884c\u7684\u5185\u5bb9\u4e3atest `cat 3.csv|sed '1a\\test1'` \u5728\u7b2c1\u884c\u4e0b\u4e00\u884c\u63d2\u5165\u65b0\u7684\u4e00\u884c\u5185\u5bb9\u662f`test1` `cat 3.csv|sed '1,3a\\test1'`\u5728\u7b2c1-3\u884c\u6bcf\u884c\u4e4b\u540e\u63d2\u5165\u65b0\u4e00\u884c `cat 3.csv|sed '1i/test1'` \u5728\u7b2c1\u884c\u4e0a\u4e00\u884c\u63d2\u5165\u65b0\u7684\u4e00\u884c\u5185\u5bb9\u662f`test1` `cat 3.csv | sed -e '/motif/d' `\u5220\u9664\u5305\u542b\u5b57\u7b26\u4e32\u2019motif\u2018\u7684\u884c\u3002 `sed '1~2 s/aaa/bbb/' filename` \u4fee\u6539\u5947\u6570\u884c\u7684\u5185\u5bb9 `sed '2~2 s/aaa/bbb/' filename` \u4fee\u6539\u5076\u6570\u884c\u7684\u5185\u5bb9 `sed '3~5 s/aaa/bbb/' filename` \u4fee\u6539\u7b2c3\u884c\u7684\u5185\u5bb9\uff0c\u95f4\u96945\u884c\u7684\u7b2c3\u884c\uff0c\u53733,8,13\uff0c18\u2026\u2026\u884c\u3002\uff08\u7b49\u5dee\u6570\u5217\uff09 #\u5408\u5e76\u4e24\u4e2a\u6587\u4ef6(\u5408\u5e76\u4e4b\u524d\uff0c\u5148\u7528sort\u6392\u5e8f) `join plant.tab 2.tab -t $'\\t' >test.tab` \u6307\u5b9a\u8f93\u51fa\u5206\u9694\u7b26\u4e3atab `sort -k2 cdd.xls >cdd.xls.sort`\u6839\u636e\u7b2c2\u5217\u8fdb\u884c\u6392\u5e8f `sort -k1 cddid.tbl >cddid.sort`\u6839\u636e\u7b2c1\u5217\u8fdb\u884c\u6392\u5e8f `join -a 1 -1 2 -2 1 cdd.xls.sort cddid.sort -t $'\\t' >cdd.final.xls ` \u5339\u914d\u7b2c1\u4e2a\u6587\u4ef6\u7684\u7b2c2\u5217\uff08`-1 2`\uff09\u548c\u7b2c2\u4e2a\u6587\u4ef6\u7684\u7b2c1\u5217(`-2 1`)\u4e00\u81f4\u7684\u884c,\u540c\u65f6\u8f93\u51fa\u7b2c1\u4e2a\u6587\u4ef6\u4e2d\u672a\u5339\u914d\u7684\u884c`-a 1`,\u4f7f\u7528tab\u4f5c\u4e3a\u5206\u5272\u7b26`$'\\t'` `join -o 1.1 2.3 cdd.xls.sort cddid.sort -t $'\\t' >cdd` \u8f93\u51fa\u5339\u914d\u7684\u7b2c\u4e00\u4e2a\u6587\u4ef6\u7684\u7b2c\u4e00\u5217`-o 1.1`\u548c\u7b2c\u4e8c\u4e2a\u6587\u4ef6\u7684\u7b2c3\u5217` 2.3` #\u5339\u914d\u4e24\u4e2a\u6587\u4ef6 `grep -f file1 file2` #\u5339\u914dfile1\u548cfile2\u4e2d\u5305\u542b\u76f8\u540c\u5185\u5bb9\u7684\u884c\uff0c\u8f93\u51fafile2\u4e2d\u8fd9\u4e9b\u884c\u7684\u5185\u5bb9\u3002 `grep -v -f file1 file2` #\u5339\u914dfile1\u548cfile2\u4e2d\u4e0d\u540c\u5185\u5bb9\u7684\u884c\uff0c\u8f93\u51fafile2\u4e2d\u8fd9\u4e9b\u884c\u7684\u5185\u5bb9\u3002 \u6bd4\u8f83\u4e24\u4e2a\u6587\u4ef6\u7684\u4e0d\u540c `comm -1 file1 file2` \u6587\u4ef6\u9700\u8981\u5148sort\uff0c\u6309\u5217\u8f93\u51fa\u4e0d\u540c\u3002\u53c2\u6570\uff1a-123 `-1`\u8868\u793a\u4e0d\u663e\u793a\u53ea\u5728file1\u4e2d\u51fa\u73b0\u7684\u5217\uff0c`-2`\u4e0d\u663e\u793a\u53ea\u5728file2\u4e2d\u51fa\u73b0\u7684\u5217\uff0c`-3`\u4e0d\u663e\u793afile1\u548cfile2\u5171\u6709\u7684\u5217\u3002 `comm -3 file1 file2 '`\u6587\u4ef6\u9700\u8981\u5148sort\uff0c\u8f93\u51fa\u7684\u662f\u6587\u4ef61\u548c2\u5171\u6709\u7684\u5217\uff0c\u4f46\u662f\u662f\u5206\u5e03\u5728\u4e24\u5217\uff0c\u9700\u8981\u7528sed\u66ff\u6362tab\u3002 `diff log2013.log log2014.log -y -W 50` \u6309\u884c\u8f93\u51fa\u4e24\u4e2a\u6587\u4ef6\u7684\u4e0d\u540c\uff0c-y\u662f\u4ee5\u5e76\u5217\u7684\u65b9\u5f0f\u663e\u793a\u6587\u4ef6\u7684\u5f02\u540c\u4e4b\u5904 -W 50\u662f\u6307\u5b9a\u680f\u5bbd\u3002 #\u68c0\u6d4b\u6570\u636e\u683c\u5f0f(\u68c0\u6d4b\u5b57\u6bb5\u6570\u662f\u5426\u4e00\u81f4) (datamash\u9700\u8981\u5355\u72ec\u5b89\u88c5) `datamash check <test.tab` #\u6587\u4ef6\u538b\u7f29\u548c\u89e3\u538b\u7f29pigz pigz\u652f\u6301\u591a\u7ebf\u7a0b\uff0c\u901f\u5ea6\u6bd4gzip,bzip2\u5feb\u7684\u591a\u3002 \u538b\u7f29 `pigz -k -9 -p 48 sample.bam > bam.tar.gz` -k\u662f\u4fdd\u7559\u6e90\u6587\u4ef6 -9\u662f\u6307\u5b9a\u538b\u7f29\u6bd4\u4f8b\uff0c-11\u662f\u6700\u5927\u538b\u7f29\u6bd4\u4f8b\uff0c-0\u662f\u6700\u5c0f\u538b\u7f29\u6bd4\u7387\u3002 -p \u6307\u5b9a\u7ebf\u7a0b\u6570\u91cf \u6253\u5305\u538b\u7f29 `tar cvf - \u76ee\u5f55\u540d | pigz -k -9 -p 48 > bam.tar.gz` \u89e3\u538b\u7f29`unpigz -p 48 bam.tar.gz` #\u591a\u7ebf\u7a0b\uff08\u5927\u6570\u636e\u91cf\u7684\u65f6\u5019\uff0c\u80fd\u5927\u5927\u52a0\u5feb\u901f\u5ea6\uff09 \u5b89\u88c5Parallel\uff0c\u542f\u7528\u591a\u7ebf\u7a0b\u3002[\u53c2\u8003](https://www.jianshu.com/p/d5d7a256b6b9) [\u7528\u6cd5](https://www.oschina.net/news/45477/use-cpu-cores-linux-commands) wget https://ftp.gnu.org/gnu/parallel/parallel-20190122.tar.bz2 tar jxvf parallel-20190122.tar.bz2 cd parallel-20190122 ./configure -prefix=~/software/ make -j 8 make install parallel\u652f\u6301\u6807\u51c6\u8f93\u51fa\u8fd0\u884c\u548c\u547d\u4ee4\u8c03\u7528\u8fd0\u884c\u3002 `cat jobs2run` jobs2run\u662f\u8981\u8fd0\u884c\u7684\u547d\u4ee4\u811a\u672c bzip2 oldstuff.tar oggenc music.flac opusenc ambiance.wav convert bigfile.tiff small.jpeg ffmepg -i foo.avi -v:b 12000k foo.mp4 xsltproc --output build/tmp.fo style/dm.xsl src/tmp.xml bzip2 archive.tar `` \u591a\u7ebf\u7a0b\u65b9\u5f0f1\uff1a parallel --jobs 6 < jobs2run \u591a\u7ebf\u7a0b\u65b9\u5f0f2\uff1a bzip\u539f\u59cb cat bigfile.bin | bzip2 --best > compressedfile.bz2 bzip\u4f7f\u7528\u591a\u7ebf\u7a0b cat bigfile.bin | parallel --pipe --recend '' -k bzip2 --best > compressedfile.bz2 grep\u539f\u59cb grep pattern bigfile.txt grep\u591a\u7ebf\u7a0b cat bigfile.txt | parallel --block 1M --pipe grep 'pattern' 1M\u662f\u6307\u6bcf\u4e2acpu\u8fd0\u884c\u7684100\u4e07\u884c\u3002\u4f1a\u628a\u4efb\u52a1\u6309\u7167\u8fd9\u4e2a\u503c\uff0c\u5206\u914d\u7ed9\u5404\u4e2acpu. awk\u539f\u59cb cat rands20M.txt | awk '{s+=$1} END {print s}' awk\u591a\u7ebf\u7a0b cat rands20M.txt | parallel --pipe awk \\'{s+=\\$1} END {print s}\\' | awk '{s+=$1} END {print s}' wc\u539f\u59cb wc -l bigfile.txt wc\u591a\u7ebf\u7a0b cat bigfile.txt | parallel --pipe wc -l | awk '{s+=$1} END {print s}' sed\u539f\u59cb sed s^old^new^g bigfile.txt sed\u591a\u7ebf\u7a0b cat bigfile.txt | parallel --pipe sed s^old^new^g`","title":"awk\u4f7f\u7528shell\u91cc\u9762\u7684\u53d8\u91cf"},{"location":"Linux-learning/linux-shell%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5/#_11","text":"grep>awk>sed,cut sed\u548ccut\u901f\u5ea6\u6bd4\u8f83\u6162\u3002grep -f \u4e5f\u6bd4\u8f83\u6162\u3002sed\u4e0d\u652f\u6301\u591a\u7ebf\u7a0b\uff0csed\u662f\u6309\u884c\u64cd\u4f5c\uff0c\u591a\u7ebf\u7a0b\u4f1a\u51fa\u95ee\u9898\u3002","title":"\u901f\u5ea6\u5bf9\u6bd4"},{"location":"Linux-learning/linux-shell%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5/#fasta","text":"cat test.fa | tr '\\n' '\\t' |sed 's/\\t>/\\n>/g'|sed 's/\\t/\\n/'|sed 's/\\t//g'|sed '$s/$/$\\n/' \u5148\u66ff\u6362\\n\u4e3a\\t.\u7136\u540e\u628a\\t>\u8fd9\u4e2a\u662f\u5934\u90e8\u8f6c\u56de\\n>,\u6ce8\u610f\u7b2c\u4e8c\u6b21sed\u662f\u53ea\u66ff\u6362\u4e00\u6b21\uff0c\u5c31\u628a\u6bcf\u884c\u7b2c\u4e00\u4e2a\\t\u6362\u6210\\n,\u7136\u540e\u628a\u5168\u5c40\u7684\\t\u5220\u9664\u3002\u7b2c4\u4e2ased\u662f\u5728\u6587\u4ef6\u672b\u5c3e\u6dfb\u52a0\u4e0a\u6362\u884c\u7b26\uff08\u591a\u6b21\u4f7f\u7528sed,\u901f\u5ea6\u6162\uff09 awk '/^>/&&NR>1{print \"\"}{printf \"%s\",/^>/?$0\"\\n\":$0}END{print \"\"}' test.fa awk\u901f\u5ea6\u6bd4\u8f83\u5feb \u547d\u4ee4\u8bb2\u89e3 \uff1a /^>/&&NR>1 \u5339\u914d > \u5f00\u5934\u4e14\u884c\u53f7\u5927\u4e8e1\u7684\u8f93\u51fa\u6362\u884c\u7b26 /^>/?$0\"\\n\":$0 \u662f\u5224\u65ad\u662f\u5426 > \u5f00\u5934\uff0c\u662f\u8f93\u51fa\u672c\u884c\u548c\u6362\u884c\uff0c\u5426\uff0c\u5219\u8f93\u51fa\u672c\u884c\u3002\u518d\u7528printf\u6253\u5370\u51fa\u6765\uff0c\u4f46\u662f\u8fd9\u6837\u8f93\u51fa\u7684\u6bcf\u4e2a\u5e8f\u5217\u7684\u672b\u5c3e\u6ca1\u6709\u6362\u884c\u7b26\u3002\u6240\u4ee5\u624d\u6709\u524d\u4e00\u4e2a\u5224\u65ad\u53ea\u8981\u4e0d\u662f\u7b2c\u4e00\u884c > ,\u90fd\u5148\u8f93\u51fa\u4e00\u4e2a\u6362\u884c\u7b26\u3002 END{print \"\"} \u662f\u5728\u6587\u6863\u6700\u540e\u8f93\u51fa\u4e00\u4e2a\u6362\u884c\u3002 \u66f4\u591a\u751f\u7269\u4fe1\u606f\u5b66\u7684one liner https://github.com/stephenturner/oneliners#etc","title":"\u591a\u884cfasta\u8f6c\u5355\u884c"},{"location":"Linux-learning/linux-shell%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5/#3linuxargument-list-too-long","text":"\u89e3\u51b3\u65b9\u6848\uff0c\u4f7f\u7528 find \u548c xargs \u53c2\u8003\u5730\u5740 \u3002 find ./result_dir -name \"*.kaks\" |xargs cat |cut -f 1,3,4,5 | grep -v 'Sequence' >All_kaks.txt find ./result_dir -name \"*.axt.one-line\"|while read id;do calculate_4DTV_correction.pl $id >${id%%one-line}4dtv;done \u8ba1\u7b974DTv\u3002","title":"\u6587\u672c\u884c\u6570\u8d85\u8fc73\u4e07\u884c\uff0clinux\u8bb8\u591a\u547d\u4ee4\u4f1a\u62a5\u9519Argument list too long\u3002"},{"location":"Linux-learning/linux-shell%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5/#_12","text":"nohup parallel -j 8 < 2.sh & \u4e00\u6b21\u8fd0\u884c\u811a\u672c2.sh\u91cc\u76848\u884c\u547d\u4ee4\u30022.sh\u91cc\u662f\u6709n\u884c\u9700\u8981\u5e76\u884c\u6267\u884c\u7684\u7a0b\u5e8f\u3002","title":"\u591a\u8fdb\u7a0b\u5e76\u884c\u8fd0\u884c"},{"location":"Linux-learning/linux-shell%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5/#_13","text":"genome.fa\u6587\u4ef6\u5927\u5c0f\u662f4G. |\u8fd0\u884c\u547d\u4ee4|\u65f6\u95f4| |---|---| |time grep -v '^$' genome.fa >genome.grep.fa|13.45s| |time sed '/^$/d' genome.fa >genome.sed.fa |19.565s| |time tr -s \"n\" genome.fa >genome.tr.fa |>3min| |time awk '/./ {print}' genome.fa >genome.awk.fa |21.971s| |time sed -i '/^$/d' genome.fa|18.693s|","title":"\u5feb\u901f\u5220\u9664\u7a7a\u884c\u7684\u901f\u5ea6\u5bf9\u6bd4"},{"location":"Linux-learning/linux-%E9%9D%9Eroot%E7%94%A8%E6%88%B7%E4%B9%8B%E9%97%B4%E4%BC%A0%E9%80%92%E6%96%87%E4%BB%B6/","text":"\u540c\u4e00\u4e2a\u670d\u52a1\u5668\u4e24\u4e2a\u975eroot\u7528\u6237\u4e4b\u95f4\u4f20\u9012\u6587\u4ef6\u7684\u65b9\u6cd5\uff1a 1.\u590d\u5236\u5230\u4e2d\u95f4\u6587\u4ef6\u5939/tmp \u7528\u6237A \u590d\u5236\u6587\u4ef6\u5230/tmp\uff0c\u7528\u6237B\u518d\u4ece/tmp\u628a\u6587\u4ef6\u590d\u5236\u5230\uff0c\u81ea\u5df1\u7684\u76ee\u5f55\u3002 2. \u5f53\u505a\u4e0d\u540c\u7684\u670d\u52a1\u5668\u4f7f\u7528scp\u4f20\u8f93 \u7528\u6237A\u4f20\u8f93\u6587\u4ef6\u5230chaim\u7528\u6237\u7684~/ scp -r ref chaim@localhost:~/cotton","title":"Linux \u975eroot\u7528\u6237\u4e4b\u95f4\u4f20\u9012\u6587\u4ef6"},{"location":"Linux-learning/linux%E4%B8%8B%E8%AE%BF%E9%97%AE%E7%BD%91%E7%AB%99%E5%B7%A5%E5%85%B7http%E5%92%8Cftp%EF%BC%8Cscp%E5%92%8Cssh/","text":"w3m(\u672c\u673a\u5b89\u88c5\u7684\u662fw3m) lynx(\u670d\u52a1\u5668\u5b89\u88c5\u7684\u662flynx) \u4f7f\u7528\u65b9\u6cd5\uff1a w3m www.baidu.com lynx www.baidu.com linux\u8bbf\u95eeftp\u5730\u5740ftp://ftp.ncbi.nlm.nih.gov/refseq/release/plant/ ftp ftp.ncbi.nlm.nih.gov anonymous cd refseq/release/plant/ ls *.faa.gz \u9ed8\u8ba4\u7684ftp\u7684\u533f\u540d\u7528\u6237\u662f anonymous ,\u5bc6\u7801\u662f\u7a7a\u3002 ftp\u8fdb\u53bb\u540e\uff0c\u4f7f\u7528 help \u67e5\u770b\u80fd\u4f7f\u7528\u7684\u547d\u4ee4\u3002 \u5e38\u7528\u7684\u662f ls \u548c get \uff0c put get\u7528\u4e8e\u4e0b\u8f7d\u6587\u4ef6 put\u7528\u4e8e\u4e0a\u4f20\u6587\u4ef6 mget *.faa.gz \u4e00\u6b21\u4e0b\u8f7d\u591a\u4e2a\u6587\u4ef6 mput *.xls \u4e00\u6b21\u4e0a\u4f20\u591a\u4e2a\u6587\u4ef6 linux\u4f7f\u7528\u811a\u672c\u8bbf\u95eeftp(\u811a\u672c\u5b9e\u73b0\u81ea\u52a8\u4e0b\u8f7d\u548c\u4e0a\u4f20\u6587\u4ef6\u5230ftp\u670d\u52a1\u5668) \u4e0a\u4f20\u4e00\u4e2a\u6216\u591a\u4e2a\u6587\u4ef6\u5230\u6307\u5b9a\u7684ftp\u670d\u52a1\u5668 #!/bin/bash #### purpose for use ftp to upload file to NCBI SRA database cd /share/home/cbm ftp -n << ! open ftp-private.ncbi.nlm.nih.gov user sra 123456 binary lcd /share/home/cbm/ !dir cd /Pacbio prompt put 20200729.subreads.bam close bye ! #### purpose for use ftp to upload file to NCBI SRA database ftp -n << ! open ftp-private.ncbi.nlm.nih.gov user sra 123456 binary lcd /share/home/cbm/ !dir cd /Pacbio prompt mput * close bye ! \u4e0b\u8f7d\u4e00\u4e2a\u6216\u591a\u4e2a\u6587\u4ef6 #!/bin/bash cd /share/home/cbm/ ###\u4f7f\u7528\u7684\u662f\u533f\u540d\u8d26\u6237\u767b\u5f55\u670d\u52a1\u5668\uff0c\u5bc6\u7801\u662f\u7a7a\uff0c\u9700\u8981\u6309\u56de\u8f66\u952e\u786e\u8ba4 \u73b0\u5728\u6709\u90e8\u5206ftp\u670d\u52a1\u5668\u7684\u533f\u540d\u8d26\u6237\u662f`anonymous`,\u5bc6\u7801\u662f\u4f60\u7684\u90ae\u7bb1\u7684\u5730\u5740\uff0c\u5982\u679c\u533f\u540dftp\u65e0\u6cd5\u767b\u5f55\u65f6\uff0c\u53ef\u4ee5\u5c1d\u8bd5\u8fd9\u79cd\u65b9\u6cd5\u3002 ##### \u533f\u540d\u8d26\u6237\u4e0b\u8f7d\u6240\u6709\u6587\u4ef6 #!/bin/bash #down all from remote server some path ftp -n << ! open ftp.ncbi.nlm.nih.gov user anonymous binary cd /refseq/release/plant/ lcd ~/database/ prompt mget * close bye ! #\u533f\u540d\u8d26\u6237\u4e0b\u8f7d\u6307\u5b9a\u7c7b\u578b\u7684\u6587\u4ef6 #download some file from remote server ftp -n << ! open ftp.ncbi.nlm.nih.gov user anonymous binary cd /refseq/release/plant/ lcd ~/database/ prompt mget *.protein.faa.gz close bye ! ##\u6307\u5b9a\u8d26\u6237\u548c\u7528\u6237\u540d\u767b\u5f55 ###\u4e0b\u8f7d\u4e00\u4e2a\u6587\u4ef6 #### purpose for use ftp to download file from NCBI SRA database ftp -n << ! open ftp-private.ncbi.nlm.nih.gov user sra 123456 binary lcd /share/home/database/ !dir cd /Pacbio prompt ls get 200729.subreads.bam close bye ! ftp\u811a\u672c\u7684\u53c2\u6570\u8bb2\u89e3\uff1a - open \u540e\u662fIP\u5730\u5740\u6216\u4e3b\u673a\u5730\u5740 - user \u540e\u662f\u7528\u6237\u540d\u548c\u5bc6\u7801 - lcd \u547d\u4ee4\u662f\u8fdb\u5165\u672c\u5730\u7684\u6307\u5b9a\u76ee\u5f55\uff0c - !dir \u6216 !ls \u662f\u67e5\u770b\u672c\u5730\u76ee\u5f55\u7684\u6587\u4ef6 - binary \u662f\u8bbe\u7f6e\u4f7f\u7528\u4e8c\u8fdb\u5236\u4f20\u8f93\uff0c\u901f\u5ea6\u4f1a\u6bd4\u8f83\u5feb - get \u4e0b\u8f7d\u8fdc\u7a0b\u4e00\u4e2a\u6587\u4ef6\u5230\u672c\u5730 - mget \u4e0b\u8f7d\u591a\u4e2a\u6587\u4ef6\u5230\u672c\u5730 - put \u4e0a\u4f20\u4e00\u4e2a\u6587\u4ef6\u5230ftp\u670d\u52a1\u5668 - mput \u4e0a\u4f20\u591a\u4e2a\u6587\u4ef6\u5230ftp\u670d\u52a1\u5668 anonymous \u662f\u6240\u6709\u7684\u533f\u540dftp\u7684\u8d26\u53f7\uff0c\u5bc6\u7801\u662f\u7a7a\u3002 scp\u7528\u4e8e\u4f20\u8f93\u6587\u4ef6 windows\u4f20\u8f93\u5230linux\uff0c\u6211\u4e00\u822c\u4f7f\u7528 winSCP\u8fd9\u4e2a\u8f6f\u4ef6 \u4e0b\u8f7d\u5730\u5740 \u3002\u5404\u5927\u8f6f\u4ef6\u5546\u5e97\u90fd\u6709\u8fd9\u6b3e\u8f6f\u4ef6\u3002 linux\u5230linux\u4f20\u8f93\uff0c\u4f7f\u7528\u547d\u4ee4scp. \u53c2\u8003\u6587\u7ae0 \u4f8b\u5982\u6709\u5982\u4e0b\u4e24\u4e2a\u4e3b\u673a\uff1a172.28.218.254\uff08\u672c\u5730\uff09172.28.210.9\uff08\u8fdc\u7a0b\uff09 \u4f20\u8f93\u6587\u4ef6 \u5728\u672c\u5730\u4e3b\u673a\uff08172.28.218.254\uff09\u8fd0\u884c\u5982\u4e0b\u547d\u4ee4\uff1a \u8bf4\u660e\uff1achaim\u662f\u6211\u5728\u8fdc\u7a0b\u4e3b\u673a\u4e0a\u7684\u7528\u6237\u540d \u83b7\u53d6\u8fdc\u7a0b\u76ee\u5f55maize scp -r chaim@172.28.210.9:/disk/maize/ ./maize/ /disk/maize/ \u8fd9\u662f\u8fdc\u7aef\u670d\u52a1\u5668\u7684\u6587\u4ef6\u5730\u5740 ./maize/\u8fd9\u662f\u5b58\u50a8\u5230\u672c\u5730\u670d\u52a1\u5668\u7684\u5730\u5740 \u83b7\u53d6\u8fdc\u7a0b\u6587\u4ef6readme scp chaim@172.28.210.9:/home/info/readme ./Readme +\u5c06\u672c\u5730\u6587\u4ef6\u4e0a\u4f20\u5230\u8fdc\u7a0b scp /public/disk.info chaim@172.28.210.9:/home/info/disk.info +\u5c06\u672c\u5730\u6587\u4ef6\u5939\u4e0a\u4f20\u5230\u8fdc\u7a0b scp -r /public/maize/ chaim@172.28.210.9:/disks/backup/maize/ \u6307\u5b9a\u7aef\u53e32235\u4f20\u8f93\u672c\u5730bam\u5230\u8fdc\u7a0b\u4e3b\u673a172.28.210.9 scp -P 2235 sam1.bam chaim@172.28.210.9:/disks/backup/maize/ \u5728\u7ecf\u5386\u4e86scp\u4f20\u8f93\u4e2d\u65ad\uff0c\u591a\u4e2a\u5927\u6587\u4ef6\u9700\u8981\u91cd\u65b0\u4f20\u8f93\u7684\u75db\u82e6\u540e\uff0c\u51b3\u5b9a\u4f7f\u7528\u652f\u6301\u65ad\u70b9\u7eed\u4f20\u7684rsync rsync \u4f20\u8f93\u65f6\uff0c\u5728\u53e6\u4e00\u7aef\u4e3b\u673a\u4e0a\u4f1a\u751f\u6210\u4e34\u65f6\u7684\u9690\u85cf\u6587\u4ef6\uff0c\u901a\u8fc7ls -la\u53ef\u4ee5\u67e5\u770b\u5230\u3002\u7b49\u5f85\u4f20\u8f93\u5b8c\u6210\u6216\u4e2d\u65ad\u65f6\u4f1a\u663e\u793a\u51fa\u6b63\u5e38\u7684\u6587\u4ef6\u540d\u3002 \u4e0a\u4f20\u6570\u636e\u5230\u8fdc\u7a0b\u670d\u52a1\u5668 rsync -P --rsh=ssh readme.md tang@172.28.218.254:~/chaim/ \u6307\u5b9a\u7aef\u53e32222\uff0c\u4f20\u8f93bam\u6587\u4ef6\u5230\u8fdc\u7a0b\u4e3b\u673a21.28.170.146 rsync -P -e 'ssh -p 2222' sample.bam chaim@21.28.170.146:/share/home/bam \u672c\u5730linux\u4f7f\u7528 ssh \u7528\u4e8e\u8bbf\u95ee\u8fdc\u7a0b\u4e3b\u673a ssh -p 2224 root@172.28.170.146 #\u6307\u5b9a\u7aef\u53e3\u548c\u7528\u6237\u540d ssh -l chaim -p 2224 172.28.170.146 ##\u6307\u5b9a\u7aef\u53e3\u548c\u7528\u6237\u540d ssh chaim@172.28.210.9 #\u6307\u5b9a\u7528\u6237\u540d\uff0c\u4f7f\u7528\u9ed8\u8ba4\u7684\u7aef\u53e322 lftp\u7684 \u5b89\u88c5 \u4f7f\u7528\u624b\u518c wget -c http://lftp.yar.ru/ftp/lftp-4.9.2.tar.gz tar -zxvf lftp-4.9.2.tar.gz \u8fd8\u6709\u4f9d\u8d56\u9879\u5f97\u81ea\u884c\u5b89\u88c5 gnutls.x86_64 0:3.3.29-8.el7 nettle.x86_64 0:2.7.1-8.el7 trousers.x86_64 0:0.3.14-2.el7 sudo yum install lftp -y lftp\u767b\u5f55ftp\u7ad9\u70b9 lftp -u sra,123456 ftp://ftp-private.ncbi.nlm.nih.gov lftp\u4e0b\u8f7d\u6587\u4ef6 get 20200729.subreads.bam lftp\u65ad\u70b9\u7eed\u4f20\u4e0b\u8f7d\u6587\u4ef6 reget 20200729.subreads.bam \u7b49\u4ef7\u4e8e get -c 20200729.subreads.bam lftp\u4e0a\u4f20\u6587\u4ef6 put 20200729.subreads.bam put -c 20200729.subreads.bam \u65ad\u70b9\u7eed\u4f20\u7b49\u4ef7\u4e8e reput lftp\u89e3\u51b3\u65ad\u70b9\u4e0a\u4f20 reput 20200729.subreads.bam \u4f1a\u81ea\u52a8\u89e3\u51b3\u4e0a\u9762\u7684\u95ee\u9898\uff0c\u800c\u4e14\u53ef\u4ee5\u5b9e\u65f6\u663e\u793a\u4e0a\u4f20\u901f\u5ea6\u3002 lftp\u4efb\u52a1\u540e\u53ef\u4ee5\u52a0 & \uff0c\u8ba9\u547d\u4ee4\u5728\u540e\u53f0\u6267\u884c\u3002\u9000\u51falftp\u547d\u4ee4\u4f1a\u7ee7\u7eed\u6267\u884c\u76f4\u5230\u5b8c\u6210\u3002 ftp\u65ad\u70b9\u7eed\u4f20\u7684\u89e3\u51b3 ftp\u4e0b\u8f7d\u65ad\u70b9\u7eed\u4f20\uff1a reget ftp\u4e0a\u4f20\u65ad\u70b9\u7eed\u4f20: \u6bd4\u8f83\u9ebb\u70e6 ls restart <#> put <filename> \u5148\u83b7\u53d6\u5df2\u4e0a\u4f20\u7684\u6587\u4ef6\u7684\u5927\u5c0f\uff0crestart\u540e\u7684 # \u4fee\u6539\u4e3a\u5df2\u4e0a\u4f20\u7684\u5927\u5c0f\uff0c\u7136\u540e\u91cd\u65b0\u4f7f\u7528 put \u4e0a\u4f20","title":"Linux\u4e0b\u8bbf\u95ee\u7f51\u7ad9\u5de5\u5177http\u548cftp\uff0cscp\u548cssh"},{"location":"Linux-learning/linux%E4%B8%8B%E8%AE%BF%E9%97%AE%E7%BD%91%E7%AB%99%E5%B7%A5%E5%85%B7http%E5%92%8Cftp%EF%BC%8Cscp%E5%92%8Cssh/#linuxftpftp","text":"","title":"linux\u4f7f\u7528\u811a\u672c\u8bbf\u95eeftp(\u811a\u672c\u5b9e\u73b0\u81ea\u52a8\u4e0b\u8f7d\u548c\u4e0a\u4f20\u6587\u4ef6\u5230ftp\u670d\u52a1\u5668)"},{"location":"Linux-learning/linux%E4%B8%8B%E8%AE%BF%E9%97%AE%E7%BD%91%E7%AB%99%E5%B7%A5%E5%85%B7http%E5%92%8Cftp%EF%BC%8Cscp%E5%92%8Cssh/#ftp","text":"#!/bin/bash #### purpose for use ftp to upload file to NCBI SRA database cd /share/home/cbm ftp -n << ! open ftp-private.ncbi.nlm.nih.gov user sra 123456 binary lcd /share/home/cbm/ !dir cd /Pacbio prompt put 20200729.subreads.bam close bye ! #### purpose for use ftp to upload file to NCBI SRA database ftp -n << ! open ftp-private.ncbi.nlm.nih.gov user sra 123456 binary lcd /share/home/cbm/ !dir cd /Pacbio prompt mput * close bye !","title":"\u4e0a\u4f20\u4e00\u4e2a\u6216\u591a\u4e2a\u6587\u4ef6\u5230\u6307\u5b9a\u7684ftp\u670d\u52a1\u5668"},{"location":"Linux-learning/linux%E4%B8%8B%E8%AE%BF%E9%97%AE%E7%BD%91%E7%AB%99%E5%B7%A5%E5%85%B7http%E5%92%8Cftp%EF%BC%8Cscp%E5%92%8Cssh/#_1","text":"#!/bin/bash cd /share/home/cbm/ ###\u4f7f\u7528\u7684\u662f\u533f\u540d\u8d26\u6237\u767b\u5f55\u670d\u52a1\u5668\uff0c\u5bc6\u7801\u662f\u7a7a\uff0c\u9700\u8981\u6309\u56de\u8f66\u952e\u786e\u8ba4 \u73b0\u5728\u6709\u90e8\u5206ftp\u670d\u52a1\u5668\u7684\u533f\u540d\u8d26\u6237\u662f`anonymous`,\u5bc6\u7801\u662f\u4f60\u7684\u90ae\u7bb1\u7684\u5730\u5740\uff0c\u5982\u679c\u533f\u540dftp\u65e0\u6cd5\u767b\u5f55\u65f6\uff0c\u53ef\u4ee5\u5c1d\u8bd5\u8fd9\u79cd\u65b9\u6cd5\u3002 ##### \u533f\u540d\u8d26\u6237\u4e0b\u8f7d\u6240\u6709\u6587\u4ef6 #!/bin/bash #down all from remote server some path ftp -n << ! open ftp.ncbi.nlm.nih.gov user anonymous binary cd /refseq/release/plant/ lcd ~/database/ prompt mget * close bye ! #\u533f\u540d\u8d26\u6237\u4e0b\u8f7d\u6307\u5b9a\u7c7b\u578b\u7684\u6587\u4ef6 #download some file from remote server ftp -n << ! open ftp.ncbi.nlm.nih.gov user anonymous binary cd /refseq/release/plant/ lcd ~/database/ prompt mget *.protein.faa.gz close bye ! ##\u6307\u5b9a\u8d26\u6237\u548c\u7528\u6237\u540d\u767b\u5f55 ###\u4e0b\u8f7d\u4e00\u4e2a\u6587\u4ef6 #### purpose for use ftp to download file from NCBI SRA database ftp -n << ! open ftp-private.ncbi.nlm.nih.gov user sra 123456 binary lcd /share/home/database/ !dir cd /Pacbio prompt ls get 200729.subreads.bam close bye ! ftp\u811a\u672c\u7684\u53c2\u6570\u8bb2\u89e3\uff1a - open \u540e\u662fIP\u5730\u5740\u6216\u4e3b\u673a\u5730\u5740 - user \u540e\u662f\u7528\u6237\u540d\u548c\u5bc6\u7801 - lcd \u547d\u4ee4\u662f\u8fdb\u5165\u672c\u5730\u7684\u6307\u5b9a\u76ee\u5f55\uff0c - !dir \u6216 !ls \u662f\u67e5\u770b\u672c\u5730\u76ee\u5f55\u7684\u6587\u4ef6 - binary \u662f\u8bbe\u7f6e\u4f7f\u7528\u4e8c\u8fdb\u5236\u4f20\u8f93\uff0c\u901f\u5ea6\u4f1a\u6bd4\u8f83\u5feb - get \u4e0b\u8f7d\u8fdc\u7a0b\u4e00\u4e2a\u6587\u4ef6\u5230\u672c\u5730 - mget \u4e0b\u8f7d\u591a\u4e2a\u6587\u4ef6\u5230\u672c\u5730 - put \u4e0a\u4f20\u4e00\u4e2a\u6587\u4ef6\u5230ftp\u670d\u52a1\u5668 - mput \u4e0a\u4f20\u591a\u4e2a\u6587\u4ef6\u5230ftp\u670d\u52a1\u5668 anonymous \u662f\u6240\u6709\u7684\u533f\u540dftp\u7684\u8d26\u53f7\uff0c\u5bc6\u7801\u662f\u7a7a\u3002","title":"\u4e0b\u8f7d\u4e00\u4e2a\u6216\u591a\u4e2a\u6587\u4ef6"},{"location":"Linux-learning/linux%E4%B8%8B%E8%AE%BF%E9%97%AE%E7%BD%91%E7%AB%99%E5%B7%A5%E5%85%B7http%E5%92%8Cftp%EF%BC%8Cscp%E5%92%8Cssh/#scp","text":"windows\u4f20\u8f93\u5230linux\uff0c\u6211\u4e00\u822c\u4f7f\u7528 winSCP\u8fd9\u4e2a\u8f6f\u4ef6 \u4e0b\u8f7d\u5730\u5740 \u3002\u5404\u5927\u8f6f\u4ef6\u5546\u5e97\u90fd\u6709\u8fd9\u6b3e\u8f6f\u4ef6\u3002 linux\u5230linux\u4f20\u8f93\uff0c\u4f7f\u7528\u547d\u4ee4scp. \u53c2\u8003\u6587\u7ae0 \u4f8b\u5982\u6709\u5982\u4e0b\u4e24\u4e2a\u4e3b\u673a\uff1a172.28.218.254\uff08\u672c\u5730\uff09172.28.210.9\uff08\u8fdc\u7a0b\uff09 \u4f20\u8f93\u6587\u4ef6 \u5728\u672c\u5730\u4e3b\u673a\uff08172.28.218.254\uff09\u8fd0\u884c\u5982\u4e0b\u547d\u4ee4\uff1a \u8bf4\u660e\uff1achaim\u662f\u6211\u5728\u8fdc\u7a0b\u4e3b\u673a\u4e0a\u7684\u7528\u6237\u540d \u83b7\u53d6\u8fdc\u7a0b\u76ee\u5f55maize scp -r chaim@172.28.210.9:/disk/maize/ ./maize/ /disk/maize/ \u8fd9\u662f\u8fdc\u7aef\u670d\u52a1\u5668\u7684\u6587\u4ef6\u5730\u5740 ./maize/\u8fd9\u662f\u5b58\u50a8\u5230\u672c\u5730\u670d\u52a1\u5668\u7684\u5730\u5740 \u83b7\u53d6\u8fdc\u7a0b\u6587\u4ef6readme scp chaim@172.28.210.9:/home/info/readme ./Readme +\u5c06\u672c\u5730\u6587\u4ef6\u4e0a\u4f20\u5230\u8fdc\u7a0b scp /public/disk.info chaim@172.28.210.9:/home/info/disk.info +\u5c06\u672c\u5730\u6587\u4ef6\u5939\u4e0a\u4f20\u5230\u8fdc\u7a0b scp -r /public/maize/ chaim@172.28.210.9:/disks/backup/maize/ \u6307\u5b9a\u7aef\u53e32235\u4f20\u8f93\u672c\u5730bam\u5230\u8fdc\u7a0b\u4e3b\u673a172.28.210.9 scp -P 2235 sam1.bam chaim@172.28.210.9:/disks/backup/maize/","title":"scp\u7528\u4e8e\u4f20\u8f93\u6587\u4ef6"},{"location":"Linux-learning/linux%E4%B8%8B%E8%AE%BF%E9%97%AE%E7%BD%91%E7%AB%99%E5%B7%A5%E5%85%B7http%E5%92%8Cftp%EF%BC%8Cscp%E5%92%8Cssh/#scprsync","text":"rsync \u4f20\u8f93\u65f6\uff0c\u5728\u53e6\u4e00\u7aef\u4e3b\u673a\u4e0a\u4f1a\u751f\u6210\u4e34\u65f6\u7684\u9690\u85cf\u6587\u4ef6\uff0c\u901a\u8fc7ls -la\u53ef\u4ee5\u67e5\u770b\u5230\u3002\u7b49\u5f85\u4f20\u8f93\u5b8c\u6210\u6216\u4e2d\u65ad\u65f6\u4f1a\u663e\u793a\u51fa\u6b63\u5e38\u7684\u6587\u4ef6\u540d\u3002 \u4e0a\u4f20\u6570\u636e\u5230\u8fdc\u7a0b\u670d\u52a1\u5668 rsync -P --rsh=ssh readme.md tang@172.28.218.254:~/chaim/","title":"\u5728\u7ecf\u5386\u4e86scp\u4f20\u8f93\u4e2d\u65ad\uff0c\u591a\u4e2a\u5927\u6587\u4ef6\u9700\u8981\u91cd\u65b0\u4f20\u8f93\u7684\u75db\u82e6\u540e\uff0c\u51b3\u5b9a\u4f7f\u7528\u652f\u6301\u65ad\u70b9\u7eed\u4f20\u7684rsync"},{"location":"Linux-learning/linux%E4%B8%8B%E8%AE%BF%E9%97%AE%E7%BD%91%E7%AB%99%E5%B7%A5%E5%85%B7http%E5%92%8Cftp%EF%BC%8Cscp%E5%92%8Cssh/#2222bam2128170146","text":"rsync -P -e 'ssh -p 2222' sample.bam chaim@21.28.170.146:/share/home/bam","title":"\u6307\u5b9a\u7aef\u53e32222\uff0c\u4f20\u8f93bam\u6587\u4ef6\u5230\u8fdc\u7a0b\u4e3b\u673a21.28.170.146"},{"location":"Linux-learning/linux%E4%B8%8B%E8%AE%BF%E9%97%AE%E7%BD%91%E7%AB%99%E5%B7%A5%E5%85%B7http%E5%92%8Cftp%EF%BC%8Cscp%E5%92%8Cssh/#linux-ssh","text":"ssh -p 2224 root@172.28.170.146 #\u6307\u5b9a\u7aef\u53e3\u548c\u7528\u6237\u540d ssh -l chaim -p 2224 172.28.170.146 ##\u6307\u5b9a\u7aef\u53e3\u548c\u7528\u6237\u540d ssh chaim@172.28.210.9 #\u6307\u5b9a\u7528\u6237\u540d\uff0c\u4f7f\u7528\u9ed8\u8ba4\u7684\u7aef\u53e322","title":"\u672c\u5730linux\u4f7f\u7528 ssh \u7528\u4e8e\u8bbf\u95ee\u8fdc\u7a0b\u4e3b\u673a"},{"location":"Linux-learning/linux%E4%B8%8B%E8%AE%BF%E9%97%AE%E7%BD%91%E7%AB%99%E5%B7%A5%E5%85%B7http%E5%92%8Cftp%EF%BC%8Cscp%E5%92%8Cssh/#lftp","text":"wget -c http://lftp.yar.ru/ftp/lftp-4.9.2.tar.gz tar -zxvf lftp-4.9.2.tar.gz \u8fd8\u6709\u4f9d\u8d56\u9879\u5f97\u81ea\u884c\u5b89\u88c5 gnutls.x86_64 0:3.3.29-8.el7 nettle.x86_64 0:2.7.1-8.el7 trousers.x86_64 0:0.3.14-2.el7 sudo yum install lftp -y lftp\u767b\u5f55ftp\u7ad9\u70b9 lftp -u sra,123456 ftp://ftp-private.ncbi.nlm.nih.gov lftp\u4e0b\u8f7d\u6587\u4ef6 get 20200729.subreads.bam lftp\u65ad\u70b9\u7eed\u4f20\u4e0b\u8f7d\u6587\u4ef6 reget 20200729.subreads.bam \u7b49\u4ef7\u4e8e get -c 20200729.subreads.bam lftp\u4e0a\u4f20\u6587\u4ef6 put 20200729.subreads.bam put -c 20200729.subreads.bam \u65ad\u70b9\u7eed\u4f20\u7b49\u4ef7\u4e8e reput lftp\u89e3\u51b3\u65ad\u70b9\u4e0a\u4f20 reput 20200729.subreads.bam \u4f1a\u81ea\u52a8\u89e3\u51b3\u4e0a\u9762\u7684\u95ee\u9898\uff0c\u800c\u4e14\u53ef\u4ee5\u5b9e\u65f6\u663e\u793a\u4e0a\u4f20\u901f\u5ea6\u3002 lftp\u4efb\u52a1\u540e\u53ef\u4ee5\u52a0 & \uff0c\u8ba9\u547d\u4ee4\u5728\u540e\u53f0\u6267\u884c\u3002\u9000\u51falftp\u547d\u4ee4\u4f1a\u7ee7\u7eed\u6267\u884c\u76f4\u5230\u5b8c\u6210\u3002","title":"lftp\u7684\u5b89\u88c5 \u4f7f\u7528\u624b\u518c"},{"location":"Linux-learning/linux%E4%B8%8B%E8%AE%BF%E9%97%AE%E7%BD%91%E7%AB%99%E5%B7%A5%E5%85%B7http%E5%92%8Cftp%EF%BC%8Cscp%E5%92%8Cssh/#ftp_1","text":"ftp\u4e0b\u8f7d\u65ad\u70b9\u7eed\u4f20\uff1a reget ftp\u4e0a\u4f20\u65ad\u70b9\u7eed\u4f20: \u6bd4\u8f83\u9ebb\u70e6 ls restart <#> put <filename> \u5148\u83b7\u53d6\u5df2\u4e0a\u4f20\u7684\u6587\u4ef6\u7684\u5927\u5c0f\uff0crestart\u540e\u7684 # \u4fee\u6539\u4e3a\u5df2\u4e0a\u4f20\u7684\u5927\u5c0f\uff0c\u7136\u540e\u91cd\u65b0\u4f7f\u7528 put \u4e0a\u4f20","title":"ftp\u65ad\u70b9\u7eed\u4f20\u7684\u89e3\u51b3"},{"location":"Linux-learning/linux%E6%89%80%E6%9C%89%E5%91%BD%E4%BB%A4%E5%A4%B1%E6%95%88%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95/","text":"\u5e38\u5e74\u9760\u4fee\u6539PATH\u5b89\u88c5\u8f6f\u4ef6\uff0c\u7ed3\u679c\u624b\u5feb PATH \u6253\u6210\u4e86 PAATH ,\u7136\u540e\u6240\u6709\u547d\u4ee4\u5931\u6548\u3002 \u8fd0\u884c\u8fd9\u6bb5\u547d\u4ee4 export PATH=/usr/bin:/usr/sbin:/bin:/sbin:/usr/X11R6/bin \uff0c\u6682\u65f6\u91cd\u7f6e\u73af\u5883\u53d8\u91cf\u3002\u7136\u540e\u4fee\u6539\u9519\u8bef\u7684\u5730\u65b9\uff0c\u5373\u53ef\u6062\u590d\u3002 \u8bb0\u5f97\u7ecf\u5e38\u5907\u4efd\u73af\u5883\u53d8\u91cf\uff0c\u4e0d\u7136 >> \u53d8\u6210 > \u7684\u65f6\u5019\uff0c\u6240\u6709\u7684\u53d8\u91cf\u90fd\u6ca1\u4e86\u5c31\u60e8\u4e86\u3002","title":"Linux\u6240\u6709\u547d\u4ee4\u5931\u6548\u89e3\u51b3\u529e\u6cd5"},{"location":"Linux-learning/linux%E6%95%B0%E6%8D%AE%E6%B5%81%E5%A4%84%E7%90%86%E6%8A%80%E5%B7%A7/","text":"\u521b\u5efa\u57fa\u4e8e\u5f53\u524d\u65e5\u671f\u7684\u6587\u4ef6 mkdir result-$(date +%F) //\u751f\u6210result-2019-08-28\u683c\u5f0f\u7684\u6587\u4ef6 \u628a\u4e00\u4e2a\u547d\u4ee4\u7684\u8f93\u51fa\u7ed3\u679c\u5d4c\u5165\u53e6\u4e00\u4e2a\u547d\u4ee4\u91cc ``\u7b49\u4ef7\u4e8e$() \u628a\u8981\u5f15\u7528\u7684\u503c\u7684\u547d\u4ee4\u653e\u5728``\u6216$()\u5185 grep -c '^>' maize.fa echo \"this file total have `grep -c '^>' maize.fa` sequence. echo \"this file total have $(grep -c '^>) maize.fa` sequence. \u7a0b\u5e8f\u524d\u540e\u53f0\u8fd0\u884c & nohup screen mv test1 test2 & \u7a0b\u5e8f\u540e\u53f0\u8fd0\u884c \u7a0b\u5e8f\u8fd0\u884c\u540e\uff0c\u6309\u4e0bCTRL+Z\u6682\u505c\u7a0b\u5e8f\uff0c\u53ef\u4ee5\u7528\u5982\u4e0b\u7684\u547d\u4ee4\u5206\u522b\u7f6e\u7a0b\u5e8f\u4e8e\u540e\u53f0\u6216\u524d\u53f0\u8fd0\u884c\u3002 bg %1 \u8fdb\u7a0b1\u540e\u53f0\u8fd0\u884c fg %1 \u8fdb\u7a0b1\u524d\u53f0\u8fd0\u884c \u6216\u8005\u662fnuhup nuhup\u4f1a\u5411\u6807\u51c6\u8f93\u51fa\u6d41\u7684\u6587\u4ef6\u524d\u9762\u52a0\u4e0anohup\u7684log\u4fe1\u606f\uff0c\u6709\u4e9b\u540e\u7eed\u7a0b\u5e8f\u5728\u8fd0\u884cnohup\u6302\u8d77\u7684\u8f93\u51fa\u6587\u4ef6\u65f6\uff0c\u53ef\u80fd\u4f1a\u56e0\u4e3a\u5934\u90e8\u7684\u591a\u4f59\u4fe1\u606f\u800c\u62a5\u9519 screen screen\u662f\u65b0\u5f00\u7684\u5c4f\u5e55\uff0c\u53ef\u4ee5\u628ascreen\u6302\u8d77\u5230\u540e\u53f0\u7ee7\u7eed\u8fd0\u884c \u5e38\u89c4\u7a0b\u5e8fpipeline echo analysis start at $(date +%x_%X) #\u8f93\u51fa\u7a0b\u5e8f\u5f00\u59cb\u7684\u65f6\u95f4 mkdir programe_result-$(date +%F) #\u521b\u5efa\u683c\u5f0f\u4e3a\u7a0b\u5e8f\u540d+\u65e5\u671f\u683c\u5f0f\u7684\u6587\u4ef6 nohup porgrame 2>./result-$(date +%F)/error-`date +%X` & #\u540e\u53f0\u8fd0\u884c\u7a0b\u5e8f\uff0c\u540c\u65f6\u5c06\u9519\u8bef\u8f93\u51fa\u6d41\u91cd\u5b9a\u5411\u5230\u4e0a\u9762\u65b0\u5efa\u7684\u6587\u4ef6\uff0c\u4ee5error+\u65f6\u95f4\u6765\u547d\u540d\u3002 \u7a0b\u5e8f\u7684\u8fdb\u7a0b\u63a7\u5236\u7528\u4e8e\u94fe\u5f0f\u7f16\u7a0b && \u524d\u4e00\u4e2a\u6267\u884c\u6210\u529f\u540e\uff0c\u518d\u6267\u884c\u540e\u4e00\u4e2a\u7a0b\u5e8f\u3002 || \u524d\u4e00\u4e2a\u6267\u884c\u5931\u8d25\u540e\uff0c\u518d\u6267\u884c\u540e\u4e00\u4e2a\u7a0b\u5e8f\u3002 ls -l nide.xs && find -a \"^>\" mide.fa ##\u524d\u4e00\u4e2a\u7a0b\u5e8f\u6210\u529f\u5c31\u6267\u884c\u540e\u7eed\u547d\u4ee4 cd test || mkdir test ##\u524d\u4e00\u4e2a\u547d\u4ee4\u6267\u884c\u9519\u8bef\u65f6\uff0c\u6267\u884c\u540e\u4e00\u4e2a\u547d\u4ee4\u3002 \u4f8b1\uff1a\u5982\u679c\u60f3\u628a\u5de5\u4f5c\u76ee\u5f55\u79fb\u5230\u8fd0\u884c\u73af\u5883\u7684result\u76ee\u5f55\uff0c\u5982\u679c\u4e0d\u5b58\u5728\u5219\u521b\u5efa\u8be5\u76ee\u5f55 cd result || mkdir result && cd result \u4f8b2\uff1a\u5982\u679c\u6267\u884c\u67d0\u4e2a\u547d\u4ee4\u51fa\u9519\uff0c\u5219\u62a5\u51fa\u9519\u8bef\u4f4d\u7f6e\u4fe1\u606f\u3002 samtools -sort index.fa || echo \"error in samtools\" time\u547d\u4ee4 time command1 \u5b8c\u6574\u7684\u547d\u4ee4\u4f8b\u5b50\uff1a nohup time java -jar picard.jar test 2>error-`date +%F &` nohup\u6302\u8d77\u7a0b\u5e8f time\u8ba1\u7b97\u7a0b\u5e8f\u8fd0\u884c\u65f6\u95f4 2>error-`date +%F` \u9519\u8bef\u4fe1\u606f\u91cd\u5b9a\u5411 \u8def\u5f84\u5c3d\u91cf\u4f7f\u7528\u76f8\u5bf9\u8def\u5f84 \u76f8\u5bf9\u8def\u5f84 . \u6216 .. \u5f00\u5934\u7684\u8def\u5f84 \u7edd\u5bf9\u8def\u5f84 / \u6216\u5b57\u7b26\u5f00\u5934\u7684\u8def\u5f84 \u4f7f\u7528\u65ad\u70b9 Python\u91cc\u9762\u662f assert() \uff0c\u800cR\u91cc\u9762\u662f stopifnot() \u4f7f\u7528\u6b63\u5219\u8868\u8fbe\u5f0f \u4f8b\u5982\u5f53\u524d\u76ee\u5f55\u6709\u4ee5\u4e0b\u6587\u4ef6\uff0c \u251c\u2500\u2500 NS-1.map.sam \u251c\u2500\u2500 NS-2.map.sam \u251c\u2500\u2500 NS-3.map.sam \u251c\u2500\u2500 WT-1.map.sam \u251c\u2500\u2500 WT-2.map.sam \u2514\u2500\u2500 WT-3.map.sam ls -lh {NS,WT}-{1..3}.map.sam \u53ef\u4ee5\u5339\u914d\u5230\u5f53\u524d\u76ee\u5f55\u6240\u6709\u7684\u6587\u4ef6\u3002 \u6570\u5b57\u547d\u540d \u4f7f\u7528\u6570\u5b57\u65f6\u5c3d\u91cf\u4f7f\u752801\uff0c001\u4ee3\u66ff1 \u6bcf\u4e2a\u7a0b\u5e8f\u8981\u5199\u6587\u6863 \u6ce8\u610f\u6587\u6863\u5e94\u8be5\u5305\u62ec\u4ee5\u4e0b\u5185\u5bb9\uff1a - \u7a0b\u5e8f\u529f\u80fd\u3001\u8fd0\u884c\u76ee\u5f55 - \u547d\u4ee4\u7684\u6240\u4f9d\u8d56\u7684\u7a0b\u5e8f\u6216\u5305\uff0c\u4ee5\u53ca\u5bf9\u5e94\u7684\u7248\u672c - \u4f5c\u8005\u4fe1\u606f\u3001\u65e5\u671f - \u811a\u672c\u7684\u6bcf\u4e00\u6b65\u5c3d\u91cf\u52a0\u4e0a\u6ce8\u91ca\u4fe1\u606f - \u5728readme\u4e2d\u8bf4\u660e\u8fd0\u884c\u76ee\u5f55\u7684\u6587\u4ef6\u7ed3\u6784\uff0c\u81ea\u5b9a\u4e49\u7684\u7279\u6b8a\u7684\u6587\u4ef6\u9700\u8981\u8bf4\u660e\u6570\u636e\u7c7b\u578b \u53d8\u91cf\u6216\u51fd\u6570\u547d\u540d \u51fd\u6570\u547d\u540d\u5c3d\u91cf\u7ed3\u5408\u529f\u80fd\u8fdb\u884c\u547d\u540d \u547d\u540d\u683c\u5f0f\u5c3d\u91cf\u7edf\u4e00\uff0c\u9a7c\u5cf0\u547d\u540d\uff08UesrName\uff09\u6216\u8005\u4e0b\u5212\u7ebf\u547d\u540d(user_name).\u6839\u636e\u9879\u76ee\u7ec4\u6216\u8005\u56e2\u961f\u6216\u8005\u4e2a\u4eba\u4e60\u60ef\u7edf\u4e00\u4f7f\u7528\u4e00\u79cd\u547d\u540d\u6cd5\u3002 \u4e2a\u4eba\u504f\u5411\u4e0b\u5212\u7ebf\u547d\u540d\u6cd5 \u53d8\u91cf\u548c\u51fd\u6570\u7684\u547d\u540d\u7684\u5b57\u7b26\u5c3d\u91cf\u4e0d\u8981\u592a\u957f","title":"Linux\u6570\u636e\u6d41\u5904\u7406\u6280\u5de7"},{"location":"Linux-learning/linux%E6%95%B0%E6%8D%AE%E6%B5%81%E5%A4%84%E7%90%86%E6%8A%80%E5%B7%A7/#_1","text":"mkdir result-$(date +%F) //\u751f\u6210result-2019-08-28\u683c\u5f0f\u7684\u6587\u4ef6","title":"\u521b\u5efa\u57fa\u4e8e\u5f53\u524d\u65e5\u671f\u7684\u6587\u4ef6"},{"location":"Linux-learning/linux%E6%95%B0%E6%8D%AE%E6%B5%81%E5%A4%84%E7%90%86%E6%8A%80%E5%B7%A7/#_2","text":"``\u7b49\u4ef7\u4e8e$() \u628a\u8981\u5f15\u7528\u7684\u503c\u7684\u547d\u4ee4\u653e\u5728``\u6216$()\u5185 grep -c '^>' maize.fa echo \"this file total have `grep -c '^>' maize.fa` sequence. echo \"this file total have $(grep -c '^>) maize.fa` sequence.","title":"\u628a\u4e00\u4e2a\u547d\u4ee4\u7684\u8f93\u51fa\u7ed3\u679c\u5d4c\u5165\u53e6\u4e00\u4e2a\u547d\u4ee4\u91cc"},{"location":"Linux-learning/linux%E6%95%B0%E6%8D%AE%E6%B5%81%E5%A4%84%E7%90%86%E6%8A%80%E5%B7%A7/#_3","text":"& nohup screen mv test1 test2 & \u7a0b\u5e8f\u540e\u53f0\u8fd0\u884c","title":"\u7a0b\u5e8f\u524d\u540e\u53f0\u8fd0\u884c"},{"location":"Linux-learning/linux%E6%95%B0%E6%8D%AE%E6%B5%81%E5%A4%84%E7%90%86%E6%8A%80%E5%B7%A7/#ctrlz","text":"bg %1 \u8fdb\u7a0b1\u540e\u53f0\u8fd0\u884c fg %1 \u8fdb\u7a0b1\u524d\u53f0\u8fd0\u884c","title":"\u7a0b\u5e8f\u8fd0\u884c\u540e\uff0c\u6309\u4e0bCTRL+Z\u6682\u505c\u7a0b\u5e8f\uff0c\u53ef\u4ee5\u7528\u5982\u4e0b\u7684\u547d\u4ee4\u5206\u522b\u7f6e\u7a0b\u5e8f\u4e8e\u540e\u53f0\u6216\u524d\u53f0\u8fd0\u884c\u3002"},{"location":"Linux-learning/linux%E6%95%B0%E6%8D%AE%E6%B5%81%E5%A4%84%E7%90%86%E6%8A%80%E5%B7%A7/#nuhup","text":"nuhup\u4f1a\u5411\u6807\u51c6\u8f93\u51fa\u6d41\u7684\u6587\u4ef6\u524d\u9762\u52a0\u4e0anohup\u7684log\u4fe1\u606f\uff0c\u6709\u4e9b\u540e\u7eed\u7a0b\u5e8f\u5728\u8fd0\u884cnohup\u6302\u8d77\u7684\u8f93\u51fa\u6587\u4ef6\u65f6\uff0c\u53ef\u80fd\u4f1a\u56e0\u4e3a\u5934\u90e8\u7684\u591a\u4f59\u4fe1\u606f\u800c\u62a5\u9519","title":"\u6216\u8005\u662fnuhup"},{"location":"Linux-learning/linux%E6%95%B0%E6%8D%AE%E6%B5%81%E5%A4%84%E7%90%86%E6%8A%80%E5%B7%A7/#screen","text":"screen\u662f\u65b0\u5f00\u7684\u5c4f\u5e55\uff0c\u53ef\u4ee5\u628ascreen\u6302\u8d77\u5230\u540e\u53f0\u7ee7\u7eed\u8fd0\u884c","title":"screen"},{"location":"Linux-learning/linux%E6%95%B0%E6%8D%AE%E6%B5%81%E5%A4%84%E7%90%86%E6%8A%80%E5%B7%A7/#pipeline","text":"echo analysis start at $(date +%x_%X) #\u8f93\u51fa\u7a0b\u5e8f\u5f00\u59cb\u7684\u65f6\u95f4 mkdir programe_result-$(date +%F) #\u521b\u5efa\u683c\u5f0f\u4e3a\u7a0b\u5e8f\u540d+\u65e5\u671f\u683c\u5f0f\u7684\u6587\u4ef6 nohup porgrame 2>./result-$(date +%F)/error-`date +%X` & #\u540e\u53f0\u8fd0\u884c\u7a0b\u5e8f\uff0c\u540c\u65f6\u5c06\u9519\u8bef\u8f93\u51fa\u6d41\u91cd\u5b9a\u5411\u5230\u4e0a\u9762\u65b0\u5efa\u7684\u6587\u4ef6\uff0c\u4ee5error+\u65f6\u95f4\u6765\u547d\u540d\u3002","title":"\u5e38\u89c4\u7a0b\u5e8fpipeline"},{"location":"Linux-learning/linux%E6%95%B0%E6%8D%AE%E6%B5%81%E5%A4%84%E7%90%86%E6%8A%80%E5%B7%A7/#_4","text":"&& \u524d\u4e00\u4e2a\u6267\u884c\u6210\u529f\u540e\uff0c\u518d\u6267\u884c\u540e\u4e00\u4e2a\u7a0b\u5e8f\u3002 || \u524d\u4e00\u4e2a\u6267\u884c\u5931\u8d25\u540e\uff0c\u518d\u6267\u884c\u540e\u4e00\u4e2a\u7a0b\u5e8f\u3002 ls -l nide.xs && find -a \"^>\" mide.fa ##\u524d\u4e00\u4e2a\u7a0b\u5e8f\u6210\u529f\u5c31\u6267\u884c\u540e\u7eed\u547d\u4ee4 cd test || mkdir test ##\u524d\u4e00\u4e2a\u547d\u4ee4\u6267\u884c\u9519\u8bef\u65f6\uff0c\u6267\u884c\u540e\u4e00\u4e2a\u547d\u4ee4\u3002 \u4f8b1\uff1a\u5982\u679c\u60f3\u628a\u5de5\u4f5c\u76ee\u5f55\u79fb\u5230\u8fd0\u884c\u73af\u5883\u7684result\u76ee\u5f55\uff0c\u5982\u679c\u4e0d\u5b58\u5728\u5219\u521b\u5efa\u8be5\u76ee\u5f55 cd result || mkdir result && cd result \u4f8b2\uff1a\u5982\u679c\u6267\u884c\u67d0\u4e2a\u547d\u4ee4\u51fa\u9519\uff0c\u5219\u62a5\u51fa\u9519\u8bef\u4f4d\u7f6e\u4fe1\u606f\u3002 samtools -sort index.fa || echo \"error in samtools\"","title":"\u7a0b\u5e8f\u7684\u8fdb\u7a0b\u63a7\u5236\u7528\u4e8e\u94fe\u5f0f\u7f16\u7a0b"},{"location":"Linux-learning/linux%E6%95%B0%E6%8D%AE%E6%B5%81%E5%A4%84%E7%90%86%E6%8A%80%E5%B7%A7/#time","text":"time command1","title":"time\u547d\u4ee4"},{"location":"Linux-learning/linux%E6%95%B0%E6%8D%AE%E6%B5%81%E5%A4%84%E7%90%86%E6%8A%80%E5%B7%A7/#_5","text":"nohup time java -jar picard.jar test 2>error-`date +%F &` nohup\u6302\u8d77\u7a0b\u5e8f time\u8ba1\u7b97\u7a0b\u5e8f\u8fd0\u884c\u65f6\u95f4 2>error-`date +%F` \u9519\u8bef\u4fe1\u606f\u91cd\u5b9a\u5411","title":"\u5b8c\u6574\u7684\u547d\u4ee4\u4f8b\u5b50\uff1a"},{"location":"Linux-learning/linux%E6%95%B0%E6%8D%AE%E6%B5%81%E5%A4%84%E7%90%86%E6%8A%80%E5%B7%A7/#_6","text":"\u76f8\u5bf9\u8def\u5f84 . \u6216 .. \u5f00\u5934\u7684\u8def\u5f84 \u7edd\u5bf9\u8def\u5f84 / \u6216\u5b57\u7b26\u5f00\u5934\u7684\u8def\u5f84","title":"\u8def\u5f84\u5c3d\u91cf\u4f7f\u7528\u76f8\u5bf9\u8def\u5f84"},{"location":"Linux-learning/linux%E6%95%B0%E6%8D%AE%E6%B5%81%E5%A4%84%E7%90%86%E6%8A%80%E5%B7%A7/#_7","text":"Python\u91cc\u9762\u662f assert() \uff0c\u800cR\u91cc\u9762\u662f stopifnot()","title":"\u4f7f\u7528\u65ad\u70b9"},{"location":"Linux-learning/linux%E6%95%B0%E6%8D%AE%E6%B5%81%E5%A4%84%E7%90%86%E6%8A%80%E5%B7%A7/#_8","text":"\u4f8b\u5982\u5f53\u524d\u76ee\u5f55\u6709\u4ee5\u4e0b\u6587\u4ef6\uff0c \u251c\u2500\u2500 NS-1.map.sam \u251c\u2500\u2500 NS-2.map.sam \u251c\u2500\u2500 NS-3.map.sam \u251c\u2500\u2500 WT-1.map.sam \u251c\u2500\u2500 WT-2.map.sam \u2514\u2500\u2500 WT-3.map.sam ls -lh {NS,WT}-{1..3}.map.sam \u53ef\u4ee5\u5339\u914d\u5230\u5f53\u524d\u76ee\u5f55\u6240\u6709\u7684\u6587\u4ef6\u3002","title":"\u4f7f\u7528\u6b63\u5219\u8868\u8fbe\u5f0f"},{"location":"Linux-learning/linux%E6%95%B0%E6%8D%AE%E6%B5%81%E5%A4%84%E7%90%86%E6%8A%80%E5%B7%A7/#_9","text":"\u4f7f\u7528\u6570\u5b57\u65f6\u5c3d\u91cf\u4f7f\u752801\uff0c001\u4ee3\u66ff1","title":"\u6570\u5b57\u547d\u540d"},{"location":"Linux-learning/linux%E6%95%B0%E6%8D%AE%E6%B5%81%E5%A4%84%E7%90%86%E6%8A%80%E5%B7%A7/#_10","text":"\u6ce8\u610f\u6587\u6863\u5e94\u8be5\u5305\u62ec\u4ee5\u4e0b\u5185\u5bb9\uff1a - \u7a0b\u5e8f\u529f\u80fd\u3001\u8fd0\u884c\u76ee\u5f55 - \u547d\u4ee4\u7684\u6240\u4f9d\u8d56\u7684\u7a0b\u5e8f\u6216\u5305\uff0c\u4ee5\u53ca\u5bf9\u5e94\u7684\u7248\u672c - \u4f5c\u8005\u4fe1\u606f\u3001\u65e5\u671f - \u811a\u672c\u7684\u6bcf\u4e00\u6b65\u5c3d\u91cf\u52a0\u4e0a\u6ce8\u91ca\u4fe1\u606f - \u5728readme\u4e2d\u8bf4\u660e\u8fd0\u884c\u76ee\u5f55\u7684\u6587\u4ef6\u7ed3\u6784\uff0c\u81ea\u5b9a\u4e49\u7684\u7279\u6b8a\u7684\u6587\u4ef6\u9700\u8981\u8bf4\u660e\u6570\u636e\u7c7b\u578b","title":"\u6bcf\u4e2a\u7a0b\u5e8f\u8981\u5199\u6587\u6863"},{"location":"Linux-learning/linux%E6%95%B0%E6%8D%AE%E6%B5%81%E5%A4%84%E7%90%86%E6%8A%80%E5%B7%A7/#_11","text":"\u51fd\u6570\u547d\u540d\u5c3d\u91cf\u7ed3\u5408\u529f\u80fd\u8fdb\u884c\u547d\u540d \u547d\u540d\u683c\u5f0f\u5c3d\u91cf\u7edf\u4e00\uff0c\u9a7c\u5cf0\u547d\u540d\uff08UesrName\uff09\u6216\u8005\u4e0b\u5212\u7ebf\u547d\u540d(user_name).\u6839\u636e\u9879\u76ee\u7ec4\u6216\u8005\u56e2\u961f\u6216\u8005\u4e2a\u4eba\u4e60\u60ef\u7edf\u4e00\u4f7f\u7528\u4e00\u79cd\u547d\u540d\u6cd5\u3002 \u4e2a\u4eba\u504f\u5411\u4e0b\u5212\u7ebf\u547d\u540d\u6cd5 \u53d8\u91cf\u548c\u51fd\u6570\u7684\u547d\u540d\u7684\u5b57\u7b26\u5c3d\u91cf\u4e0d\u8981\u592a\u957f","title":"\u53d8\u91cf\u6216\u51fd\u6570\u547d\u540d"},{"location":"Linux-learning/linux%E7%9A%84%E9%9A%90%E8%97%8F%E8%BF%9B%E7%A8%8B%E7%9A%84%E5%8F%91%E7%8E%B0/","text":"","title":"Linux\u7684\u9690\u85cf\u8fdb\u7a0b\u7684\u53d1\u73b0"},{"location":"Linux-learning/makedown%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/","text":"makedown\u57fa\u672c\u8bed\u6cd5 \u6807\u9898\u8bbe\u7f6e\uff08\u8ba9\u5b57\u4f53\u53d8\u5927\uff0c\u548cword\u7684\u6807\u9898\u610f\u601d\u4e00\u6837\uff09 \u5728Markdown\u5f53\u4e2d\u8bbe\u7f6e\u6807\u9898\uff0c\u6709\u4e24\u79cd\u65b9\u5f0f\uff1a \u7b2c\u4e00\u79cd\uff1a\u901a\u8fc7\u5728\u6587\u5b57\u4e0b\u65b9\u6dfb\u52a0\u201c=\u201d\u548c\u201c-\u201d\uff0c\u4ed6\u4eec\u5206\u522b\u8868\u793a\u4e00\u7ea7\u6807\u9898\u548c\u4e8c\u7ea7\u6807\u9898\u3002 \u7b2c\u4e8c\u79cd\uff1a\u5728\u6587\u5b57\u5f00\u5934\u52a0\u4e0a \u201c#\u201d\uff0c\u901a\u8fc7\u201c#\u201d\u6570\u91cf\u8868\u793a\u51e0\u7ea7\u6807\u9898\u3002\uff08\u4e00\u5171\u53ea\u67091~6\u7ea7\u6807\u9898\uff0c1\u7ea7\u6807\u9898\u5b57\u4f53\u6700\u5927\uff09 \u5757\u6ce8\u91ca\uff08blockquote\uff09 \u901a\u8fc7\u5728\u6587\u5b57\u5f00\u5934\u6dfb\u52a0\u201c>\u201d\u8868\u793a\u5757\u6ce8\u91ca\u3002\uff08\u5f53>\u548c\u6587\u5b57\u4e4b\u95f4\u6dfb\u52a0\u4e94\u4e2ablank\u65f6\uff0c\u5757\u6ce8\u91ca\u7684\u6587\u5b57\u4f1a\u6709\u53d8\u5316\u3002\uff09 \u659c\u4f53 \u5c06\u9700\u8981\u8bbe\u7f6e\u4e3a\u659c\u4f53\u7684\u6587\u5b57\u4e24\u7aef\u4f7f\u75281\u4e2a\u201c*\u201d\u6216\u8005\u201c_\u201d\u5939\u8d77\u6765 \u7c97\u4f53 \u5c06\u9700\u8981\u8bbe\u7f6e\u4e3a\u659c\u4f53\u7684\u6587\u5b57\u4e24\u7aef\u4f7f\u75282\u4e2a\u201c*\u201d\u6216\u8005\u201c_\u201d\u5939\u8d77\u6765 \u65e0\u5e8f\u5217\u8868 \u5728\u6587\u5b57\u5f00\u5934\u6dfb\u52a0( , +, and -)\u5b9e\u73b0\u65e0\u5e8f\u5217\u8868\u3002\u4f46\u662f\u8981\u6ce8\u610f\u5728( , +, and -)\u548c\u6587\u5b57\u4e4b\u95f4\u9700\u8981\u6dfb\u52a0\u7a7a\u683c\u3002\uff08\u5efa\u8bae\uff1a\u4e00\u4e2a\u6587\u6863\u4e2d\u53ea\u662f\u7528\u4e00\u79cd\u65e0\u5e8f\u5217\u8868\u7684\u8868\u793a\u65b9\u5f0f\uff09 \u6709\u5e8f\u5217\u8868 \u4f7f\u7528\u6570\u5b57\u540e\u9762\u8ddf\u4e0a\u53e5\u53f7\u3002\uff08\u8fd8\u8981\u6709\u7a7a\u683c\uff09 \u94fe\u63a5\uff08Links\uff09 Markdown\u4e2d\u6709\u4e24\u79cd\u65b9\u5f0f\uff0c\u5b9e\u73b0\u94fe\u63a5\uff0c\u5206\u522b\u4e3a\u5185\u8054\u65b9\u5f0f\u548c\u5f15\u7528\u65b9\u5f0f\u3002 \u5185\u8054\u65b9\u5f0f\uff1aThis is an example link . \u5f15\u7528\u65b9\u5f0f\uff1a I get 10 times more traffic from [Google][1] than from [Yahoo][2] or [MSN][3]. [1]: http://google.com/ \"Google\" [2]: http://search.yahoo.com/ \"Yahoo Search\" [3]: http://search.msn.com/ \"MSN Search\" \u56fe\u7247\uff08Images\uff09 \u56fe\u7247\u7684\u5904\u7406\u65b9\u5f0f\u548c\u94fe\u63a5\u7684\u5904\u7406\u65b9\u5f0f\uff0c\u975e\u5e38\u7684\u7c7b\u4f3c\u3002 \u5185\u8054\u65b9\u5f0f\uff1a .(image-d34a8b-1560263269850)] \u5f15\u7528\u65b9\u5f0f\uff1a ![alt text][id] [id]: /path/to/img.jpg \"Title\" \u4ee3\u7801\uff08HTML\u4e2d\u6240\u8c13\u7684Code\uff09 \u5b9e\u73b0\u65b9\u5f0f\u6709\u4e24\u79cd\uff1a \u7b2c\u4e00\u79cd\uff1a\u7b80\u5355\u6587\u5b57\u51fa\u73b0\u4e00\u4e2a\u4ee3\u7801\u6846\u3002\u4f7f\u7528 \u3002\uff08 \u4e0d\u662f\u5355\u5f15\u53f7\u800c\u662f\u5de6\u4e0a\u89d2\u7684ESC\u4e0b\u9762~\u4e2d\u7684 \uff09 \u7b2c\u4e8c\u79cd\uff1a\u5927\u7247\u6587\u5b57\u9700\u8981\u5b9e\u73b0\u4ee3\u7801\u6846\u3002\u4f7f\u7528Tab\u548c\u56db\u4e2a\u7a7a\u683c\u3002 \u811a\u6ce8\uff08footnote\uff09 \u5b9e\u73b0\u65b9\u5f0f\u5982\u4e0b\uff1a hello[^hello] [^hello]: hi \u4e0b\u5212\u7ebf \u5728\u7a7a\u767d\u884c\u4e0b\u65b9\u6dfb\u52a0\u4e09\u6761\u201c-\u201d\u6a2a\u7ebf\u3002\uff08\u524d\u9762\u8bb2\u8fc7\u5728\u6587\u5b57\u4e0b\u65b9\u6dfb\u52a0\u201c-\u201d\uff0c\u5b9e\u73b0\u76842\u7ea7\u6807\u9898\uff09","title":"Makedown\u57fa\u672c\u8bed\u6cd5"},{"location":"Linux-learning/makedown%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/#makedown","text":"\u6807\u9898\u8bbe\u7f6e\uff08\u8ba9\u5b57\u4f53\u53d8\u5927\uff0c\u548cword\u7684\u6807\u9898\u610f\u601d\u4e00\u6837\uff09 \u5728Markdown\u5f53\u4e2d\u8bbe\u7f6e\u6807\u9898\uff0c\u6709\u4e24\u79cd\u65b9\u5f0f\uff1a \u7b2c\u4e00\u79cd\uff1a\u901a\u8fc7\u5728\u6587\u5b57\u4e0b\u65b9\u6dfb\u52a0\u201c=\u201d\u548c\u201c-\u201d\uff0c\u4ed6\u4eec\u5206\u522b\u8868\u793a\u4e00\u7ea7\u6807\u9898\u548c\u4e8c\u7ea7\u6807\u9898\u3002 \u7b2c\u4e8c\u79cd\uff1a\u5728\u6587\u5b57\u5f00\u5934\u52a0\u4e0a \u201c#\u201d\uff0c\u901a\u8fc7\u201c#\u201d\u6570\u91cf\u8868\u793a\u51e0\u7ea7\u6807\u9898\u3002\uff08\u4e00\u5171\u53ea\u67091~6\u7ea7\u6807\u9898\uff0c1\u7ea7\u6807\u9898\u5b57\u4f53\u6700\u5927\uff09 \u5757\u6ce8\u91ca\uff08blockquote\uff09 \u901a\u8fc7\u5728\u6587\u5b57\u5f00\u5934\u6dfb\u52a0\u201c>\u201d\u8868\u793a\u5757\u6ce8\u91ca\u3002\uff08\u5f53>\u548c\u6587\u5b57\u4e4b\u95f4\u6dfb\u52a0\u4e94\u4e2ablank\u65f6\uff0c\u5757\u6ce8\u91ca\u7684\u6587\u5b57\u4f1a\u6709\u53d8\u5316\u3002\uff09 \u659c\u4f53 \u5c06\u9700\u8981\u8bbe\u7f6e\u4e3a\u659c\u4f53\u7684\u6587\u5b57\u4e24\u7aef\u4f7f\u75281\u4e2a\u201c*\u201d\u6216\u8005\u201c_\u201d\u5939\u8d77\u6765 \u7c97\u4f53 \u5c06\u9700\u8981\u8bbe\u7f6e\u4e3a\u659c\u4f53\u7684\u6587\u5b57\u4e24\u7aef\u4f7f\u75282\u4e2a\u201c*\u201d\u6216\u8005\u201c_\u201d\u5939\u8d77\u6765 \u65e0\u5e8f\u5217\u8868 \u5728\u6587\u5b57\u5f00\u5934\u6dfb\u52a0( , +, and -)\u5b9e\u73b0\u65e0\u5e8f\u5217\u8868\u3002\u4f46\u662f\u8981\u6ce8\u610f\u5728( , +, and -)\u548c\u6587\u5b57\u4e4b\u95f4\u9700\u8981\u6dfb\u52a0\u7a7a\u683c\u3002\uff08\u5efa\u8bae\uff1a\u4e00\u4e2a\u6587\u6863\u4e2d\u53ea\u662f\u7528\u4e00\u79cd\u65e0\u5e8f\u5217\u8868\u7684\u8868\u793a\u65b9\u5f0f\uff09 \u6709\u5e8f\u5217\u8868 \u4f7f\u7528\u6570\u5b57\u540e\u9762\u8ddf\u4e0a\u53e5\u53f7\u3002\uff08\u8fd8\u8981\u6709\u7a7a\u683c\uff09 \u94fe\u63a5\uff08Links\uff09 Markdown\u4e2d\u6709\u4e24\u79cd\u65b9\u5f0f\uff0c\u5b9e\u73b0\u94fe\u63a5\uff0c\u5206\u522b\u4e3a\u5185\u8054\u65b9\u5f0f\u548c\u5f15\u7528\u65b9\u5f0f\u3002 \u5185\u8054\u65b9\u5f0f\uff1aThis is an example link . \u5f15\u7528\u65b9\u5f0f\uff1a I get 10 times more traffic from [Google][1] than from [Yahoo][2] or [MSN][3]. [1]: http://google.com/ \"Google\" [2]: http://search.yahoo.com/ \"Yahoo Search\" [3]: http://search.msn.com/ \"MSN Search\" \u56fe\u7247\uff08Images\uff09 \u56fe\u7247\u7684\u5904\u7406\u65b9\u5f0f\u548c\u94fe\u63a5\u7684\u5904\u7406\u65b9\u5f0f\uff0c\u975e\u5e38\u7684\u7c7b\u4f3c\u3002 \u5185\u8054\u65b9\u5f0f\uff1a .(image-d34a8b-1560263269850)] \u5f15\u7528\u65b9\u5f0f\uff1a ![alt text][id] [id]: /path/to/img.jpg \"Title\" \u4ee3\u7801\uff08HTML\u4e2d\u6240\u8c13\u7684Code\uff09 \u5b9e\u73b0\u65b9\u5f0f\u6709\u4e24\u79cd\uff1a \u7b2c\u4e00\u79cd\uff1a\u7b80\u5355\u6587\u5b57\u51fa\u73b0\u4e00\u4e2a\u4ee3\u7801\u6846\u3002\u4f7f\u7528 \u3002\uff08 \u4e0d\u662f\u5355\u5f15\u53f7\u800c\u662f\u5de6\u4e0a\u89d2\u7684ESC\u4e0b\u9762~\u4e2d\u7684 \uff09 \u7b2c\u4e8c\u79cd\uff1a\u5927\u7247\u6587\u5b57\u9700\u8981\u5b9e\u73b0\u4ee3\u7801\u6846\u3002\u4f7f\u7528Tab\u548c\u56db\u4e2a\u7a7a\u683c\u3002 \u811a\u6ce8\uff08footnote\uff09 \u5b9e\u73b0\u65b9\u5f0f\u5982\u4e0b\uff1a hello[^hello] [^hello]: hi \u4e0b\u5212\u7ebf \u5728\u7a7a\u767d\u884c\u4e0b\u65b9\u6dfb\u52a0\u4e09\u6761\u201c-\u201d\u6a2a\u7ebf\u3002\uff08\u524d\u9762\u8bb2\u8fc7\u5728\u6587\u5b57\u4e0b\u65b9\u6dfb\u52a0\u201c-\u201d\uff0c\u5b9e\u73b0\u76842\u7ea7\u6807\u9898\uff09","title":"makedown\u57fa\u672c\u8bed\u6cd5"},{"location":"Linux-learning/qsub%E4%BB%BB%E5%8A%A1%E6%8F%90%E4%BA%A4%E7%B3%BB%E7%BB%9F/","text":"qsub\u7cfb\u7edf\u9002\u7528\u4e8e\u670d\u52a1\u5668\u96c6\u7fa4\u7684\u4efb\u52a1\u63d0\u4ea4 \u53c2\u8003\u5730\u5740 qsub\u63d0\u4ea4\u7cfb\u7edf\u4f7f\u7528\u8bf4\u660e \u8fd0\u884c\u547d\u4ee4 qsub run.s PBS\u7684walltime\u4e8eqsub -a \u7684\u65f6\u95f4\u683c\u5f0f\u662f\u4e0d\u4e00\u6837\u7684 #PBS -l walltime=296:00:00 \u8fd9\u662f\u8bbe\u7f6e\u7a0b\u5e8f\u6700\u5927\u8fd0\u884c\u65f6\u95f4\u4e3a296\u5c0f\u65f6\u3002\u8fd9\u4e2a\u65f6\u95f4\u4e0d\u4e00\u5b9a\u4e25\u683c\u8981\u6c42\u662f\u6bcf\u7ea72\u4e2a\u5b57\u7b26\uff0c\u540c\u65f6\u9ed8\u8ba4\u7684\u6700\u4f4e\u7ea7\u662f\u79d2\u3002 \u5236\u5b9a\u547d\u4ee4\u5f00\u59cb\u8fd0\u884c\u7684\u65f6\u95f419\u5c0f\u65f605\u5206\u949f qsub -a 1905 run.s qsub -a\u53c2\u6570\u8be6\u89e3 \u9ed8\u8ba4\u662f[[[YY]MM]DD]hhmm[.ss]\u5bf9\u5e94\u5e74\u6708\u65e5\u65f6\u5206\u79d2\uff0c\u6bcf\u4e00\u7ea72\u4e2a\u5b57\u7b26\u3002 \u6b63\u786e\u7684\u5199\u6cd5 \u4f8b\u5982\uff1a qusb -a 070000 run.s #7\u5929\u540e\u8fd0\u884c\u7a0b\u5e8f\uff0c\u6b64\u65f6\u662f\u5904\u4e8eW\u72b6\u6001(\u7b49\u5f85\u72b6\u6001) qsub -a 2400 run.s #24h\u540e\u8fd0\u884c\u7a0b\u5e8f \u8fd0\u884c\u547d\u4ee4\u524d\u4fee\u6539run.s\u91cc\u9762\u7684\u5de5\u4f5c\u8def\u5f84\u548csh\u811a\u672c\u540d\u79f0 sh\u811a\u672c\u662f\u771f\u6b63\u9700\u8981\u8fd0\u884c\u7684\u547d\u4ee4 #\u53c2\u6570\u89e3\u6790 #\u6307\u5b9a\u8282\u70b9\u6570\u76ee ppn\u6307\u6bcf\u4e2a\u8282\u70b9\u8fd0\u884c\u7684cpu\u6570\u91cf\uff084\u4e2a\u5c0f\u8282\u70b9\uff0c\u6bcf\u4e2a48\u4e2aCPU\uff09 #PBS -l nodes=1:ppn=16 #\u6307\u5b9a\u5408\u5e76\u5230\u6807\u51c6\u8f93\u51fa\u6587\u4ef6\u4e2d #PBS -j oe #\u8bbe\u7f6e\u7a0b\u5e8f\u8fd0\u884c\u7684\u6700\u5927\u65f6\u95f4192\u5c0f\u65f6 #PBS -l walltime=192:00:00 #\u6307\u5b9aqsub\u7684\u6240\u6709\u73af\u5883\u53d8\u91cf\u90fd\u4f20\u9012\u5230\u6279\u5904\u7406\u4f5c\u4e1a\u4e2d #PBS -V #\u8f93\u51fa\u6587\u4ef6 #PBS -o /public/home/tang/chaim/back_info/$jobname.out #\u9519\u8bef\u8f93\u51fa\u6587\u4ef6 #PBS -e /public/home/tang/chaim/back_info/$jobname.err \u67e5\u770b\u72b6\u6001qstat #\u67e5\u8be2\u5df2\u7ecf\u914d\u7f6e\u7684\u6240\u6709\u8282\u70b9\u6c60\u72b6\u6001\u4fe1\u606f qstat -q #\u663e\u793a\u5df2\u7ecf\u63d0\u4ea4\u7684\u4f5c\u4e1a\u72b6\u6001\u4fe1\u606f qstat -a #\u663e\u793a\u5236\u5b9a\u4f5c\u4e1a\u7684\u6240\u6709\u72b6\u6001\u4fe1\u606f qstat -f 23.console #\u663e\u793a\u670d\u52a1\u5668\u72b6\u6001 qstat -B #\u67e5\u770b\u6307\u5b9a\u4efb\u52a1\u7684\u8fd0\u884c\u60c5\u51b5 qstat -f 1354 #\u67e5\u770b\u4efb\u52a1id\u4e3a1354\u7684\u8be6\u7ec6\u4fe1\u606f #\u67e5\u770b\u670d\u52a1\u5668\u7a7a\u95f2\u8282\u70b9 pbsnodes -l free #\u67e5\u770b\u6240\u6709\u8282\u70b9\u8fd0\u884c\u60c5\u51b5 pbsnodes #\u67e5\u770b\u7528\u6237\u6240\u63d0\u4ea4\u7684\u4f5c\u4e1a qsub -q long run.s #\u5220\u9664\u4efb\u52a1 qdel 1305 qdel -u mei #\u5220\u9664mei\u8fd9\u4e2a\u7528\u6237\u7684\u6240\u6709\u4efb\u52a1 #\u67e5\u770b\u7528\u6237\u8fdb\u7a0b qstat -u * #\u6240\u6709\u7528\u6237\u7684\u4efb\u52a1 qstat -u username #\u67e5\u770b\u6307\u5b9a\u7528\u6237\u4efb\u52a1 qstat -j 1308 #\u67e5\u770b\u4efb\u52a11308\uff08id\u53f7\uff09\u7684\u8be6\u7ec6\u4fe1\u606f #\u6302\u8d77\u8fdb\u7a0b qmod -s 1323 #\u6302\u8d771323\u4efb\u52a1 #\u7ee7\u7eed\u8fd0\u884c\u67d0\u4e2a\u6302\u8d77\u7684\u4efb\u52a1 qmod -us 1323 qstat Job id Name User Time Use S Queue \u2014\u2014\u2014\u2014\u2014- \u2014\u2014\u2014\u2014\u2014- \u2014\u2014\u2014\u2014\u2014- \u2014\u2014\u2014\u2014 \u2014\u2014 1305.node100 test tang 0 R small \u5176\u4e2d\uff0cJob id \u662f\u4efb\u52a1\u7684\u6807\u8bc6\u7b26\uff0cName \u662f\u4efb\u52a1\u540d\u79f0\uff0cUser\u662f\u4efb\u52a1\u6240\u6709\u8005\uff0cTime Use \u662fCPU\u4f7f\u7528\u65f6\u95f4\uff0cS \u662f\u4efb\u52a1\u5f53\u524d\u72b6\u6001\uff08\u672c\u4f8b\u4e2d R\u8868\u793a\u6b63\u5728\u8fd0\u884c\uff09\uff0cQueue\u8868\u793a\u4efb\u52a1\u6240\u5728\u961f\u5217\u3002\u4efb\u52a1\u7684\u72b6\u6001\u5982\u4e0b\uff1a * B \u53ea\u7528\u4e8e\u4efb\u52a1\u5411\u91cf\uff0c\u8868\u793a\u4efb\u52a1\u5411\u91cf\u5df2\u7ecf\u5f00\u59cb\u6267\u884c * E \u4efb\u52a1\u5728\u8fd0\u884c\u540e\u9000\u51fa * H \u4efb\u52a1\u88ab\u670d\u52a1\u5668\u6216\u7528\u6237\u6216\u8005\u7ba1\u7406\u5458\u963b\u585e * Q \u4efb\u52a1\u6b63\u5728\u6392\u961f\u4e2d\uff0c\u7b49\u5f85\u88ab\u8c03\u5ea6\u8fd0\u884c * R \u4efb\u52a1\u6b63\u5728\u8fd0\u884c * S \u4efb\u52a1\u88ab\u670d\u52a1\u5668\u6302\u8d77\uff0c\u7531\u4e8e\u4e00\u4e2a\u66f4\u9ad8\u4f18\u5148\u7ea7\u7684\u4efb\u52a1\u9700\u8981\u5f53\u524d\u4efb\u52a1\u7684\u8d44\u6e90 * T \u4efb\u52a1\u88ab\u8f6c\u79fb\u5230\u5176\u5b83\u6267\u884c\u8282\u70b9\u4e86 * U \u7531\u4e8e\u670d\u52a1\u5668\u7e41\u5fd9\uff0c\u4efb\u52a1\u88ab\u6302\u8d77 * W \u4efb\u52a1\u5728\u7b49\u5f85\u5b83\u6240\u8bf7\u6c42\u7684\u6267\u884c\u65f6\u95f4\u7684\u5230\u6765(qsub -a) * X \u53ea\u7528\u4e8e\u5b50\u4efb\u52a1\uff0c\u8868\u793a\u5b50\u4efb\u52a1\u5b8c\u6210 * C \u8868\u793a\u7a0b\u5e8f\u6b63\u5728\u88ab\u5173\u95ed\uff0c\u4e00\u822c\u662f\u7a0b\u5e8f\u8fd0\u884c\u9519\u8bef\uff0c\u62a5\u9519\u3002 \u5728PBS\u7684\u53c2\u6570\u8bbe\u7f6e\u65f6\uff0c\u4e0d\u8981\u4f7f\u7528\u53d8\u91cf\uff0c\u6211\u4f7f\u7528\u53d8\u91cf\uff0c\u7ed3\u679c\u662f\u53c2\u6570\u65e0\u6548\u3002","title":"Qsub\u4efb\u52a1\u63d0\u4ea4\u7cfb\u7edf"},{"location":"Linux-learning/qsub%E4%BB%BB%E5%8A%A1%E6%8F%90%E4%BA%A4%E7%B3%BB%E7%BB%9F/#qsub","text":"","title":"qsub\u63d0\u4ea4\u7cfb\u7edf\u4f7f\u7528\u8bf4\u660e"},{"location":"Linux-learning/qsub%E4%BB%BB%E5%8A%A1%E6%8F%90%E4%BA%A4%E7%B3%BB%E7%BB%9F/#_1","text":"qsub run.s","title":"\u8fd0\u884c\u547d\u4ee4"},{"location":"Linux-learning/qsub%E4%BB%BB%E5%8A%A1%E6%8F%90%E4%BA%A4%E7%B3%BB%E7%BB%9F/#pbswalltimeqsub-a","text":"#PBS -l walltime=296:00:00 \u8fd9\u662f\u8bbe\u7f6e\u7a0b\u5e8f\u6700\u5927\u8fd0\u884c\u65f6\u95f4\u4e3a296\u5c0f\u65f6\u3002\u8fd9\u4e2a\u65f6\u95f4\u4e0d\u4e00\u5b9a\u4e25\u683c\u8981\u6c42\u662f\u6bcf\u7ea72\u4e2a\u5b57\u7b26\uff0c\u540c\u65f6\u9ed8\u8ba4\u7684\u6700\u4f4e\u7ea7\u662f\u79d2\u3002","title":"PBS\u7684walltime\u4e8eqsub -a \u7684\u65f6\u95f4\u683c\u5f0f\u662f\u4e0d\u4e00\u6837\u7684"},{"location":"Linux-learning/qsub%E4%BB%BB%E5%8A%A1%E6%8F%90%E4%BA%A4%E7%B3%BB%E7%BB%9F/#1905","text":"qsub -a 1905 run.s qsub -a\u53c2\u6570\u8be6\u89e3 \u9ed8\u8ba4\u662f[[[YY]MM]DD]hhmm[.ss]\u5bf9\u5e94\u5e74\u6708\u65e5\u65f6\u5206\u79d2\uff0c\u6bcf\u4e00\u7ea72\u4e2a\u5b57\u7b26\u3002 \u6b63\u786e\u7684\u5199\u6cd5 \u4f8b\u5982\uff1a qusb -a 070000 run.s #7\u5929\u540e\u8fd0\u884c\u7a0b\u5e8f\uff0c\u6b64\u65f6\u662f\u5904\u4e8eW\u72b6\u6001(\u7b49\u5f85\u72b6\u6001) qsub -a 2400 run.s #24h\u540e\u8fd0\u884c\u7a0b\u5e8f","title":"\u5236\u5b9a\u547d\u4ee4\u5f00\u59cb\u8fd0\u884c\u7684\u65f6\u95f419\u5c0f\u65f605\u5206\u949f"},{"location":"Linux-learning/qsub%E4%BB%BB%E5%8A%A1%E6%8F%90%E4%BA%A4%E7%B3%BB%E7%BB%9F/#runssh","text":"","title":"\u8fd0\u884c\u547d\u4ee4\u524d\u4fee\u6539run.s\u91cc\u9762\u7684\u5de5\u4f5c\u8def\u5f84\u548csh\u811a\u672c\u540d\u79f0"},{"location":"Linux-learning/qsub%E4%BB%BB%E5%8A%A1%E6%8F%90%E4%BA%A4%E7%B3%BB%E7%BB%9F/#sh","text":"#\u53c2\u6570\u89e3\u6790 #\u6307\u5b9a\u8282\u70b9\u6570\u76ee ppn\u6307\u6bcf\u4e2a\u8282\u70b9\u8fd0\u884c\u7684cpu\u6570\u91cf\uff084\u4e2a\u5c0f\u8282\u70b9\uff0c\u6bcf\u4e2a48\u4e2aCPU\uff09 #PBS -l nodes=1:ppn=16 #\u6307\u5b9a\u5408\u5e76\u5230\u6807\u51c6\u8f93\u51fa\u6587\u4ef6\u4e2d #PBS -j oe #\u8bbe\u7f6e\u7a0b\u5e8f\u8fd0\u884c\u7684\u6700\u5927\u65f6\u95f4192\u5c0f\u65f6 #PBS -l walltime=192:00:00 #\u6307\u5b9aqsub\u7684\u6240\u6709\u73af\u5883\u53d8\u91cf\u90fd\u4f20\u9012\u5230\u6279\u5904\u7406\u4f5c\u4e1a\u4e2d #PBS -V #\u8f93\u51fa\u6587\u4ef6 #PBS -o /public/home/tang/chaim/back_info/$jobname.out #\u9519\u8bef\u8f93\u51fa\u6587\u4ef6 #PBS -e /public/home/tang/chaim/back_info/$jobname.err","title":"sh\u811a\u672c\u662f\u771f\u6b63\u9700\u8981\u8fd0\u884c\u7684\u547d\u4ee4"},{"location":"Linux-learning/qsub%E4%BB%BB%E5%8A%A1%E6%8F%90%E4%BA%A4%E7%B3%BB%E7%BB%9F/#qstat","text":"#\u67e5\u8be2\u5df2\u7ecf\u914d\u7f6e\u7684\u6240\u6709\u8282\u70b9\u6c60\u72b6\u6001\u4fe1\u606f qstat -q #\u663e\u793a\u5df2\u7ecf\u63d0\u4ea4\u7684\u4f5c\u4e1a\u72b6\u6001\u4fe1\u606f qstat -a #\u663e\u793a\u5236\u5b9a\u4f5c\u4e1a\u7684\u6240\u6709\u72b6\u6001\u4fe1\u606f qstat -f 23.console #\u663e\u793a\u670d\u52a1\u5668\u72b6\u6001 qstat -B #\u67e5\u770b\u6307\u5b9a\u4efb\u52a1\u7684\u8fd0\u884c\u60c5\u51b5 qstat -f 1354 #\u67e5\u770b\u4efb\u52a1id\u4e3a1354\u7684\u8be6\u7ec6\u4fe1\u606f #\u67e5\u770b\u670d\u52a1\u5668\u7a7a\u95f2\u8282\u70b9 pbsnodes -l free #\u67e5\u770b\u6240\u6709\u8282\u70b9\u8fd0\u884c\u60c5\u51b5 pbsnodes #\u67e5\u770b\u7528\u6237\u6240\u63d0\u4ea4\u7684\u4f5c\u4e1a qsub -q long run.s #\u5220\u9664\u4efb\u52a1 qdel 1305 qdel -u mei #\u5220\u9664mei\u8fd9\u4e2a\u7528\u6237\u7684\u6240\u6709\u4efb\u52a1 #\u67e5\u770b\u7528\u6237\u8fdb\u7a0b qstat -u * #\u6240\u6709\u7528\u6237\u7684\u4efb\u52a1 qstat -u username #\u67e5\u770b\u6307\u5b9a\u7528\u6237\u4efb\u52a1 qstat -j 1308 #\u67e5\u770b\u4efb\u52a11308\uff08id\u53f7\uff09\u7684\u8be6\u7ec6\u4fe1\u606f #\u6302\u8d77\u8fdb\u7a0b qmod -s 1323 #\u6302\u8d771323\u4efb\u52a1 #\u7ee7\u7eed\u8fd0\u884c\u67d0\u4e2a\u6302\u8d77\u7684\u4efb\u52a1 qmod -us 1323 qstat Job id Name User Time Use S Queue \u2014\u2014\u2014\u2014\u2014- \u2014\u2014\u2014\u2014\u2014- \u2014\u2014\u2014\u2014\u2014- \u2014\u2014\u2014\u2014 \u2014\u2014 1305.node100 test tang 0 R small \u5176\u4e2d\uff0cJob id \u662f\u4efb\u52a1\u7684\u6807\u8bc6\u7b26\uff0cName \u662f\u4efb\u52a1\u540d\u79f0\uff0cUser\u662f\u4efb\u52a1\u6240\u6709\u8005\uff0cTime Use \u662fCPU\u4f7f\u7528\u65f6\u95f4\uff0cS \u662f\u4efb\u52a1\u5f53\u524d\u72b6\u6001\uff08\u672c\u4f8b\u4e2d R\u8868\u793a\u6b63\u5728\u8fd0\u884c\uff09\uff0cQueue\u8868\u793a\u4efb\u52a1\u6240\u5728\u961f\u5217\u3002\u4efb\u52a1\u7684\u72b6\u6001\u5982\u4e0b\uff1a * B \u53ea\u7528\u4e8e\u4efb\u52a1\u5411\u91cf\uff0c\u8868\u793a\u4efb\u52a1\u5411\u91cf\u5df2\u7ecf\u5f00\u59cb\u6267\u884c * E \u4efb\u52a1\u5728\u8fd0\u884c\u540e\u9000\u51fa * H \u4efb\u52a1\u88ab\u670d\u52a1\u5668\u6216\u7528\u6237\u6216\u8005\u7ba1\u7406\u5458\u963b\u585e * Q \u4efb\u52a1\u6b63\u5728\u6392\u961f\u4e2d\uff0c\u7b49\u5f85\u88ab\u8c03\u5ea6\u8fd0\u884c * R \u4efb\u52a1\u6b63\u5728\u8fd0\u884c * S \u4efb\u52a1\u88ab\u670d\u52a1\u5668\u6302\u8d77\uff0c\u7531\u4e8e\u4e00\u4e2a\u66f4\u9ad8\u4f18\u5148\u7ea7\u7684\u4efb\u52a1\u9700\u8981\u5f53\u524d\u4efb\u52a1\u7684\u8d44\u6e90 * T \u4efb\u52a1\u88ab\u8f6c\u79fb\u5230\u5176\u5b83\u6267\u884c\u8282\u70b9\u4e86 * U \u7531\u4e8e\u670d\u52a1\u5668\u7e41\u5fd9\uff0c\u4efb\u52a1\u88ab\u6302\u8d77 * W \u4efb\u52a1\u5728\u7b49\u5f85\u5b83\u6240\u8bf7\u6c42\u7684\u6267\u884c\u65f6\u95f4\u7684\u5230\u6765(qsub -a) * X \u53ea\u7528\u4e8e\u5b50\u4efb\u52a1\uff0c\u8868\u793a\u5b50\u4efb\u52a1\u5b8c\u6210 * C \u8868\u793a\u7a0b\u5e8f\u6b63\u5728\u88ab\u5173\u95ed\uff0c\u4e00\u822c\u662f\u7a0b\u5e8f\u8fd0\u884c\u9519\u8bef\uff0c\u62a5\u9519\u3002 \u5728PBS\u7684\u53c2\u6570\u8bbe\u7f6e\u65f6\uff0c\u4e0d\u8981\u4f7f\u7528\u53d8\u91cf\uff0c\u6211\u4f7f\u7528\u53d8\u91cf\uff0c\u7ed3\u679c\u662f\u53c2\u6570\u65e0\u6548\u3002","title":"\u67e5\u770b\u72b6\u6001qstat"},{"location":"Linux-learning/shell%E6%93%8D%E4%BD%9C%E5%90%88%E5%B9%B6%E5%9B%BE%E7%89%87%E4%B8%BApdf/","text":"1.\u5b89\u88c5\u4e24\u4e2a\u8f6f\u4ef6 sudo apt install imagemagick-6.q16 #\u7528\u4e8e\u56fe\u7247\u8f6cpdf sudo apt install poppler-utils #\u7528\u4e8e\u5408\u5e76pdf 2.\u770b\u4e0b\u76ee\u5f55\u7ed3\u6784 tree \u251c\u2500\u2500 1.jpg \u251c\u2500\u2500 2.jpg \u251c\u2500\u2500 3.jpg 3.\u4f7f\u7528 3.1 \u6240\u6709\u7167\u7247\u65cb\u8f6c90\u5ea6 find *.jpg -exec convert -rotate 90 {} {} \\; 3.2 \u6240\u6709\u7167\u7247\u8f6c\u6362\u6210pdf find *.jpg -exec convert {} {}.pdf \\; 3.3 \u5408\u5e76\u6240\u6709pdf\u5230\u4e00\u4e2apdf\u6587\u4ef6 pdfunite *.pdf all.pdf","title":"Shell\u64cd\u4f5c\u5408\u5e76\u56fe\u7247\u4e3apdf"},{"location":"Linux-learning/shell%E8%84%9A%E6%9C%AC%E7%9A%84%E7%BC%96%E5%86%99/","text":"\u9274\u4e8eshell\u7684\u9ad8\u6548\u3001\u901a\u7528\uff0c\u4f7f\u7528shell\u7f16\u5199\u811a\u672c\u5b9e\u73b0\u65e5\u5e38\u4f7f\u7528\u7684\u4e00\u4e9b\u5c0f\u529f\u80fd\u3002 \u5904\u7406\u751f\u6210\u6587\u4ef6\u7684\u95ee\u9898 \u5f3a\u70c8\u5efa\u8bae\uff0c\u5728\u751f\u6210\u6587\u4ef6\u4e4b\u524d\uff0c\u5148\u68c0\u6d4b\u6587\u4ef6\u662f\u5426\u5b58\u5728\uff0c\u5982\u679c\u5b58\u5728\u5c31\u5220\u9664\u8fd9\u4e2a\u6587\u4ef6\u3002\u5bf9\u4e8e\u4f7f\u7528\u7ba1\u9053\u7b26 > \u6307\u5b9a\u8f93\u51fa\u6587\u4ef6\u65f6\uff0c\u8bf7\u4e00\u5b9a\u5148\u68c0\u67e5\u6587\u4ef6\u662f\u5426\u5b58\u5728\u3002 \u73b0\u5728\u8bb8\u591a\u7a0b\u5e8f\u8fd0\u884c\u53ef\u80fd\u51fa\u9519\uff0c\u9700\u8981\u91cd\u65b0\u8fd0\u884c\uff0c\u4f46\u662f\u7528\u6237\u57fa\u672c\u4e0d\u4f1a\u624b\u52a8\u5220\u9664\u5148\u524d\u751f\u6210\u7684\u9519\u8bef\u7684\u6587\u4ef6\uff0c\u6240\u4ee5\u6211\u4eec\u5728\u8f93\u51fa\u5230\u6587\u4ef6\u4e4b\u524d\uff0c\u8981\u5148\u68c0\u6d4b\u4e4b\u524d\u662f\u5426\u5b58\u5728 \u8f93\u51fa\u6587\u4ef6\u524d\uff0c\u53ef\u4ee5\u8bf7\u4f7f\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u68c0\u6d4b\u662f\u5426\u5b58\u5728\u8be5\u6587\u4ef6\u3002 #\u68c0\u6d4b\u662f\u5426\u5b58\u5728\u8be5\u6587\u4ef6\uff0c\u5982\u679c\u6709\uff0c\u5219\u81ea\u52a8\u5220\u9664\u65e7\u7248\u672c if [ -e $output ]; then echo \"\u4e4b\u524d\u5b58\u5728\u6587\u4ef6$output,\u81ea\u52a8\u5220\u9664\u65e7\u7248\u672c\u3002\" rm -rf $output fi 1.\u7f16\u5199\u524d\u5fc5\u77e5\u7684\u7f16\u5199\u89c4\u8303 #!/bin/bash ##debug set -x #\u76f4\u63a5\u8f93\u51fa\u6bcf\u6b21\u6267\u884c\u7684\u547d\u4ee4 set -e #\u7a0b\u5e8f\u5f02\u5e38\u7ed3\u675f\u65f6\u5019\uff0c\u8f93\u51fa\u9519\u8bef\u3002 1.1 shell\u811a\u672c\u5f00\u5934\u5982\u4e0a\u4e09\u884c\u3002 1.2 \u68c0\u67e5shell\u811a\u672c\u53ef\u4ee5\u4f7f\u7528 shellcheck , sudo apt-get install shellcheck shellcheck test.sh #\u68c0\u6d4btest.sh\u7684\u8bed\u6cd5\u662f\u5426\u6b63\u786e\u3002 1.3 \u5728bash\uff0c\u5982\u679c\u4e0d\u52a0 local \u9650\u5b9a\u8bcd\uff0c\u53d8\u91cf\u9ed8\u8ba4\u90fd\u662f\u5168\u5c40\u7684\u3002 \u5bf9\u4e8e\u5728\u51fd\u6570\u5185\u58f0\u660e\u7684\u53d8\u91cf\uff0c\u8bf7\u52a1\u5fc5\u8bb0\u5f97\u52a0\u4e0a local \u9650\u5b9a\u8bcd\u3002 1.4 trap\u51fd\u6570\u7684\u4f7f\u7528 \u5bf9\u4e8e\u7a0b\u5e8f\u7ed3\u675f\u7684\u65b9\u5f0f\u8fdb\u884c\u5224\u65ad\uff0c\u5982\u679c\u6b63\u5e38\u7ed3\u675f\uff0c\u5219\u6267\u884c\u547d\u4ee41\uff0c\u9519\u8bef\u5219\u6267\u884c\u547d\u4ee42\uff0c\u5982\u679c\u662fCtrl+C\u7ec8\u6b62\uff0c\u53ef\u4ee5\u6267\u884c\u547d\u4ee43. trap \"echo end analysis\" EXIT #\u7a0b\u5e8f\u9000\u51fa\u65f6\u6267\u884c\uff0c\u65e0\u8bba\u662f\u6b63\u5e38\u9000\u51fa\uff0c\u8fd8\u662f\u9519\u8bef\u9000\u51fa\u3002 trap \"echo there have a error\" ERR #\u51fa\u9519\u65f6\uff0c\u6267\u884c 2. \u57fa\u7840shell\u8bed\u6cd5 shell\u811a\u672c\u7684\u6267\u884c\u65b9\u5f0f \u65b9\u6cd51\uff1a bash test.bash \u65b9\u6cd52\uff1a chmod 757 test.bash ./test.bash \u53d8\u91cf shell\u53d8\u91cf\uff1a\u8981\u6c42\u7b49\u53f7\u540e\u9762\u7d27\u8ddf\u53d8\u91cf\uff0c\u4e0d\u80fd\u6709\u7a7a\u683c \u4f8b\u5982\uff1a Name=Zhangsan shell\u4e2d\u53cc\u5f15\u53f7\u548c\u5355\u5f15\u53f7\uff0c\u5982\u679c\u5f15\u53f7\u5185\u6709\u53d8\u91cf\uff0c\u4f7f\u7528\u53cc\u5f15\u53f7\u3002\u5355\u5f15\u53f7\u5185\u90e8\u7684\u5b57\u7b26\u4e0d\u4f1a\u88ab\u8f6c\u53d8\u4e3a\u53d8\u91cf\u3002 \u5f15\u7528\u53d8\u91cf\u65b9\u5f0f\uff1a $Name \u6216\u8005 ${Name} ,\u4e00\u822c\u63a8\u8350\u53d8\u91cf\u5f15\u7528\u7684\u65f6\u5019\uff0c\u90fd\u52a0\u4e0a\u5927\u62ec\u53f7\uff0c\u4e0d\u7136\u540e\u9762\u67d0\u4e9b\u65f6\u5019\uff0c\u62fc\u63a5\u5b57\u7b26\u4e32\u7684\u65f6\u5019\u4f1a\u51fa\u73b0\u65e0\u6cd5\u8bc6\u522b\u53d8\u91cf\u540d\u7684\u95ee\u9898\u3002 \u53ea\u8bfb\u53d8\u91cf readonly Name \u4e0a\u9762\u7684Name\u53d8\u91cf\u5c31\u53d8\u6210\u53ea\u8bfb\u53d8\u91cf\uff0c\u4e0d\u80fd\u88ab\u4fee\u6539\u3002 \u5220\u9664\u53d8\u91cf unset variable_name \u5c40\u90e8\u53d8\u91cf \u9ed8\u8ba4\u7684\u53d8\u91cf\u90fd\u662f\u5168\u5c40\u53d8\u91cf local age=18 \u5b57\u7b26\u4e32\u64cd\u4f5c \u62fc\u63a5\u5b57\u7b26\u4e32 your_name=\"runoob\" # \u4f7f\u7528\u53cc\u5f15\u53f7\u62fc\u63a5 greeting=\"hello, \"$your_name\" !\" greeting_1=\"hello, ${your_name} !\" echo $greeting $greeting_1 #\u8f93\u51fa\u5185\u5bb9 #hello, runoob ! hello, runoob ! \u67e5\u627e\u5b57\u7b26\u4e32(\u4f7f\u7528\u6b63\u5219expr index ) string=\"runoob bilideise site\" echo `expr index \"$string\" o` # \u8f93\u51fa 4 \u83b7\u53d6\u5b57\u7b26\u4e32\u957f\u5ea6 ${#string} string=\"abcd\" echo ${#string} #\u8f93\u51fa 4 \u63d0\u53d6\u5b57\u7b26\u4e32\uff0c\u7b2c2\uff1a4\u4e2a\u3002 string=\"runoob is a great site\" echo ${string:1:4} # \u8f93\u51fa unoo bash\u4e2d\u7684index\u4e0b\u6807\u4ece0\u5f00\u59cb\u30020\u662f\u7b2c\u4e00\u4e2a\u3002 \u6570\u7ec4 array_name=(value0 value1 value2 value3) \u6216\u8005\u5355\u72ec\u5b9a\u4e49 array_name[4]=value4 \u83b7\u53d6\u6570\u7ec4\u7b2c1\u4e2a\u5143\u7d20 ${array_name[0]} \u83b7\u53d6\u6570\u7ec4\u6240\u6709\u5143\u7d20 ${array_name[@]} \u83b7\u53d6\u6570\u7ec4\u5143\u7d20\u4e2a\u6570 length=${#array_name[@]} \u83b7\u53d6\u67d0\u4e2a\u5143\u7d20\u7684\u957f\u5ea6 arr1_length=${#array_name[1]} \u6ce8\u91ca\u7b26\u53f7 \u5355\u884c\u6ce8\u91ca # \u591a\u884c\u6ce8\u91ca <<! \u6b64\u5904\u662f\u533a\u5757\u6ce8\u91ca \u591a\u884c\u6ce8\u91ca\u6587\u672c \u591a\u884c\u6ce8\u91ca\u6587\u672c ! \u53c2\u6570\u4f20\u9012 \u4f20\u53c2\u5206\u4e3a $1,$2,\u2026\u2026$n \u4ee3\u8868\u4f20\u5165\u7684\u7b2c1,2\uff0cn\u4e2a\u53c2\u6570\u3002 $0 \u4ee3\u8868\u6267\u884c\u7684\u6587\u4ef6\uff08\u5305\u62ec\u8def\u5f84\uff09 $# \u4f20\u5165\u53c2\u6570\u7684\u4e2a\u6570 $* \u4f20\u5165\u7684\u6240\u6709\u53c2\u6570\uff08\u4ee5\u4e00\u4e2a\u5355\u5b57\u7b26\u663e\u793a\uff09 $@ \u4f20\u5165\u7684\u6240\u6709\u53c2\u6570\uff08\u4f9d\u6b21\u663e\u793a\u6bcf\u4e2a\u53c2\u6570\uff09 $$ \u811a\u672c\u8fd0\u884c\u7684\u5f53\u524d\u8fdb\u7a0bid $! \u540e\u53f0\u8fd0\u884c\u7684\u6700\u540e\u4e00\u4e2a\u8fdb\u7a0bid $? \u663e\u793a\u547d\u4ee4\u6700\u540e\u9000\u51fa\u7684\u72b6\u6001\uff0c\u5982\u679c\u4e0d\u662f0\uff0c\u5219\u4ee3\u8868\u7a0b\u5e8f\u6ca1\u6709\u6b63\u5e38\u7ed3\u675f\u3002 `` if [ -n \"$1\" ]; then echo \"\u5305\u542b\u7b2c\u4e00\u4e2a\u53c2\u6570\" else echo \"\u6ca1\u6709\u5305\u542b\u7b2c\u4e00\u53c2\u6570\" fi \u7b97\u672f\u6bd4\u8f83, \u6bd4\u5982\u4e00\u4e2a\u53d8\u91cf\u662f\u5426\u4e3a0, [ $var -eq 0 ] \u3002 \u6587\u4ef6\u5c5e\u6027\u6d4b\u8bd5\uff0c\u6bd4\u5982\u4e00\u4e2a\u6587\u4ef6\u662f\u5426\u5b58\u5728\uff0c [ -e $var ] , \u662f\u5426\u662f\u76ee\u5f55\uff0c [ -d $var ] \u3002 \u5b57\u7b26\u4e32\u6bd4\u8f83, \u6bd4\u5982\u4e24\u4e2a\u5b57\u7b26\u4e32\u662f\u5426\u76f8\u540c\uff0c [[ $var1 = $var2 ]] \u3002 \u8fd0\u7b97\u7b26 \u7b97\u672f\u8fd0\u7b97\u7b26 + - * / % \u52a0\u51cf\u4e58\u9664\u6574\u9664\u53d6\u4f59 = \u662f\u8d4b\u503c\uff0c == \u548c != \u4ec5\u7528\u4e8e\u6570\u5b57\u6bd4\u8f83\u3002 \u8fd0\u7b97\u7b26\u4f7f\u7528\u65f6\uff0c\u5fc5\u987b\u5728\u4e2d\u62ec\u53f7\u5185\uff0c\u4e14\u4e24\u8fb9\u5747\u6709\u7a7a\u683c\u3002 \u4f8b\u5982\uff1a [ 5==5.0 ] \u5173\u7cfb\u8fd0\u7b97\u7b26\uff08\u4ec5\u9650\u4e8e\u6570\u5b57\u4e4b\u95f4\u6bd4\u8f83\uff09 -eq -ne -gt -lt -ge -le \u4f9d\u6b21\u662f\u76f8\u7b49\uff0c\u4e0d\u7b49\uff0c\u5927\u4e8e\uff0c\u5c0f\u4e8e\uff0c\u5927\u4e8e\u7b49\u4e8e\uff0c\u5c0f\u4e8e\u7b49\u4e8e \u903b\u8f91\u8fd0\u7b97\u7b26 ! -o -a \u975e\uff1b\u6216\uff1b\u4e0e && \u4e0e || \u6216 \u5b57\u7b26\u4e32\u8fd0\u7b97\u7b26 = != \u7b49\u4e8e \uff1b\u4e0d\u7b49\u4e8e -z \u5b57\u7b26\u4e32\u957f\u5ea6\u4e3a0\uff0c\u5219\u8fd4\u56detrue -n \u5b57\u7b26\u4e32\u957f\u5ea6\u4e0d\u4e3a0\uff0c\u5219\u8fd4\u56detrue $ \u68c0\u67e5\u5b57\u7b26\u4e32\u662f\u5426\u4e3a\u7a7a\uff0c\u4e0d\u4e3a\u7a7a\u8fd4\u56detrue. \u6587\u4ef6\u8fd0\u7b97\u7b26 -d \u68c0\u67e5\u6587\u4ef6\u662f\u5426\u662f\u76ee\u5f55\uff0c\u662f\uff0c\u5219\u8fd4\u56detrue -r \u68c0\u6d4b\u6587\u4ef6\u662f\u5426\u53ef\u8bfb -w \u68c0\u6d4b\u6587\u4ef6\u662f\u5426\u53ef\u5199 -x \u68c0\u6d4b\u6587\u4ef6\u662f\u5426\u53ef\u6267\u884c -s \u68c0\u6d4b\u6587\u4ef6\u662f\u5426\u4e3a\u7a7a\uff0c\u4e0d\u4e3a\u7a7a\u5219\u8fd4\u56detrue -e \u68c0\u6d4b\u6587\u4ef6\uff08\u6216\u76ee\u5f55\uff09\u662f\u5426\u5b58\u5728\uff0c\u662f\uff0c\u5219\u8fd4\u56detrue -L \u68c0\u6d4b\u6587\u4ef6\u662f\u5426\u5b58\u5728\u5e76\u4e14\u662f\u4e00\u4e2a\u7b26\u53f7\u94fe\u63a5 echo\u547d\u4ee4 \u8f93\u51fa\u6362\u884c echo -e \"this is a new line! \\n\" shell\u6d41\u7a0b\u63a7\u5236 shell\u91cc\u9762else\u91cc\u9762\u5982\u679c\u6ca1\u6709\u4e1c\u897f\uff0c\u5c31\u4e0d\u8981\u5199else. \u6d41\u7a0b\u63a7\u5236\u91cc\u4e0d\u80fd\u4e3a\u7a7a\u3002 if [ $age -ge 18 ] then echo \"\u6210\u5e74\u4eba\uff01\" else echo \u201c\u672a\u6210\u5e74\uff01\u201d fi \u591a\u7ec4if-elif-else-fi if [ $age -lt 18 ] then echo \"\u672a\u6210\u5e74\" elif [ $age -ge 60 ] then echo \"\u8001\u5e74\u4eba\" else echo \"\u9752\u5e74\u548c\u4e2d\u5e74\" fi \u6bcf\u7ec4\u7684if\u540e\u4e00\u5b9a\u8981\u6709then\u3002 \u5faa\u73af for\u5faa\u73af for var in `ls namefile` do echo $var done #for\u5faa\u73af\u5b9e\u4f8b for((i=1;i<=5;i++));do echo \"\u8fd9\u662f\u7b2c $i \u6b21\u8c03\u7528\"; done; #\u751f\u62100\u5230100\u7684\u81ea\u7136\u6570\u3002\u53730\uff0c1\uff0c2\uff0c3\uff0c\u2026\u2026\uff0c100 for i in {0..100};do echo \"${i}.tar.gz\" done while\u5faa\u73af int=1 while(( $int<=5 )) do echo $int let \"int++\" done \u65e0\u9650\u5faa\u73af while true do ping www.baidu.com done case echo \"\u8f93\u51651\u52304\u4e4b\u95f4\u7684\u6570\u5b57\" read aNum case $aNum in 1) echo \"\u8f93\u5165\u7684\u662f1\" ;; 2) echo \"\u8f93\u5165\u7684\u662f2\" ;; *) echo \"\u60a8\u8f93\u5165\u7684\u4e0d\u5728\u8303\u56f4\" ;; esac \u4e2d\u65ad\u6216\u8005\u8df3\u51fa\u5faa\u73af\u7684\u65b9\u6cd5 break \u7ec8\u6b62\u540e\u7eed\u5faa\u73af continue \u4e2d\u6b62\u5f53\u524d\u5faa\u73af\uff0c\u540e\u7eed\u5faa\u73af\u7ee7\u7eed\u8fd0\u884c\u3002 \u5185\u90e8\u51fd\u6570basename\u548cdirname basename \u7528\u4e8e\u83b7\u53d6\u6587\u4ef6\u540d basename /softwares/test/test1.sh \u8fd4\u56de\u503c\u662f test1.sh basename -s .sh /softwares/test/test1.sh \u8fd4\u56de\u503c\u662f test1 dirname \u7528\u4e8e\u83b7\u53d6\u6587\u4ef6\u8def\u5f84 dirname /softwares/test/test1.sh \u8fd4\u56de\u7684\u503c\u662f\u8def\u5f84 \u4e0a\u8ff02\u4e2a\u51fd\u6570\u53ef\u4ee5\u7528\u4e8e\u83b7\u53d6\u7528\u6237\u8f93\u5165\u7684\u6587\u4ef6\u540d\u7684\u524d\u7f00\u548c\u8def\u5f84\u3002 \u51fd\u6570\u7684\u5b9a\u4e49 ##\u63d0\u53d6\u6307\u5b9a\u67d3\u8272\u4f53\u7684bam\u6587\u4ef6 getchr(){ samtools view -b -h $1 $2 | samtools sort - > $3 } #\u8c03\u7528\u51fd\u6570 getchr all.bam chr1 chr1.bam \u51fd\u6570\u91cc\u53ef\u4ee5\u8fd4\u56de\u503c sum2(){ echo \"success!\" return 0 } \u4e00\u822c\u60c5\u51b5\u4e0b\uff0creturn\u8fd4\u56de\u7684\u53ea\u80fd\u662f0-255\u7684\u6574\u6570\uff0c\u9ed8\u8ba4\u548c\u4e60\u60ef\uff0c\u8fd4\u56de0\u662f\u6b63\u5e38\uff0c1\u662f\u9519\u8bef\uff0c\u7528\u6765\u5224\u65ad\u7a0b\u5e8f\u662f\u5426\u6b63\u5e38\u8fd0\u884c\u3002 \u4f7f\u7528 $? \u53ef\u4ee5\u83b7\u53d6\u4e0a\u4e00\u6761\u547d\u4ee4\u8fd0\u884c\u7684\u7ed3\u679c\uff0c\u5982\u679c\u662f0\u5c31\u6b63\u5e38\u3002 if ! [ $? -eq 0 ] ; then echo \"\u4e0a\u4e00\u6761\u547d\u4ee4\u6709\u9519\u8bef\u3002\" exit fi return\u7528\u4e8e\u8fd4\u56de\u72b6\u6001\u7801\uff0c\u53ea\u80fd\u662f\u6570\u5b570-255 ##\u5b9a\u4e49\u68c0\u6d4b\u7f51\u7edc\u8fde\u63a5\u662f\u5426\u6b63\u5e38 check_net(){ #\u68c0\u6d4b\u7f51\u7edc ping -c 3 -w 3 www.baidu.com >network_cache #-c ping 3\u6b21 \uff0c-w 3 ping 3s \u540e\u7ed3\u675f #\u68c0\u6d4bping\u7684\u7ed3\u679c\u72b6\u6001\u7801 if [ $? -eq 0 ];then echo \"network connect success\uff01\" echo \"\u68c0\u6d4b\u7f51\u7edc\uff0c\u6b63\u5e38!\" return 0 #sleep 3m #\u4f11\u77203min\u540e\u518d\u68c0\u6d4b else echo \"network connect Wrong\uff0cPlease check network!\" return 1 fi } #\u68c0\u6d4b\u7f51\u7edc check_net #\u83b7\u53d6\u68c0\u6d4b\u7f51\u7edc\u7684\u8fd4\u56de\u503c\uff08\u5373check_net\u51fd\u6570\u91cc\u7684return\u7684\u503c\uff09 if [ $? -eq 0 ];then echo \"\u7f51\u7edc\u6b63\u5e38\uff01\" #\u6b64\u5904\u53ef\u4ee5\u653e\u7f6e\uff0c\u7f51\u7edc\u6b63\u5e38\u9700\u8981\u8fd0\u884c\u7684\u547d\u4ee4\u811a\u672c\u3002 else echo \"\u7f51\u7edc\u672a\u8fde\u63a5\uff01\" #\u6b64\u5904\u53ef\u4ee5\u653e\u7f6e\uff0c\u7f51\u7edc\u767b\u5f55\u7684\u547d\u4ee4\u811a\u672c\u3002 fi \u8bbe\u7f6e\u53c2\u6570\u7684\u9ed8\u8ba4\u503c # \u8bbe\u7f6enull\u6216\u7a7a\u503c\u65f6\uff0c\u9ed8\u8ba4\u503c\u662f10 ${number:=10} #\u8bbe\u7f6enull\u6216\u7a7a\u503c\u65f6\uff0c\u62a5\u9519\u4fe1\u606f\u3002 ${name:?Please input name} #\u8bbe\u7f6e\u53c2\u6570\u4e0d\u4e3a\u7a7a\u65f6\u7684\u9ed8\u8ba4\u503c ${userpasswd:+******} read\u51fd\u6570\u7684\u4f7f\u7528 \u793a\u4f8b\uff1a\u7528\u6237\u534f\u8bae\u540c\u610f\u7684\u4ea4\u4e92\u8bbe\u8ba1 ###\u7528\u6237\u534f\u8bae\u540c\u610f\u6a21\u5757 echo \"\u7528\u6237\u534f\u8bae 1.\u4ec5\u9650\u975e\u5546\u4e1a\u4f7f\u7528\uff08\u5b66\u672f\u7814\u7a76\u514d\u8d39\u4f7f\u7528\uff09 2.\u8f6c\u8f7d\u6216\u4e8c\u6b21\u5f00\u53d1\uff0c\u8bf7\u4fdd\u7559\u539f\u4f5c\u8005\u7684\u4fe1\u606f 3.\u5546\u4e1a\u7528\u9014\u8bf7\u8054\u7cfb\u539f\u4f5c\u8005\uff01\" ##-n 1\u662f\u9650\u5236\u53ea\u80fd\u8f93\u51651\u4e2a\u5b57\u7b26\uff0c-p \"\u2026\u2026\"\u7528\u4e8e\u7ed9\u7528\u6237\u63d0\u793a\u9700\u8981\u8f93\u5165\u7684\u5185\u5bb9 read -p \"Please make sure to agree with the agreement (Y/N):\" -n 1 answer case $answer in Y|y) echo -e \"\\n Thank you!Install will continue\u2026\u2026\" reset ;; N|n) echo -e \"\\n No agree!exit!\" exit ;; *) echo -e \"\\n Please make sure input Y or N\" exit ;; esac \u5f15\u5165\u5176\u4ed6\u811a\u672c \u4f8b\u5982\uff1a\u672c\u76ee\u5f55\u4e0b\u6709commerge\u548cgetchr\u4e24\u4e2a\u811a\u672c\u3002 \u5728getchr\u91cc\u53ef\u4ee5\u4f7f\u7528 source commerge \u6216\u8005 source ./commerge ,\u6765\u5f15\u7528\u811a\u672ccommerge. \u83b7\u53d6\u8f93\u5165\u53c2\u6570\u7684\u5904\u7406 #\u8fd0\u884c\u811a\u672c\u547d\u4ee4 getchr -i file1 -o file2 -s std getchr\u811a\u672c\u91cc\u83b7\u53d6\u8f93\u5165\u53c2\u6570\u7684\u65b9\u6cd5\uff0c while [ -n \"$1\" ];do case $1 in -i|--input) inputfile=$2 shift ;; -o|--output) output=$2 shift ;; -s|--select) select=$2 ;; esac shift done \u4f7f\u7528 shift \u4f5c\u4e3a\u5de6\u79fb\u5de5\u5177\uff0c\u6765\u83b7\u53d6\u540e\u9762\u7684\u53c2\u6570\u548c\u53c2\u6570\u7684\u503c\u3002 3.\u5b9e\u62181\uff1a\u7f16\u5199\u4e24\u4e2a\u6587\u4ef6\u5408\u5e76\u7684\u5c0f\u6559\u672c \u56e0\u65f6\u95f4\u4ed3\u4fc3\uff0c\u5199\u4e86\u7b80\u5355\u7684\u811a\u672c\uff0c\u4ee5\u5176\u80fd\u591f\u7406\u89e3\u5176\u539f\u7406\u548cshell\u8bed\u6cd5\u3002\u811a\u672c\u5728 github .\u4e0b\u8f7d\u540e\uff0c\u76f4\u63a5\u8fd0\u884c\u547d\u4ee4 commerge -h \u5373\u53ef\u3002\u5982\u679c\u4e0d\u80fd\u6267\u884c\uff0c\u8bf7\u6dfb\u52a0\u6267\u884c\u6743\u9650\u5373\u53ef chmod 757 commer \u3002 \u5355\u884c\u547d\u4ee4\u901f\u67e5 shell\u7b97\u672f\u8fd0\u7b97 num=`expr 12 - 6` pi=`awk 'BEGIN{print 2*2-0.86 }'` area=`awk -v pi=$pi -v num=$num 'BEGIN{print pi*num }'` \u6ce8\u610f \uff1a\u6574\u6570\u578b\u8fd0\u7b97\u4f7f\u7528 expr \u800c\u4e14\u540e\u9762\u7684\u8fd0\u7b97\u548c\u6570\u5b57\u4e4b\u95f4\u8981\u6709\u4e00\u4e2a\u7a7a\u683c\u3002\u6d6e\u70b9\u8fd0\u7b97\u9700\u8981\u501f\u7528awk\u6765\u5b8c\u6210\u3002 awk \u4f7f\u7528shell\u7684\u53d8\u91cf\u65f6\uff0c\u9700\u8981\u4f7f\u7528 -v \u6765\u5f15\u5165\u3002 4.\u9ad8\u7ea7\u529f\u80fd \u4f7f\u7528\u4e34\u65f6\u76ee\u5f55\u548c\u4e34\u65f6\u6587\u4ef6\uff0c\u53ef\u4ee5\u4f5c\u4e3a\u4e2d\u8f6c\u76ee\u5f55\u6216\u6587\u4ef6\u3002\u6709\u4e9b\u5185\u5bb9\u9700\u8981\u8f93\u51fa\u5230\u6587\u4ef6\uff0c\u4f46\u662f\u53ea\u662f\u4f5c\u4e3a\u4e2d\u95f4\u6587\u4ef6\uff0c\u6700\u540e\u9700\u8981\u5220\u9664\uff0c\u5c31\u53ef\u4ee5\u7528\u4e34\u65f6\u6587\u4ef6\u3002 \u521b\u5efa\u4e34\u65f6\u6587\u4ef6 ##\u751f\u6210\u4e34\u65f6\u6587\u4ef6(\u793a\u4f8b\uff1a\u4e34\u65f6\u6587\u4ef6\u7684\u53d8\u91cf\u540d\u79f0\u662f${tempfpkm}) trap 'rm -f \"$tempfpkm\"' EXIT #\u9000\u51fa\u65f6\uff0c\u5220\u9664\u4e34\u65f6\u6587\u4ef6(trap\u662f\u6839\u636e\u540e\u9762\u7684\u7cfb\u7edf\u4fe1\u53f7\uff0c\u6267\u884c\u524d\u9762\u7684\u547d\u4ee4) tempfpkm=$(mktemp -p ${PWD}) || exit 1 #\u5728\u5de5\u4f5c\u8def\u5f84\uff0c\u751f\u6210\u4e34\u65f6\u6587\u4ef6\uff0c\u5982\u679c\u751f\u6210\u5931\u8d25\uff0c\u5219\u9000\u51fa\u3002 \u521b\u5efa\u4e34\u65f6\u76ee\u5f55 ##\u751f\u6210\u4e34\u65f6\u76ee\u5f55(\u793a\u4f8b\uff1a\u4e34\u65f6\u6587\u4ef6\u5939\u53d8\u91cf\u540d\u79f0\u662f${fpkm}) trap 'rm -rf \"$fpkm\"' EXIT fpkm=$(mktemp -d -p ${PWD}) || exit 1 mktemp \u53c2\u6570\uff1a -p \u6307\u5b9a\u751f\u6210\u6587\u4ef6\u6216\u6587\u4ef6\u5939\u7684\u8def\u5f84 -d \u6307\u5b9a\u751f\u6210\u7684\u662f\u6587\u4ef6\u5939\uff0c\u4e0d\u4f7f\u7528 -d \u751f\u6210\u7684\u662f\u6587\u4ef6\u3002 tmp.XXXX \u5236\u5b9a\u6a21\u677f\uff08\u6ce8\u610f\uff1aX\u5fc5\u987b\u662f\u5927\u5199\uff0c\u800c\u4e14\u6700\u5c11\u9700\u8981\u4e09\u4e2aX,X\u6709\u51e0\u4e2a\uff0c\u8f93\u51fa\u7684\u968f\u673a\u5b57\u7b26\u5c31\u6709\u51e0\u4f4d\uff09 mktemp -d -p ${PWD} zhansan.XXXX \u5728\u5f53\u524d\u76ee\u5f55\u521b\u5efa\u6587\u4ef6\u524d\u7f00\u4e3a zhansan. \u7684\u6587\u4ef6\u5939\u3002\u6b64\u5904\u8f93\u51fa\u4e3a zhansan.pmJt \u6bcf\u4e2a\u4eba\u8fd0\u884c\uff0c\u540e\u9762\u7684\u56db\u4f4d\u4e0d\u4e00\u6837 mktemp -p ${PWD} temp.XXXXXX \u521b\u5efa\u4e34\u65f6\u6587\u4ef6\uff0c\u524d\u7f00\u662ftemp\uff0c\u540e\u9762\u662f6\u4f4d\u5b57\u7b26\u3002 \u521b\u5efa\u4e34\u65f6\u6587\u4ef6\u5939\uff0c\u5e76\u5728\u4e34\u65f6\u6587\u4ef6\u5939\u91cc\u521b\u5efa\u4e34\u65f6\u6587\u4ef6 trap 'rm -rf \"$zhangsan\" ' EXIT zhangsan=$(mktemp -d -p ${PWD}) || exit 1 temp=$(mktemp -p ${zhangsan} temp.XXXXXX) trap\u662f\u6355\u6349\u7cfb\u7edf\u9000\u51fa\u65f6\u6267\u884c\u7684\u547d\u4ee4 trap 'rm -rf \"${zhangsan}\";rm -rf \"${temp}\"' EXIT \u5f53\u6709\u5f88\u591a\u4e34\u65f6\u6587\u4ef6\u9700\u8981\u6e05\u7406\u65f6\uff1a\u53ef\u4ee5\u81ea\u5b9a\u4e49\u6e05\u7406\u51fd\u6570\uff0c\u7136\u540etrap\u6267\u884c\u5373\u53ef #\u5b9a\u4e49\u6e05\u7406\u51fd\u6570 function cleanup(){ rm -rf \"$zhangsan\" rm -rf \"$bam\" } trap cleanup EXIT #trap\u4fe1\u53f7\u8c03\u7528\u6e05\u7406\u51fd\u6570 zhangsan=$(mktemp -d -p ${PWD}) || exit 1 temp=$(mktemp -p ${zhangsan} temp.XXXXXX) || exit 1 bam=$(mktemp -p ${PWD} bam.XXXX) || exit 1 \u4e0a\u9762\u751f\u6210\u7684temp.XXXXXX \u6587\u4ef6\u662f\u5728zhangsan.XXXX\u6587\u4ef6\u5939\u91cc\u7684\uff0c\u901a\u8fc7\u6e05\u7406zhangsan\u6587\u4ef6\u5939\u5373\u53ef\u6e05\u7406\u91cc\u9762\u7684\u6587\u4ef6\u3002 bam.XXXX\u6587\u4ef6\u662f\u5728\u5de5\u4f5c\u76ee\u5f55\uff0c\u9700\u8981\u6307\u5b9a\u6e05\u7406\u3002 trap\u662f\u7cfb\u7edf\u4fe1\u53f7\uff0c\u6240\u4ee5\u53ea\u80fd\u6267\u884c\u4e00\u6b21\u5c31\u4f1a\u9000\u51fa\u3002\u5982\u679c\u6709\u591a\u4e2a\u6587\u4ef6\u9700\u8981\u6e05\u7406\uff0c\u5c31\u53ea\u80fd\u662f\u4f7f\u7528\u4e0a\u9762\u7684\u51fd\u6570\u6a21\u5f0f\u6216\u8005\u662f\u4f7f\u7528 ; \u6765\u8fde\u63a5\u591a\u4e2a\u6e05\u7406\u547d\u4ee4\u3002 \u5982\u679c\u5728\u4e00\u4e2a\u8fdb\u7a0b\u4e2d\u5199\u6709\u591a\u4e2atrap\u51fd\u6570\uff0c\u53ea\u4f1a\u6267\u884c\u6700\u540e\u4e00\u4e2a\u3002 \u4e0b\u9762\u7684\u793a\u4f8b\uff1a\u5b9e\u9645\u5c31\u6267\u884c\u7b2c\u4e8c\u53e5\uff0c\u7b2c\u4e00\u4e2a\u6587\u4ef6 $zhangsan \u4e0d\u4f1a\u88ab\u6e05\u7406\u3002 trap 'rm -rf \"$zhangsan\" ' EXIT trap 'rm -rf \"$bam\" ' EXIT \u83b7\u53d6\u8f93\u5165\u6587\u4ef6\u7684\u8def\u5f84\u548c\u6587\u4ef6\u540d \u5728\u65e0\u6cd5\u786e\u5b9a\u7528\u6237\u7684\u8f93\u5165\u662f\u7edd\u5bf9\u6216\u76f8\u5bf9\u8def\u5f84\u65f6\u4f7f\u7528 1. \u83b7\u53d6\u6587\u4ef6\u7684\u8def\u5f84\uff08\u8f93\u5165\u7684\u662f\u7edd\u5bf9\u8def\u5f84\uff0c\u8f93\u51fa\u4e5f\u662f\u7edd\u5bf9\u8def\u5f84\uff0c\u8f93\u5165\u662f\u76f8\u5bf9\u8def\u5f84\uff0c\u8f93\u51fa\u4e5f\u662f\u76f8\u5bf9\u8def\u5f84\uff09 dirname ../genome.fa 2. \u83b7\u53d6\u6587\u4ef6\u7684\u540d\u79f0\uff08\u65e0\u8bba\u662f\u7edd\u5bf9\u6216\u76f8\u5bf9\u8def\u5f84\uff0c\u8f93\u51fa\u7684\u90fd\u53ea\u662f\u6587\u4ef6\u540d\uff09 basename ../genome.fa #\u8f93\u51fa\u662fgenome.fa \u83b7\u53d6\u6587\u4ef6\u7684\u524d\u7f00 basename ../genome.fa .fa #\u8f93\u51fa\u662fgenome\uff0c 3. \u83b7\u53d6\u7edd\u5bf9\u8def\u5f84(\u5982\u679c\u662f\u6587\u4ef6\uff0c\u8fd4\u56de\u662f\u6587\u4ef6\u7684\u7edd\u5bf9\u8def\u5f84\uff0c\u5982\u679c\u662f\u8def\u5f84\uff0c\u8fd4\u56de\u662f\u7edd\u5bf9\u8def\u5f84) readlink -f ../genome.fa #\u8f93\u51fa\u662f/share/home/\u2026\u2026/genome.fa \u5728\u811a\u672c\u4e2d\u4f7f\u7528,\u8d4b\u503c\u7ed9\u53d8\u91cf\u7684\u65f6\u5019\uff0c\u4e24\u7aef\u4e00\u5b9a\u8981\u4f7f\u7528\u53cc\u5f15\u53f7\u62ec\u4f4f\u3002 #\u83b7\u53d6\u8f93\u5165\u6587\u4ef6\u7684\u7edd\u5bf9\u8def\u5f84\u7684\u6587\u4ef6 absol_genome=\"`readlink -f ../genome.fa`\" #\u83b7\u53d6\u8f93\u5165\u6587\u4ef6\u7684\u8def\u5f84 genome_path=\"`dirname ../genome.fa`\" #\u83b7\u53d6\u8f93\u5165\u6587\u4ef6\u7684\u7edd\u5bf9\u8def\u5f84 absol_path=\"`readlink -f ${genome_path}`\" # \u4fee\u6539\u6587\u4ef6\u7684\u540e\u7f00 genome.gff=\"`basename ../genome.fa .fa`.gff\" \u4f7f\u7528 ${} \u6765\u83b7\u53d6\u6587\u4ef6\u8def\u5f84\u548c\u6587\u4ef6\uff0c\u6587\u4ef6\u540e\u7f00 \u6b64\u90e8\u5206\u8f6c\u8f7d\u81eahttps://www.cxyzjd.com/article/lifuxiangcaohui/50153207 file=/dir1/dir2/dir3/my.file.txt \u6211\u4eec\u53ef\u4ee5\u7528 ${ } \u5206\u522b\u66ff\u6362\u83b7\u5f97\u4e0d\u540c\u7684\u503c\uff1a ${file#*/} \uff1a\u62ff\u6389\u7b2c\u4e00\u6761 / \u53ca\u5176\u5de6\u8fb9\u7684\u5b57\u7b26\u4e32\uff1adir1/dir2/dir3/my.file.txt ${file##*/} \uff1a\u62ff\u6389\u6700\u540e\u4e00\u6761 / \u53ca\u5176\u5de6\u8fb9\u7684\u5b57\u7b26\u4e32\uff1amy.file.txt ${file#*.} \uff1a\u62ff\u6389\u7b2c\u4e00\u4e2a . \u53ca\u5176\u5de6\u8fb9\u7684\u5b57\u7b26\u4e32\uff1afile.txt ${file##*.} \uff1a\u62ff\u6389\u6700\u540e\u4e00\u4e2a . \u53ca\u5176\u5de6\u8fb9\u7684\u5b57\u7b26\u4e32\uff1atxt ${file%/*} \uff1a\u62ff\u6389\u6700\u540e\u6761 / \u53ca\u5176\u53f3\u8fb9\u7684\u5b57\u7b26\u4e32\uff1a/dir1/dir2/dir3 ${file%%/*} \uff1a\u62ff\u6389\u7b2c\u4e00\u6761 / \u53ca\u5176\u53f3\u8fb9\u7684\u5b57\u7b26\u4e32\uff1a(\u7a7a\u503c) ${file%.*} \uff1a\u62ff\u6389\u6700\u540e\u4e00\u4e2a . \u53ca\u5176\u53f3\u8fb9\u7684\u5b57\u7b26\u4e32\uff1a/dir1/dir2/dir3/my.file ${file%%.*} \uff1a\u62ff\u6389\u7b2c\u4e00\u4e2a . \u53ca\u5176\u53f3\u8fb9\u7684\u5b57\u7b26\u4e32\uff1a/dir1/dir2/dir3/my \u8bb0\u5fc6\u7684\u65b9\u6cd5\u4e3a\uff1a # \u662f\u53bb\u6389\u5de6\u8fb9(\u5728\u952e\u76d8\u4e0a # \u5728 $ \u4e4b\u5de6\u8fb9) % \u662f\u53bb\u6389\u53f3\u8fb9(\u5728\u952e\u76d8\u4e0a % \u5728 $ \u4e4b\u53f3\u8fb9) \u5355\u4e00\u7b26\u53f7\u662f\u6700\u5c0f\u5339\u914d\ufe54\u4e24\u4e2a\u7b26\u53f7\u662f\u6700\u5927\u5339\u914d\u3002 ${file:0:5} \uff1a\u63d0\u53d6\u6700\u5de6\u8fb9\u7684 5 \u4e2a\u5b57\u8282\uff1a/dir1 ${file:5:5} \uff1a\u63d0\u53d6\u7b2c 5 \u4e2a\u5b57\u8282\u53f3\u8fb9\u7684\u8fde\u7eed 5 \u4e2a\u5b57\u8282\uff1a/dir2 \u6211\u4eec\u4e5f\u53ef\u4ee5\u5bf9\u53d8\u91cf\u503c\u91cc\u7684\u5b57\u7b26\u4e32\u4f5c\u66ff\u6362\uff1a ${file/dir/path} \uff1a\u5c06\u7b2c\u4e00\u4e2a dir \u63d0\u6362\u4e3a path\uff1a/path1/dir2/dir3/my.file.txt ${file//dir/path} \uff1a\u5c06\u5168\u90e8 dir \u63d0\u6362\u4e3a path\uff1a/path1/path2/path3/my \u5176\u4ed6shell\u547d\u4ee4\u548c\u591a\u7ebf\u7a0b\u76f8\u5173 shell\u5355\u884c\u547d\u4ee4\u901f\u67e5 \u6740\u6b7b\u8fdb\u7a0b pkill --ns 332314 \u6740\u6b7bpid\u4e0e332314\u7684\u8fdb\u7a0b\u7684\u7a0b\u5e8f\u540d\u76f8\u540c\u7684\u6240\u6709\u7a0b\u5e8f \u614e\u91cd\u4f7f\u7528\uff0c\u4f1a\u6740\u6389\u4e00\u5927\u6279\u7a0b\u5e8f\uff0c\u9002\u5408\u6279\u91cf\u63d0\u4ea4\u540e\uff0c\u9700\u8981\u6740\u6389\u6279\u91cf\u7684\u4efb\u52a1 kill -9 332314 \u6740\u6389pid\u8fdb\u7a0b\u4e3a332314\u7684\u7a0b\u5e8f bkill 332314 \u7528\u4e8elsf\u7cfb\u7edf\u7684\u6740\u6389JOBID \u662f332314\u7684\u4efb\u52a1\u3002 ps uux|grep ascp|awk '{print $2}'|xargs -i kill -9 {} #\u6279\u91cf\u6740\u6389\u5305\u542bascp\u7684\u4efb\u52a1 \u5b9a\u65f6\u6267\u884c\u7a0b\u5e8f \u5e38\u89c4\u505a\u6cd5\uff0c\u5199\u4e2a\u6b7b\u5faa\u73af\uff0c\u5b9a\u65f6\u6267\u884c\u5373\u53ef #\u5b9a\u65f6\u68c0\u6d4b\u6267\u884c\u4e0a\u4f20\u6570\u636e\u5230NCBI runinfo=\"ascp -i $HOME/cmm.aspera.openssh -QT -l 30m -k1 -d $HOME/upload_to_NCBI subasp@upload.ncbi.nlm.nih.gov:uploads/wangjing_gmail.com_XXXXXXX\" while true; do #\u68c0\u6d4b\u7f51\u7edc ping -c 3 -w 3 www.baidu.com >network_cache #-c ping 3\u6b21 \uff0c-w 3 ping 3s \u540e\u7ed3\u675f if [ $? -eq 0 ];then echo \"network connect success\uff01\" echo \"\u68c0\u6d4b\u7f51\u7edc\uff0c\u6b63\u5e38!\" aspera=`ps aux|grep ascp|grep -v grep|wc -l` if [ \"$aspera\" -eq 0 ];then `${runinfo}` fi sleep 3m #\u4f11\u77203min\u540e\u518d\u68c0\u6d4b else echo \"network connect Wrong\uff0cPlease check network!\" fi done \u4f18\u96c5\u7684\u5b9a\u65f6\u4f7f\u7528crontab\u6765\u63a7\u5236 \u4f7f\u7528 crontab -e \u5efa\u7acb\u4e00\u4e2a\u65b0\u7684\u5b9a\u65f6\u63a7\u5236 \u6ce8\u610f\uff1a\u811a\u672c\u91cc\u8c03\u7528\u5176\u4ed6\u7a0b\u5e8f\uff0c\u7a0b\u5e8f\u9700\u8981\u4f7f\u7528\u5b8c\u6574\u7684\u8def\u5f84\uff0c\u540c\u65f6\u4e5f\u7528\u4f7f\u7528\u5b8c\u6574\u8def\u5f84\u6307\u5b9a\u8fd0\u884c\u811a\u672c\u7684\u4f4d\u7f6e\u3002\u5982\u679c\u4e0d\u6307\u5b9a\u4f4d\u7f6e\uff0c\u5219\u53ef\u80fd\u627e\u4e0d\u5230\u811a\u672c\u8c03\u7528\u7684\u7a0b\u5e8f\u6216\u8005\u627e\u4e0d\u5230\u811a\u672c\u7684\u4f4d\u7f6e\u3002 */10 * * * * bash /$HOME/keeprun.sh >/dev/null 2>&1 & \u4fdd\u5b58\u4e0a\u9762\u7684\u5373\u53ef\u6bcf10\u5206\u949f\uff0c\u6267\u884c\u4e00\u6b21\u547d\u4ee4 bash keeprun.sh $HOME/.aspera/connect/bin/ascp -i $HOME/cmm.aspera.openssh -QT -l 30m -k1 -d $HOME/upload_to_NCBI subasp@upload.ncbi.nlm.nih.gov:uploads/wangjing_gmail.com_XXXXXXX keeprun.sh\u5185\u5bb9\u5982\u4e0b\uff1a #!/usr/bin/bash #\u68c0\u6d4b\u8fdb\u7a0b\u662f\u5426\u5728\u8fd0\u884c\uff0c\u5e76\u5c06\u8fdb\u7a0b\u7684\u884c\u6570\u4fe1\u606f\u4f20\u7ed9count\u53d8\u91cf\u3002 command=\"$HOME/.aspera/connect/bin/ascp -i $HOME/cmm.aspera.openssh -QT -l 30m -k1 -d $HOME/upload_to_NCBI subasp@upload.ncbi.nlm.nih.gov:uploads/wangjing_gmail.com_XXXXXXX\" file=`echo $command|rev|cut -d \"/\" -f1|cut -d \" \" -f2|rev` count=`ps uux|grep $file|grep -v grep|grep -v keeprun|wc -l` #\u5982\u679ccount\u503c\u5927\u4e8e0\uff0c\u5219\u8868\u793a\u8fdb\u7a0b\u4e0d\u5b58\u5728 if [ $count -eq 0 ] then #\u8fdb\u7a0b\u4e0d\u5b58\u5728\u5219\u8fd0\u884c\u4e0b\u9762\u7684\u547d\u4ee4\uff0c\u5c3e\u90e8\u52a0\u4e0a&\u4f7f\u5176\u5728\u540e\u53f0\u8fd0\u884c `${command} &` fi # Example of job definition: # .---------------- minute (00 - 59) # | .------------- hour (00 - 23) # | | .---------- day of month (1 - 31) # | | | .------- month (1 - 12) OR jan,feb,mar,apr ... # | | | | .---- day of week (0 - 6) (Sunday=0 or 7) OR sun,mon,tue,wed,thu,fri,sat # | | | | | # * * * * * user-name command to be executed \u67e5\u770b\u6307\u5b9a\u7528\u6237\u7684\u6307\u5b9a\u4efb\u52a1 crontab -u zhangsan -l \u67e5\u770b\u5f53\u524d\u7528\u6237\u7684\u5b9a\u65f6\u4efb\u52a1 crontab -l","title":"Shell\u811a\u672c\u7684\u7f16\u5199"},{"location":"Linux-learning/shell%E8%84%9A%E6%9C%AC%E7%9A%84%E7%BC%96%E5%86%99/#_1","text":"\u5f3a\u70c8\u5efa\u8bae\uff0c\u5728\u751f\u6210\u6587\u4ef6\u4e4b\u524d\uff0c\u5148\u68c0\u6d4b\u6587\u4ef6\u662f\u5426\u5b58\u5728\uff0c\u5982\u679c\u5b58\u5728\u5c31\u5220\u9664\u8fd9\u4e2a\u6587\u4ef6\u3002\u5bf9\u4e8e\u4f7f\u7528\u7ba1\u9053\u7b26 > \u6307\u5b9a\u8f93\u51fa\u6587\u4ef6\u65f6\uff0c\u8bf7\u4e00\u5b9a\u5148\u68c0\u67e5\u6587\u4ef6\u662f\u5426\u5b58\u5728\u3002 \u73b0\u5728\u8bb8\u591a\u7a0b\u5e8f\u8fd0\u884c\u53ef\u80fd\u51fa\u9519\uff0c\u9700\u8981\u91cd\u65b0\u8fd0\u884c\uff0c\u4f46\u662f\u7528\u6237\u57fa\u672c\u4e0d\u4f1a\u624b\u52a8\u5220\u9664\u5148\u524d\u751f\u6210\u7684\u9519\u8bef\u7684\u6587\u4ef6\uff0c\u6240\u4ee5\u6211\u4eec\u5728\u8f93\u51fa\u5230\u6587\u4ef6\u4e4b\u524d\uff0c\u8981\u5148\u68c0\u6d4b\u4e4b\u524d\u662f\u5426\u5b58\u5728 \u8f93\u51fa\u6587\u4ef6\u524d\uff0c\u53ef\u4ee5\u8bf7\u4f7f\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u68c0\u6d4b\u662f\u5426\u5b58\u5728\u8be5\u6587\u4ef6\u3002 #\u68c0\u6d4b\u662f\u5426\u5b58\u5728\u8be5\u6587\u4ef6\uff0c\u5982\u679c\u6709\uff0c\u5219\u81ea\u52a8\u5220\u9664\u65e7\u7248\u672c if [ -e $output ]; then echo \"\u4e4b\u524d\u5b58\u5728\u6587\u4ef6$output,\u81ea\u52a8\u5220\u9664\u65e7\u7248\u672c\u3002\" rm -rf $output fi","title":"\u5904\u7406\u751f\u6210\u6587\u4ef6\u7684\u95ee\u9898"},{"location":"Linux-learning/shell%E8%84%9A%E6%9C%AC%E7%9A%84%E7%BC%96%E5%86%99/#1","text":"#!/bin/bash ##debug set -x #\u76f4\u63a5\u8f93\u51fa\u6bcf\u6b21\u6267\u884c\u7684\u547d\u4ee4 set -e #\u7a0b\u5e8f\u5f02\u5e38\u7ed3\u675f\u65f6\u5019\uff0c\u8f93\u51fa\u9519\u8bef\u3002","title":"1.\u7f16\u5199\u524d\u5fc5\u77e5\u7684\u7f16\u5199\u89c4\u8303"},{"location":"Linux-learning/shell%E8%84%9A%E6%9C%AC%E7%9A%84%E7%BC%96%E5%86%99/#11-shell","text":"","title":"1.1 shell\u811a\u672c\u5f00\u5934\u5982\u4e0a\u4e09\u884c\u3002"},{"location":"Linux-learning/shell%E8%84%9A%E6%9C%AC%E7%9A%84%E7%BC%96%E5%86%99/#12-shellshellcheck","text":"sudo apt-get install shellcheck shellcheck test.sh #\u68c0\u6d4btest.sh\u7684\u8bed\u6cd5\u662f\u5426\u6b63\u786e\u3002","title":"1.2 \u68c0\u67e5shell\u811a\u672c\u53ef\u4ee5\u4f7f\u7528shellcheck,"},{"location":"Linux-learning/shell%E8%84%9A%E6%9C%AC%E7%9A%84%E7%BC%96%E5%86%99/#13-bash-local","text":"\u5bf9\u4e8e\u5728\u51fd\u6570\u5185\u58f0\u660e\u7684\u53d8\u91cf\uff0c\u8bf7\u52a1\u5fc5\u8bb0\u5f97\u52a0\u4e0a local \u9650\u5b9a\u8bcd\u3002","title":"1.3 \u5728bash\uff0c\u5982\u679c\u4e0d\u52a0 local \u9650\u5b9a\u8bcd\uff0c\u53d8\u91cf\u9ed8\u8ba4\u90fd\u662f\u5168\u5c40\u7684\u3002"},{"location":"Linux-learning/shell%E8%84%9A%E6%9C%AC%E7%9A%84%E7%BC%96%E5%86%99/#14-trap","text":"\u5bf9\u4e8e\u7a0b\u5e8f\u7ed3\u675f\u7684\u65b9\u5f0f\u8fdb\u884c\u5224\u65ad\uff0c\u5982\u679c\u6b63\u5e38\u7ed3\u675f\uff0c\u5219\u6267\u884c\u547d\u4ee41\uff0c\u9519\u8bef\u5219\u6267\u884c\u547d\u4ee42\uff0c\u5982\u679c\u662fCtrl+C\u7ec8\u6b62\uff0c\u53ef\u4ee5\u6267\u884c\u547d\u4ee43. trap \"echo end analysis\" EXIT #\u7a0b\u5e8f\u9000\u51fa\u65f6\u6267\u884c\uff0c\u65e0\u8bba\u662f\u6b63\u5e38\u9000\u51fa\uff0c\u8fd8\u662f\u9519\u8bef\u9000\u51fa\u3002 trap \"echo there have a error\" ERR #\u51fa\u9519\u65f6\uff0c\u6267\u884c","title":"1.4 trap\u51fd\u6570\u7684\u4f7f\u7528"},{"location":"Linux-learning/shell%E8%84%9A%E6%9C%AC%E7%9A%84%E7%BC%96%E5%86%99/#2-shell","text":"shell\u811a\u672c\u7684\u6267\u884c\u65b9\u5f0f \u65b9\u6cd51\uff1a bash test.bash \u65b9\u6cd52\uff1a chmod 757 test.bash ./test.bash","title":"2. \u57fa\u7840shell\u8bed\u6cd5"},{"location":"Linux-learning/shell%E8%84%9A%E6%9C%AC%E7%9A%84%E7%BC%96%E5%86%99/#_2","text":"shell\u53d8\u91cf\uff1a\u8981\u6c42\u7b49\u53f7\u540e\u9762\u7d27\u8ddf\u53d8\u91cf\uff0c\u4e0d\u80fd\u6709\u7a7a\u683c \u4f8b\u5982\uff1a Name=Zhangsan shell\u4e2d\u53cc\u5f15\u53f7\u548c\u5355\u5f15\u53f7\uff0c\u5982\u679c\u5f15\u53f7\u5185\u6709\u53d8\u91cf\uff0c\u4f7f\u7528\u53cc\u5f15\u53f7\u3002\u5355\u5f15\u53f7\u5185\u90e8\u7684\u5b57\u7b26\u4e0d\u4f1a\u88ab\u8f6c\u53d8\u4e3a\u53d8\u91cf\u3002 \u5f15\u7528\u53d8\u91cf\u65b9\u5f0f\uff1a $Name \u6216\u8005 ${Name} ,\u4e00\u822c\u63a8\u8350\u53d8\u91cf\u5f15\u7528\u7684\u65f6\u5019\uff0c\u90fd\u52a0\u4e0a\u5927\u62ec\u53f7\uff0c\u4e0d\u7136\u540e\u9762\u67d0\u4e9b\u65f6\u5019\uff0c\u62fc\u63a5\u5b57\u7b26\u4e32\u7684\u65f6\u5019\u4f1a\u51fa\u73b0\u65e0\u6cd5\u8bc6\u522b\u53d8\u91cf\u540d\u7684\u95ee\u9898\u3002 \u53ea\u8bfb\u53d8\u91cf readonly Name \u4e0a\u9762\u7684Name\u53d8\u91cf\u5c31\u53d8\u6210\u53ea\u8bfb\u53d8\u91cf\uff0c\u4e0d\u80fd\u88ab\u4fee\u6539\u3002 \u5220\u9664\u53d8\u91cf unset variable_name \u5c40\u90e8\u53d8\u91cf \u9ed8\u8ba4\u7684\u53d8\u91cf\u90fd\u662f\u5168\u5c40\u53d8\u91cf local age=18","title":"\u53d8\u91cf"},{"location":"Linux-learning/shell%E8%84%9A%E6%9C%AC%E7%9A%84%E7%BC%96%E5%86%99/#_3","text":"\u62fc\u63a5\u5b57\u7b26\u4e32 your_name=\"runoob\" # \u4f7f\u7528\u53cc\u5f15\u53f7\u62fc\u63a5 greeting=\"hello, \"$your_name\" !\" greeting_1=\"hello, ${your_name} !\" echo $greeting $greeting_1 #\u8f93\u51fa\u5185\u5bb9 #hello, runoob ! hello, runoob ! \u67e5\u627e\u5b57\u7b26\u4e32(\u4f7f\u7528\u6b63\u5219expr index ) string=\"runoob bilideise site\" echo `expr index \"$string\" o` # \u8f93\u51fa 4 \u83b7\u53d6\u5b57\u7b26\u4e32\u957f\u5ea6 ${#string} string=\"abcd\" echo ${#string} #\u8f93\u51fa 4 \u63d0\u53d6\u5b57\u7b26\u4e32\uff0c\u7b2c2\uff1a4\u4e2a\u3002 string=\"runoob is a great site\" echo ${string:1:4} # \u8f93\u51fa unoo","title":"\u5b57\u7b26\u4e32\u64cd\u4f5c"},{"location":"Linux-learning/shell%E8%84%9A%E6%9C%AC%E7%9A%84%E7%BC%96%E5%86%99/#bashindex00","text":"","title":"bash\u4e2d\u7684index\u4e0b\u6807\u4ece0\u5f00\u59cb\u30020\u662f\u7b2c\u4e00\u4e2a\u3002"},{"location":"Linux-learning/shell%E8%84%9A%E6%9C%AC%E7%9A%84%E7%BC%96%E5%86%99/#_4","text":"array_name=(value0 value1 value2 value3) \u6216\u8005\u5355\u72ec\u5b9a\u4e49 array_name[4]=value4 \u83b7\u53d6\u6570\u7ec4\u7b2c1\u4e2a\u5143\u7d20 ${array_name[0]} \u83b7\u53d6\u6570\u7ec4\u6240\u6709\u5143\u7d20 ${array_name[@]} \u83b7\u53d6\u6570\u7ec4\u5143\u7d20\u4e2a\u6570 length=${#array_name[@]} \u83b7\u53d6\u67d0\u4e2a\u5143\u7d20\u7684\u957f\u5ea6 arr1_length=${#array_name[1]}","title":"\u6570\u7ec4"},{"location":"Linux-learning/shell%E8%84%9A%E6%9C%AC%E7%9A%84%E7%BC%96%E5%86%99/#_5","text":"\u5355\u884c\u6ce8\u91ca # \u591a\u884c\u6ce8\u91ca <<! \u6b64\u5904\u662f\u533a\u5757\u6ce8\u91ca \u591a\u884c\u6ce8\u91ca\u6587\u672c \u591a\u884c\u6ce8\u91ca\u6587\u672c !","title":"\u6ce8\u91ca\u7b26\u53f7"},{"location":"Linux-learning/shell%E8%84%9A%E6%9C%AC%E7%9A%84%E7%BC%96%E5%86%99/#_6","text":"\u4f20\u53c2\u5206\u4e3a $1,$2,\u2026\u2026$n \u4ee3\u8868\u4f20\u5165\u7684\u7b2c1,2\uff0cn\u4e2a\u53c2\u6570\u3002 $0 \u4ee3\u8868\u6267\u884c\u7684\u6587\u4ef6\uff08\u5305\u62ec\u8def\u5f84\uff09 $# \u4f20\u5165\u53c2\u6570\u7684\u4e2a\u6570 $* \u4f20\u5165\u7684\u6240\u6709\u53c2\u6570\uff08\u4ee5\u4e00\u4e2a\u5355\u5b57\u7b26\u663e\u793a\uff09 $@ \u4f20\u5165\u7684\u6240\u6709\u53c2\u6570\uff08\u4f9d\u6b21\u663e\u793a\u6bcf\u4e2a\u53c2\u6570\uff09 $$ \u811a\u672c\u8fd0\u884c\u7684\u5f53\u524d\u8fdb\u7a0bid $! \u540e\u53f0\u8fd0\u884c\u7684\u6700\u540e\u4e00\u4e2a\u8fdb\u7a0bid $? \u663e\u793a\u547d\u4ee4\u6700\u540e\u9000\u51fa\u7684\u72b6\u6001\uff0c\u5982\u679c\u4e0d\u662f0\uff0c\u5219\u4ee3\u8868\u7a0b\u5e8f\u6ca1\u6709\u6b63\u5e38\u7ed3\u675f\u3002 `` if [ -n \"$1\" ]; then echo \"\u5305\u542b\u7b2c\u4e00\u4e2a\u53c2\u6570\" else echo \"\u6ca1\u6709\u5305\u542b\u7b2c\u4e00\u53c2\u6570\" fi \u7b97\u672f\u6bd4\u8f83, \u6bd4\u5982\u4e00\u4e2a\u53d8\u91cf\u662f\u5426\u4e3a0, [ $var -eq 0 ] \u3002 \u6587\u4ef6\u5c5e\u6027\u6d4b\u8bd5\uff0c\u6bd4\u5982\u4e00\u4e2a\u6587\u4ef6\u662f\u5426\u5b58\u5728\uff0c [ -e $var ] , \u662f\u5426\u662f\u76ee\u5f55\uff0c [ -d $var ] \u3002 \u5b57\u7b26\u4e32\u6bd4\u8f83, \u6bd4\u5982\u4e24\u4e2a\u5b57\u7b26\u4e32\u662f\u5426\u76f8\u540c\uff0c [[ $var1 = $var2 ]] \u3002","title":"\u53c2\u6570\u4f20\u9012"},{"location":"Linux-learning/shell%E8%84%9A%E6%9C%AC%E7%9A%84%E7%BC%96%E5%86%99/#_7","text":"\u7b97\u672f\u8fd0\u7b97\u7b26 + - * / % \u52a0\u51cf\u4e58\u9664\u6574\u9664\u53d6\u4f59 = \u662f\u8d4b\u503c\uff0c == \u548c != \u4ec5\u7528\u4e8e\u6570\u5b57\u6bd4\u8f83\u3002 \u8fd0\u7b97\u7b26\u4f7f\u7528\u65f6\uff0c\u5fc5\u987b\u5728\u4e2d\u62ec\u53f7\u5185\uff0c\u4e14\u4e24\u8fb9\u5747\u6709\u7a7a\u683c\u3002 \u4f8b\u5982\uff1a [ 5==5.0 ] \u5173\u7cfb\u8fd0\u7b97\u7b26\uff08\u4ec5\u9650\u4e8e\u6570\u5b57\u4e4b\u95f4\u6bd4\u8f83\uff09 -eq -ne -gt -lt -ge -le \u4f9d\u6b21\u662f\u76f8\u7b49\uff0c\u4e0d\u7b49\uff0c\u5927\u4e8e\uff0c\u5c0f\u4e8e\uff0c\u5927\u4e8e\u7b49\u4e8e\uff0c\u5c0f\u4e8e\u7b49\u4e8e \u903b\u8f91\u8fd0\u7b97\u7b26 ! -o -a \u975e\uff1b\u6216\uff1b\u4e0e && \u4e0e || \u6216 \u5b57\u7b26\u4e32\u8fd0\u7b97\u7b26 = != \u7b49\u4e8e \uff1b\u4e0d\u7b49\u4e8e -z \u5b57\u7b26\u4e32\u957f\u5ea6\u4e3a0\uff0c\u5219\u8fd4\u56detrue -n \u5b57\u7b26\u4e32\u957f\u5ea6\u4e0d\u4e3a0\uff0c\u5219\u8fd4\u56detrue $ \u68c0\u67e5\u5b57\u7b26\u4e32\u662f\u5426\u4e3a\u7a7a\uff0c\u4e0d\u4e3a\u7a7a\u8fd4\u56detrue. \u6587\u4ef6\u8fd0\u7b97\u7b26 -d \u68c0\u67e5\u6587\u4ef6\u662f\u5426\u662f\u76ee\u5f55\uff0c\u662f\uff0c\u5219\u8fd4\u56detrue -r \u68c0\u6d4b\u6587\u4ef6\u662f\u5426\u53ef\u8bfb -w \u68c0\u6d4b\u6587\u4ef6\u662f\u5426\u53ef\u5199 -x \u68c0\u6d4b\u6587\u4ef6\u662f\u5426\u53ef\u6267\u884c -s \u68c0\u6d4b\u6587\u4ef6\u662f\u5426\u4e3a\u7a7a\uff0c\u4e0d\u4e3a\u7a7a\u5219\u8fd4\u56detrue -e \u68c0\u6d4b\u6587\u4ef6\uff08\u6216\u76ee\u5f55\uff09\u662f\u5426\u5b58\u5728\uff0c\u662f\uff0c\u5219\u8fd4\u56detrue -L \u68c0\u6d4b\u6587\u4ef6\u662f\u5426\u5b58\u5728\u5e76\u4e14\u662f\u4e00\u4e2a\u7b26\u53f7\u94fe\u63a5 echo\u547d\u4ee4 \u8f93\u51fa\u6362\u884c echo -e \"this is a new line! \\n\"","title":"\u8fd0\u7b97\u7b26"},{"location":"Linux-learning/shell%E8%84%9A%E6%9C%AC%E7%9A%84%E7%BC%96%E5%86%99/#shell","text":"shell\u91cc\u9762else\u91cc\u9762\u5982\u679c\u6ca1\u6709\u4e1c\u897f\uff0c\u5c31\u4e0d\u8981\u5199else. \u6d41\u7a0b\u63a7\u5236\u91cc\u4e0d\u80fd\u4e3a\u7a7a\u3002 if [ $age -ge 18 ] then echo \"\u6210\u5e74\u4eba\uff01\" else echo \u201c\u672a\u6210\u5e74\uff01\u201d fi \u591a\u7ec4if-elif-else-fi if [ $age -lt 18 ] then echo \"\u672a\u6210\u5e74\" elif [ $age -ge 60 ] then echo \"\u8001\u5e74\u4eba\" else echo \"\u9752\u5e74\u548c\u4e2d\u5e74\" fi \u6bcf\u7ec4\u7684if\u540e\u4e00\u5b9a\u8981\u6709then\u3002","title":"shell\u6d41\u7a0b\u63a7\u5236"},{"location":"Linux-learning/shell%E8%84%9A%E6%9C%AC%E7%9A%84%E7%BC%96%E5%86%99/#_8","text":"for\u5faa\u73af for var in `ls namefile` do echo $var done #for\u5faa\u73af\u5b9e\u4f8b for((i=1;i<=5;i++));do echo \"\u8fd9\u662f\u7b2c $i \u6b21\u8c03\u7528\"; done; #\u751f\u62100\u5230100\u7684\u81ea\u7136\u6570\u3002\u53730\uff0c1\uff0c2\uff0c3\uff0c\u2026\u2026\uff0c100 for i in {0..100};do echo \"${i}.tar.gz\" done while\u5faa\u73af int=1 while(( $int<=5 )) do echo $int let \"int++\" done \u65e0\u9650\u5faa\u73af while true do ping www.baidu.com done","title":"\u5faa\u73af"},{"location":"Linux-learning/shell%E8%84%9A%E6%9C%AC%E7%9A%84%E7%BC%96%E5%86%99/#case","text":"echo \"\u8f93\u51651\u52304\u4e4b\u95f4\u7684\u6570\u5b57\" read aNum case $aNum in 1) echo \"\u8f93\u5165\u7684\u662f1\" ;; 2) echo \"\u8f93\u5165\u7684\u662f2\" ;; *) echo \"\u60a8\u8f93\u5165\u7684\u4e0d\u5728\u8303\u56f4\" ;; esac \u4e2d\u65ad\u6216\u8005\u8df3\u51fa\u5faa\u73af\u7684\u65b9\u6cd5 break \u7ec8\u6b62\u540e\u7eed\u5faa\u73af continue \u4e2d\u6b62\u5f53\u524d\u5faa\u73af\uff0c\u540e\u7eed\u5faa\u73af\u7ee7\u7eed\u8fd0\u884c\u3002","title":"case"},{"location":"Linux-learning/shell%E8%84%9A%E6%9C%AC%E7%9A%84%E7%BC%96%E5%86%99/#basenamedirname","text":"basename \u7528\u4e8e\u83b7\u53d6\u6587\u4ef6\u540d basename /softwares/test/test1.sh \u8fd4\u56de\u503c\u662f test1.sh basename -s .sh /softwares/test/test1.sh \u8fd4\u56de\u503c\u662f test1 dirname \u7528\u4e8e\u83b7\u53d6\u6587\u4ef6\u8def\u5f84 dirname /softwares/test/test1.sh \u8fd4\u56de\u7684\u503c\u662f\u8def\u5f84 \u4e0a\u8ff02\u4e2a\u51fd\u6570\u53ef\u4ee5\u7528\u4e8e\u83b7\u53d6\u7528\u6237\u8f93\u5165\u7684\u6587\u4ef6\u540d\u7684\u524d\u7f00\u548c\u8def\u5f84\u3002","title":"\u5185\u90e8\u51fd\u6570basename\u548cdirname"},{"location":"Linux-learning/shell%E8%84%9A%E6%9C%AC%E7%9A%84%E7%BC%96%E5%86%99/#_9","text":"##\u63d0\u53d6\u6307\u5b9a\u67d3\u8272\u4f53\u7684bam\u6587\u4ef6 getchr(){ samtools view -b -h $1 $2 | samtools sort - > $3 } #\u8c03\u7528\u51fd\u6570 getchr all.bam chr1 chr1.bam \u51fd\u6570\u91cc\u53ef\u4ee5\u8fd4\u56de\u503c sum2(){ echo \"success!\" return 0 } \u4e00\u822c\u60c5\u51b5\u4e0b\uff0creturn\u8fd4\u56de\u7684\u53ea\u80fd\u662f0-255\u7684\u6574\u6570\uff0c\u9ed8\u8ba4\u548c\u4e60\u60ef\uff0c\u8fd4\u56de0\u662f\u6b63\u5e38\uff0c1\u662f\u9519\u8bef\uff0c\u7528\u6765\u5224\u65ad\u7a0b\u5e8f\u662f\u5426\u6b63\u5e38\u8fd0\u884c\u3002 \u4f7f\u7528 $? \u53ef\u4ee5\u83b7\u53d6\u4e0a\u4e00\u6761\u547d\u4ee4\u8fd0\u884c\u7684\u7ed3\u679c\uff0c\u5982\u679c\u662f0\u5c31\u6b63\u5e38\u3002 if ! [ $? -eq 0 ] ; then echo \"\u4e0a\u4e00\u6761\u547d\u4ee4\u6709\u9519\u8bef\u3002\" exit fi","title":"\u51fd\u6570\u7684\u5b9a\u4e49"},{"location":"Linux-learning/shell%E8%84%9A%E6%9C%AC%E7%9A%84%E7%BC%96%E5%86%99/#return0-255","text":"##\u5b9a\u4e49\u68c0\u6d4b\u7f51\u7edc\u8fde\u63a5\u662f\u5426\u6b63\u5e38 check_net(){ #\u68c0\u6d4b\u7f51\u7edc ping -c 3 -w 3 www.baidu.com >network_cache #-c ping 3\u6b21 \uff0c-w 3 ping 3s \u540e\u7ed3\u675f #\u68c0\u6d4bping\u7684\u7ed3\u679c\u72b6\u6001\u7801 if [ $? -eq 0 ];then echo \"network connect success\uff01\" echo \"\u68c0\u6d4b\u7f51\u7edc\uff0c\u6b63\u5e38!\" return 0 #sleep 3m #\u4f11\u77203min\u540e\u518d\u68c0\u6d4b else echo \"network connect Wrong\uff0cPlease check network!\" return 1 fi } #\u68c0\u6d4b\u7f51\u7edc check_net #\u83b7\u53d6\u68c0\u6d4b\u7f51\u7edc\u7684\u8fd4\u56de\u503c\uff08\u5373check_net\u51fd\u6570\u91cc\u7684return\u7684\u503c\uff09 if [ $? -eq 0 ];then echo \"\u7f51\u7edc\u6b63\u5e38\uff01\" #\u6b64\u5904\u53ef\u4ee5\u653e\u7f6e\uff0c\u7f51\u7edc\u6b63\u5e38\u9700\u8981\u8fd0\u884c\u7684\u547d\u4ee4\u811a\u672c\u3002 else echo \"\u7f51\u7edc\u672a\u8fde\u63a5\uff01\" #\u6b64\u5904\u53ef\u4ee5\u653e\u7f6e\uff0c\u7f51\u7edc\u767b\u5f55\u7684\u547d\u4ee4\u811a\u672c\u3002 fi","title":"return\u7528\u4e8e\u8fd4\u56de\u72b6\u6001\u7801\uff0c\u53ea\u80fd\u662f\u6570\u5b570-255"},{"location":"Linux-learning/shell%E8%84%9A%E6%9C%AC%E7%9A%84%E7%BC%96%E5%86%99/#_10","text":"# \u8bbe\u7f6enull\u6216\u7a7a\u503c\u65f6\uff0c\u9ed8\u8ba4\u503c\u662f10 ${number:=10} #\u8bbe\u7f6enull\u6216\u7a7a\u503c\u65f6\uff0c\u62a5\u9519\u4fe1\u606f\u3002 ${name:?Please input name} #\u8bbe\u7f6e\u53c2\u6570\u4e0d\u4e3a\u7a7a\u65f6\u7684\u9ed8\u8ba4\u503c ${userpasswd:+******}","title":"\u8bbe\u7f6e\u53c2\u6570\u7684\u9ed8\u8ba4\u503c"},{"location":"Linux-learning/shell%E8%84%9A%E6%9C%AC%E7%9A%84%E7%BC%96%E5%86%99/#read","text":"\u793a\u4f8b\uff1a\u7528\u6237\u534f\u8bae\u540c\u610f\u7684\u4ea4\u4e92\u8bbe\u8ba1 ###\u7528\u6237\u534f\u8bae\u540c\u610f\u6a21\u5757 echo \"\u7528\u6237\u534f\u8bae 1.\u4ec5\u9650\u975e\u5546\u4e1a\u4f7f\u7528\uff08\u5b66\u672f\u7814\u7a76\u514d\u8d39\u4f7f\u7528\uff09 2.\u8f6c\u8f7d\u6216\u4e8c\u6b21\u5f00\u53d1\uff0c\u8bf7\u4fdd\u7559\u539f\u4f5c\u8005\u7684\u4fe1\u606f 3.\u5546\u4e1a\u7528\u9014\u8bf7\u8054\u7cfb\u539f\u4f5c\u8005\uff01\" ##-n 1\u662f\u9650\u5236\u53ea\u80fd\u8f93\u51651\u4e2a\u5b57\u7b26\uff0c-p \"\u2026\u2026\"\u7528\u4e8e\u7ed9\u7528\u6237\u63d0\u793a\u9700\u8981\u8f93\u5165\u7684\u5185\u5bb9 read -p \"Please make sure to agree with the agreement (Y/N):\" -n 1 answer case $answer in Y|y) echo -e \"\\n Thank you!Install will continue\u2026\u2026\" reset ;; N|n) echo -e \"\\n No agree!exit!\" exit ;; *) echo -e \"\\n Please make sure input Y or N\" exit ;; esac","title":"read\u51fd\u6570\u7684\u4f7f\u7528"},{"location":"Linux-learning/shell%E8%84%9A%E6%9C%AC%E7%9A%84%E7%BC%96%E5%86%99/#_11","text":"\u4f8b\u5982\uff1a\u672c\u76ee\u5f55\u4e0b\u6709commerge\u548cgetchr\u4e24\u4e2a\u811a\u672c\u3002 \u5728getchr\u91cc\u53ef\u4ee5\u4f7f\u7528 source commerge \u6216\u8005 source ./commerge ,\u6765\u5f15\u7528\u811a\u672ccommerge.","title":"\u5f15\u5165\u5176\u4ed6\u811a\u672c"},{"location":"Linux-learning/shell%E8%84%9A%E6%9C%AC%E7%9A%84%E7%BC%96%E5%86%99/#_12","text":"#\u8fd0\u884c\u811a\u672c\u547d\u4ee4 getchr -i file1 -o file2 -s std","title":"\u83b7\u53d6\u8f93\u5165\u53c2\u6570\u7684\u5904\u7406"},{"location":"Linux-learning/shell%E8%84%9A%E6%9C%AC%E7%9A%84%E7%BC%96%E5%86%99/#getchr","text":"while [ -n \"$1\" ];do case $1 in -i|--input) inputfile=$2 shift ;; -o|--output) output=$2 shift ;; -s|--select) select=$2 ;; esac shift done \u4f7f\u7528 shift \u4f5c\u4e3a\u5de6\u79fb\u5de5\u5177\uff0c\u6765\u83b7\u53d6\u540e\u9762\u7684\u53c2\u6570\u548c\u53c2\u6570\u7684\u503c\u3002","title":"getchr\u811a\u672c\u91cc\u83b7\u53d6\u8f93\u5165\u53c2\u6570\u7684\u65b9\u6cd5\uff0c"},{"location":"Linux-learning/shell%E8%84%9A%E6%9C%AC%E7%9A%84%E7%BC%96%E5%86%99/#31","text":"\u56e0\u65f6\u95f4\u4ed3\u4fc3\uff0c\u5199\u4e86\u7b80\u5355\u7684\u811a\u672c\uff0c\u4ee5\u5176\u80fd\u591f\u7406\u89e3\u5176\u539f\u7406\u548cshell\u8bed\u6cd5\u3002\u811a\u672c\u5728 github .\u4e0b\u8f7d\u540e\uff0c\u76f4\u63a5\u8fd0\u884c\u547d\u4ee4 commerge -h \u5373\u53ef\u3002\u5982\u679c\u4e0d\u80fd\u6267\u884c\uff0c\u8bf7\u6dfb\u52a0\u6267\u884c\u6743\u9650\u5373\u53ef chmod 757 commer \u3002 \u5355\u884c\u547d\u4ee4\u901f\u67e5","title":"3.\u5b9e\u62181\uff1a\u7f16\u5199\u4e24\u4e2a\u6587\u4ef6\u5408\u5e76\u7684\u5c0f\u6559\u672c"},{"location":"Linux-learning/shell%E8%84%9A%E6%9C%AC%E7%9A%84%E7%BC%96%E5%86%99/#shell_1","text":"num=`expr 12 - 6` pi=`awk 'BEGIN{print 2*2-0.86 }'` area=`awk -v pi=$pi -v num=$num 'BEGIN{print pi*num }'` \u6ce8\u610f \uff1a\u6574\u6570\u578b\u8fd0\u7b97\u4f7f\u7528 expr \u800c\u4e14\u540e\u9762\u7684\u8fd0\u7b97\u548c\u6570\u5b57\u4e4b\u95f4\u8981\u6709\u4e00\u4e2a\u7a7a\u683c\u3002\u6d6e\u70b9\u8fd0\u7b97\u9700\u8981\u501f\u7528awk\u6765\u5b8c\u6210\u3002 awk \u4f7f\u7528shell\u7684\u53d8\u91cf\u65f6\uff0c\u9700\u8981\u4f7f\u7528 -v \u6765\u5f15\u5165\u3002","title":"shell\u7b97\u672f\u8fd0\u7b97"},{"location":"Linux-learning/shell%E8%84%9A%E6%9C%AC%E7%9A%84%E7%BC%96%E5%86%99/#4","text":"\u4f7f\u7528\u4e34\u65f6\u76ee\u5f55\u548c\u4e34\u65f6\u6587\u4ef6\uff0c\u53ef\u4ee5\u4f5c\u4e3a\u4e2d\u8f6c\u76ee\u5f55\u6216\u6587\u4ef6\u3002\u6709\u4e9b\u5185\u5bb9\u9700\u8981\u8f93\u51fa\u5230\u6587\u4ef6\uff0c\u4f46\u662f\u53ea\u662f\u4f5c\u4e3a\u4e2d\u95f4\u6587\u4ef6\uff0c\u6700\u540e\u9700\u8981\u5220\u9664\uff0c\u5c31\u53ef\u4ee5\u7528\u4e34\u65f6\u6587\u4ef6\u3002","title":"4.\u9ad8\u7ea7\u529f\u80fd"},{"location":"Linux-learning/shell%E8%84%9A%E6%9C%AC%E7%9A%84%E7%BC%96%E5%86%99/#_13","text":"##\u751f\u6210\u4e34\u65f6\u6587\u4ef6(\u793a\u4f8b\uff1a\u4e34\u65f6\u6587\u4ef6\u7684\u53d8\u91cf\u540d\u79f0\u662f${tempfpkm}) trap 'rm -f \"$tempfpkm\"' EXIT #\u9000\u51fa\u65f6\uff0c\u5220\u9664\u4e34\u65f6\u6587\u4ef6(trap\u662f\u6839\u636e\u540e\u9762\u7684\u7cfb\u7edf\u4fe1\u53f7\uff0c\u6267\u884c\u524d\u9762\u7684\u547d\u4ee4) tempfpkm=$(mktemp -p ${PWD}) || exit 1 #\u5728\u5de5\u4f5c\u8def\u5f84\uff0c\u751f\u6210\u4e34\u65f6\u6587\u4ef6\uff0c\u5982\u679c\u751f\u6210\u5931\u8d25\uff0c\u5219\u9000\u51fa\u3002","title":"\u521b\u5efa\u4e34\u65f6\u6587\u4ef6"},{"location":"Linux-learning/shell%E8%84%9A%E6%9C%AC%E7%9A%84%E7%BC%96%E5%86%99/#_14","text":"##\u751f\u6210\u4e34\u65f6\u76ee\u5f55(\u793a\u4f8b\uff1a\u4e34\u65f6\u6587\u4ef6\u5939\u53d8\u91cf\u540d\u79f0\u662f${fpkm}) trap 'rm -rf \"$fpkm\"' EXIT fpkm=$(mktemp -d -p ${PWD}) || exit 1 mktemp \u53c2\u6570\uff1a -p \u6307\u5b9a\u751f\u6210\u6587\u4ef6\u6216\u6587\u4ef6\u5939\u7684\u8def\u5f84 -d \u6307\u5b9a\u751f\u6210\u7684\u662f\u6587\u4ef6\u5939\uff0c\u4e0d\u4f7f\u7528 -d \u751f\u6210\u7684\u662f\u6587\u4ef6\u3002 tmp.XXXX \u5236\u5b9a\u6a21\u677f\uff08\u6ce8\u610f\uff1aX\u5fc5\u987b\u662f\u5927\u5199\uff0c\u800c\u4e14\u6700\u5c11\u9700\u8981\u4e09\u4e2aX,X\u6709\u51e0\u4e2a\uff0c\u8f93\u51fa\u7684\u968f\u673a\u5b57\u7b26\u5c31\u6709\u51e0\u4f4d\uff09 mktemp -d -p ${PWD} zhansan.XXXX \u5728\u5f53\u524d\u76ee\u5f55\u521b\u5efa\u6587\u4ef6\u524d\u7f00\u4e3a zhansan. \u7684\u6587\u4ef6\u5939\u3002\u6b64\u5904\u8f93\u51fa\u4e3a zhansan.pmJt \u6bcf\u4e2a\u4eba\u8fd0\u884c\uff0c\u540e\u9762\u7684\u56db\u4f4d\u4e0d\u4e00\u6837 mktemp -p ${PWD} temp.XXXXXX \u521b\u5efa\u4e34\u65f6\u6587\u4ef6\uff0c\u524d\u7f00\u662ftemp\uff0c\u540e\u9762\u662f6\u4f4d\u5b57\u7b26\u3002","title":"\u521b\u5efa\u4e34\u65f6\u76ee\u5f55"},{"location":"Linux-learning/shell%E8%84%9A%E6%9C%AC%E7%9A%84%E7%BC%96%E5%86%99/#_15","text":"trap 'rm -rf \"$zhangsan\" ' EXIT zhangsan=$(mktemp -d -p ${PWD}) || exit 1 temp=$(mktemp -p ${zhangsan} temp.XXXXXX)","title":"\u521b\u5efa\u4e34\u65f6\u6587\u4ef6\u5939\uff0c\u5e76\u5728\u4e34\u65f6\u6587\u4ef6\u5939\u91cc\u521b\u5efa\u4e34\u65f6\u6587\u4ef6"},{"location":"Linux-learning/shell%E8%84%9A%E6%9C%AC%E7%9A%84%E7%BC%96%E5%86%99/#trap","text":"trap 'rm -rf \"${zhangsan}\";rm -rf \"${temp}\"' EXIT \u5f53\u6709\u5f88\u591a\u4e34\u65f6\u6587\u4ef6\u9700\u8981\u6e05\u7406\u65f6\uff1a\u53ef\u4ee5\u81ea\u5b9a\u4e49\u6e05\u7406\u51fd\u6570\uff0c\u7136\u540etrap\u6267\u884c\u5373\u53ef #\u5b9a\u4e49\u6e05\u7406\u51fd\u6570 function cleanup(){ rm -rf \"$zhangsan\" rm -rf \"$bam\" } trap cleanup EXIT #trap\u4fe1\u53f7\u8c03\u7528\u6e05\u7406\u51fd\u6570 zhangsan=$(mktemp -d -p ${PWD}) || exit 1 temp=$(mktemp -p ${zhangsan} temp.XXXXXX) || exit 1 bam=$(mktemp -p ${PWD} bam.XXXX) || exit 1 \u4e0a\u9762\u751f\u6210\u7684temp.XXXXXX \u6587\u4ef6\u662f\u5728zhangsan.XXXX\u6587\u4ef6\u5939\u91cc\u7684\uff0c\u901a\u8fc7\u6e05\u7406zhangsan\u6587\u4ef6\u5939\u5373\u53ef\u6e05\u7406\u91cc\u9762\u7684\u6587\u4ef6\u3002 bam.XXXX\u6587\u4ef6\u662f\u5728\u5de5\u4f5c\u76ee\u5f55\uff0c\u9700\u8981\u6307\u5b9a\u6e05\u7406\u3002 trap\u662f\u7cfb\u7edf\u4fe1\u53f7\uff0c\u6240\u4ee5\u53ea\u80fd\u6267\u884c\u4e00\u6b21\u5c31\u4f1a\u9000\u51fa\u3002\u5982\u679c\u6709\u591a\u4e2a\u6587\u4ef6\u9700\u8981\u6e05\u7406\uff0c\u5c31\u53ea\u80fd\u662f\u4f7f\u7528\u4e0a\u9762\u7684\u51fd\u6570\u6a21\u5f0f\u6216\u8005\u662f\u4f7f\u7528 ; \u6765\u8fde\u63a5\u591a\u4e2a\u6e05\u7406\u547d\u4ee4\u3002 \u5982\u679c\u5728\u4e00\u4e2a\u8fdb\u7a0b\u4e2d\u5199\u6709\u591a\u4e2atrap\u51fd\u6570\uff0c\u53ea\u4f1a\u6267\u884c\u6700\u540e\u4e00\u4e2a\u3002","title":"trap\u662f\u6355\u6349\u7cfb\u7edf\u9000\u51fa\u65f6\u6267\u884c\u7684\u547d\u4ee4"},{"location":"Linux-learning/shell%E8%84%9A%E6%9C%AC%E7%9A%84%E7%BC%96%E5%86%99/#zhangsan","text":"trap 'rm -rf \"$zhangsan\" ' EXIT trap 'rm -rf \"$bam\" ' EXIT","title":"\u4e0b\u9762\u7684\u793a\u4f8b\uff1a\u5b9e\u9645\u5c31\u6267\u884c\u7b2c\u4e8c\u53e5\uff0c\u7b2c\u4e00\u4e2a\u6587\u4ef6$zhangsan\u4e0d\u4f1a\u88ab\u6e05\u7406\u3002"},{"location":"Linux-learning/shell%E8%84%9A%E6%9C%AC%E7%9A%84%E7%BC%96%E5%86%99/#_16","text":"\u5728\u65e0\u6cd5\u786e\u5b9a\u7528\u6237\u7684\u8f93\u5165\u662f\u7edd\u5bf9\u6216\u76f8\u5bf9\u8def\u5f84\u65f6\u4f7f\u7528 1. \u83b7\u53d6\u6587\u4ef6\u7684\u8def\u5f84\uff08\u8f93\u5165\u7684\u662f\u7edd\u5bf9\u8def\u5f84\uff0c\u8f93\u51fa\u4e5f\u662f\u7edd\u5bf9\u8def\u5f84\uff0c\u8f93\u5165\u662f\u76f8\u5bf9\u8def\u5f84\uff0c\u8f93\u51fa\u4e5f\u662f\u76f8\u5bf9\u8def\u5f84\uff09 dirname ../genome.fa 2. \u83b7\u53d6\u6587\u4ef6\u7684\u540d\u79f0\uff08\u65e0\u8bba\u662f\u7edd\u5bf9\u6216\u76f8\u5bf9\u8def\u5f84\uff0c\u8f93\u51fa\u7684\u90fd\u53ea\u662f\u6587\u4ef6\u540d\uff09 basename ../genome.fa #\u8f93\u51fa\u662fgenome.fa \u83b7\u53d6\u6587\u4ef6\u7684\u524d\u7f00 basename ../genome.fa .fa #\u8f93\u51fa\u662fgenome\uff0c 3. \u83b7\u53d6\u7edd\u5bf9\u8def\u5f84(\u5982\u679c\u662f\u6587\u4ef6\uff0c\u8fd4\u56de\u662f\u6587\u4ef6\u7684\u7edd\u5bf9\u8def\u5f84\uff0c\u5982\u679c\u662f\u8def\u5f84\uff0c\u8fd4\u56de\u662f\u7edd\u5bf9\u8def\u5f84) readlink -f ../genome.fa #\u8f93\u51fa\u662f/share/home/\u2026\u2026/genome.fa \u5728\u811a\u672c\u4e2d\u4f7f\u7528,\u8d4b\u503c\u7ed9\u53d8\u91cf\u7684\u65f6\u5019\uff0c\u4e24\u7aef\u4e00\u5b9a\u8981\u4f7f\u7528\u53cc\u5f15\u53f7\u62ec\u4f4f\u3002 #\u83b7\u53d6\u8f93\u5165\u6587\u4ef6\u7684\u7edd\u5bf9\u8def\u5f84\u7684\u6587\u4ef6 absol_genome=\"`readlink -f ../genome.fa`\" #\u83b7\u53d6\u8f93\u5165\u6587\u4ef6\u7684\u8def\u5f84 genome_path=\"`dirname ../genome.fa`\" #\u83b7\u53d6\u8f93\u5165\u6587\u4ef6\u7684\u7edd\u5bf9\u8def\u5f84 absol_path=\"`readlink -f ${genome_path}`\" # \u4fee\u6539\u6587\u4ef6\u7684\u540e\u7f00 genome.gff=\"`basename ../genome.fa .fa`.gff\"","title":"\u83b7\u53d6\u8f93\u5165\u6587\u4ef6\u7684\u8def\u5f84\u548c\u6587\u4ef6\u540d"},{"location":"Linux-learning/shell%E8%84%9A%E6%9C%AC%E7%9A%84%E7%BC%96%E5%86%99/#_17","text":"\u6b64\u90e8\u5206\u8f6c\u8f7d\u81eahttps://www.cxyzjd.com/article/lifuxiangcaohui/50153207 file=/dir1/dir2/dir3/my.file.txt \u6211\u4eec\u53ef\u4ee5\u7528 ${ } \u5206\u522b\u66ff\u6362\u83b7\u5f97\u4e0d\u540c\u7684\u503c\uff1a ${file#*/} \uff1a\u62ff\u6389\u7b2c\u4e00\u6761 / \u53ca\u5176\u5de6\u8fb9\u7684\u5b57\u7b26\u4e32\uff1adir1/dir2/dir3/my.file.txt ${file##*/} \uff1a\u62ff\u6389\u6700\u540e\u4e00\u6761 / \u53ca\u5176\u5de6\u8fb9\u7684\u5b57\u7b26\u4e32\uff1amy.file.txt ${file#*.} \uff1a\u62ff\u6389\u7b2c\u4e00\u4e2a . \u53ca\u5176\u5de6\u8fb9\u7684\u5b57\u7b26\u4e32\uff1afile.txt ${file##*.} \uff1a\u62ff\u6389\u6700\u540e\u4e00\u4e2a . \u53ca\u5176\u5de6\u8fb9\u7684\u5b57\u7b26\u4e32\uff1atxt ${file%/*} \uff1a\u62ff\u6389\u6700\u540e\u6761 / \u53ca\u5176\u53f3\u8fb9\u7684\u5b57\u7b26\u4e32\uff1a/dir1/dir2/dir3 ${file%%/*} \uff1a\u62ff\u6389\u7b2c\u4e00\u6761 / \u53ca\u5176\u53f3\u8fb9\u7684\u5b57\u7b26\u4e32\uff1a(\u7a7a\u503c) ${file%.*} \uff1a\u62ff\u6389\u6700\u540e\u4e00\u4e2a . \u53ca\u5176\u53f3\u8fb9\u7684\u5b57\u7b26\u4e32\uff1a/dir1/dir2/dir3/my.file ${file%%.*} \uff1a\u62ff\u6389\u7b2c\u4e00\u4e2a . \u53ca\u5176\u53f3\u8fb9\u7684\u5b57\u7b26\u4e32\uff1a/dir1/dir2/dir3/my \u8bb0\u5fc6\u7684\u65b9\u6cd5\u4e3a\uff1a # \u662f\u53bb\u6389\u5de6\u8fb9(\u5728\u952e\u76d8\u4e0a # \u5728 $ \u4e4b\u5de6\u8fb9) % \u662f\u53bb\u6389\u53f3\u8fb9(\u5728\u952e\u76d8\u4e0a % \u5728 $ \u4e4b\u53f3\u8fb9) \u5355\u4e00\u7b26\u53f7\u662f\u6700\u5c0f\u5339\u914d\ufe54\u4e24\u4e2a\u7b26\u53f7\u662f\u6700\u5927\u5339\u914d\u3002 ${file:0:5} \uff1a\u63d0\u53d6\u6700\u5de6\u8fb9\u7684 5 \u4e2a\u5b57\u8282\uff1a/dir1 ${file:5:5} \uff1a\u63d0\u53d6\u7b2c 5 \u4e2a\u5b57\u8282\u53f3\u8fb9\u7684\u8fde\u7eed 5 \u4e2a\u5b57\u8282\uff1a/dir2 \u6211\u4eec\u4e5f\u53ef\u4ee5\u5bf9\u53d8\u91cf\u503c\u91cc\u7684\u5b57\u7b26\u4e32\u4f5c\u66ff\u6362\uff1a ${file/dir/path} \uff1a\u5c06\u7b2c\u4e00\u4e2a dir \u63d0\u6362\u4e3a path\uff1a/path1/dir2/dir3/my.file.txt ${file//dir/path} \uff1a\u5c06\u5168\u90e8 dir \u63d0\u6362\u4e3a path\uff1a/path1/path2/path3/my","title":"\u4f7f\u7528${}\u6765\u83b7\u53d6\u6587\u4ef6\u8def\u5f84\u548c\u6587\u4ef6\uff0c\u6587\u4ef6\u540e\u7f00"},{"location":"Linux-learning/shell%E8%84%9A%E6%9C%AC%E7%9A%84%E7%BC%96%E5%86%99/#shell-shell","text":"","title":"\u5176\u4ed6shell\u547d\u4ee4\u548c\u591a\u7ebf\u7a0b\u76f8\u5173 shell\u5355\u884c\u547d\u4ee4\u901f\u67e5"},{"location":"Linux-learning/shell%E8%84%9A%E6%9C%AC%E7%9A%84%E7%BC%96%E5%86%99/#_18","text":"pkill --ns 332314 \u6740\u6b7bpid\u4e0e332314\u7684\u8fdb\u7a0b\u7684\u7a0b\u5e8f\u540d\u76f8\u540c\u7684\u6240\u6709\u7a0b\u5e8f \u614e\u91cd\u4f7f\u7528\uff0c\u4f1a\u6740\u6389\u4e00\u5927\u6279\u7a0b\u5e8f\uff0c\u9002\u5408\u6279\u91cf\u63d0\u4ea4\u540e\uff0c\u9700\u8981\u6740\u6389\u6279\u91cf\u7684\u4efb\u52a1 kill -9 332314 \u6740\u6389pid\u8fdb\u7a0b\u4e3a332314\u7684\u7a0b\u5e8f bkill 332314 \u7528\u4e8elsf\u7cfb\u7edf\u7684\u6740\u6389JOBID \u662f332314\u7684\u4efb\u52a1\u3002 ps uux|grep ascp|awk '{print $2}'|xargs -i kill -9 {} #\u6279\u91cf\u6740\u6389\u5305\u542bascp\u7684\u4efb\u52a1","title":"\u6740\u6b7b\u8fdb\u7a0b"},{"location":"Linux-learning/shell%E8%84%9A%E6%9C%AC%E7%9A%84%E7%BC%96%E5%86%99/#_19","text":"\u5e38\u89c4\u505a\u6cd5\uff0c\u5199\u4e2a\u6b7b\u5faa\u73af\uff0c\u5b9a\u65f6\u6267\u884c\u5373\u53ef #\u5b9a\u65f6\u68c0\u6d4b\u6267\u884c\u4e0a\u4f20\u6570\u636e\u5230NCBI runinfo=\"ascp -i $HOME/cmm.aspera.openssh -QT -l 30m -k1 -d $HOME/upload_to_NCBI subasp@upload.ncbi.nlm.nih.gov:uploads/wangjing_gmail.com_XXXXXXX\" while true; do #\u68c0\u6d4b\u7f51\u7edc ping -c 3 -w 3 www.baidu.com >network_cache #-c ping 3\u6b21 \uff0c-w 3 ping 3s \u540e\u7ed3\u675f if [ $? -eq 0 ];then echo \"network connect success\uff01\" echo \"\u68c0\u6d4b\u7f51\u7edc\uff0c\u6b63\u5e38!\" aspera=`ps aux|grep ascp|grep -v grep|wc -l` if [ \"$aspera\" -eq 0 ];then `${runinfo}` fi sleep 3m #\u4f11\u77203min\u540e\u518d\u68c0\u6d4b else echo \"network connect Wrong\uff0cPlease check network!\" fi done","title":"\u5b9a\u65f6\u6267\u884c\u7a0b\u5e8f"},{"location":"Linux-learning/shell%E8%84%9A%E6%9C%AC%E7%9A%84%E7%BC%96%E5%86%99/#crontab","text":"\u4f7f\u7528 crontab -e \u5efa\u7acb\u4e00\u4e2a\u65b0\u7684\u5b9a\u65f6\u63a7\u5236 \u6ce8\u610f\uff1a\u811a\u672c\u91cc\u8c03\u7528\u5176\u4ed6\u7a0b\u5e8f\uff0c\u7a0b\u5e8f\u9700\u8981\u4f7f\u7528\u5b8c\u6574\u7684\u8def\u5f84\uff0c\u540c\u65f6\u4e5f\u7528\u4f7f\u7528\u5b8c\u6574\u8def\u5f84\u6307\u5b9a\u8fd0\u884c\u811a\u672c\u7684\u4f4d\u7f6e\u3002\u5982\u679c\u4e0d\u6307\u5b9a\u4f4d\u7f6e\uff0c\u5219\u53ef\u80fd\u627e\u4e0d\u5230\u811a\u672c\u8c03\u7528\u7684\u7a0b\u5e8f\u6216\u8005\u627e\u4e0d\u5230\u811a\u672c\u7684\u4f4d\u7f6e\u3002 */10 * * * * bash /$HOME/keeprun.sh >/dev/null 2>&1 & \u4fdd\u5b58\u4e0a\u9762\u7684\u5373\u53ef\u6bcf10\u5206\u949f\uff0c\u6267\u884c\u4e00\u6b21\u547d\u4ee4 bash keeprun.sh $HOME/.aspera/connect/bin/ascp -i $HOME/cmm.aspera.openssh -QT -l 30m -k1 -d $HOME/upload_to_NCBI subasp@upload.ncbi.nlm.nih.gov:uploads/wangjing_gmail.com_XXXXXXX keeprun.sh\u5185\u5bb9\u5982\u4e0b\uff1a #!/usr/bin/bash #\u68c0\u6d4b\u8fdb\u7a0b\u662f\u5426\u5728\u8fd0\u884c\uff0c\u5e76\u5c06\u8fdb\u7a0b\u7684\u884c\u6570\u4fe1\u606f\u4f20\u7ed9count\u53d8\u91cf\u3002 command=\"$HOME/.aspera/connect/bin/ascp -i $HOME/cmm.aspera.openssh -QT -l 30m -k1 -d $HOME/upload_to_NCBI subasp@upload.ncbi.nlm.nih.gov:uploads/wangjing_gmail.com_XXXXXXX\" file=`echo $command|rev|cut -d \"/\" -f1|cut -d \" \" -f2|rev` count=`ps uux|grep $file|grep -v grep|grep -v keeprun|wc -l` #\u5982\u679ccount\u503c\u5927\u4e8e0\uff0c\u5219\u8868\u793a\u8fdb\u7a0b\u4e0d\u5b58\u5728 if [ $count -eq 0 ] then #\u8fdb\u7a0b\u4e0d\u5b58\u5728\u5219\u8fd0\u884c\u4e0b\u9762\u7684\u547d\u4ee4\uff0c\u5c3e\u90e8\u52a0\u4e0a&\u4f7f\u5176\u5728\u540e\u53f0\u8fd0\u884c `${command} &` fi # Example of job definition: # .---------------- minute (00 - 59) # | .------------- hour (00 - 23) # | | .---------- day of month (1 - 31) # | | | .------- month (1 - 12) OR jan,feb,mar,apr ... # | | | | .---- day of week (0 - 6) (Sunday=0 or 7) OR sun,mon,tue,wed,thu,fri,sat # | | | | | # * * * * * user-name command to be executed","title":"\u4f18\u96c5\u7684\u5b9a\u65f6\u4f7f\u7528crontab\u6765\u63a7\u5236"},{"location":"Linux-learning/shell%E8%84%9A%E6%9C%AC%E7%9A%84%E7%BC%96%E5%86%99/#_20","text":"crontab -u zhangsan -l","title":"\u67e5\u770b\u6307\u5b9a\u7528\u6237\u7684\u6307\u5b9a\u4efb\u52a1"},{"location":"Linux-learning/shell%E8%84%9A%E6%9C%AC%E7%9A%84%E7%BC%96%E5%86%99/#_21","text":"crontab -l","title":"\u67e5\u770b\u5f53\u524d\u7528\u6237\u7684\u5b9a\u65f6\u4efb\u52a1"},{"location":"Linux-learning/tree%E7%9A%84%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8/","text":"unix\u4e0b\u60f3\u770b\u6587\u4ef6\u76ee\u5f55\u7ed3\u679c\uff0c\u9664\u4e86 ls -R \uff0ctree\u662f\u6700\u666e\u904d\u7684\u5de5\u5177\u3002 ubuntu\u5b89\u88c5tree sudo apt install tree arch\u5b89\u88c5(\u975eroot\u7528\u6237) tree\u7248\u672c\u5217\u8868 1.8\u7248\u672ctree\u4e0b\u8f7d\u5730\u5740 ##\u975eroot\u7528\u6237\u5b89\u88c5\u8f6f\u4ef6 tar -zxvf tree-1.8.0.tgz cd tree-1.8.0 make install DESTDIR=~/disk/soft/ mv tree-1.8.0 tree vim ~/.bash_profile \u7f16\u8f91 .bash_profile \u914d\u7f6e\u6587\u4ef6\uff0c\u589e\u52a0\u65b0\u7684\u4e00\u884c\u5185\u5bb9\u5982\u4e0b\uff1a export PATH=$HOME/disk/soft/tree:$PATH \u91cd\u542f\u7ec8\u7aef \uff0c\u5373\u53ef\u8fd0\u884c\u547d\u4ee4 tree ,\u5373\u6210\u529f\u5b89\u88c5 \u3002 tree\u5e38\u7528\u53c2\u6570\uff1a tree -C \u5f69\u8272\u5217\u51fa\u76ee\u5f55\u7ed3\u6784 tree \u7406\u51fa\u76ee\u5f55\u7ed3\u6784 tree -p \u663e\u793a\u76ee\u5f55\u7ed3\u679c\u548c\u5bf9\u5e94\u7684\u6743\u9650 tree -d \u53ea\u5217\u51fa\u76ee\u5f55\u540d\u79f0 tree -h \u5217\u51fa\u6587\u4ef6\u5927\u5c0f\uff08G\u4e3a\u5355\u4f4d\uff09 tree -t \u6309\u7167\u4fee\u6539\u65f6\u95f4\uff0c\u5217\u51fa\u7ed3\u6784 tree -D \u5217\u51fa\u76ee\u5f55\u7ed3\u679c\u548c\u5bf9\u5e94\u4fee\u6539\u7684\u65f6\u95f4","title":"Tree\u7684\u5b89\u88c5\u4f7f\u7528"},{"location":"Linux-learning/tree%E7%9A%84%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8/#ubuntutree","text":"sudo apt install tree","title":"ubuntu\u5b89\u88c5tree"},{"location":"Linux-learning/tree%E7%9A%84%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8/#archroot","text":"tree\u7248\u672c\u5217\u8868 1.8\u7248\u672ctree\u4e0b\u8f7d\u5730\u5740 ##\u975eroot\u7528\u6237\u5b89\u88c5\u8f6f\u4ef6 tar -zxvf tree-1.8.0.tgz cd tree-1.8.0 make install DESTDIR=~/disk/soft/ mv tree-1.8.0 tree vim ~/.bash_profile \u7f16\u8f91 .bash_profile \u914d\u7f6e\u6587\u4ef6\uff0c\u589e\u52a0\u65b0\u7684\u4e00\u884c\u5185\u5bb9\u5982\u4e0b\uff1a export PATH=$HOME/disk/soft/tree:$PATH \u91cd\u542f\u7ec8\u7aef \uff0c\u5373\u53ef\u8fd0\u884c\u547d\u4ee4 tree ,\u5373\u6210\u529f\u5b89\u88c5 \u3002 tree\u5e38\u7528\u53c2\u6570\uff1a tree -C \u5f69\u8272\u5217\u51fa\u76ee\u5f55\u7ed3\u6784 tree \u7406\u51fa\u76ee\u5f55\u7ed3\u6784 tree -p \u663e\u793a\u76ee\u5f55\u7ed3\u679c\u548c\u5bf9\u5e94\u7684\u6743\u9650 tree -d \u53ea\u5217\u51fa\u76ee\u5f55\u540d\u79f0 tree -h \u5217\u51fa\u6587\u4ef6\u5927\u5c0f\uff08G\u4e3a\u5355\u4f4d\uff09 tree -t \u6309\u7167\u4fee\u6539\u65f6\u95f4\uff0c\u5217\u51fa\u7ed3\u6784 tree -D \u5217\u51fa\u76ee\u5f55\u7ed3\u679c\u548c\u5bf9\u5e94\u4fee\u6539\u7684\u65f6\u95f4","title":"arch\u5b89\u88c5(\u975eroot\u7528\u6237)"},{"location":"Linux-learning/%E4%BD%BF%E7%94%A8hugo%E6%90%AD%E5%BB%BA%E9%9D%99%E6%80%81%E5%8D%9A%E5%AE%A2%E7%BD%91%E7%AB%99/","text":"\u4f7f\u7528hugo\u642d\u5efa\u9759\u6001\u535a\u5ba2\u7f51\u7ad9 hugo\u662f\u4f7f\u7528go\u8bed\u8a00\u7f16\u5199\u7684\u5feb\u901f\u642d\u5efa\u9759\u6001\u535a\u5ba2\u7684\u5de5\u5177\u3002 1. \u5b89\u88c5 \u6211\u4f7f\u7528\u7684\u7cfb\u7edf\u662fUbuntu20.04LTS.\u975eroot\u4e5f\u53ef\u4ee5\u5b89\u88c5\uff0c\u6211\u9009\u62e9root\u5b89\u88c5\u3002 apt-get install hugo #\u5b89\u88c5\u5b8c\u6210 2. \u521b\u5efa\u7ad9\u70b9 mkdir hugo1 #\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u7ad9\u70b9\u5b58\u653e\u76ee\u5f55\u662fhugo1 hugo new site hugo1 \u4e0b\u8f7d\u6a21\u677f\u6587\u4ef6 cd hugo1 git init git submodule add https://github.com/budparr/gohugo-theme-ananke.git themes/ananke \u5982\u679c\u4f60\u6ca1\u6709\u5b89\u88c5 git\uff0c\u4f60\u53ef\u4ee5\u4ece\u4ee5\u4e0b\u5730\u5740\u4e0b\u8f7d \u6b64\u4e3b\u9898\u7684\u6700\u65b0\u7248\u672c\uff1a https://github.com/budparr/gohugo-theme-ananke/archive/master.zip \u89e3\u538b .zip \u6587\u4ef6\uff0c\u83b7\u5f97 \u201cgohugo-theme-ananke-master\u201d \u76ee\u5f55\u3002 \u5c06\u8be5\u76ee\u5f55\u91cd\u547d\u540d\u4e3a \u201cananke\u201d\uff0c\u5e76\u5c06\u5176\u79fb\u52a8\u5230 \u201cthemes/\u201d \u76ee\u5f55\u3002 \u5c06\u4e3b\u9898\u6dfb\u52a0\u5230\u7ad9\u70b9\u7684\u914d\u7f6e\u6587\u4ef6\u4e2d\uff1a echo 'theme = \"ananke\"' >>config.toml \u6dfb\u52a0\u5185\u5bb9 hugo new posts/my-first-post.md \u542f\u52a8hugo\u670d\u52a1\u5668 hugo server -D #draft \u4ee3\u8868\u5904\u4e8e\u5f00\u542f\u72b6\u6001 \u6253\u5f00http://127.0.0.1:1313 \u5373\u53ef\u770b\u5230\u521d\u59cb\u5316\u7684\u7f51\u7ad9\u754c\u9762 \u81ea\u5b9a\u4e49\u4e3b\u9898 \u7528\u6587\u672c\u7f16\u8f91\u5668\u6253\u5f00config.toml \u6839\u636e\u81ea\u5df1\u7684\u5b9e\u9645\u60c5\u51b5\u7f16\u8f91\u5730\u5740\uff0c\u5982\u679c\u4fee\u6539\u4e3a\u81ea\u5df1\u7684\u57df\u540d baseURL = \"https://qiuzhi.cloud/\" languageCode = \"zh-cn\" title = \"\u6211\u7684\u535a\u5ba2\u7ad9\u70b9\" theme = \"ananke\" \u6784\u5efa\u9759\u6001\u9875\u9762 hugo -D \u53c2\u8003\u5730\u5740 \u4fee\u6539\u4e3b\u9898\u914d\u7f6e\u6587\u4ef6 \u6211\u7684\u535a\u5ba2\u7cfb\u7edf\u914d\u7f6e\u4f7f\u7528\u65b9\u6cd5 1.\u535a\u5ba2\u57fa\u4e8ehugo\u5f00\u53d1\u7684\uff0c\u4f4d\u4e8e/mnt/e/hugo/\u76ee\u5f55\u4e0b\u3002 \u9700\u8981\u6ce8\u610f\u535a\u5ba2\u7684\u4e66\u5199\u8bed\u8a00\u662fmakedown,\u4e66\u5199\u76ee\u5f55\u548c\u4e0a\u4f20\u76ee\u5f55\u4e0d\u662f\u540c\u4e00\u4e2a\u6587\u4ef6\u5939 \u5199\u535a\u5ba2 hugo new posts/my blog.md \u535a\u5ba2\u7684md\u6587\u4ef6\u6240\u5728\u7684\u76ee\u5f55\u662f/mnt/e/hugo/content/posts/ \u6784\u5efa\u9759\u6001\u9875\u9762 hugo -D \u4e0a\u4f20\u9759\u6001\u6587\u4ef6\u5230\u670d\u52a1\u5668/var/www/html/\u76ee\u5f55 \u672c\u5730\u9759\u6001\u6587\u4ef6\u7684\u4f4d\u7f6e /mnt/e/hugo/public/ \u670d\u52a1\u5668\u7aef\u5bf9\u5e94\u76ee\u5f55/var/www/html/ \u4e3b\u8981\u6587\u4ef6\u5939 posts \u548c images posts\u5b58\u653e\u7f51\u7ad9html\u6587\u4ef6 images\u5b58\u653e\u56fe\u7247 \u4e0a\u4f20\u9759\u6001\u6587\u4ef6\u5230\u8fdc\u7a0b\u670d\u52a1\u5668 \u8fdc\u7a0b\u670d\u52a1\u5668\u5730\u5740\uff1a23.Xx.XXX.58 \u7528\u6237\u662froot \u76ee\u5f55\u5c31\u662f\u6211\u4e0a\u4e00\u7bc7\u5199\u7684Ubuntu20.04\u5b89\u88c5\u7684LAMP\u670d\u52a1\u5668\u7684Apache\u7684\u76ee\u5f55\u3002\u8bbe\u7f6e\u597d\u57df\u540d\u89e3\u6790\u5230\u4e0a\u8ff0ip\u5730\u5740\u5373\u53ef\u6b63\u5e38\u8bbf\u95ee\u4e86\u3002 rsync -P --rsh=ssh /mnt/e/hugo/public/posts/tools/2018\u5e74\u597d\u7528\u8f6f\u4ef6\u63a8\u8350 root@23.XX.XXX.58:/var/www/html/posts/tools/2018\u5e74\u597d\u7528\u8f6f\u4ef6\u63a8\u8350 \u5173\u4e8e\u6a21\u677f\u4fee\u6539 \u9700\u8981\u4fee\u6539\u7684\u5730\u65b9\u6bd4\u8f83\u591a\uff0c\u6709\u65f6\u95f4\u518d\u4fee\u6539\u3002","title":"\u4f7f\u7528hugo\u642d\u5efa\u9759\u6001\u535a\u5ba2\u7f51\u7ad9"},{"location":"Linux-learning/%E4%BD%BF%E7%94%A8hugo%E6%90%AD%E5%BB%BA%E9%9D%99%E6%80%81%E5%8D%9A%E5%AE%A2%E7%BD%91%E7%AB%99/#hugo","text":"hugo\u662f\u4f7f\u7528go\u8bed\u8a00\u7f16\u5199\u7684\u5feb\u901f\u642d\u5efa\u9759\u6001\u535a\u5ba2\u7684\u5de5\u5177\u3002 1. \u5b89\u88c5 \u6211\u4f7f\u7528\u7684\u7cfb\u7edf\u662fUbuntu20.04LTS.\u975eroot\u4e5f\u53ef\u4ee5\u5b89\u88c5\uff0c\u6211\u9009\u62e9root\u5b89\u88c5\u3002 apt-get install hugo #\u5b89\u88c5\u5b8c\u6210 2. \u521b\u5efa\u7ad9\u70b9 mkdir hugo1 #\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u7ad9\u70b9\u5b58\u653e\u76ee\u5f55\u662fhugo1 hugo new site hugo1 \u4e0b\u8f7d\u6a21\u677f\u6587\u4ef6 cd hugo1 git init git submodule add https://github.com/budparr/gohugo-theme-ananke.git themes/ananke \u5982\u679c\u4f60\u6ca1\u6709\u5b89\u88c5 git\uff0c\u4f60\u53ef\u4ee5\u4ece\u4ee5\u4e0b\u5730\u5740\u4e0b\u8f7d \u6b64\u4e3b\u9898\u7684\u6700\u65b0\u7248\u672c\uff1a https://github.com/budparr/gohugo-theme-ananke/archive/master.zip \u89e3\u538b .zip \u6587\u4ef6\uff0c\u83b7\u5f97 \u201cgohugo-theme-ananke-master\u201d \u76ee\u5f55\u3002 \u5c06\u8be5\u76ee\u5f55\u91cd\u547d\u540d\u4e3a \u201cananke\u201d\uff0c\u5e76\u5c06\u5176\u79fb\u52a8\u5230 \u201cthemes/\u201d \u76ee\u5f55\u3002 \u5c06\u4e3b\u9898\u6dfb\u52a0\u5230\u7ad9\u70b9\u7684\u914d\u7f6e\u6587\u4ef6\u4e2d\uff1a echo 'theme = \"ananke\"' >>config.toml \u6dfb\u52a0\u5185\u5bb9 hugo new posts/my-first-post.md \u542f\u52a8hugo\u670d\u52a1\u5668 hugo server -D #draft \u4ee3\u8868\u5904\u4e8e\u5f00\u542f\u72b6\u6001 \u6253\u5f00http://127.0.0.1:1313 \u5373\u53ef\u770b\u5230\u521d\u59cb\u5316\u7684\u7f51\u7ad9\u754c\u9762 \u81ea\u5b9a\u4e49\u4e3b\u9898 \u7528\u6587\u672c\u7f16\u8f91\u5668\u6253\u5f00config.toml \u6839\u636e\u81ea\u5df1\u7684\u5b9e\u9645\u60c5\u51b5\u7f16\u8f91\u5730\u5740\uff0c\u5982\u679c\u4fee\u6539\u4e3a\u81ea\u5df1\u7684\u57df\u540d baseURL = \"https://qiuzhi.cloud/\" languageCode = \"zh-cn\" title = \"\u6211\u7684\u535a\u5ba2\u7ad9\u70b9\" theme = \"ananke\" \u6784\u5efa\u9759\u6001\u9875\u9762 hugo -D \u53c2\u8003\u5730\u5740","title":"\u4f7f\u7528hugo\u642d\u5efa\u9759\u6001\u535a\u5ba2\u7f51\u7ad9"},{"location":"Linux-learning/%E4%BD%BF%E7%94%A8hugo%E6%90%AD%E5%BB%BA%E9%9D%99%E6%80%81%E5%8D%9A%E5%AE%A2%E7%BD%91%E7%AB%99/#_1","text":"","title":"\u4fee\u6539\u4e3b\u9898\u914d\u7f6e\u6587\u4ef6"},{"location":"Linux-learning/%E4%BD%BF%E7%94%A8hugo%E6%90%AD%E5%BB%BA%E9%9D%99%E6%80%81%E5%8D%9A%E5%AE%A2%E7%BD%91%E7%AB%99/#_2","text":"1.\u535a\u5ba2\u57fa\u4e8ehugo\u5f00\u53d1\u7684\uff0c\u4f4d\u4e8e/mnt/e/hugo/\u76ee\u5f55\u4e0b\u3002 \u9700\u8981\u6ce8\u610f\u535a\u5ba2\u7684\u4e66\u5199\u8bed\u8a00\u662fmakedown,\u4e66\u5199\u76ee\u5f55\u548c\u4e0a\u4f20\u76ee\u5f55\u4e0d\u662f\u540c\u4e00\u4e2a\u6587\u4ef6\u5939 \u5199\u535a\u5ba2 hugo new posts/my blog.md \u535a\u5ba2\u7684md\u6587\u4ef6\u6240\u5728\u7684\u76ee\u5f55\u662f/mnt/e/hugo/content/posts/ \u6784\u5efa\u9759\u6001\u9875\u9762 hugo -D \u4e0a\u4f20\u9759\u6001\u6587\u4ef6\u5230\u670d\u52a1\u5668/var/www/html/\u76ee\u5f55 \u672c\u5730\u9759\u6001\u6587\u4ef6\u7684\u4f4d\u7f6e /mnt/e/hugo/public/ \u670d\u52a1\u5668\u7aef\u5bf9\u5e94\u76ee\u5f55/var/www/html/ \u4e3b\u8981\u6587\u4ef6\u5939 posts \u548c images posts\u5b58\u653e\u7f51\u7ad9html\u6587\u4ef6 images\u5b58\u653e\u56fe\u7247","title":"\u6211\u7684\u535a\u5ba2\u7cfb\u7edf\u914d\u7f6e\u4f7f\u7528\u65b9\u6cd5"},{"location":"Linux-learning/%E4%BD%BF%E7%94%A8hugo%E6%90%AD%E5%BB%BA%E9%9D%99%E6%80%81%E5%8D%9A%E5%AE%A2%E7%BD%91%E7%AB%99/#_3","text":"\u8fdc\u7a0b\u670d\u52a1\u5668\u5730\u5740\uff1a23.Xx.XXX.58 \u7528\u6237\u662froot \u76ee\u5f55\u5c31\u662f\u6211\u4e0a\u4e00\u7bc7\u5199\u7684Ubuntu20.04\u5b89\u88c5\u7684LAMP\u670d\u52a1\u5668\u7684Apache\u7684\u76ee\u5f55\u3002\u8bbe\u7f6e\u597d\u57df\u540d\u89e3\u6790\u5230\u4e0a\u8ff0ip\u5730\u5740\u5373\u53ef\u6b63\u5e38\u8bbf\u95ee\u4e86\u3002 rsync -P --rsh=ssh /mnt/e/hugo/public/posts/tools/2018\u5e74\u597d\u7528\u8f6f\u4ef6\u63a8\u8350 root@23.XX.XXX.58:/var/www/html/posts/tools/2018\u5e74\u597d\u7528\u8f6f\u4ef6\u63a8\u8350","title":"\u4e0a\u4f20\u9759\u6001\u6587\u4ef6\u5230\u8fdc\u7a0b\u670d\u52a1\u5668"},{"location":"Linux-learning/%E4%BD%BF%E7%94%A8hugo%E6%90%AD%E5%BB%BA%E9%9D%99%E6%80%81%E5%8D%9A%E5%AE%A2%E7%BD%91%E7%AB%99/#_4","text":"\u9700\u8981\u4fee\u6539\u7684\u5730\u65b9\u6bd4\u8f83\u591a\uff0c\u6709\u65f6\u95f4\u518d\u4fee\u6539\u3002","title":"\u5173\u4e8e\u6a21\u677f\u4fee\u6539"},{"location":"Linux-learning/%E5%8D%95%E8%A1%8C%E5%91%BD%E4%BB%A4%E5%B7%A5%E5%85%B7datamash%E5%A4%84%E7%90%86%E5%AD%97%E7%AC%A6%E3%80%81%E6%95%B0%E7%BB%84/","text":"\u5e38\u7528\u7684\u5355\u884c\u5de5\u5177\u6709\uff1a awk,grep,sed, \u4e09\u5251\u5ba2\u5929\u4e0b\u65e0\u654c\u3002 \u8f7b\u91cf\u5de5\u5177\u6446\u8131\u5207\u7247\u3002datamash\u503c\u5f97\u62e5\u6709\u3002 R\u8bed\u8a00\u4e2d\u5e38\u7528\u7684\u5bf9\u5e94\u547d\u4ee4\u5de5\u5177\u662f\uff1adplyr\u6216\u8005aggregate() datamash\u5b89\u88c5\u65b9\u6cd5(2\u90091\u5373\u53ef)\uff1a 1.\u53ef\u80fd\u5b89\u88c5\u5230\u7684\u4e0d\u662f\u6700\u65b0\u7248\u672c sudo apt-get install datamash \u6e90\u7801\u5b89\u88c5 \u6e90\u7801\u4e0b\u8f7d \u9009\u62e9\u9002\u5408\u7684\u7248\u672c wget https://ftp.gnu.org/gnu/datamash/datamash-1.4.tar.gz tar -xzf datamash-1.4.tar.gz cd datamash-1.4 ./configure --prefix=~/soft/datamash make make check make install \u53c2\u8003\u94fe\u63a5 \u83dc\u9e1f\u56e2 \u5e38\u7528\u547d\u4ee4 Primary operations: groupby, crosstab, transpose, reverse, check datamash groupby Line-Filtering operations: rmdup Per-Line operations: base64, debase64, md5, sha1, sha256, sha512, bin, strbin, round, floor, ceil, trunc, frac Numeric Grouping operations: sum, min, max, absmin, absmax, range Textual/Numeric Grouping operations: count, first, last, rand, unique, collapse, countunique Statistical Grouping operations: mean, trimmean, median, q1, q3, iqr, perc, mode, antimode, pstdev, sstdev, pvar, svar, mad, madraw, pskew, sskew, pkurt, skurt, dpo, jarque, scov, pcov, spearson, ppearson \u793a\u4f8b \u53ef\u4ee5\u7528\u6765\u68c0\u6d4b\u6587\u4ef6\u7684\u5b57\u6bb5\u6570\u662f\u5426\u4e00\u81f4\uff0c\u6b63\u5e38\u662f0\uff0c\u9519\u8bef\u662f1. cat genes.txt |datamash check && echo \"0\" || echo \"1\"","title":"\u5355\u884c\u547d\u4ee4\u5de5\u5177datamash\u5904\u7406\u5b57\u7b26\u3001\u6570\u7ec4"},{"location":"Linux-learning/%E5%8D%95%E8%A1%8C%E5%91%BD%E4%BB%A4%E5%B7%A5%E5%85%B7datamash%E5%A4%84%E7%90%86%E5%AD%97%E7%AC%A6%E3%80%81%E6%95%B0%E7%BB%84/#_1","text":"Primary operations: groupby, crosstab, transpose, reverse, check datamash groupby Line-Filtering operations: rmdup Per-Line operations: base64, debase64, md5, sha1, sha256, sha512, bin, strbin, round, floor, ceil, trunc, frac Numeric Grouping operations: sum, min, max, absmin, absmax, range Textual/Numeric Grouping operations: count, first, last, rand, unique, collapse, countunique Statistical Grouping operations: mean, trimmean, median, q1, q3, iqr, perc, mode, antimode, pstdev, sstdev, pvar, svar, mad, madraw, pskew, sskew, pkurt, skurt, dpo, jarque, scov, pcov, spearson, ppearson","title":"\u5e38\u7528\u547d\u4ee4"},{"location":"Linux-learning/%E5%8D%95%E8%A1%8C%E5%91%BD%E4%BB%A4%E5%B7%A5%E5%85%B7datamash%E5%A4%84%E7%90%86%E5%AD%97%E7%AC%A6%E3%80%81%E6%95%B0%E7%BB%84/#_2","text":"\u53ef\u4ee5\u7528\u6765\u68c0\u6d4b\u6587\u4ef6\u7684\u5b57\u6bb5\u6570\u662f\u5426\u4e00\u81f4\uff0c\u6b63\u5e38\u662f0\uff0c\u9519\u8bef\u662f1. cat genes.txt |datamash check && echo \"0\" || echo \"1\"","title":"\u793a\u4f8b"},{"location":"Linux-learning/%E7%88%AA%E5%93%A5%E5%B7%A5%E5%85%B7%E6%80%BB%E7%BB%93%EF%BC%9Aseqkit%E5%92%8Ccsvtk%E4%B8%93%E4%B8%9A%E5%A4%84%E7%90%86t-csv%2C%E4%B8%93%E4%B8%9A%E5%BA%8F%E5%88%97%E5%A4%84%E7%90%86/","text":"csvtk \u53ef\u7528\u4e8e\u6570\u636e\u7684\u5904\u7406\uff0c\u540c\u65f6\u53ef\u4ee5\u505a\u4e00\u4e9b\u5e38\u7528\u7684\u56fe\u3002 \u5b89\u88c5\u65b9\u5f0f \u4ece https://github.com/shenwei356/csvtk/releases csvtk\u529f\u80fd\u4ecb\u7ecd \u5b98\u65b9\u7f51\u5740 \u4e0b\u8f7d\u6700\u65b0\u7248\u672c\u7684\u5bf9\u5e94\u64cd\u4f5c\u7cfb\u7edf\u7684\u8f6f\u4ef6\u4e8c\u8fdb\u5236\u6e90\u7801 tar -zxvf csvtk_linux_amd64.tar.gz sudo cp csvtk /usr/local/bin \u6d4b\u8bd5csvtk, csvtk version #\u67e5\u770b\u5f53\u524d\u7248\u672c\uff0c\u5e76\u81ea\u52a8\u68c0\u67e5\u66f4\u65b0 seqkit\u4e13\u6ce8\u4e8e\u5904\u7406fa\u548cfq\u6587\u4ef6\u3002 \u5b89\u88c5\u65b9\u6cd5\uff0c\u5b8c\u5168\u4e00\u6837\u3002","title":"\u722a\u54e5\u5de5\u5177\u603b\u7ed3\uff1aseqkit\u548ccsvtk\u4e13\u4e1a\u5904\u7406t csv,\u4e13\u4e1a\u5e8f\u5217\u5904\u7406"},{"location":"Linux-learning/%E7%A8%8B%E5%BA%8F%E6%8A%A5%E9%94%99%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95%E5%90%88%E9%9B%86/","text":"\u7ecf\u5e38\u8dd1\u7a0b\u5e8f\u4f1a\u9047\u5230\u5404\u79cd\u5404\u6837\u7684\u9519\u8bef\uff0c\u7ecf\u603b\u7ed3\u9519\u8bef\u539f\u56e0\u5982\u4e0b\uff1a 1. \u9519\u8bef\u4f7f\u7528\u6587\u6863\u683c\u5f0f\uff0c\u5728Windows\u4e0b\u5199\u7684\u4ee3\u7801\u4f7f\u7528\u7f16\u8f91\u5668\u65f6\uff0c\u4e00\u5b9a\u8981\u628a\u7f16\u7801\u683c\u5f0f\u8bbe\u7f6e\u4e3aunix. \u6216\u8005\u4f7f\u7528 dos2unix file \u8f6c\u6362\u6587\u6863\u683c\u5f0f\u4e3aunix. 2. \u6587\u5b57\u4e71\u7801 \u8bbe\u7f6e\u7f16\u7801\u683c\u5f0f\u4e3autf8. \u5982\u679c\u6e90\u6587\u4ef6\u683c\u5f0f\u4e0d\u6b63\u786e\uff0c\u53ef\u4ee5\u624b\u52a8\u4fee\u6539\uff0c\u4e00\u822c\u5e38\u7528\u7684\u662futf8\u548cGB2312\u3002\u5c3d\u91cf\u4f7f\u7528UTF-8 3. \u4f7f\u7528\u6700\u65b0\u7684\u7a33\u5b9a\u7248\u672c\u7684\u8f6f\u4ef6\uff0c \u8bb8\u591a\u65f6\u5019\uff0c\u53ef\u80fd\u4f1a\u7531\u4e8e\u8f6f\u4ef6\u7684\u8001\u7248\u672c\u6216\u8005\u662fbeta\u7248\u672c\uff0c\u5982\u679c\u627e\u4e0d\u5230\u89e3\u51b3\u65b9\u6cd5\uff08\u5305\u62ec\u4f46\u4e0d\u9650\u4e8eGoogle\uff0cStackOverflow\uff0cbiostar\u7b49\uff09\uff0c\u76f4\u63a5\u8054\u7cfb\u4f5c\u8005\u90ae\u7bb1\u3002\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u4f1a\u5f88\u5feb\u5f97\u5230\u7b54\u590d\u3002 4. \u82f1\u6587\u62fc\u5199\u9519\u8bef\uff0c\u5355\u8bcd\u6216\u547d\u4ee4\u5b57\u7b26\u4e0d\u6b63\u786e\u3002 5. \u6570\u636e\u7ed3\u6784\u4e0d\u6b63\u786e\uff0c\u4f8b\u5982\uff1afor\u5faa\u73af\u7ed3\u6784\u7f3a\u5931do\u6216\u8005done\uff0c 6. \u8981\u8bfb\u53d6\u7684\u6587\u4ef6\u540d\u6709\u8bef - \u6587\u4ef6\u540d\u4e0d\u6b63\u786e - \u8def\u5f84\u4e0d\u6b63\u786e - \u6ca1\u6709\u5bf9\u5e94\u6587\u4ef6\u7684\u8bbf\u95ee\u6743\u9650 7. \u7f3a\u5c11\u8fd0\u884c\u73af\u5883 - \u7f3a\u5c11Java\u73af\u5883\uff0c\u6216\u8005Java\u7248\u672c\u4e0d\u5408\u9002 - \u8f6f\u4ef6\u4f9d\u8d56\u95ee\u9898\uff0c\u6ca1\u6709\u6b63\u786e\u89e3\u51b3 - \u8f6f\u4ef6\u7684\u8fd0\u884c\u73af\u5883\u6ca1\u6709\u88ab\u6b63\u786e\u914d\u7f6e\uff0c\u4f8b\u5982\uff1a\u6ca1\u6709\u628a\u547d\u4ee4\u6dfb\u52a0\u5230\u73af\u5883\u76ee\u5f55\uff0c\u6216\u8005\u662f\u6dfb\u52a0\u7684\u662f\u4e34\u65f6\u76ee\u5f55\u3002 8. \u8f6f\u4ef6\u63d0\u793a\u547d\u4ee4\u4e0d\u6b63\u786e - \u547d\u4ee4\u4e66\u5199\u6709\u8bef - \u65b0\u7248\u672c\u7684\u8f6f\u4ef6\u547d\u4ee4\u5df2\u7ecf\u4fee\u6539\uff0c\u6ce8\u610f\u8f6f\u4ef6\u6700\u65b0\u7248\u672c\u7684\u547d\u4ee4\u53d8\u5316 - \u6ca1\u6709\u6b63\u786e\u914d\u7f6e\u8f6f\u4ef6\u73af\u5883\u53d8\u91cf\uff08command no found\uff09 9. \u7a0b\u5e8f\u4e0d\u62a5\u9519\uff0c\u4f46\u662f\u6587\u4ef6\u76ee\u5f55\u4e0d\u6b63\u786e - \u6ce8\u610f\u547d\u4ee4\u4e2d\u662f\u5426\u8986\u76d6\u524d\u9762\u751f\u6210\u7684\u6587\u4ef6\uff0crm\u5220\u9664\u64cd\u4f5c\u524d\uff0c\u4e00\u5b9a\u8981\u68c0\u6d4b\u540e\u7eed\u6587\u4ef6\u7684\u6b63\u786e\u6027 - \u670d\u52a1\u5668\u6587\u4ef6\u7cfb\u7edf\u6216CPU\u4e0d\u8db3\u4ee5\u4f7f\u7528\uff0c\u53ef\u80fd\u4f1a\u6709\u4e9b\u7a0b\u5e8f\u540c\u65f6\u7684\u8bfb\u5199\u91cf\u6bd4\u8f83\u5927\uff0c\u4f1a\u9020\u6210\u9519\u8bef\u3002\u964d\u4f4e\u4f7f\u7528\u7684\u8fdb\u7a0b\u6570\u5373\u53ef\u3002\u4f8b\u5982\uff1aSTAR - \u6587\u4ef6\u8bfb\u5199\u6743\u9650\uff0c\u76ee\u5f55\u8bfb\u5199\u6743\u9650\u3002 10. \u591a\u4f59\u7684\u7a7a\u683c\u6216\u8005\u6362\u884c 11.\u5927\u5c0f\u5199\u95ee\u9898\uff0c\u547d\u4ee4\u4e2d\u6709\u7684\u5b57\u7b26\u5927\u5199\u6709\u7684\u5c0f\u5199\u3002","title":"\u7a0b\u5e8f\u62a5\u9519\u89e3\u51b3\u529e\u6cd5\u5408\u96c6"},{"location":"Linux-learning/%E7%A8%8B%E5%BA%8F%E6%8A%A5%E9%94%99%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95%E5%90%88%E9%9B%86/#1-windowsunix","text":"\u6216\u8005\u4f7f\u7528 dos2unix file \u8f6c\u6362\u6587\u6863\u683c\u5f0f\u4e3aunix.","title":"1. \u9519\u8bef\u4f7f\u7528\u6587\u6863\u683c\u5f0f\uff0c\u5728Windows\u4e0b\u5199\u7684\u4ee3\u7801\u4f7f\u7528\u7f16\u8f91\u5668\u65f6\uff0c\u4e00\u5b9a\u8981\u628a\u7f16\u7801\u683c\u5f0f\u8bbe\u7f6e\u4e3aunix."},{"location":"Linux-learning/%E7%A8%8B%E5%BA%8F%E6%8A%A5%E9%94%99%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95%E5%90%88%E9%9B%86/#2","text":"\u8bbe\u7f6e\u7f16\u7801\u683c\u5f0f\u4e3autf8. \u5982\u679c\u6e90\u6587\u4ef6\u683c\u5f0f\u4e0d\u6b63\u786e\uff0c\u53ef\u4ee5\u624b\u52a8\u4fee\u6539\uff0c\u4e00\u822c\u5e38\u7528\u7684\u662futf8\u548cGB2312\u3002\u5c3d\u91cf\u4f7f\u7528UTF-8","title":"2. \u6587\u5b57\u4e71\u7801"},{"location":"Linux-learning/%E7%A8%8B%E5%BA%8F%E6%8A%A5%E9%94%99%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95%E5%90%88%E9%9B%86/#3","text":"\u8bb8\u591a\u65f6\u5019\uff0c\u53ef\u80fd\u4f1a\u7531\u4e8e\u8f6f\u4ef6\u7684\u8001\u7248\u672c\u6216\u8005\u662fbeta\u7248\u672c\uff0c\u5982\u679c\u627e\u4e0d\u5230\u89e3\u51b3\u65b9\u6cd5\uff08\u5305\u62ec\u4f46\u4e0d\u9650\u4e8eGoogle\uff0cStackOverflow\uff0cbiostar\u7b49\uff09\uff0c\u76f4\u63a5\u8054\u7cfb\u4f5c\u8005\u90ae\u7bb1\u3002\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u4f1a\u5f88\u5feb\u5f97\u5230\u7b54\u590d\u3002","title":"3. \u4f7f\u7528\u6700\u65b0\u7684\u7a33\u5b9a\u7248\u672c\u7684\u8f6f\u4ef6\uff0c"},{"location":"Linux-learning/%E7%A8%8B%E5%BA%8F%E6%8A%A5%E9%94%99%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95%E5%90%88%E9%9B%86/#4","text":"","title":"4. \u82f1\u6587\u62fc\u5199\u9519\u8bef\uff0c\u5355\u8bcd\u6216\u547d\u4ee4\u5b57\u7b26\u4e0d\u6b63\u786e\u3002"},{"location":"Linux-learning/%E7%A8%8B%E5%BA%8F%E6%8A%A5%E9%94%99%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95%E5%90%88%E9%9B%86/#5-fordodone","text":"","title":"5. \u6570\u636e\u7ed3\u6784\u4e0d\u6b63\u786e\uff0c\u4f8b\u5982\uff1afor\u5faa\u73af\u7ed3\u6784\u7f3a\u5931do\u6216\u8005done\uff0c"},{"location":"Linux-learning/%E7%A8%8B%E5%BA%8F%E6%8A%A5%E9%94%99%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95%E5%90%88%E9%9B%86/#6","text":"- \u6587\u4ef6\u540d\u4e0d\u6b63\u786e - \u8def\u5f84\u4e0d\u6b63\u786e - \u6ca1\u6709\u5bf9\u5e94\u6587\u4ef6\u7684\u8bbf\u95ee\u6743\u9650","title":"6. \u8981\u8bfb\u53d6\u7684\u6587\u4ef6\u540d\u6709\u8bef"},{"location":"Linux-learning/%E7%A8%8B%E5%BA%8F%E6%8A%A5%E9%94%99%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95%E5%90%88%E9%9B%86/#7","text":"- \u7f3a\u5c11Java\u73af\u5883\uff0c\u6216\u8005Java\u7248\u672c\u4e0d\u5408\u9002 - \u8f6f\u4ef6\u4f9d\u8d56\u95ee\u9898\uff0c\u6ca1\u6709\u6b63\u786e\u89e3\u51b3 - \u8f6f\u4ef6\u7684\u8fd0\u884c\u73af\u5883\u6ca1\u6709\u88ab\u6b63\u786e\u914d\u7f6e\uff0c\u4f8b\u5982\uff1a\u6ca1\u6709\u628a\u547d\u4ee4\u6dfb\u52a0\u5230\u73af\u5883\u76ee\u5f55\uff0c\u6216\u8005\u662f\u6dfb\u52a0\u7684\u662f\u4e34\u65f6\u76ee\u5f55\u3002","title":"7. \u7f3a\u5c11\u8fd0\u884c\u73af\u5883"},{"location":"Linux-learning/%E7%A8%8B%E5%BA%8F%E6%8A%A5%E9%94%99%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95%E5%90%88%E9%9B%86/#8","text":"- \u547d\u4ee4\u4e66\u5199\u6709\u8bef - \u65b0\u7248\u672c\u7684\u8f6f\u4ef6\u547d\u4ee4\u5df2\u7ecf\u4fee\u6539\uff0c\u6ce8\u610f\u8f6f\u4ef6\u6700\u65b0\u7248\u672c\u7684\u547d\u4ee4\u53d8\u5316 - \u6ca1\u6709\u6b63\u786e\u914d\u7f6e\u8f6f\u4ef6\u73af\u5883\u53d8\u91cf\uff08command no found\uff09","title":"8. \u8f6f\u4ef6\u63d0\u793a\u547d\u4ee4\u4e0d\u6b63\u786e"},{"location":"Linux-learning/%E7%A8%8B%E5%BA%8F%E6%8A%A5%E9%94%99%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95%E5%90%88%E9%9B%86/#9","text":"- \u6ce8\u610f\u547d\u4ee4\u4e2d\u662f\u5426\u8986\u76d6\u524d\u9762\u751f\u6210\u7684\u6587\u4ef6\uff0crm\u5220\u9664\u64cd\u4f5c\u524d\uff0c\u4e00\u5b9a\u8981\u68c0\u6d4b\u540e\u7eed\u6587\u4ef6\u7684\u6b63\u786e\u6027 - \u670d\u52a1\u5668\u6587\u4ef6\u7cfb\u7edf\u6216CPU\u4e0d\u8db3\u4ee5\u4f7f\u7528\uff0c\u53ef\u80fd\u4f1a\u6709\u4e9b\u7a0b\u5e8f\u540c\u65f6\u7684\u8bfb\u5199\u91cf\u6bd4\u8f83\u5927\uff0c\u4f1a\u9020\u6210\u9519\u8bef\u3002\u964d\u4f4e\u4f7f\u7528\u7684\u8fdb\u7a0b\u6570\u5373\u53ef\u3002\u4f8b\u5982\uff1aSTAR - \u6587\u4ef6\u8bfb\u5199\u6743\u9650\uff0c\u76ee\u5f55\u8bfb\u5199\u6743\u9650\u3002","title":"9. \u7a0b\u5e8f\u4e0d\u62a5\u9519\uff0c\u4f46\u662f\u6587\u4ef6\u76ee\u5f55\u4e0d\u6b63\u786e"},{"location":"Linux-learning/%E7%A8%8B%E5%BA%8F%E6%8A%A5%E9%94%99%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95%E5%90%88%E9%9B%86/#10","text":"","title":"10. \u591a\u4f59\u7684\u7a7a\u683c\u6216\u8005\u6362\u884c"},{"location":"Linux-learning/%E7%A8%8B%E5%BA%8F%E6%8A%A5%E9%94%99%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95%E5%90%88%E9%9B%86/#11","text":"","title":"11.\u5927\u5c0f\u5199\u95ee\u9898\uff0c\u547d\u4ee4\u4e2d\u6709\u7684\u5b57\u7b26\u5927\u5199\u6709\u7684\u5c0f\u5199\u3002"},{"location":"PC-repair/PDF-OCR%E8%AF%86%E5%88%AB%E5%B7%A5%E5%85%B7%EF%BC%9AOCRmyPDF%E8%A7%A3%E5%86%B3%E5%9B%BE%E7%89%87%E7%B1%BB%E7%9A%84pdf%E9%87%8C%E7%9A%84%E6%96%87%E6%9C%AC%E8%AF%86%E5%88%AB/","text":"OCRmyPDF github \u5b89\u88c5\u65b9\u6cd5 ubuntu apt install ocrmypdf conda conda install ocrmypdf \u5b89\u88c5\u7b80\u4f53\u4e2d\u6587\u5305 apt-get install tesseract-ocr-chi-sim \u5b89\u88c5\u82f1\u8bed\u5305 apt-get install tesseract-data-eng \u663e\u793a\u6240\u6709\u7684\u8bed\u8a00\u5217\u8868 apt-cache search tesseract-ocr \u4ece\u5c55\u793a\u7684\u5217\u8868\u91cc\u9009\u62e9\u4f60\u9700\u8981\u5b89\u88c5\u7684\u8bed\u8a00\u7684\u5305\uff0c\u53c2\u7167\u4e0a\u9762\u7684\u547d\u4ee4\u5b89\u88c5\u5373\u53ef\u3002 OCR\u8bc6\u522bpdf ocrmypdf --force-ocr old.pdf new.pdf \u8f93\u51fa\u7684new.pdf\uff0c\u5373\u53ef\u590d\u5236\u6587\u672c\u3002 \u914d\u5408img2pdf\uff0c\u628a\u56fe\u7247\u8f6c\u4e3aOCR\u8bc6\u522b\u7684pdf \u5b89\u88c5img2pdf apt-get install img2pdf img2pdf --pagesize A4 page*.png | ocrmypdf - myfile.pdf \u628a\u672c\u76ee\u5f55\u4e0bpage\u5f00\u5934\u7684png\u56fe\u7247\u5408\u5e76\u5230\u4e00\u4e2aocr\u7684pdf\u3002 \u628aOCR\u8bc6\u522b\u8f6c\u4e3atxt\u6587\u672c ocr2text github sudo apt-get install tesseract-ocr git clone https://github.com/writecrow/ocr2text.git cd ocr2text pip install --user --requirement requirements.txt python3 ocr2txt.py","title":"PDF OCR\u8bc6\u522b\u5de5\u5177\uff1aOCRmyPDF\u89e3\u51b3\u56fe\u7247\u7c7b\u7684pdf\u91cc\u7684\u6587\u672c\u8bc6\u522b"},{"location":"PC-repair/PDF-OCR%E8%AF%86%E5%88%AB%E5%B7%A5%E5%85%B7%EF%BC%9AOCRmyPDF%E8%A7%A3%E5%86%B3%E5%9B%BE%E7%89%87%E7%B1%BB%E7%9A%84pdf%E9%87%8C%E7%9A%84%E6%96%87%E6%9C%AC%E8%AF%86%E5%88%AB/#_1","text":"ubuntu apt install ocrmypdf conda conda install ocrmypdf","title":"\u5b89\u88c5\u65b9\u6cd5"},{"location":"PC-repair/PDF-OCR%E8%AF%86%E5%88%AB%E5%B7%A5%E5%85%B7%EF%BC%9AOCRmyPDF%E8%A7%A3%E5%86%B3%E5%9B%BE%E7%89%87%E7%B1%BB%E7%9A%84pdf%E9%87%8C%E7%9A%84%E6%96%87%E6%9C%AC%E8%AF%86%E5%88%AB/#_2","text":"apt-get install tesseract-ocr-chi-sim","title":"\u5b89\u88c5\u7b80\u4f53\u4e2d\u6587\u5305"},{"location":"PC-repair/PDF-OCR%E8%AF%86%E5%88%AB%E5%B7%A5%E5%85%B7%EF%BC%9AOCRmyPDF%E8%A7%A3%E5%86%B3%E5%9B%BE%E7%89%87%E7%B1%BB%E7%9A%84pdf%E9%87%8C%E7%9A%84%E6%96%87%E6%9C%AC%E8%AF%86%E5%88%AB/#_3","text":"apt-get install tesseract-data-eng","title":"\u5b89\u88c5\u82f1\u8bed\u5305"},{"location":"PC-repair/PDF-OCR%E8%AF%86%E5%88%AB%E5%B7%A5%E5%85%B7%EF%BC%9AOCRmyPDF%E8%A7%A3%E5%86%B3%E5%9B%BE%E7%89%87%E7%B1%BB%E7%9A%84pdf%E9%87%8C%E7%9A%84%E6%96%87%E6%9C%AC%E8%AF%86%E5%88%AB/#_4","text":"apt-cache search tesseract-ocr \u4ece\u5c55\u793a\u7684\u5217\u8868\u91cc\u9009\u62e9\u4f60\u9700\u8981\u5b89\u88c5\u7684\u8bed\u8a00\u7684\u5305\uff0c\u53c2\u7167\u4e0a\u9762\u7684\u547d\u4ee4\u5b89\u88c5\u5373\u53ef\u3002","title":"\u663e\u793a\u6240\u6709\u7684\u8bed\u8a00\u5217\u8868"},{"location":"PC-repair/PDF-OCR%E8%AF%86%E5%88%AB%E5%B7%A5%E5%85%B7%EF%BC%9AOCRmyPDF%E8%A7%A3%E5%86%B3%E5%9B%BE%E7%89%87%E7%B1%BB%E7%9A%84pdf%E9%87%8C%E7%9A%84%E6%96%87%E6%9C%AC%E8%AF%86%E5%88%AB/#ocrpdf","text":"ocrmypdf --force-ocr old.pdf new.pdf \u8f93\u51fa\u7684new.pdf\uff0c\u5373\u53ef\u590d\u5236\u6587\u672c\u3002","title":"OCR\u8bc6\u522bpdf"},{"location":"PC-repair/PDF-OCR%E8%AF%86%E5%88%AB%E5%B7%A5%E5%85%B7%EF%BC%9AOCRmyPDF%E8%A7%A3%E5%86%B3%E5%9B%BE%E7%89%87%E7%B1%BB%E7%9A%84pdf%E9%87%8C%E7%9A%84%E6%96%87%E6%9C%AC%E8%AF%86%E5%88%AB/#img2pdfocrpdf","text":"\u5b89\u88c5img2pdf apt-get install img2pdf img2pdf --pagesize A4 page*.png | ocrmypdf - myfile.pdf \u628a\u672c\u76ee\u5f55\u4e0bpage\u5f00\u5934\u7684png\u56fe\u7247\u5408\u5e76\u5230\u4e00\u4e2aocr\u7684pdf\u3002","title":"\u914d\u5408img2pdf\uff0c\u628a\u56fe\u7247\u8f6c\u4e3aOCR\u8bc6\u522b\u7684pdf"},{"location":"PC-repair/PDF-OCR%E8%AF%86%E5%88%AB%E5%B7%A5%E5%85%B7%EF%BC%9AOCRmyPDF%E8%A7%A3%E5%86%B3%E5%9B%BE%E7%89%87%E7%B1%BB%E7%9A%84pdf%E9%87%8C%E7%9A%84%E6%96%87%E6%9C%AC%E8%AF%86%E5%88%AB/#ocrtxt-ocr2text-github","text":"sudo apt-get install tesseract-ocr git clone https://github.com/writecrow/ocr2text.git cd ocr2text pip install --user --requirement requirements.txt python3 ocr2txt.py","title":"\u628aOCR\u8bc6\u522b\u8f6c\u4e3atxt\u6587\u672c ocr2text github"},{"location":"PC-repair/win10-Win11%E7%B3%BB%E7%BB%9F%E4%BC%91%E7%9C%A0%E5%90%8E%E6%97%A0%E6%B3%95%E5%94%A4%E9%86%92%E6%98%BE%E7%A4%BA%E5%99%A8/","text":"\u53c2\u8003\u6234\u5c14\u5b98\u65b9\uff1ahttps://www.dell.com/support/kbdoc/zh-cn/000129781/steps-for-fixing-windows-computers-that-do-not-wake-up-or-resume-from-suspend-or-hibernate-mode-but-will-power-on win10\u6216win11\u90fd\u4f1a\u51fa\u73b0\u4e0a\u8ff0\u60c5\u51b5\uff0c\u89e3\u51b3\u65b9\u6848\u53ef\u4ee5\u53c2\u8003dell\u5b98\u7f51\u7684\u65b9\u6848\u3002\u987a\u5e8f\u5982\u4e0b\uff1a DELL\u7684\u8bbf\u95ee\u5730\u5740https://www.dell.com/support 1. \u66f4\u65b0bios\u9a71\u52a8 2. \u66f4\u65b0\u82af\u7247\u7ec4\u9a71\u52a8\uff08Intel Chipset Device\uff09 3. \u5f00\u673a\u524d\u6309F2\u8fdb\u5165bios\u4fee\u6539Power Management\u300bUSB Wake Support\u9009\u4e2d Block Sleep \u9009\u9879\uff08\u4e5f\u79f0\u4e3a\u201cDeep Sleep Control\u201d\uff09\u4ec5\u5728\u53f0\u5f0f\u673a\u4e0a\u53ef\u7528\uff0c\u8bf7\u53d6\u6d88\u9009\u4e2d\u5b83\u4ee5\u5c06\u5176\u7981\u7528 4.\u63a7\u5236\u9762\u677f\u300b \u7535\u6e90\u9009\u9879\u300b\u9009\u62e9\u7535\u6e90\u6309\u94ae\u7684\u529f\u80fd\u300b\u66f4\u6539\u5f53\u524d\u4e0d\u53ef\u7528\u7684\u8bbe\u7f6e\u300b\u5728 \"\u5173\u95ed\u8bbe\u7f6e\" \u4e0b\uff0c\u786e\u4fdd\u6e05\u9664 \"\u6253\u5f00\u5feb\u901f\u542f\u52a8\" \u590d\u9009\u6846\uff08\u56fe 6\uff09 5.\u66f4\u65b0\u663e\u5361\u9a71\u52a8 6.win+R \u8f93\u5165 msconfig ,\u670d\u52a1\u300b\u52fe\u9009\u9690\u85cf\u6240\u6709Microsoft\u670d\u52a1\uff0c\u5168\u90e8\u7981\u7528\uff0c\u786e\u5b9a \u6211\u8bd5\u8fc7\u4e0a\u9762\u6240\u6709\u7684\u6b65\u9aa4\u540e\uff0c\u4ecd\u7136\u662f\u65e0\u6cd5\u5524\u9192\u5c4f\u5e55\u3002\u7136\u540e\u53ea\u597d\u628abios\u964d\u7ea7\uff0c\u964d\u56de\u4e4b\u524d\u4f7f\u7528\u7684\u7248\u672c\u7684bios\u89e3\u51b3\u4e86\u8fd9\u4e2a\u95ee\u9898\u3002","title":"win10 Win11\u7cfb\u7edf\u4f11\u7720\u540e\u65e0\u6cd5\u5524\u9192\u663e\u793a\u5668"},{"location":"PC-repair/%E5%BF%85%E9%A1%BB%E7%9F%A5%E9%81%93%E7%9A%84PC%E4%BF%AE%E7%90%86%EF%BC%9Awin10%E5%8D%A1%E9%A1%BF%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/","text":"\u539f\u6587\u6765\u6e90 win10\u7cfb\u7edf\u9ed8\u8ba4\u914d\u7f6e\uff0c\u4f7f\u7528\u65f6\u53d1\u73b0\u6709\u4ee5\u4e0b\u95ee\u9898\uff1a 1. \u540e\u53f0\u5077\u5077\u66f4\u65b0 2. \u534a\u591c\u65f6\u5206\uff0c\u540e\u53f0\u81ea\u52a8\u8fd0\u884c\u5927\u7a0b\u5e8f\u3002\u5185\u5b58\u548cCPU\u4f7f\u7528\u738750%\uff08\u53ca\u65f6\u4f60\u7684\u7535\u8111\u5904\u4e8e\u4f11\u7720\u6a21\u5f0f\uff0c\u4e5f\u4f1a\u81ea\u52a8\u5524\u9192\uff09 3. \u83ab\u540d\u8d77\u540d\u7684\u5185\u5b58\u6216cpu\u4f7f\u7528\u7387\u975e\u5e38\u9ad8\u3002\uff08\u53ea\u6253\u5f00\u51e0\u4e2a\u7f51\u9875\uff0ccpu\u98ce\u6247\u5c31\u5168\u901f\u8fd0\u8f6c\uff0c\u540e\u53f0\u6709\u5927\u7a0b\u5e8f\u5077\u5077\u8fd0\u884c\uff09 \u5728\u4f7f\u7528\u5927\u6570\u5b57\uff0c\u6740\u6bd2\u4e4b\u540e\u3002\u4ecd\u7136\u662f\u4e0a\u8ff0\u60c5\u51b5\uff0c\u6392\u9664\u4e2d\u6bd2\u4e4b\u5916\uff0c\u5c31\u662fwin10\u81ea\u8eab\u7684\u95ee\u9898\u3002\u4e0b\u9762\u662f\u89e3\u51b3\u65b9\u6848\u3002 \u5173\u95ed\u4e0b\u9762\u76844\u9879\u670d\u52a1\u5373\u53ef\u3002 1. SuperFetch\u670d\u52a1 2. Windows Search 3. Connected User Experiences and Telemetry 4. \u865a\u62df\u5185\u5b58\uff08\u53ef\u9009\uff09 SuperFetch\u670d\u52a1 \u5173\u95ed\u65b9\u6cd5\uff1aCortana\u641c\u7d22\u6846\u8f93\u5165\u201cServices\u201d\u6253\u5f00\u201c\u670d\u52a1\u201d\uff0c\u5728\u5176\u4e2d\u67e5\u627e\u201csysmain\u201d\u670d\u52a1\uff08\u5341\u6708\u7248\u66f4\u65b0\u4e2dSuperfetch\u5df2\u66f4\u540d\u4e3aSysmain\uff09\uff0c\u5c06\u542f\u52a8\u7c7b\u578b\u4fee\u6539\u4e3a\u201c\u7981\u7528\u201d\u5373\u53ef\u3002 windows search \u5173\u95ed\u65b9\u6cd5\uff1aCortana\u641c\u7d22\u6846\u8f93\u5165\u201cServices\u201d\u6253\u5f00\u201c\u670d\u52a1\u201d\uff0c\u7136\u540e\u641c\u7d22\u201cWindows Search\u201d\uff0c\u540c\u6837\u662f\u5c06\u542f\u52a8\u7c7b\u578b\u4fee\u6539\u4e3a\u201c\u7981\u7528\u201d\uff0c\u91cd\u542f\u7535\u8111\u751f\u6548\u3002 Connected User Experiences and Telemetry \u5173\u95ed\u65b9\u6cd5\uff1aCortana\u641c\u7d22\u6846\u8f93\u5165\u201cServices\u201d\u6253\u5f00\u201c\u670d\u52a1\u201d\uff0c\u7136\u540e\u641c\u7d22\u201cconn\u201d\uff0c\u5c06\u201cConnected User Experiences and Telemetry\u201d\u7684\u542f\u52a8\u7c7b\u578b\u7531\u201c\u81ea\u52a8\u201d\u4fee\u6539\u4e3a\u201c\u7981\u7528\u201d\uff0c\u91cd\u542f\u7535\u8111\u751f\u6548\u3002 \u865a\u62df\u5185\u5b58\u5173\u95ed\u65b9\u6cd5 \uff1a\u53f3\u51fb\u201c\u6b64\u7535\u8111\u201d\u2192\u201c\u5c5e\u6027\u201d\u2192\u201c\u9ad8\u7ea7\u7cfb\u7edf\u8bbe\u7f6e\u201d\uff0c\u7136\u540e\u70b9\u51fb\u201c\u6027\u80fd\u201d\u2192\u201c\u8bbe\u7f6e\u201d\u2192\u201c\u9ad8\u7ea7\u201d\uff0c\u5c06\u663e\u793a\u4e3a\u201c\u6258\u7ba1\u7684\u7cfb\u7edf\u201d\u9a71\u52a8\u5668\u76d8\u7b26\u9009\u4e2d\uff0c\u70b9\u51fb\u201c\u65e0\u5206\u9875\u6587\u4ef6\u201d\u2192\u201c\u8bbe\u7f6e\u201d\uff0c\u786e\u5b9a\u540e\u91cd\u542f\u7535\u8111\uff0c\u8fd9\u6837\u5c31\u80fd\u628a\u865a\u62df\u5185\u5b58\u5173\u95ed\u4e86\u3002 \u865a\u62df\u5185\u5b58\uff0c\u5982\u679c\u4f60\u7684\u5b9e\u9645\u5185\u5b58>8G,\u598216G\u7b49\uff0c\u76f4\u63a5\u5173\u95ed\u865a\u62df\u5185\u5b58\u3002\u5c0f\u4e8e8G\uff0c\u8fd8\u662f\u4fdd\u7559\u5427\u3002 windows\u7684search\u529f\u80fd\u5c31\u662f\u9e21\u808b\uff0c\u6587\u4ef6\u641c\u7d22\u8bf7\u76f4\u63a5\u4f7f\u7528 everything \u8fd9\u4e2a\u8f6f\u4ef6\uff0c\u975e\u5e38\u5feb\u901f\u641c\u7d22\u5168\u76d8\u3002 \u505c\u6b62\u4f7f\u7528\u51c0\u7f51\u5927\u5e08\uff0c\u76ee\u524d\u7684\u51c0\u7f51\u5927\u5e08\u5747\u5c5e\u4e8e\u6346\u7ed1\u64cd\u4f5c\uff0c\u4f1a\u52ab\u6301\u7528\u6237\u6d41\u91cf\uff0c\u4fee\u6539\u7528\u6237\u7684\u4e66\u7b7e\u3002\u6740\u6bd2\u8f6f\u4ef6\u505c\u6b62\u4f7f\u7528\u5927\u6570\u5b57\u548c\u67d0\u8baf\u7ba1\u5bb6\uff0c\u706b\u7ed2\u503c\u5f97\u63a8\u8350\u3002","title":"\u5fc5\u987b\u77e5\u9053\u7684PC\u4fee\u7406\uff1awin10\u5361\u987f\u89e3\u51b3\u65b9\u6848"},{"location":"PC-repair/%E5%BF%85%E9%A1%BB%E7%9F%A5%E9%81%93%E7%9A%84PC%E4%BF%AE%E7%90%86%EF%BC%9Awin10%E5%8D%A1%E9%A1%BF%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/#win10","text":"\u5173\u95ed\u4e0b\u9762\u76844\u9879\u670d\u52a1\u5373\u53ef\u3002 1. SuperFetch\u670d\u52a1 2. Windows Search 3. Connected User Experiences and Telemetry 4. \u865a\u62df\u5185\u5b58\uff08\u53ef\u9009\uff09 SuperFetch\u670d\u52a1 \u5173\u95ed\u65b9\u6cd5\uff1aCortana\u641c\u7d22\u6846\u8f93\u5165\u201cServices\u201d\u6253\u5f00\u201c\u670d\u52a1\u201d\uff0c\u5728\u5176\u4e2d\u67e5\u627e\u201csysmain\u201d\u670d\u52a1\uff08\u5341\u6708\u7248\u66f4\u65b0\u4e2dSuperfetch\u5df2\u66f4\u540d\u4e3aSysmain\uff09\uff0c\u5c06\u542f\u52a8\u7c7b\u578b\u4fee\u6539\u4e3a\u201c\u7981\u7528\u201d\u5373\u53ef\u3002 windows search \u5173\u95ed\u65b9\u6cd5\uff1aCortana\u641c\u7d22\u6846\u8f93\u5165\u201cServices\u201d\u6253\u5f00\u201c\u670d\u52a1\u201d\uff0c\u7136\u540e\u641c\u7d22\u201cWindows Search\u201d\uff0c\u540c\u6837\u662f\u5c06\u542f\u52a8\u7c7b\u578b\u4fee\u6539\u4e3a\u201c\u7981\u7528\u201d\uff0c\u91cd\u542f\u7535\u8111\u751f\u6548\u3002 Connected User Experiences and Telemetry \u5173\u95ed\u65b9\u6cd5\uff1aCortana\u641c\u7d22\u6846\u8f93\u5165\u201cServices\u201d\u6253\u5f00\u201c\u670d\u52a1\u201d\uff0c\u7136\u540e\u641c\u7d22\u201cconn\u201d\uff0c\u5c06\u201cConnected User Experiences and Telemetry\u201d\u7684\u542f\u52a8\u7c7b\u578b\u7531\u201c\u81ea\u52a8\u201d\u4fee\u6539\u4e3a\u201c\u7981\u7528\u201d\uff0c\u91cd\u542f\u7535\u8111\u751f\u6548\u3002 \u865a\u62df\u5185\u5b58\u5173\u95ed\u65b9\u6cd5 \uff1a\u53f3\u51fb\u201c\u6b64\u7535\u8111\u201d\u2192\u201c\u5c5e\u6027\u201d\u2192\u201c\u9ad8\u7ea7\u7cfb\u7edf\u8bbe\u7f6e\u201d\uff0c\u7136\u540e\u70b9\u51fb\u201c\u6027\u80fd\u201d\u2192\u201c\u8bbe\u7f6e\u201d\u2192\u201c\u9ad8\u7ea7\u201d\uff0c\u5c06\u663e\u793a\u4e3a\u201c\u6258\u7ba1\u7684\u7cfb\u7edf\u201d\u9a71\u52a8\u5668\u76d8\u7b26\u9009\u4e2d\uff0c\u70b9\u51fb\u201c\u65e0\u5206\u9875\u6587\u4ef6\u201d\u2192\u201c\u8bbe\u7f6e\u201d\uff0c\u786e\u5b9a\u540e\u91cd\u542f\u7535\u8111\uff0c\u8fd9\u6837\u5c31\u80fd\u628a\u865a\u62df\u5185\u5b58\u5173\u95ed\u4e86\u3002","title":"\u5728\u4f7f\u7528\u5927\u6570\u5b57\uff0c\u6740\u6bd2\u4e4b\u540e\u3002\u4ecd\u7136\u662f\u4e0a\u8ff0\u60c5\u51b5\uff0c\u6392\u9664\u4e2d\u6bd2\u4e4b\u5916\uff0c\u5c31\u662fwin10\u81ea\u8eab\u7684\u95ee\u9898\u3002\u4e0b\u9762\u662f\u89e3\u51b3\u65b9\u6848\u3002"},{"location":"PC-repair/%E5%BF%85%E9%A1%BB%E7%9F%A5%E9%81%93%E7%9A%84PC%E4%BF%AE%E7%90%86%EF%BC%9Awin10%E5%8D%A1%E9%A1%BF%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/#8g16g8g","text":"windows\u7684search\u529f\u80fd\u5c31\u662f\u9e21\u808b\uff0c\u6587\u4ef6\u641c\u7d22\u8bf7\u76f4\u63a5\u4f7f\u7528 everything \u8fd9\u4e2a\u8f6f\u4ef6\uff0c\u975e\u5e38\u5feb\u901f\u641c\u7d22\u5168\u76d8\u3002 \u505c\u6b62\u4f7f\u7528\u51c0\u7f51\u5927\u5e08\uff0c\u76ee\u524d\u7684\u51c0\u7f51\u5927\u5e08\u5747\u5c5e\u4e8e\u6346\u7ed1\u64cd\u4f5c\uff0c\u4f1a\u52ab\u6301\u7528\u6237\u6d41\u91cf\uff0c\u4fee\u6539\u7528\u6237\u7684\u4e66\u7b7e\u3002\u6740\u6bd2\u8f6f\u4ef6\u505c\u6b62\u4f7f\u7528\u5927\u6570\u5b57\u548c\u67d0\u8baf\u7ba1\u5bb6\uff0c\u706b\u7ed2\u503c\u5f97\u63a8\u8350\u3002","title":"\u865a\u62df\u5185\u5b58\uff0c\u5982\u679c\u4f60\u7684\u5b9e\u9645\u5185\u5b58&gt;8G,\u598216G\u7b49\uff0c\u76f4\u63a5\u5173\u95ed\u865a\u62df\u5185\u5b58\u3002\u5c0f\u4e8e8G\uff0c\u8fd8\u662f\u4fdd\u7559\u5427\u3002"},{"location":"R-in-action/NCBI%E7%9A%84%E6%95%B0%E6%8D%AE%E8%AE%BF%E9%97%AE%28rentrez%29/","text":"rentrez R\u8bed\u8a00","title":"NCBI\u7684\u6570\u636e\u8bbf\u95ee(rentrez)"},{"location":"R-in-action/R-SCI%E6%9C%9F%E5%88%8A%E4%BD%9C%E5%9B%BE-%E5%B8%B8%E7%94%A8%E5%8C%85/","text":"ggplot2\u7528\u4e8e\u4f5c\u56fe\u3002 https://www.jianshu.com/p/89e951275b9e ggrepel\u7528\u4e8e\u7ed9\u56fe\u4e2d\u5185\u5bb9\u6dfb\u52a0\u6807\u7b7e\u3002 https://www.jianshu.com/p/3b8d8620db3f ggrepel\u53ef\u4ee5\u81ea\u52a8\u907f\u514d\u6807\u7b7e\u91cd\u53e0\uff0c\u800c\u4e14\u652f\u6301\u4e24\u79cd\u683c\u5f0f\u7684\u6807\u7b7e\uff0c\u4e00\u79cd\u662f\u53ea\u6709\u6587\u5b57\u5f62\u5f0f\uff0c\u53e6\u4e00\u79cd\u662f\u6587\u5b57+\u6587\u672c\u6846\u3002 ggsci\u7528\u4e8e\u7ed8\u56fe\u914d\u8272 ggsci\u914d\u8272 export\u7528\u4e8e\u51fa\u56fe\u3002 https://www.jianshu.com/p/9774f825fdb7 \u53ef\u89c6\u5316\u8c03\u8282\u7684\u5305RColorBrewer install.packages(\"RColorBrewer\") library(RColorBrewer) display.brewer.all() color <- brewer.pal(n= 8,name =\"BrBG\") \u5c06BrBG\u7684\u524d8\u79cd\u989c\u8272\u7684\u503c\uff0c\u4f5c\u4e3a\u5411\u91cf\u8d4b\u503c\u7ed9color. color\u6b64\u65f6\u7684\u503c\u662f \"#8C510A\" \"#BF812D\" \"#DFC27D\" \"#F6E8C3\" \"#C7EAE5\" \"#80CDC1\" \"#35978F\" \"#01665E\" \u5f53\u4e00\u4e2a\u6a21\u5757\u7684\u989c\u8272\u6570\u91cf\u4e0d\u591f\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528\u591a\u4e2a\u989c\u8272\u6a21\u5757\uff0c\u5408\u5e76\u6210\u4e00\u4e2a\u5927\u7684\u989c\u8272\u5411\u91cf\u3002 6. \u7ed8\u56fe\u989c\u8272\u65b0\u7684\u5305paletteer\uff0c\u8f6c\u8f7d\u81eamp.weixin.qq.com/s/HGXmatedoB16YasxMN0n0g if(!require(paletteer))install.packages(\"paletteer\") if(!require(scico))install.packages('scico') if(!require(nord))install.packages('nord') library(paletteer) #\u8fde\u7eed\u6027\u914d\u8272 paletteer_c(\"scico::berlin\", n = 10) ## <colors> ## #9EB0FFFF #5AA3DAFF #2D7597FF #194155FF #11181DFF #270C01FF #501802FF #8A3F2AFF #C37469FF #FFACACFF #\u79bb\u6563\u578b\u914d\u8272 paletteer_d(\"RColorBrewer::Paired\") ## <colors> ## #A6CEE3FF #1F78B4FF #B2DF8AFF #33A02CFF #FB9A99FF #E31A1CFF #FDBF6FFF #FF7F00FF #CAB2D6FF #6A3D9AFF #FFFF99FF #B15928FF #\u52a8\u6001\u914d\u8272(\u524d\u9762\u6307\u5b9a\u989c\u8272\uff0c\u540e\u9762\u6307\u5b9a\u9700\u8981\u5206\u6210\u51e0\u79cd) paletteer_dynamic(\"cartography::green.pal\", 5) #\u6700\u5927\u662f20 ## <colors> ## #B8D9A9FF #8DBC80FF #5D9D52FF #287A22FF #17692CFF paletteer_dynamic(\"ggthemes_solarized::blue\",8) #\u6700\u5927\u662f8 ##<colors> ## #FCDACAFF #F9C2B3FF #F6AA9DFF #F49287FF #F17A71FF #EE5F58FF #EB3E3AFF #E81E1CFF #E30000FF #C00004FF #9E0008FF #7C000CF #\u67e5\u770b\u6bcf\u79cd\u914d\u8272\u65b9\u5f0f\u603b\u5171\u6709\u591a\u5c11\u79cd\u642d\u914d\u65b9\u5f0f paletteer::palettes_c_names paletteer::palettes_d paletteer::palettes_dynamic_names ##\u6216\u8005\u662f\u4f7f\u7528paletteer_dynamic()\u8f93\u5165\u540e\uff0c\u6309Tab\u5efa\u9009\u62e9\u3002 paletteer_c(\"ggthemes::Green-Gold\",n=15) paletteer_d(\"RColorBrewer::RdYlBu\",n=10) paletteer_d(\"colorBlindness::Green2Magenta16Steps\") #\u5728ggplot2\u79cd\u4f7f\u7528 library(ggplot2) ggplot(iris, aes(Sepal.Length, Sepal.Width, color = Species)) + geom_point() + scale_color_paletteer_d(\"ggthemes::Green_Orange_Teal\") ggplot(iris, aes(Sepal.Length, Sepal.Width, color = Sepal.Width)) + geom_point() + scale_color_paletteer_c(\"grDevices::Green-Yellow\") library(pheatmap) pheatmap::pheatmap(volcano,color = paletteer_c(\"scico::hawaii\",n=100)) ggprism \u7528\u4e8e\u4f18\u5316\u51fa\u56fe\u7684\u5750\u6807\u8f74\uff0c\u80cc\u666f\u4e3b\u9898\uff0c\u5b57\u4f53\u7b49\u3002","title":"R SCI\u671f\u520a\u4f5c\u56fe \u5e38\u7528\u5305"},{"location":"R-in-action/R-%E7%94%A8ggprism%E4%BC%98%E5%8C%96ggplot2%E7%9A%84%E5%9B%BE/","text":"\u8f6c\u8f7d\u81ea Y\u53d4\u7684\u516c\u4f17\u53f7 \uff0c\u4fb5\u6743\u7acb\u5220\u3002 remotes::install_github(\"csdaw/ggprism\") library(ggplot2) #\u4f5c\u56fe library(ggprism) #\u53ef\u4ee5\u5b8c\u5584ggplot2\u7684\u56fe\u4f7f\u4e4b\u8fbe\u5230\u53d1\u8868\u7ea7\u522b library(patchwork) #\u7528\u6765\u62fc\u56fe \u5de6\u4fa7\u4e3a\u539f\u59cb\u56fe\uff0c\u53f3\u4fa7\u4e3a\u4f7f\u7528ggprism\u4e3b\u9898\u540e \u8c03\u6574\u5b57\u4f53\u5927\u5c0f\u548c\u5750\u6807\u8f74\u7c97\u7ec6 p1 <- ggplot(ToothGrowth, aes(x = factor(dose), y = len)) + stat_summary(aes(fill = factor(dose)), na.rm = TRUE, geom = \"col\", fun = mean, colour = \"black\", size = 0.9) + scale_y_continuous(limits = c(0, 30), expand = c(0, 0))+theme_classic() p2 <- p1 + theme_prism(base_size = 13) p1 + p2 \u8c03\u6574\u56fe\u548c\u56fe\u4f8b\u7684\u989c\u8272 p <- ggplot(ToothGrowth, aes(x = factor(supp), y = len)) + geom_boxplot(aes(colour = factor(supp), fill = factor(supp))) + theme_prism(base_size = 14) p1 <- p + scale_colour_prism(palette = \"floral\") + scale_fill_prism(palette = \"floral\") p2 <- p + scale_colour_prism(palette = \"flames\") + scale_fill_prism(palette = \"flames\") p+p1 + p2 \u8c03\u6574\u5750\u6807\u8f74 p <- ggplot(ToothGrowth, aes(x = factor(dose), y = len)) + geom_jitter(aes(shape = factor(dose)), width = 0.2, size = 2) + scale_shape_prism() + theme_prism() + theme(legend.position = \"none\") p1 <- p + scale_y_continuous(limits = c(0, 40), guide = \"prism_minor\") p2 <- p + scale_x_discrete(guide = \"prism_bracket\") + #\u4f7fx\u5750\u6807\u8f74\u5206\u6bb5 scale_y_continuous(limits = c(0, 40)) p3 <- p + scale_y_continuous(limits = c(0, 40), guide = \"prism_offset\") #y\u8f74\u4e0ex\u8f74\u5206\u79bb p4 <- p + scale_y_continuous(limits = c(0, 40), guide = \"prism_offset_minor\") (p1 + p2) / (p3 + p4) \u6dfb\u52a0p\u503c #\u521b\u5efa\u6570\u636e\u6846\uff0c\u6307\u5b9a\u5206\u7ec4\u4fe1\u606f\u3001p\u503c\u3001p\u503c\u5728y\u8f74\u7684\u4f4d\u7f6e df_p_val <- data.frame( group1 = \"OJ\", group2 = \"VC\", p.adj = 0.0606, y.position = 36 ) # make a plot p1 <- ggplot(ToothGrowth, aes(x = factor(supp), y = len)) + geom_boxplot(aes(fill = factor(supp))) + scale_fill_prism(palette = \"candy_bright\") + theme_prism() + theme(legend.position = \"none\") # add the p-value p2 <- p1 + add_pvalue(df_p_val) p1 + p2","title":"R \u7528ggprism\u4f18\u5316ggplot2\u7684\u56fe"},{"location":"R-in-action/R-%E7%94%A8ggprism%E4%BC%98%E5%8C%96ggplot2%E7%9A%84%E5%9B%BE/#y","text":"remotes::install_github(\"csdaw/ggprism\") library(ggplot2) #\u4f5c\u56fe library(ggprism) #\u53ef\u4ee5\u5b8c\u5584ggplot2\u7684\u56fe\u4f7f\u4e4b\u8fbe\u5230\u53d1\u8868\u7ea7\u522b library(patchwork) #\u7528\u6765\u62fc\u56fe","title":"\u8f6c\u8f7d\u81eaY\u53d4\u7684\u516c\u4f17\u53f7\uff0c\u4fb5\u6743\u7acb\u5220\u3002"},{"location":"R-in-action/R-%E7%94%A8ggprism%E4%BC%98%E5%8C%96ggplot2%E7%9A%84%E5%9B%BE/#ggprism","text":"","title":"\u5de6\u4fa7\u4e3a\u539f\u59cb\u56fe\uff0c\u53f3\u4fa7\u4e3a\u4f7f\u7528ggprism\u4e3b\u9898\u540e"},{"location":"R-in-action/R-%E7%94%A8ggprism%E4%BC%98%E5%8C%96ggplot2%E7%9A%84%E5%9B%BE/#_1","text":"p1 <- ggplot(ToothGrowth, aes(x = factor(dose), y = len)) + stat_summary(aes(fill = factor(dose)), na.rm = TRUE, geom = \"col\", fun = mean, colour = \"black\", size = 0.9) + scale_y_continuous(limits = c(0, 30), expand = c(0, 0))+theme_classic() p2 <- p1 + theme_prism(base_size = 13) p1 + p2","title":"\u8c03\u6574\u5b57\u4f53\u5927\u5c0f\u548c\u5750\u6807\u8f74\u7c97\u7ec6"},{"location":"R-in-action/R-%E7%94%A8ggprism%E4%BC%98%E5%8C%96ggplot2%E7%9A%84%E5%9B%BE/#_2","text":"p <- ggplot(ToothGrowth, aes(x = factor(supp), y = len)) + geom_boxplot(aes(colour = factor(supp), fill = factor(supp))) + theme_prism(base_size = 14) p1 <- p + scale_colour_prism(palette = \"floral\") + scale_fill_prism(palette = \"floral\") p2 <- p + scale_colour_prism(palette = \"flames\") + scale_fill_prism(palette = \"flames\") p+p1 + p2","title":"\u8c03\u6574\u56fe\u548c\u56fe\u4f8b\u7684\u989c\u8272"},{"location":"R-in-action/R-%E7%94%A8ggprism%E4%BC%98%E5%8C%96ggplot2%E7%9A%84%E5%9B%BE/#_3","text":"p <- ggplot(ToothGrowth, aes(x = factor(dose), y = len)) + geom_jitter(aes(shape = factor(dose)), width = 0.2, size = 2) + scale_shape_prism() + theme_prism() + theme(legend.position = \"none\") p1 <- p + scale_y_continuous(limits = c(0, 40), guide = \"prism_minor\") p2 <- p + scale_x_discrete(guide = \"prism_bracket\") + #\u4f7fx\u5750\u6807\u8f74\u5206\u6bb5 scale_y_continuous(limits = c(0, 40)) p3 <- p + scale_y_continuous(limits = c(0, 40), guide = \"prism_offset\") #y\u8f74\u4e0ex\u8f74\u5206\u79bb p4 <- p + scale_y_continuous(limits = c(0, 40), guide = \"prism_offset_minor\") (p1 + p2) / (p3 + p4)","title":"\u8c03\u6574\u5750\u6807\u8f74"},{"location":"R-in-action/R-%E7%94%A8ggprism%E4%BC%98%E5%8C%96ggplot2%E7%9A%84%E5%9B%BE/#p","text":"#\u521b\u5efa\u6570\u636e\u6846\uff0c\u6307\u5b9a\u5206\u7ec4\u4fe1\u606f\u3001p\u503c\u3001p\u503c\u5728y\u8f74\u7684\u4f4d\u7f6e df_p_val <- data.frame( group1 = \"OJ\", group2 = \"VC\", p.adj = 0.0606, y.position = 36 ) # make a plot p1 <- ggplot(ToothGrowth, aes(x = factor(supp), y = len)) + geom_boxplot(aes(fill = factor(supp))) + scale_fill_prism(palette = \"candy_bright\") + theme_prism() + theme(legend.position = \"none\") # add the p-value p2 <- p1 + add_pvalue(df_p_val) p1 + p2","title":"\u6dfb\u52a0p\u503c"},{"location":"R-in-action/Rmarkdown%E7%9A%84%E4%BD%BF%E7%94%A8/","text":"\u5728windows\u4e0a\u4f7f\u7528Rstudio\u5199Rmarkdown\u6587\u6863\u3002Rmarkdown\u6587\u6863\u53ef\u4ee5\u88ab\u8f6c\u4e3ahtml,word,pdf,markdown. \u9700\u8981\u5148\u5b89\u88c5miktex,\u914d\u7f6e\u597d\u73af\u5883\u53d8\u91cf\u3002https://miktex.org/download \uff08\u5982\u679c\u6ca1\u6709\u5b89\u88c5\uff0cpdf\u8f93\u51fa\u4f1a\u62a5\u9519\uff09 \u56e0\u4e3apdf\u7684\u8f93\u51fa\u9700\u8981\u8c03\u7528Latex\u6392\u7248\u7cfb\u7edf\uff0c\u5982\u679c\u6ca1\u6709\u5b89\u88c5Latex\u5c31\u4f1a\u62a5\u9519\u3002\u800c\u4e14\u5bf9\u4e2d\u6587\u4e0d\u53cb\u597d\uff0c\u5982\u679c\u6587\u6863\u6709\u4e2d\u6587\uff0c\u8fd8\u5f97\u5b89\u88c5ctex.(\u76ee\u524d\u6ca1\u6709\u89e3\u51b3\u6b64\u95ee\u9898\uff0c\u4ecd\u7136\u65e0\u6cd5\u8f93\u51fa\u4e2d\u6587) \u65b0\u5efa\u6587\u4ef6 first.Rmd \u6587\u4ef6\u5185\u5bb9\u5982\u4e0b\uff0c\u70b9\u51fb Knit \u6309\u94ae\uff0c --- title: \"First R markdown\" author: \"Pet Zhu\" date: \"2021/5/12\" output: pdf_document: default html_document: default word_document: default --- ```{r setup, include=FALSE} knitr::opts_chunk$set(echo = TRUE) ``` ## R Markdown This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>. When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this: ```{r cars} summary(cars) ``` ## Including Plots You can also embed plots, for example: ```{r pressure, echo=FALSE} plot(pressure) ``` Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot. > ----by Lu Xun tinytex::install_tinytex() ## Rmmarkdwon markdown library(rmarkdown) md_document( variant = \"markdown_strict\", preserve_yaml = FALSE, toc = FALSE, toc_depth = 3, fig_width = 7, fig_height = 5, fig_retina = NULL, dev = \"png\", df_print = \"default\", includes = NULL, md_extensions = NULL, pandoc_args = NULL, ext = \".md\" ) render(\"test.Rmd\", md_document()) #render(\"test.Rmd\", md_document(variant = \"markdown_github\")) Rmarkdown\u53ef\u4ee5\u8f93\u51fa\u7684\u683c\u5f0f\u6709 beamer_presentation context_document github_document html_document ioslides_presentation latex_document md_document odt_document pdf_document powerpoint_presentation rtf_document slidy_presentation word_document \u9700\u8981\u6ce8\u610f\uff1a\u4f1a\u81ea\u52a8\u751f\u6210\u6587\u4ef6\u5939\u5b58\u653e\uff0cRmd\u751f\u6210\u7684\u56fe\u7247\u3002 \u540c\u65f6\u8f93\u51fa\u4e0a\u9762\u65b0\u5efa\u7684first.Rmd\u5230html\uff0cpdf,word\u683c\u5f0f rmarkdown::render('first.Rmd',c('html_document','pdf_document','word_document')) rmarkdown::render('first.Rmd',\"all\") \u53d6\u51b3\u4e8e\u4f60\u5728first.Rmd\u91ccyaml\u5b9a\u4e49\u7684outpput\u7684\u683c\u5f0f\uff0c\u4f1a\u628a\u8fd9\u91cc\u9762\u7684\u683c\u5f0f\u90fd\u8f93\u51fa\u3002 \u53ea\u8f93\u51fa\u5230html rmarkdown::render('first.Rmd',c('html_document')) \u8f93\u51fa\u5230markdown rmarkdown::render('helloworld.Rmd',\"md_document\") \u8f93\u51fa\u5230github\u683c\u5f0f\uff08\u4f1a\u540c\u65f6\u8f93\u51fahtml,md\u683c\u5f0f\uff09 rmarkdown::render('helloworld.Rmd',\"github_document\") R\u6709\u4e13\u95e8 bookdown \u548c blogdown ,\u53ef\u4ee5\u7528Rstudio\u5feb\u901f\u751f\u6210\u7535\u5b50\u4e66\u548c\u535a\u5ba2\u3002 R bookdown","title":"Rmarkdown\u7684\u4f7f\u7528"},{"location":"R-in-action/Rmarkdown%E7%9A%84%E4%BD%BF%E7%94%A8/#rmarkdown","text":"beamer_presentation context_document github_document html_document ioslides_presentation latex_document md_document odt_document pdf_document powerpoint_presentation rtf_document slidy_presentation word_document \u9700\u8981\u6ce8\u610f\uff1a\u4f1a\u81ea\u52a8\u751f\u6210\u6587\u4ef6\u5939\u5b58\u653e\uff0cRmd\u751f\u6210\u7684\u56fe\u7247\u3002","title":"Rmarkdown\u53ef\u4ee5\u8f93\u51fa\u7684\u683c\u5f0f\u6709"},{"location":"R-in-action/Rmarkdown%E7%9A%84%E4%BD%BF%E7%94%A8/#firstrmdhtmlpdfword","text":"rmarkdown::render('first.Rmd',c('html_document','pdf_document','word_document')) rmarkdown::render('first.Rmd',\"all\") \u53d6\u51b3\u4e8e\u4f60\u5728first.Rmd\u91ccyaml\u5b9a\u4e49\u7684outpput\u7684\u683c\u5f0f\uff0c\u4f1a\u628a\u8fd9\u91cc\u9762\u7684\u683c\u5f0f\u90fd\u8f93\u51fa\u3002","title":"\u540c\u65f6\u8f93\u51fa\u4e0a\u9762\u65b0\u5efa\u7684first.Rmd\u5230html\uff0cpdf,word\u683c\u5f0f"},{"location":"R-in-action/Rmarkdown%E7%9A%84%E4%BD%BF%E7%94%A8/#html","text":"rmarkdown::render('first.Rmd',c('html_document'))","title":"\u53ea\u8f93\u51fa\u5230html"},{"location":"R-in-action/Rmarkdown%E7%9A%84%E4%BD%BF%E7%94%A8/#markdown","text":"rmarkdown::render('helloworld.Rmd',\"md_document\")","title":"\u8f93\u51fa\u5230markdown"},{"location":"R-in-action/Rmarkdown%E7%9A%84%E4%BD%BF%E7%94%A8/#githubhtmlmd","text":"rmarkdown::render('helloworld.Rmd',\"github_document\") R\u6709\u4e13\u95e8 bookdown \u548c blogdown ,\u53ef\u4ee5\u7528Rstudio\u5feb\u901f\u751f\u6210\u7535\u5b50\u4e66\u548c\u535a\u5ba2\u3002 R bookdown","title":"\u8f93\u51fa\u5230github\u683c\u5f0f\uff08\u4f1a\u540c\u65f6\u8f93\u51fahtml,md\u683c\u5f0f\uff09"},{"location":"R-in-action/R%E4%BD%9C%E5%9B%BE%E5%90%8E%E8%BE%93%E5%87%BA%E6%A0%BC%E5%BC%8F%E9%80%89%E6%8B%A9%EF%BC%88export%E5%8C%85%EF%BC%89/","text":"R\u4e2d\u51fa\u56fe\u7684\u4fdd\u5b58\u65b9\u5f0f ggplot2\u51fa\u7684\u56fe\uff0c\u53ef\u4ee5\u4f7f\u7528 ggsave \u4fdd\u5b58\u3002 \u975eggplot2\u51fa\u7684\u56fe\uff0c\u5c31\u9700\u8981\u4f7f\u7528\u539f\u751f\u7684\u51fd\u6570\u6216\u8005\u662f export \u5305\u4fdd\u5b58\u3002 \u539f\u751f\u51fd\u6570\u4fdd\u5b58\u51fa\u7684\u56fe\uff1a - jpeg() -pdf() - tiff() - pdf() \u65b9\u6cd5\u662f\u5148\u6253\u5f00\u753b\u677f\uff0c\u518d\u753b\u56fe\uff0c\u6700\u540e\u5173\u95ed\u753b\u677f\u3002 png(\"demo.png\",width = 800,height = 800,units = \"px\") #\u5148\u6253\u5f00\u753b\u677f\uff0c\u5e76\u6307\u5b9a\u5c3a\u5bf8 plot(pi:pi^2,-pi*3:-pi) #\u7ed8\u56fe dev.off() #\u5173\u95ed\u753b\u677f pdf(\"demo.png\") plot(pi:pi^2,-pi*3:-pi) dev.off() \u4f46\u662f\u5982\u679c\u4e2d\u95f4ggplot\u753b\u7684\u56fe\uff0c\u5219\u53ef\u80fd\u9700\u8981\u4f7f\u7528 print() .\u5177\u4f53\u8868\u73b0\u4e3a\uff0c\u5982\u679c\u76f4\u63a5\u4f7f\u7528R-studio\u753b\u56fe\u662f\u53ef\u884c\u7684\u3002\u4f46\u662f\u5982\u679c\u628a\u7ed8\u56fe\u548c\u4fdd\u5b58\u6574\u4e2a\u8fc7\u7a0b\u5c01\u88c5\u5230\u51fd\u6570\u91cc\uff0c\u5219\u8f93\u51fa\u7684\u56fe\u662f\u7a7a\u767d\u3002\u6b64\u65f6\u5c31\u9700\u8981\u4f7f\u7528print() demo1 <- function(){ tiff(\"demo1.tiff\",width = 800,height = 800,units = \"px\") plot(pi:pi^2,-pi*3:-pi) dev.off() tiff(\"demo1.tiff\",width = 800,height = 800,units = \"px\") df <- data.frame( gp = factor(rep(letters[1:3], each = 10)), y = rnorm(30) ) ds <- do.call(rbind, lapply(split(df, df$gp), function(d) { data.frame(mean = mean(d$y), sd = sd(d$y), gp = d$gp) })) p1 <- ggplot(df, aes(gp, y)) + geom_point() + geom_point(data = ds, aes(y = mean), colour = 'red', size = 4) #p1 \u5728\u51fd\u6570\u91cc\u76f4\u63a5p1\u7ed8\u56fe\uff0c\u753b\u677f\u662f\u63a5\u6536\u4e0d\u5230\u7684\u3002 print(p1) #\u6ce8\u610f\uff1a\u6b64\u5904\uff0c\u5728\u51fd\u6570\u91cc\uff0c\u6240\u4ee5\u9700\u8981\u7528print,\u5426\u5219\u8f93\u51fa\u662f\u7a7a\u767d\u3002 dev.off() } demo1() 2020.2.29\u66f4\u65b0-export\u4e8e2020.2.11\u88abCRAN\u5f52\u6863\uff0c\u76ee\u524d\u65e0\u6cd5\u76f4\u63a5\u5b89\u88c5\u3002\u53ef\u4ee5\u4ece \u4e0b\u8f7d\u5730\u5740 \u4e0b\u8f7d\u5305\u3002\u7136\u540e\u672c\u5730\u5b89\u88c5\u3002 #\u5148\u5b89\u88c5\u4f9d\u8d56\u5305 install.packages(c(\"flextable\", \"stargazer\", \"openxlsx\")) install.packages(\"D:/RStudio/Rtools/export_0.2.2.tar.gz\", repos = NULL, type = \"source\") library(\"export\") \u6216\u8005\u4ece github \u5b89\u88c5\u5305 install.packages(\"officer\") install.packages(\"rvg\") install.packages(\"openxlsx\") install.packages(\"ggplot2\") install.packages(\"flextable\") install.packages(\"xtable\") install.packages(\"rgl\") install.packages(\"stargazer\") install.packages(\"tikzDevice\") install.packages(\"xml2\") install.packages(\"broom\") install.packages(\"devtools\") devtools::install_github(\"tomwenseleers/export\") Y \u53d4\u8bf4\u4f5c\u56fe\u7528R,\u7136\u540e\u4fee\u56fe\u7528ppt\u3002\u6bd5\u7adfps\u4e0d\u662f\u6bcf\u4e2a\u4eba\u90fd\u4f1a\uff0c\u800c\u4e14PS\u540d\u58f0\u5728\u5916\u3002 \u4ee5\u4e0b\u8f6c\u8f7d\u81ea Y\u53d4\u516c\u4f17\u53f7 \u5b89\u88c5R\u5305\uff0c install.packages(\"export\") library(export) library(effects) fit=lm(prestige ~ type + income*education, data=Prestige) plot(Effect(c(\"income\", \"education\"), fit),multiline=T, ci.style=\"bands\") ##\u8bf4\u660e\uff1a\u5728R-studio\u4e2d\u8fd0\u884c\uff0c\u524d\u9762\u53ea\u8981\u8f93\u51fa\u56fe\u50cf\u540e\u3002\u5728\u9884\u89c8\u7a97\u53e3\u9009\u4e2d\u5bf9\u5e94\u7684\u56fe\u50cf\uff0c\u8fd0\u884c\u4e0b\u9762\u547d\u4ee4\u5373\u53ef\u751f\u6210\u5bf9\u5e94\u7684pptx\u6587\u4ef6\u3002\u6587\u4ef6\u540d\uff0c\u5927\u5c0f\u3002 #\u5982\u679c\u56fe\u7247\u592a\u5927\uff0c\u5bfc\u51fa\u7684\u6587\u4ef6\u662f\u77e2\u91cf\uff0c\u4f1a\u7279\u522b\u5927\uff0c\u6253\u5f00\u901f\u5ea6\u6bd4\u8f83\u6162\u3002 graph2ppt(file=\"effect plot.pptx\",width=7,height=5) ##\u5728\u5f15\u5165export\u5305\u540e\uff0c\u53ef\u4ee5\u5199\u4e00\u4e2a\u7b80\u5355\u51fd\u6570\uff0c\u4e00\u6b21\u8f93\u51fa\u591a\u79cd\u7c7b\u578b\u7684\u56fe\u3002 out_img <- function(filename,pic_width=5,pic_height=7){ graph2png(file=filename,width=pic_width,height=pic_height) graph2ppt(file=filename,width=pic_width,height=pic_height) graph2svg(file=filename,width=pic_width,height=pic_height) } #\u8c03\u7528\u51fd\u6570 out_img(filename=\"filter_count\") #\u8c03\u7528\u51fd\u6570\uff0c\u540c\u65f6\u6307\u5b9a\u5bbd\u5ea6\u548c\u9ad8\u5ea6 out_img(filename=\"heatmap\",pic_width=7,pic_height=7) \u8be5\u5305\u4e2d\u53ef\u7528\u7684\u5de5\u5177 graph2bitmap graph2doc graph2eps graph2jpg graph2office graph2pdf graph2png graph2ppt graph2svg graph2tif graph2vecto table2csv table2csv2 table2doc table2excel table2html table2office table2ppt table2spreadsheet table2tex \u7ecf\u9a8c\u603b\u7ed3 \u4e00\u5b9a\u8981\u8f93\u51fappt\u548csvg\u683c\u5f0f\u3002 ppt\u683c\u5f0f\u53ef\u4ee5\u5728office\u91cc\u9762\u5c0f\u4fee\u3002 svg\u683c\u5f0f\u53ef\u4ee5\u5728Adobe Illustrator\u91cc\u9762\u4fee\u6539\u3002 png\u683c\u5f0f\u65e0\u635f\u56fe\u7247\u8d28\u91cf\u3002","title":"R\u4f5c\u56fe\u540e\u8f93\u51fa\u683c\u5f0f\u9009\u62e9\uff08export\u5305\uff09"},{"location":"R-in-action/R%E4%BD%9C%E5%9B%BE%E5%90%8E%E8%BE%93%E5%87%BA%E6%A0%BC%E5%BC%8F%E9%80%89%E6%8B%A9%EF%BC%88export%E5%8C%85%EF%BC%89/#_1","text":"\u4e00\u5b9a\u8981\u8f93\u51fappt\u548csvg\u683c\u5f0f\u3002 ppt\u683c\u5f0f\u53ef\u4ee5\u5728office\u91cc\u9762\u5c0f\u4fee\u3002 svg\u683c\u5f0f\u53ef\u4ee5\u5728Adobe Illustrator\u91cc\u9762\u4fee\u6539\u3002 png\u683c\u5f0f\u65e0\u635f\u56fe\u7247\u8d28\u91cf\u3002","title":"\u7ecf\u9a8c\u603b\u7ed3"},{"location":"R-in-action/R%E5%92%8CRstudio%E7%9A%84%E7%8E%AF%E5%A2%83%E4%BE%9D%E8%B5%96/","text":"Rstudio\u4f9d\u8d56R.\u6240\u4ee5\u5b89\u88c5\u987a\u5e8f\u662f\u5148\u5b89\u88c5R,\u540e\u5b89\u88c5Rstudio. \u5b89\u88c5\u8def\u5f84\u4e0d\u8981\u6709\u4e2d\u6587\u3002\u5982\u679c\u4fee\u6539\u4e86R\u7684\u9ed8\u8ba4\u5b89\u88c5\u8def\u5f84\uff0cRstudio\u53ef\u80fd\u4f1a\u627e\u4e0d\u5230R\u7684\u5b89\u88c5\u8def\u5f84\uff0c\u5bfc\u81f4\u6253\u5f00Rstudio\u4e00\u7247\u7a7a\u767d\u3002\u6309\u7740ctrl\u6309\u952e\u540c\u65f6\u6253\u5f00Rstudio\u5373\u53ef\u6253\u5f00\u624b\u52a8\u9009\u62e9R\u8def\u5f84\u7684\u9009\u9879\u3002 \u5982\u679c\u5728Rstudio\u4e4b\u524d\uff0c\u5148\u5378\u8f7d\u65e7\u7248\u672c\u7684R,\u518d\u5b89\u88c5\u65b0\u7684R.\u4e4b\u540e\u53ef\u80fd\u4f1a\u51fa\u65e0\u6cd5\u627e\u5230R\u7684\u95ee\u9898\uff0c\u89e3\u51b3\u65b9\u6848\u540c\u6837\u662f\uff0cctrl\u6309\u4e0b\u540e\uff0c\u518d\u6253\u5f00Rstudio. Rstudio\u91cc\u5b89\u88c5\u5305\u7684\u65f6\u5019\uff0c\u7ecf\u5e38\u4f1a\u51fa\u73b0no zero status. \u4e3b\u8981\u539f\u56e0\u662f\u4f9d\u8d56\u5305\u6ca1\u6709\u6b63\u786e\u5b89\u88c5\u6216\u8005\u662f\u7248\u672c\u4e0d\u5339\u914d\u3002 \u8fd8\u6709\u53ef\u80fd\u662f\u7f51\u7edc\u4e0d\u597d\u3002 \u89e3\u51b3\u529e\u6cd5\uff0c\u9996\u5148\u5347\u7ea7\u4f60\u7684R\u7684\u7248\u672c\u5230\u6700\u65b0\u3002\u7136\u540e\u628a\u5305\u4e0b\u8f7d\u5230\u672c\u5730\u5b89\u88c5\uff0c\u4ee5\u89e3\u51b3\u4f9d\u8d56\u95ee\u9898\u3002 \u8fd8\u9047\u5230\u62a5\u9519 arch - x64 \u9519\u8bef \u7684\uff0c\u4e0a\u8ff0\u529e\u6cd5\u90fd\u65e0\u6548\u7684\u60c5\u51b5\u4e0b\uff0c\u4f7f\u7528\u7ec8\u6781\u5927\u62db\uff0c\u5220\u9664\u672c\u5730\u6240\u6709\u7684R\u5305\u3002 .libPaths() \u67e5\u770b\u672c\u5730\u7684\u5305\u7684library\u7684\u8def\u5f84\u3002\u5220\u9664\u7b2c\u4e00\u4e2a\u8def\u5f84\u4f4d\u7f6e\u7684\u6240\u6709\u5305\uff0c\u4e4b\u540e\u91cd\u65b0\u5b89\u88c5\uff0c\u5c31\u89e3\u51b3\u4e86\u3002 \uff08\u51fa\u73b0\u6b64\u79cd\u60c5\u51b5\u7684\u539f\u56e0\u63a8\u6d4b\u662f\u4f9d\u8d56\u7684\u5305\u7684\u5b89\u88c5\u987a\u5e8f\u4e0d\u6b63\u786e\u5bfc\u81f4\u7684\uff0c\u4f9d\u8d56\u5305\u6ca1\u6709\u88ab\u6b63\u786e\u5b89\u88c5\uff0c\u5bfc\u81f4\u4f9d\u8d56\u524d\u8005\u7684\u5305\u5199\u7684\u5305\u4f1a\u5b89\u88c5\u5931\u8d25\uff09 if(!require(devtools))install.packages(\"devtools\") library(devtools) if(!require(ggord))install_github('fawda123/ggord') if(!require(clusterProfiler))BiocManager::install(\"clusterProfiler\") \u5947\u6deb\u6280\u5de7\uff1aggplot2\u53ef\u4ee5\u4f7f\u7528 NULL \uff0c\u65b9\u4fbf\u6ce8\u91ca\u5176\u4e2d\u7684\u4e00\u884c p <- ggplot(mpg, aes(class, hwy)) p + geom_boxplot() + #theme_classic() NULL dplyr \u4e5f\u6709\u7c7b\u4f3c\u51fd\u6570\u662f identity() mpg %>% head(10) %>% #rownames() %>% identity()","title":"R\u548cRstudio\u7684\u73af\u5883\u4f9d\u8d56"},{"location":"R-in-action/R%E6%8B%BC%E5%9B%BE%E5%8C%85%EF%BC%9Apatchwork%E5%92%8Ccowplot%EF%BC%8Cmagick/","text":"ggplot2\u7684\u9996\u5e2d\u4e13\u5bb6Thomas Lin Pedersen\u53d1\u5e03\u4e86patchwork\u8fd9\u4e2a\u5305\uff0c\u4e13\u4e1a\u62fc\u56fe\u7b80\u5355\u597d\u7528\u3002 patchwork\u5b98\u65b9\u5730\u5740 \u53c2\u8003\u5218\u5c0f\u6cfd \u4e00\u76f4\u6df1\u53d7ggplot2\u7684\u62fc\u56fe\u6240\u56f0\u6270\uff0c\u6bcf\u6b21\u9700\u8981\u5bfc\u51fa\u56fe\u7247\u5728PS\u6216AI\u91cc\u9762\u62fc\u56fe\u3002\u6709\u4e86patchwork\u53ef\u4ee5\u76f4\u63a5\u5728R\u91cc\u9762\u62fc\u56fe\u4e86\u3002 \u529f\u80fd\uff1a 1. \u62fc\u5408\u591a\u5f20\u56fe 2. \u6dfb\u52a0ABCD\u6216I II III 3. \u540c\u65f6\u4fee\u6539\u591a\u5f20\u56fe\u7684\u56fe\u6ce8\u4f4d\u7f6e \u4f18\u70b9\uff1a\u4ee3\u7801\u7b80\u5355\uff0c\u6613\u5b66\u6613\u61c2\uff0c\u5b8c\u7f8e\u627f\u63a5ggplot2. \u5b89\u88c5 #CRAN\u5b89\u88c5\u7a33\u5b9a\u7248 install.packages(\"patchwork\") #github\u5b89\u88c5\u5f00\u53d1\u7248\u3002\u4e8c\u9009\u4e00\u5373\u53ef\u3002 install.packages(\"devtools\") devtools::install_github(\"thomasp85/patchwork\") \u7528\u6cd5\u793a\u4f8b\uff1a ##\u7528\u4ee5\u6d4b\u8bd5patchwork\u5305 ##\u4e3b\u8981\u662f\u7528\u6765\u62fc\u5408\u591a\u4e2a\u56fe\u7247\u7684 setwd(\"E:/Rcode\") library(ggplot2) install.packages(\"patchwork\") library(patchwork) p1 <- ggplot(mtcars)+geom_point(aes(mpg,disp)) p2 <- ggplot(mtcars)+geom_boxplot(aes(gear,disp,group=gear)) p3 <- ggplot(mtcars) + geom_smooth(aes(disp, qsec)) p4 <- ggplot(mtcars) + geom_bar(aes(carb)) + \u8868\u793a\u6a2a\u5411\u6392\u5217\uff0c / \u8868\u793a\u7eb5\u5411\u6392\u5217\uff0c\u4e00\u6b21\u53ef\u4ee5\u6709\u591a\u4e2a + / \u7ec4\u6210\u516c\u5f0f p1+p2 p1/p2 p1+p2/p3+p4 p2+(p1/p3)+p4 - \u8868\u793a\u4e24\u4e2a\u56fe\u653e\u7f6e\u5728\u4e00\u4e2a\u5d4c\u5957\u5c42 p1-p2 \u901a\u8fc7ncol\u6307\u5b9a\u7ed8\u56fe\u7684\u5217\u6570\uff0c\u6216\u8005\u662fnrow\u6307\u5b9a\u7ed8\u56fe\u7684\u884c\u6570 \u5f53\u6709\u591a\u4e2a\u56fe\u7684\u65f6\u5019\uff0c\u5982\u679c\u6307\u5b9a\u7684\u5217\u6216\u884c\u6bd4\u56fe\u7684\u5b9e\u9645\u6570\u91cf\u5c11\uff0c\u5219\u4f1a\u538b\u7f29\u5bf9\u5e94\u7684\u56fe\u7684\u5bbd\u5ea6\u6216\u957f\u5ea6 p4+p1+p2+plot_layout(ncol = 2) p1+p3+p4/p2+plot_layout(nrow=2) #\u4f1a\u538b\u7f29p4\u548cp2\u7684\u9ad8\u5ea6 \u53ef\u4ee5\u7528plot_spacer()\u6dfb\u52a0\u4e00\u4e2a\u7a7a\u767d\u56fe\u5360\u4f4d\u7f6e p1+plot_spacer()+p2 \u5e03\u5c40\u53ef\u4ee5\u4f7f\u7528ABCD\u6765\u8868\u793a layout2 <- 'AAB CDD' p1+p2+p3+p4+plot_layout(design = layout2) ![p1+p2+p3+p4+plot_layout(design = layout2) ](https://upload-images.jianshu.io/upload_images/18151951-5affc054cdb9c8d0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240) \u7ed9\u56fe\u6dfb\u52a0\u56fe\u6ce8\u5b57\u6bcd p1+p2+p3+p4+plot_annotation(tag_levels = 'I') p1+p2/p3+p4+plot_annotation(tag_levels = 'A') \u591a\u91cd\u6807\u6ce8\uff0c\u5148\u7ed9p4|p2\u6dfb\u52a0\uff0c\u518d\u7ed9p1\u6dfb\u52a0\u3002A1,A2\u548cB ((p4 | p2) + plot_layout(tag_level = 'new'))/p1+plot_annotation(tag_levels = c('A', '1')) \u540c\u65f6\u6dfb\u52a0\u591a\u4e2a\u6807\u9898 (p1+p2/p3+p4)+plot_layout(guides = 'collect')+plot_annotation(title=\"test layout for patchwork\",caption = 'this is the caption',theme = theme(plot.caption = element_text(size=15))) \u540c\u65f6\u4fee\u6539\u591a\u4e2a\u56fe\u7684theme (p1+p2/p4)*theme_void() \u6ce8\u610f*\u53f7\u53ea\u80fd\u4fee\u6539\u5f53\u524d\u5d4c\u5957\u5c42\uff0c\u73b0\u5728\u662f\u53ea\u4fee\u6539\u4e86p1\u56fe\u5c42\uff0c\u5220\u9664\u80cc\u666f\u989c\u8272 (p1+p2/p4)&theme_bw()+theme(panel.grid.major = element_blank(),panel.grid.minor = element_blank()) &\u662f\u540c\u65f6\u5220\u9664\u80cc\u666f\u989c\u8272\u548c\u7f51\u683c\u7ebf \u64cd\u4f5c\u5bf9\u8c61\u662f\u6240\u6709\u56fe\u5c42 (p4-p1/p3)*(theme_bw()+ theme(panel.grid.major = element_blank(),panel.grid.minor = element_blank())) \u53ea\u64cd\u4f5c\u4e86P4\u56fe\u5c42\uff0c\u5220\u6389\u80cc\u666f\u8272\u548c\u7f51\u683c\u7ebf \u6ce8\u610f\u64cd\u4f5c\u7b26\u53f7: - \u662f\u628a\u591a\u4e2a\u56fe\u5c42\u5408\u6210\u4e00\u4e2a\u5d4c\u5957\u5c42\uff0c + \u662f\u628a\u540e\u9762\u7684\u5c42\uff0c\u6dfb\u52a0\u5230\u524d\u9762\u7684\u5c42\uff0c | \u548c / \u5206\u522b\u8868\u793a\u6a2a\u5411\u6392\u5e03\u548c\u7eb5\u5411\u6392\u5e03\u3002 * \u53ea\u64cd\u4f5c\u4e00\u4e2a\u5d4c\u5957\u5c42\uff0c & \u64cd\u4f5c\u6240\u6709\u7684\u5c42\u3002 cowplot\u5305\u7684\u4f7f\u7528\uff08\u57fa\u4e8eggplot2\u7684\u62fc\u56fe\u5305\uff0c\u5feb\u901f\u65b9\u4fbf\uff09 #### cowplot\u5305\u62fc\u56fe library(ggplot2) library(cowplot) setwd(\"E:/R/cowplot/\") plot.mpg <- ggplot(mpg, aes(x = cty, y = hwy, colour = factor(cyl))) + geom_point(size=2.5)+theme_classic() plot.diamonds <- ggplot(diamonds, aes(clarity, fill = cut)) + geom_bar() + theme(axis.text.x = element_text(angle=70, vjust=0.5))+theme_classic()+scale_y_continuous(expand = c(0,0)) ##\u63d2\u5165\u7a7a\u503c\uff0c\u5360\u636e\u4f4d\u7f6e plot_grid(plot.mpg,NULL,NULL,plot.diamonds,labels=c(\"A\", \"NULL\",\"NULL\",\"B\"),ncol = 2) plot2by2 <- plot_grid(plot.mpg,NULL,NULL,plot.diamonds,labels=c(\"A\", \"NULL\",\"NULL\",\"B\"),ncol = 2) plot2by2 ##\u4fdd\u5b58\u56fe\u7247 save_plot(\"plot2by2.png\", plot2by2, ncol = 2, # we're saving a grid plot of 2 columns #nrow = 2, # and 2 rows # each individual subplot should have an aspect ratio of 1.3 base_aspect_ratio = 1.3 ) #\u6dfb\u52a0\u6c34\u5370\u6807\u6ce8\u7248\u6743 ggdraw(plot.mpg) + #draw_plot_label(\"A\", size = 14) + #\u6dfb\u52a0\u6807\u7b7eA draw_label(\"Warning!\", angle = -45, size = 100, alpha = .2,color = \"red\") #\u8bbe\u7f6e\u6c34\u5370\u7684\u65cb\u8f6c\u89d2\u5ea6\uff0c\u5927\u5c0f\uff0c\u900f\u660e\u5ea6\uff0c\u989c\u8272\u3002 \u4f7f\u7528magick\u53ef\u4ee5\u8bfb\u53d6\u672c\u5730\u548c\u7f51\u7edc\u7684\u56fe\u7247\u3001\u89c6\u9891\uff0c\u540c\u65f6\u53ef\u4ee5\u7f16\u8f91\u56fe\u7247 #install.packages(\"magick\") library(ggplot2) library(magick) #\u67e5\u770bmagick\u652f\u6301\u7684\u56fe\u7247\u7684\u79cd\u7c7b str(magick::magick_config()) p <- ggplot(iris, aes(x=Sepal.Length, fill=Species)) + geom_density(alpha = 0.5)+theme_classic() p2 <- ggdraw()+draw_image(\"http://jeroen.github.io/images/tiger.svg\",scale = .75) p3 <- ggdraw()+draw_image(\"./model.png\",scale = .8) plot_grid(p,p2,p3,labels = \"AUTO\") ggsave(\"test_magick.png\",width = 170,height = 230,units = \"mm\",dpi = 300) tiger <- image_read(\"http://jeroen.github.io/images/tiger.svg\") sun <- image_read(\"./model.png\") img <- c(tiger,sun) img <- image_scale(img, \"300x300\") image_info(img) ##magick\u7684OCR\u8bc6\u522b\u529f\u80fd\u6d4b\u8bd5(\u9ed8\u8ba4\u8bc6\u522b\u4e3a\u82f1\u8bed\uff0c\u5176\u4ed6\u8bed\u8a00\u9700\u8981\u5b89\u88c5\u5bf9\u5e94\u7684\u6570\u636e\u5e93) #install.packages(\"tesseract\") library(tesseract) img2txt <- function(in_img,out_txt){ tri_3 <- image_read(in_img) image_ocr <- image_ocr(tri_3) cat(image_ocr) write(image_ocr,out_txt) } img2txt(\"./eng.png\",\"model.txt\") \u5de6\u4fa7\u662fggplot2\u753b\u7684\uff0c\u53f3\u4fa7\u662f\u7f51\u7edc\u56fe\u7247\uff0cc\u662f\u672c\u5730\u56fe\u7247,\u5408\u5e76\u5230\u4e00\u5f20\u56fe\u4e0a\u3002","title":"R\u62fc\u56fe\u5305\uff1apatchwork\u548ccowplot\uff0cmagick"},{"location":"R-in-action/R%E6%8B%BC%E5%9B%BE%E5%8C%85%EF%BC%9Apatchwork%E5%92%8Ccowplot%EF%BC%8Cmagick/#_1","text":"#CRAN\u5b89\u88c5\u7a33\u5b9a\u7248 install.packages(\"patchwork\") #github\u5b89\u88c5\u5f00\u53d1\u7248\u3002\u4e8c\u9009\u4e00\u5373\u53ef\u3002 install.packages(\"devtools\") devtools::install_github(\"thomasp85/patchwork\")","title":"\u5b89\u88c5"},{"location":"R-in-action/R%E6%8B%BC%E5%9B%BE%E5%8C%85%EF%BC%9Apatchwork%E5%92%8Ccowplot%EF%BC%8Cmagick/#_2","text":"##\u7528\u4ee5\u6d4b\u8bd5patchwork\u5305 ##\u4e3b\u8981\u662f\u7528\u6765\u62fc\u5408\u591a\u4e2a\u56fe\u7247\u7684 setwd(\"E:/Rcode\") library(ggplot2) install.packages(\"patchwork\") library(patchwork) p1 <- ggplot(mtcars)+geom_point(aes(mpg,disp)) p2 <- ggplot(mtcars)+geom_boxplot(aes(gear,disp,group=gear)) p3 <- ggplot(mtcars) + geom_smooth(aes(disp, qsec)) p4 <- ggplot(mtcars) + geom_bar(aes(carb))","title":"\u7528\u6cd5\u793a\u4f8b\uff1a"},{"location":"R-in-action/R%E6%8B%BC%E5%9B%BE%E5%8C%85%EF%BC%9Apatchwork%E5%92%8Ccowplot%EF%BC%8Cmagick/#_3","text":"p1+p2 p1/p2 p1+p2/p3+p4 p2+(p1/p3)+p4","title":"+\u8868\u793a\u6a2a\u5411\u6392\u5217\uff0c/\u8868\u793a\u7eb5\u5411\u6392\u5217\uff0c\u4e00\u6b21\u53ef\u4ee5\u6709\u591a\u4e2a+ /\u7ec4\u6210\u516c\u5f0f"},{"location":"R-in-action/R%E6%8B%BC%E5%9B%BE%E5%8C%85%EF%BC%9Apatchwork%E5%92%8Ccowplot%EF%BC%8Cmagick/#-","text":"p1-p2","title":"-\u8868\u793a\u4e24\u4e2a\u56fe\u653e\u7f6e\u5728\u4e00\u4e2a\u5d4c\u5957\u5c42"},{"location":"R-in-action/R%E6%8B%BC%E5%9B%BE%E5%8C%85%EF%BC%9Apatchwork%E5%92%8Ccowplot%EF%BC%8Cmagick/#ncolnrow","text":"","title":"\u901a\u8fc7ncol\u6307\u5b9a\u7ed8\u56fe\u7684\u5217\u6570\uff0c\u6216\u8005\u662fnrow\u6307\u5b9a\u7ed8\u56fe\u7684\u884c\u6570"},{"location":"R-in-action/R%E6%8B%BC%E5%9B%BE%E5%8C%85%EF%BC%9Apatchwork%E5%92%8Ccowplot%EF%BC%8Cmagick/#_4","text":"p4+p1+p2+plot_layout(ncol = 2) p1+p3+p4/p2+plot_layout(nrow=2) #\u4f1a\u538b\u7f29p4\u548cp2\u7684\u9ad8\u5ea6","title":"\u5f53\u6709\u591a\u4e2a\u56fe\u7684\u65f6\u5019\uff0c\u5982\u679c\u6307\u5b9a\u7684\u5217\u6216\u884c\u6bd4\u56fe\u7684\u5b9e\u9645\u6570\u91cf\u5c11\uff0c\u5219\u4f1a\u538b\u7f29\u5bf9\u5e94\u7684\u56fe\u7684\u5bbd\u5ea6\u6216\u957f\u5ea6"},{"location":"R-in-action/R%E6%8B%BC%E5%9B%BE%E5%8C%85%EF%BC%9Apatchwork%E5%92%8Ccowplot%EF%BC%8Cmagick/#plot_spacer","text":"p1+plot_spacer()+p2","title":"\u53ef\u4ee5\u7528plot_spacer()\u6dfb\u52a0\u4e00\u4e2a\u7a7a\u767d\u56fe\u5360\u4f4d\u7f6e"},{"location":"R-in-action/R%E6%8B%BC%E5%9B%BE%E5%8C%85%EF%BC%9Apatchwork%E5%92%8Ccowplot%EF%BC%8Cmagick/#abcd","text":"layout2 <- 'AAB CDD' p1+p2+p3+p4+plot_layout(design = layout2) ![p1+p2+p3+p4+plot_layout(design = layout2) ](https://upload-images.jianshu.io/upload_images/18151951-5affc054cdb9c8d0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)","title":"\u5e03\u5c40\u53ef\u4ee5\u4f7f\u7528ABCD\u6765\u8868\u793a"},{"location":"R-in-action/R%E6%8B%BC%E5%9B%BE%E5%8C%85%EF%BC%9Apatchwork%E5%92%8Ccowplot%EF%BC%8Cmagick/#_5","text":"p1+p2+p3+p4+plot_annotation(tag_levels = 'I') p1+p2/p3+p4+plot_annotation(tag_levels = 'A')","title":"\u7ed9\u56fe\u6dfb\u52a0\u56fe\u6ce8\u5b57\u6bcd"},{"location":"R-in-action/R%E6%8B%BC%E5%9B%BE%E5%8C%85%EF%BC%9Apatchwork%E5%92%8Ccowplot%EF%BC%8Cmagick/#p4p2p1a1a2b","text":"((p4 | p2) + plot_layout(tag_level = 'new'))/p1+plot_annotation(tag_levels = c('A', '1'))","title":"\u591a\u91cd\u6807\u6ce8\uff0c\u5148\u7ed9p4|p2\u6dfb\u52a0\uff0c\u518d\u7ed9p1\u6dfb\u52a0\u3002A1,A2\u548cB"},{"location":"R-in-action/R%E6%8B%BC%E5%9B%BE%E5%8C%85%EF%BC%9Apatchwork%E5%92%8Ccowplot%EF%BC%8Cmagick/#_6","text":"(p1+p2/p3+p4)+plot_layout(guides = 'collect')+plot_annotation(title=\"test layout for patchwork\",caption = 'this is the caption',theme = theme(plot.caption = element_text(size=15)))","title":"\u540c\u65f6\u6dfb\u52a0\u591a\u4e2a\u6807\u9898"},{"location":"R-in-action/R%E6%8B%BC%E5%9B%BE%E5%8C%85%EF%BC%9Apatchwork%E5%92%8Ccowplot%EF%BC%8Cmagick/#theme","text":"(p1+p2/p4)*theme_void()","title":"\u540c\u65f6\u4fee\u6539\u591a\u4e2a\u56fe\u7684theme"},{"location":"R-in-action/R%E6%8B%BC%E5%9B%BE%E5%8C%85%EF%BC%9Apatchwork%E5%92%8Ccowplot%EF%BC%8Cmagick/#p1","text":"(p1+p2/p4)&theme_bw()+theme(panel.grid.major = element_blank(),panel.grid.minor = element_blank())","title":"\u6ce8\u610f*\u53f7\u53ea\u80fd\u4fee\u6539\u5f53\u524d\u5d4c\u5957\u5c42\uff0c\u73b0\u5728\u662f\u53ea\u4fee\u6539\u4e86p1\u56fe\u5c42\uff0c\u5220\u9664\u80cc\u666f\u989c\u8272"},{"location":"R-in-action/R%E6%8B%BC%E5%9B%BE%E5%8C%85%EF%BC%9Apatchwork%E5%92%8Ccowplot%EF%BC%8Cmagick/#_7","text":"(p4-p1/p3)*(theme_bw()+ theme(panel.grid.major = element_blank(),panel.grid.minor = element_blank()))","title":"&amp;\u662f\u540c\u65f6\u5220\u9664\u80cc\u666f\u989c\u8272\u548c\u7f51\u683c\u7ebf \u64cd\u4f5c\u5bf9\u8c61\u662f\u6240\u6709\u56fe\u5c42"},{"location":"R-in-action/R%E6%8B%BC%E5%9B%BE%E5%8C%85%EF%BC%9Apatchwork%E5%92%8Ccowplot%EF%BC%8Cmagick/#p4","text":"","title":"\u53ea\u64cd\u4f5c\u4e86P4\u56fe\u5c42\uff0c\u5220\u6389\u80cc\u666f\u8272\u548c\u7f51\u683c\u7ebf"},{"location":"R-in-action/R%E6%8B%BC%E5%9B%BE%E5%8C%85%EF%BC%9Apatchwork%E5%92%8Ccowplot%EF%BC%8Cmagick/#_8","text":"- \u662f\u628a\u591a\u4e2a\u56fe\u5c42\u5408\u6210\u4e00\u4e2a\u5d4c\u5957\u5c42\uff0c + \u662f\u628a\u540e\u9762\u7684\u5c42\uff0c\u6dfb\u52a0\u5230\u524d\u9762\u7684\u5c42\uff0c | \u548c / \u5206\u522b\u8868\u793a\u6a2a\u5411\u6392\u5e03\u548c\u7eb5\u5411\u6392\u5e03\u3002 * \u53ea\u64cd\u4f5c\u4e00\u4e2a\u5d4c\u5957\u5c42\uff0c & \u64cd\u4f5c\u6240\u6709\u7684\u5c42\u3002","title":"\u6ce8\u610f\u64cd\u4f5c\u7b26\u53f7:"},{"location":"R-in-action/R%E6%8B%BC%E5%9B%BE%E5%8C%85%EF%BC%9Apatchwork%E5%92%8Ccowplot%EF%BC%8Cmagick/#cowplotggplot2","text":"#### cowplot\u5305\u62fc\u56fe library(ggplot2) library(cowplot) setwd(\"E:/R/cowplot/\") plot.mpg <- ggplot(mpg, aes(x = cty, y = hwy, colour = factor(cyl))) + geom_point(size=2.5)+theme_classic() plot.diamonds <- ggplot(diamonds, aes(clarity, fill = cut)) + geom_bar() + theme(axis.text.x = element_text(angle=70, vjust=0.5))+theme_classic()+scale_y_continuous(expand = c(0,0)) ##\u63d2\u5165\u7a7a\u503c\uff0c\u5360\u636e\u4f4d\u7f6e plot_grid(plot.mpg,NULL,NULL,plot.diamonds,labels=c(\"A\", \"NULL\",\"NULL\",\"B\"),ncol = 2) plot2by2 <- plot_grid(plot.mpg,NULL,NULL,plot.diamonds,labels=c(\"A\", \"NULL\",\"NULL\",\"B\"),ncol = 2) plot2by2 ##\u4fdd\u5b58\u56fe\u7247 save_plot(\"plot2by2.png\", plot2by2, ncol = 2, # we're saving a grid plot of 2 columns #nrow = 2, # and 2 rows # each individual subplot should have an aspect ratio of 1.3 base_aspect_ratio = 1.3 ) #\u6dfb\u52a0\u6c34\u5370\u6807\u6ce8\u7248\u6743 ggdraw(plot.mpg) + #draw_plot_label(\"A\", size = 14) + #\u6dfb\u52a0\u6807\u7b7eA draw_label(\"Warning!\", angle = -45, size = 100, alpha = .2,color = \"red\") #\u8bbe\u7f6e\u6c34\u5370\u7684\u65cb\u8f6c\u89d2\u5ea6\uff0c\u5927\u5c0f\uff0c\u900f\u660e\u5ea6\uff0c\u989c\u8272\u3002","title":"cowplot\u5305\u7684\u4f7f\u7528\uff08\u57fa\u4e8eggplot2\u7684\u62fc\u56fe\u5305\uff0c\u5feb\u901f\u65b9\u4fbf\uff09"},{"location":"R-in-action/R%E6%8B%BC%E5%9B%BE%E5%8C%85%EF%BC%9Apatchwork%E5%92%8Ccowplot%EF%BC%8Cmagick/#magick","text":"#install.packages(\"magick\") library(ggplot2) library(magick) #\u67e5\u770bmagick\u652f\u6301\u7684\u56fe\u7247\u7684\u79cd\u7c7b str(magick::magick_config()) p <- ggplot(iris, aes(x=Sepal.Length, fill=Species)) + geom_density(alpha = 0.5)+theme_classic() p2 <- ggdraw()+draw_image(\"http://jeroen.github.io/images/tiger.svg\",scale = .75) p3 <- ggdraw()+draw_image(\"./model.png\",scale = .8) plot_grid(p,p2,p3,labels = \"AUTO\") ggsave(\"test_magick.png\",width = 170,height = 230,units = \"mm\",dpi = 300) tiger <- image_read(\"http://jeroen.github.io/images/tiger.svg\") sun <- image_read(\"./model.png\") img <- c(tiger,sun) img <- image_scale(img, \"300x300\") image_info(img) ##magick\u7684OCR\u8bc6\u522b\u529f\u80fd\u6d4b\u8bd5(\u9ed8\u8ba4\u8bc6\u522b\u4e3a\u82f1\u8bed\uff0c\u5176\u4ed6\u8bed\u8a00\u9700\u8981\u5b89\u88c5\u5bf9\u5e94\u7684\u6570\u636e\u5e93) #install.packages(\"tesseract\") library(tesseract) img2txt <- function(in_img,out_txt){ tri_3 <- image_read(in_img) image_ocr <- image_ocr(tri_3) cat(image_ocr) write(image_ocr,out_txt) } img2txt(\"./eng.png\",\"model.txt\") \u5de6\u4fa7\u662fggplot2\u753b\u7684\uff0c\u53f3\u4fa7\u662f\u7f51\u7edc\u56fe\u7247\uff0cc\u662f\u672c\u5730\u56fe\u7247,\u5408\u5e76\u5230\u4e00\u5f20\u56fe\u4e0a\u3002","title":"\u4f7f\u7528magick\u53ef\u4ee5\u8bfb\u53d6\u672c\u5730\u548c\u7f51\u7edc\u7684\u56fe\u7247\u3001\u89c6\u9891\uff0c\u540c\u65f6\u53ef\u4ee5\u7f16\u8f91\u56fe\u7247"},{"location":"R-in-action/R%E6%95%B0%E6%8D%AE%E5%90%88%E5%B9%B6join%E7%9A%84%E5%88%86%E7%B1%BB%E5%90%88%E5%B9%B6%E8%BF%87%E7%A8%8B%E5%8F%AF%E8%A7%86%E5%8C%96/","text":"\u6587\u7ae0\u6765\u6e90\u4e8e\uff1ahttps://github.com/gadenbuie/tidyexplain#relational-data * Mutating Joins \u2014 inner_join() , left_join() , right_join() , full_join() Filtering Joins \u2014 semi_join() , anti_join() Set Operations \u2014 union() , union_all() , intersect() , setdiff() Tidy Data \u2014 spread() and gather() dplyr\u5305\u91cc\u7684\u5408\u5e76\u51fd\u6570\uff1a left_join \u5de6\u5408\u5e76\uff1a\u4fdd\u7559\u53f3\u4fa7\u91cc\u4e0e\u5de6\u4fa7\u4e00\u81f4\u7684\u884c\uff0c\u589e\u52a0\u5230\u65b0\u7684\u4e00\u5217\u3002\u53f3\u4fa7\u4e0e\u5de6\u4fa7\u4e0d\u5339\u914d\u7684\u884c\u4f1a\u88ab\u5220\u9664\u3002 full_join \u5168\u5408\u5e76\uff1a\u4f1a\u6839\u636e\u6307\u5b9a\u5217\u5408\u5e76\uff0c\u53f3\u4fa7\u548c\u5de6\u4fa7\u4e0d\u4e00\u81f4\u7684\u884c\uff0c\u90fd\u4f1a\u88ab\u4fdd\u7559\uff0c\u4f5c\u4e3a\u65b0\u7684\u4e00\u884c\uff0c\u7f3a\u5931\u7684\u503c\u4f1a\u7528NA\u586b\u5145\u3002 inner_join:\u4fdd\u7559\u5408\u5e76\u4f9d\u636e\u5217\uff0c\u5de6\u4fa7\u548c\u53f3\u4fa7\u90fd\u6709\u7684\u884c\u7684\u6570\u636e anti_join:\u627e\u51fa\u6839\u636e\u6307\u5b9a\u5217\uff0c\u5de6\u4fa7\u4e2d\u4e0e\u53f3\u4fa7\u4e0d\u4e00\u81f4\u7684\u5217\u6240\u5bf9\u5e94\u7684\u884c setdiff:\u627e\u51fa\u5de6\u4fa7\u548c\u53f3\u4fa7\u5b8c\u5168\u5339\u914d\u884c\uff0c\u4e4b\u5916\u5de6\u4fa7\u7684\u884c intersect:\u63d0\u53d6\u5de6\u4fa7\u548c\u53f3\u4fa7\u6574\u884c\u5b8c\u5168\u4e00\u81f4\u7684\u884c \u957f\u77ed\u6570\u636e\u7684\u4e92\u76f8\u8f6c\u6362\u7684\u8fc7\u7a0b \u957f\u6570\u636e\u53d8\u5bbd\u6570\u636e spread(longdata,key,val) \u53c2\u65701\uff1a\u957f\u6570\u636e\uff0c\u53c2\u65702\uff1akey\u6240\u5728\u7684\u5217\uff08\u5373type\u5217\uff09\uff0c\u53c2\u65703\uff1akey\u6216type\u5bf9\u5e94\u7684\u6570\u503cvalue \u5bbd\u6570\u636e\u53d8\u957f\u6570\u636e gather(wide,key,val,x:z) \u53c2\u65701\uff1a\u5bbd\u6570\u636e\uff0c\u53c2\u65702\uff1a\u8981\u751f\u6210\u7684\u65b0\u7684key/type\u5217\u7684\u540d\u79f0\uff0c\u53c2\u65703\uff1a\u65b0\u751f\u6210\u7684type\u5217\u7684\u6570\u503c\uff0c\u53c2\u65704\uff1a\u6307\u5b9a\u8981\u5408\u5e76\u90a3\u4e9b\u5217","title":"R\u6570\u636e\u5408\u5e76join\u7684\u5206\u7c7b\u5408\u5e76\u8fc7\u7a0b\u53ef\u89c6\u5316"},{"location":"R-in-action/R%E6%95%B0%E6%8D%AE%E5%90%88%E5%B9%B6join%E7%9A%84%E5%88%86%E7%B1%BB%E5%90%88%E5%B9%B6%E8%BF%87%E7%A8%8B%E5%8F%AF%E8%A7%86%E5%8C%96/#left_join","text":"","title":"left_join \u5de6\u5408\u5e76\uff1a\u4fdd\u7559\u53f3\u4fa7\u91cc\u4e0e\u5de6\u4fa7\u4e00\u81f4\u7684\u884c\uff0c\u589e\u52a0\u5230\u65b0\u7684\u4e00\u5217\u3002\u53f3\u4fa7\u4e0e\u5de6\u4fa7\u4e0d\u5339\u914d\u7684\u884c\u4f1a\u88ab\u5220\u9664\u3002"},{"location":"R-in-action/R%E6%95%B0%E6%8D%AE%E5%90%88%E5%B9%B6join%E7%9A%84%E5%88%86%E7%B1%BB%E5%90%88%E5%B9%B6%E8%BF%87%E7%A8%8B%E5%8F%AF%E8%A7%86%E5%8C%96/#full_join-na","text":"","title":"full_join \u5168\u5408\u5e76\uff1a\u4f1a\u6839\u636e\u6307\u5b9a\u5217\u5408\u5e76\uff0c\u53f3\u4fa7\u548c\u5de6\u4fa7\u4e0d\u4e00\u81f4\u7684\u884c\uff0c\u90fd\u4f1a\u88ab\u4fdd\u7559\uff0c\u4f5c\u4e3a\u65b0\u7684\u4e00\u884c\uff0c\u7f3a\u5931\u7684\u503c\u4f1a\u7528NA\u586b\u5145\u3002"},{"location":"R-in-action/R%E6%95%B0%E6%8D%AE%E5%90%88%E5%B9%B6join%E7%9A%84%E5%88%86%E7%B1%BB%E5%90%88%E5%B9%B6%E8%BF%87%E7%A8%8B%E5%8F%AF%E8%A7%86%E5%8C%96/#inner_join","text":"","title":"inner_join:\u4fdd\u7559\u5408\u5e76\u4f9d\u636e\u5217\uff0c\u5de6\u4fa7\u548c\u53f3\u4fa7\u90fd\u6709\u7684\u884c\u7684\u6570\u636e"},{"location":"R-in-action/R%E6%95%B0%E6%8D%AE%E5%90%88%E5%B9%B6join%E7%9A%84%E5%88%86%E7%B1%BB%E5%90%88%E5%B9%B6%E8%BF%87%E7%A8%8B%E5%8F%AF%E8%A7%86%E5%8C%96/#anti_join","text":"","title":"anti_join:\u627e\u51fa\u6839\u636e\u6307\u5b9a\u5217\uff0c\u5de6\u4fa7\u4e2d\u4e0e\u53f3\u4fa7\u4e0d\u4e00\u81f4\u7684\u5217\u6240\u5bf9\u5e94\u7684\u884c"},{"location":"R-in-action/R%E6%95%B0%E6%8D%AE%E5%90%88%E5%B9%B6join%E7%9A%84%E5%88%86%E7%B1%BB%E5%90%88%E5%B9%B6%E8%BF%87%E7%A8%8B%E5%8F%AF%E8%A7%86%E5%8C%96/#setdiff","text":"","title":"setdiff:\u627e\u51fa\u5de6\u4fa7\u548c\u53f3\u4fa7\u5b8c\u5168\u5339\u914d\u884c\uff0c\u4e4b\u5916\u5de6\u4fa7\u7684\u884c"},{"location":"R-in-action/R%E6%95%B0%E6%8D%AE%E5%90%88%E5%B9%B6join%E7%9A%84%E5%88%86%E7%B1%BB%E5%90%88%E5%B9%B6%E8%BF%87%E7%A8%8B%E5%8F%AF%E8%A7%86%E5%8C%96/#intersect","text":"","title":"intersect:\u63d0\u53d6\u5de6\u4fa7\u548c\u53f3\u4fa7\u6574\u884c\u5b8c\u5168\u4e00\u81f4\u7684\u884c"},{"location":"R-in-action/R%E6%95%B0%E6%8D%AE%E5%90%88%E5%B9%B6join%E7%9A%84%E5%88%86%E7%B1%BB%E5%90%88%E5%B9%B6%E8%BF%87%E7%A8%8B%E5%8F%AF%E8%A7%86%E5%8C%96/#_1","text":"","title":"\u957f\u77ed\u6570\u636e\u7684\u4e92\u76f8\u8f6c\u6362\u7684\u8fc7\u7a0b"},{"location":"R-in-action/R%E6%95%B0%E6%8D%AE%E5%90%88%E5%B9%B6join%E7%9A%84%E5%88%86%E7%B1%BB%E5%90%88%E5%B9%B6%E8%BF%87%E7%A8%8B%E5%8F%AF%E8%A7%86%E5%8C%96/#_2","text":"spread(longdata,key,val) \u53c2\u65701\uff1a\u957f\u6570\u636e\uff0c\u53c2\u65702\uff1akey\u6240\u5728\u7684\u5217\uff08\u5373type\u5217\uff09\uff0c\u53c2\u65703\uff1akey\u6216type\u5bf9\u5e94\u7684\u6570\u503cvalue","title":"\u957f\u6570\u636e\u53d8\u5bbd\u6570\u636e"},{"location":"R-in-action/R%E6%95%B0%E6%8D%AE%E5%90%88%E5%B9%B6join%E7%9A%84%E5%88%86%E7%B1%BB%E5%90%88%E5%B9%B6%E8%BF%87%E7%A8%8B%E5%8F%AF%E8%A7%86%E5%8C%96/#_3","text":"gather(wide,key,val,x:z) \u53c2\u65701\uff1a\u5bbd\u6570\u636e\uff0c\u53c2\u65702\uff1a\u8981\u751f\u6210\u7684\u65b0\u7684key/type\u5217\u7684\u540d\u79f0\uff0c\u53c2\u65703\uff1a\u65b0\u751f\u6210\u7684type\u5217\u7684\u6570\u503c\uff0c\u53c2\u65704\uff1a\u6307\u5b9a\u8981\u5408\u5e76\u90a3\u4e9b\u5217","title":"\u5bbd\u6570\u636e\u53d8\u957f\u6570\u636e"},{"location":"R-in-action/R%E7%9B%B8%E5%85%B3%E6%80%A7%E5%88%86%E6%9E%90/","text":"\u4e24\u7ec4\u65f6\u95f4\u5411\u91cf\u76f8\u5173\u6027\u5206\u6790\uff08\u76ae\u5c14\u900a\u5206\u6790\uff09 setwd(\"circos/test\") #install.packages(\"ggpubr\") library(\"ggpubr\") data1 <- read.table(\"check.table\",header = T,sep=\"\\t\") head(data1) \u68c0\u6d4b\u4e24\u4e2a\u53d8\u91cf\u662f\u5426\u7b26\u5408\u6b63\u6001\u5206\u5e03\uff08\u770b\u6563\u70b9\u662f\u5426\u5206\u5e03\u5728\u9634\u5f71\u4e2d\uff0c\u662f\uff0c\u5219\u662f\u6b63\u6001\u5206\u5e03\uff09 # gene ggqqplot(data1$Gene_coverge, ylab = \"gene coverge\") # LTR ggqqplot(data1$LTR_percent, ylab = \"LTR\") \u68c0\u6d4b\u6570\u636e\u662f\u5426\u7b26\u5408\u6b63\u6001\u5206\u5e03\uff0cp<0.05,\u4e0d\u7b26\u5408\u6b63\u6001\u5206\u5e03\uff1bp>0.05,\u7b26\u5408\u6b63\u6001\u5206\u5e03 shapiro.test(data1$Gene_coverge) # => p = 2.2e-16 shapiro.test(data1$LTR_percent) # => p = 2.2e-16 \u7ecf\u8fc7\u4e24\u79cd\u65b9\u6cd5\u68c0\u6d4b\uff0c\u672c\u6570\u636e\u4e0d\u7b26\u5408\u6b63\u6001\u5206\u5e03\uff0c\u6240\u4ee5\u4e0d\u80fd\u4f7f\u7528pearson\u68c0\u6d4b\u76f8\u5173\u6027\u3002\u6240\u4ee5\u4f7f\u7528kendall\u548cspearman. \u76ae\u5c14\u900a\u65b9\u6cd5\uff0c\u672c\u5b9e\u9a8c\u4e0d\u9002\u7528 if (FALSE){ res <- cor.test(data1$Gene_coverge, data1$LTR_percent, method = \"pearson\") res #cor \u662f\u76ae\u5c14\u900a\u76f8\u5173\u7cfb\u6570-0.9668788 (1\u6b63\u76f8\u5173\uff0c-1\u8d1f\u76f8\u5173)\uff0cdf\u662f\u81ea\u7531\u5ea6\uff0cp-value< 2.2e-16 ggscatter(data1, x = \"Gene_coverge\", y = \"LTR_percent\", add = \"reg.line\", conf.int = TRUE, cor.coef = TRUE, cor.method = \"pearson\", xlab = \"gene coverge\", ylab = \"LTR percent\") } kendall\u65b9\u6cd5 res2 <- cor.test(data1$Gene_coverge, data1$LTR_percent, method = \"kendall\") res2 #tau\u662f\u80af\u5fb7\u5c14\u76f8\u5173\u7cfb\u6570-0.8825434 ,p-value<2.2e-16 p2 <- ggscatter(data1, x = \"Gene_coverge\", y = \"LTR_percent\", add = \"reg.line\", conf.int = TRUE, cor.coef = TRUE, cor.method = \"kendall\", xlab = \"gene coverge\", ylab = \"LTR percent\") spearman\u65b9\u6cd5 res3 <- cor.test(data1$Gene_coverge, data1$LTR_percent, method = \"spearman\") res3 #rho\u662fspearman\u76f8\u5173\u7cfb\u6570-0.9799782 \uff0cp-value < 2.2e-16 p3 <- ggscatter(data1, x = \"Gene_coverge\", y = \"LTR_percent\", add = \"reg.line\", conf.int = TRUE, cor.coef = TRUE, cor.method = \"spearman\", xlab = \"gene coverge\", ylab = \"LTR percent\")+labs(title = \"Correlation analysis of LTR and gene density\") #cowplot::plot_grid(p2,p3,nrow=2,labels=c(\"a\",\"b\")) ggsave(\"LTR_gene_coverge.check.pdf\",dpi = 300) ggsave(\"LTR_gene_coverge.check.tiff\") data0 <- read.table(\"check3.table\",header = T,sep = \"\\t\") ggscatter(data0, x = \"Gene_coverge\", y = \"Gypsy\", add = \"reg.line\", conf.int = TRUE, cor.coef = TRUE, cor.method = \"spearman\", xlab = \"gene coverge\", ylab = \"Gypsy\")+labs(title = \"Correlation analysis of Gypsy and gene density\") ggsave(\"gypsy_gene_coverge.pdf\") \u5bf9\u6574\u4e2a\u6570\u636e\u6846\u5404\u7ec4\u53d8\u91cf\u90fd\u8fdb\u884c\u76f8\u5173\u6027\u5206\u6790 K<- read.csv(\"test.csv\") cor_data <- cor(K,method = \"kendall\") library(corrplot) corrplot(cor_data, method=\"circle\",type=\"lower\") corrplot(cor_data, method=\"pie\",type=\"lower\") corrplot(cor_data, method=\"number\") corrplot method\u53c2\u6570\"circle\", \"square\", \"ellipse\", \"number\", \"shade\", \"color\", \"pie\" ;type\u53c2\u6570; \"full\", \"lower\", \"upper\"","title":"R\u76f8\u5173\u6027\u5206\u6790"},{"location":"R-in-action/R%E7%9B%B8%E5%85%B3%E6%80%A7%E5%88%86%E6%9E%90/#_1","text":"setwd(\"circos/test\") #install.packages(\"ggpubr\") library(\"ggpubr\") data1 <- read.table(\"check.table\",header = T,sep=\"\\t\") head(data1)","title":"\u4e24\u7ec4\u65f6\u95f4\u5411\u91cf\u76f8\u5173\u6027\u5206\u6790\uff08\u76ae\u5c14\u900a\u5206\u6790\uff09"},{"location":"R-in-action/R%E7%9B%B8%E5%85%B3%E6%80%A7%E5%88%86%E6%9E%90/#_2","text":"# gene ggqqplot(data1$Gene_coverge, ylab = \"gene coverge\") # LTR ggqqplot(data1$LTR_percent, ylab = \"LTR\")","title":"\u68c0\u6d4b\u4e24\u4e2a\u53d8\u91cf\u662f\u5426\u7b26\u5408\u6b63\u6001\u5206\u5e03\uff08\u770b\u6563\u70b9\u662f\u5426\u5206\u5e03\u5728\u9634\u5f71\u4e2d\uff0c\u662f\uff0c\u5219\u662f\u6b63\u6001\u5206\u5e03\uff09"},{"location":"R-in-action/R%E7%9B%B8%E5%85%B3%E6%80%A7%E5%88%86%E6%9E%90/#p005p005","text":"shapiro.test(data1$Gene_coverge) # => p = 2.2e-16 shapiro.test(data1$LTR_percent) # => p = 2.2e-16","title":"\u68c0\u6d4b\u6570\u636e\u662f\u5426\u7b26\u5408\u6b63\u6001\u5206\u5e03\uff0cp&lt;0.05,\u4e0d\u7b26\u5408\u6b63\u6001\u5206\u5e03\uff1bp&gt;0.05,\u7b26\u5408\u6b63\u6001\u5206\u5e03"},{"location":"R-in-action/R%E7%9B%B8%E5%85%B3%E6%80%A7%E5%88%86%E6%9E%90/#pearsonkendallspearman","text":"","title":"\u7ecf\u8fc7\u4e24\u79cd\u65b9\u6cd5\u68c0\u6d4b\uff0c\u672c\u6570\u636e\u4e0d\u7b26\u5408\u6b63\u6001\u5206\u5e03\uff0c\u6240\u4ee5\u4e0d\u80fd\u4f7f\u7528pearson\u68c0\u6d4b\u76f8\u5173\u6027\u3002\u6240\u4ee5\u4f7f\u7528kendall\u548cspearman."},{"location":"R-in-action/R%E7%9B%B8%E5%85%B3%E6%80%A7%E5%88%86%E6%9E%90/#_3","text":"if (FALSE){ res <- cor.test(data1$Gene_coverge, data1$LTR_percent, method = \"pearson\") res #cor \u662f\u76ae\u5c14\u900a\u76f8\u5173\u7cfb\u6570-0.9668788 (1\u6b63\u76f8\u5173\uff0c-1\u8d1f\u76f8\u5173)\uff0cdf\u662f\u81ea\u7531\u5ea6\uff0cp-value< 2.2e-16 ggscatter(data1, x = \"Gene_coverge\", y = \"LTR_percent\", add = \"reg.line\", conf.int = TRUE, cor.coef = TRUE, cor.method = \"pearson\", xlab = \"gene coverge\", ylab = \"LTR percent\") }","title":"\u76ae\u5c14\u900a\u65b9\u6cd5\uff0c\u672c\u5b9e\u9a8c\u4e0d\u9002\u7528"},{"location":"R-in-action/R%E7%9B%B8%E5%85%B3%E6%80%A7%E5%88%86%E6%9E%90/#kendall","text":"res2 <- cor.test(data1$Gene_coverge, data1$LTR_percent, method = \"kendall\") res2 #tau\u662f\u80af\u5fb7\u5c14\u76f8\u5173\u7cfb\u6570-0.8825434 ,p-value<2.2e-16 p2 <- ggscatter(data1, x = \"Gene_coverge\", y = \"LTR_percent\", add = \"reg.line\", conf.int = TRUE, cor.coef = TRUE, cor.method = \"kendall\", xlab = \"gene coverge\", ylab = \"LTR percent\")","title":"kendall\u65b9\u6cd5"},{"location":"R-in-action/R%E7%9B%B8%E5%85%B3%E6%80%A7%E5%88%86%E6%9E%90/#spearman","text":"res3 <- cor.test(data1$Gene_coverge, data1$LTR_percent, method = \"spearman\") res3 #rho\u662fspearman\u76f8\u5173\u7cfb\u6570-0.9799782 \uff0cp-value < 2.2e-16 p3 <- ggscatter(data1, x = \"Gene_coverge\", y = \"LTR_percent\", add = \"reg.line\", conf.int = TRUE, cor.coef = TRUE, cor.method = \"spearman\", xlab = \"gene coverge\", ylab = \"LTR percent\")+labs(title = \"Correlation analysis of LTR and gene density\") #cowplot::plot_grid(p2,p3,nrow=2,labels=c(\"a\",\"b\")) ggsave(\"LTR_gene_coverge.check.pdf\",dpi = 300) ggsave(\"LTR_gene_coverge.check.tiff\") data0 <- read.table(\"check3.table\",header = T,sep = \"\\t\") ggscatter(data0, x = \"Gene_coverge\", y = \"Gypsy\", add = \"reg.line\", conf.int = TRUE, cor.coef = TRUE, cor.method = \"spearman\", xlab = \"gene coverge\", ylab = \"Gypsy\")+labs(title = \"Correlation analysis of Gypsy and gene density\") ggsave(\"gypsy_gene_coverge.pdf\")","title":"spearman\u65b9\u6cd5"},{"location":"R-in-action/R%E7%9B%B8%E5%85%B3%E6%80%A7%E5%88%86%E6%9E%90/#_4","text":"K<- read.csv(\"test.csv\") cor_data <- cor(K,method = \"kendall\") library(corrplot) corrplot(cor_data, method=\"circle\",type=\"lower\") corrplot(cor_data, method=\"pie\",type=\"lower\") corrplot(cor_data, method=\"number\") corrplot method\u53c2\u6570\"circle\", \"square\", \"ellipse\", \"number\", \"shade\", \"color\", \"pie\" ;type\u53c2\u6570; \"full\", \"lower\", \"upper\"","title":"\u5bf9\u6574\u4e2a\u6570\u636e\u6846\u5404\u7ec4\u53d8\u91cf\u90fd\u8fdb\u884c\u76f8\u5173\u6027\u5206\u6790"},{"location":"R-in-action/R%E8%A7%A3%E6%9E%90fastp%E8%BE%93%E5%87%BA%E7%9A%84json%E6%96%87%E4%BB%B6/","text":"\u76ee\u7684\uff1a\u9700\u8981\u89e3\u6790fastp\u8f93\u51fa\u7684\u4e00\u6279json\u6587\u4ef6\uff0c\u4ece\u4e2d\u63d0\u53d6\u4e00\u4e9b\u4fe1\u606f\u3002 \u4f7f\u75282\u4e2aR\u5305\uff1a R\u8bed\u8a00\u89e3\u6790json \u6279\u91cf\u8bfb\u53d6json\u53c2\u8003 rm(list=ls()) #####\u672c\u7a0b\u5e8f\u76ee\u7684\u662f\u4e3a\u4e86\u8bfb\u53d6\u672c\u5730\u7684RNA\u6d4b\u5e8f\u6570\u636e\u7684\u8d28\u63a7\u540e\u7684json\u6587\u4ef6\uff0c\u4ece\u4e2d\u89e3\u6790\u51fa\u9700\u8981\u7684\u4fe1\u606f install.packages(\"rjson\") install.packages(\"jsonlite\") library(rjson) library(jsonlite) filelist <- list.files(pattern=\".*.json\")#\u5217\u51fa\u5f53\u524d\u6587\u4ef6\u5939\u4e0b\u6240\u6709\u7684json\u6570\u636e\u6587\u4ef6\u540d\uff08\u6bcf\u4e2a\u6587\u4ef6\u540d\u4ee5.json\u7ed3\u5c3e\uff09 length(filelist)#\u6587\u4ef6\u4e2a\u6570 time1<-Sys.time()#\u5f53\u524d\u7cfb\u7edf\u65f6\u95f4 datalist <- lapply(filelist, function(x) fromJSON(x)) #\u5229\u7528fromJSON\u51fd\u6570\u6309\u7167\u6587\u4ef6\u540d\u5217\u8868\u8bfb\u53d6\u6587\u4ef6 time2<-Sys.time()-time1;time2#\u8ba1\u7b97\u8bfb\u53d6\u6587\u4ef6\u82b1\u8d39\u7684\u65f6\u95f4 frame <- list() for (i in 1:length(filelist)) { q20_rate <- datalist[[i]]$summary$after_filtering$q20_rate q30_rate <- datalist[[i]]$summary$after_filtering$q30_rate total_reads <- datalist[[i]]$summary$before_filtering$total_reads after_filter_reads <- datalist[[i]]$summary$after_filtering$total_reads clean_rate_reads <- after_filter_reads/total_reads filename <- filelist[[i]] info <- c(filename,q20_rate,q30_rate,total_reads,after_filter_reads,clean_rate_reads) frame[[i]] <- info print(frame) } write.csv(frame,file = \"reads info.csv\")","title":"R\u89e3\u6790fastp\u8f93\u51fa\u7684json\u6587\u4ef6"},{"location":"R-in-action/R%E8%AF%AD%E8%A8%80%E5%8F%AF%E8%A7%86%E5%8C%96%EF%BC%9A%E7%BB%83%E4%B9%A0%EF%BC%88%E5%9C%B0%E5%9B%BE%E3%80%81%E6%9F%B1%E5%BD%A2%E5%9B%BE%EF%BC%89REmap/","text":"REmap,\u66f4\u591a\u5730\u56fe\u53ef\u89c6\u5316\u7ec6\u8282\u67e5\u770b ECharts \u3002ECharts\u662f\u4e00\u4e2aJavaScript\u5e93\uff0c\u4e3b\u8981\u662f\u7528\u4e8e\u6570\u636e\u53ef\u89c6\u5316\u3002\u5730\u56fe\u529f\u80fd\u662f\u5176\u4e2d\u7684\u4e00\u90e8\u5206\uff0c\u6709\u5176\u4ed6\u4eba\u4e8c\u6b21\u5f00\u53d1\u7684R\u5305\u3002 \u4f7f\u7528\u7684\u5305 ggplot2 , REmap , dplyr , RColorBrewer , tidyr \u6d89\u53ca\u5230\u77e5\u8bc6\u70b9\uff1a\u51fd\u6570\u4f20\u53c2\uff0c\u957f\u77ed\u6570\u636e\u4e92\u8f6c\uff08tidyr\u5305\uff09\uff0c\u989c\u8272\u5411\u91cf\uff08RColorBrewer\u5305\uff09\uff0c\u5730\u56fe\u53ef\u89c6\u5316\uff08REmap\uff09 rm(list = ls()) ################### ##\u76ee\u7684\uff1a\u751f\u62102019\u5e74\u5404\u9636\u6bb5\u5b66\u751f\u7684\u6027\u522b\u6bd4\u4f8b\u5206\u5e03\u5730\u56fe\u6570\u636e\u3002 ###################### ##ggmap\u9700\u8981\u6ce8\u518c\uff0c\u800c\u4e14\u9700\u8981\u7ed1\u5b9a\u4fe1\u7528\u5361\uff0c\u6536\u8d39\u4e86 ##REmap\u548cleafletCN\u662f\u540c\u4e00\u4e2a\u4eba\u5199\u7684R\u5305\uff0cREmap\u662fEasycharts #install.packages(\"ggmap\") #library(ggmap) library(ggplot2) #get_map(\"CHINA\") setwd(\"E:/cm/R/\") ###\u8bfb\u53d6\u5404\u7ea7\u5b66\u6821\u5b66\u751f\u5206\u5e03\u60c5\u51b5\u8868 primary <- read.csv(\"PrimarySchool.csv\",encoding = \"UTF-8\") head(primary) middle <- read.csv(\"MiddleSchool.csv\",encoding = \"UTF-8\") senior <- read.csv(\"SeniorSchool.csv\",encoding = \"UTF-8\") higher <- read.csv(\"NormalAndShort-cycleHigherEducation.csv\",encoding = \"UTF-8\") postgraduate <- read.csv(\"PostGraduate.csv\",encoding = \"UTF-8\") ##baidu\u5730\u56fe\u5f00\u53d1\u7684\u5730\u56fe\u5305REmap #install.packages(\"devtools\")#\u5982\u679c\u5b89\u88c5\u4e86\u5c31\u4e0d\u9700\u8981\u8fd9\u6b65 library(devtools) #install_github('lchiffon/REmap') library(REmap) ##\u5f15\u5165RcolorBrewer\u8c03\u8272\u677f\uff0c\u65b9\u4fbf\u8c03\u8272 #install.packages(\"RColorBrewer\") library(RColorBrewer) display.brewer.all() library(dplyr) #install_github(\"tomwenseleers/export\",build_vignettes = FALSE) library(export) out_img <- function(name,width=7,height=5){ graph2svg(file=paste(name,\".svg\",sep = \"\"), width=width, height=height) graph2png(file=paste(name,\".png\",sep = \"\"),width=width,height=height) } ##\u81ea\u5b9a\u4e49\u51fd\u6570\uff0c\u7528\u4e8e\u751f\u6210\u8be5\u7ea7\u522b\u5b66\u751f\u7684\u6027\u522b\u6bd4\u4f8b ##\u5176\u4e2d\u8bbe\u7f6etotalC\u7684\u9ed8\u8ba4\u53c2\u6570\u4e3a\u5728\u6821\u603b\u4eba\u6570\uff08Enrolment.Total\uff09 getMap <- function(school,Female,schoolTitle,colour,totalC= \"Enrolment.Total\"){ ##\u8d4b\u503c\u7ed9color\u4f5c\u4e3a\u989c\u8272\u5411\u91cf color <- brewer.pal(n= 8,name = colour) ##\u53cd\u8f6c\u989c\u8272\u5411\u91cf\uff0c\u8ba9\u6df1\u8272\u5bf9\u5e94\u5927\u6570\u503c color <- rev(color) province <- school[,1][2:32] value <- ((school[,totalC]/school[,Female]-1)*100)[2:32] PrimaryPopulation <- data.frame(province,value) #print(PrimaryPopulation) titlename <- paste(schoolTitle,\"\u7537\u5973\u6027\u522b\u6bd4\u4f8b\u56fe\uff08\u5973\u751f\u4e3a100\uff09\",sep = \"\") primaryS <- remapC(PrimaryPopulation,maptype = 'china',color= color,title = titlename,theme=get_theme('Blue'),markLineTheme = ) primaryS } #############################\u6b64\u5904\u751f\u6210\u7684\u5730\u56fe\u5728\u6d4f\u89c8\u5668\u4e2d\u6253\u5f00\uff0c\u751f\u6210\u7684\u662f\u53ef\u4ea4\u4e92\u7684html\u9875\u9762 ##\u83b7\u53d6\u5728\u6821\u751f\u7684\u6570\u636e #\u6ce8\u610f\uff1a\u53c2\u6570\u4e00\u5b9a\u8981\u5e26\u4e0a\u5f15\u53f7\uff0c\u4e0d\u7136\u4e0d\u80fd\u6b63\u5e38\u8fd0\u884c\u51fd\u6570 getMap(primary,'Female',\"\u5c0f\u5b66\",\"YlOrRd\") getMap(middle,'Female',\"\u521d\u4e2d\",\"YlGnBu\") getMap(senior,'Female',\"\u9ad8\u4e2d\",\"YlGn\") getMap(higher,'Enrolment.Female',\"\u5927\u5b66\u672c\u79d1\u548c\u4e13\u79d1\",\"PuRd\") getMap(postgraduate,'Enrolment.Female',\"\u7814\u7a76\u751f\",\"BuPu\") #\u83b7\u53d6\u6bd5\u4e1a\u751f\u7684\u6570\u636e getMap(higher,'Graduates.Female',\"\u5927\u5b66\u672c\u79d1\u548c\u4e13\u79d1\u6bd5\u4e1a\u751f\",\"YlOrBr\",'Graduates.Total') getMap(postgraduate,'Graduates.Female',\"\u7814\u7a76\u751f\u6bd5\u4e1a\u751f\",\"RdPu\",'Graduates.Total') ########################################## #\u751f\u6210\u5355\u72ec\u7684\u6bcf\u4e2a\u9636\u6bb5\u7684\u67f1\u5f62\u56fe ########################################## getBar <- function(school,Female,schoolTitle,totalC= \"Enrolment.Total\"){ province <- school[,1][2:32] value <- ((school[,totalC]/school[,Female]-1)*100)[2:32] z <- seq(1:31) PrimaryPopulation <- data.frame(province,value,z) PrimaryPopulation <- PrimaryPopulation[order(PrimaryPopulation$value),] #\u751f\u6210\u67f1\u72b6\u56fe label <- paste(schoolTitle,\"\u7537\u5973\u6027\u522b\u6bd4\u4f8b\u56fe\uff08\u5973\u751f\u4e3a100\uff09\",sep=\"\") ggplot(data = PrimaryPopulation,mapping=aes(x = reorder(province,value),y = value))+geom_bar(stat='identity',fill=value)+ggtitle(label = label)+xlab(\"\u7701\u4efd\")+ylab(\"\u4eba\u6570\")+ theme(plot.title = element_text(hjust = 0.5))+geom_hline(aes(yintercept=100),color=\"red\")+ scale_y_continuous(expand=c(0,0)) #print(value) } # install.packages(\"patchwork\") # library(patchwork) getBar(primary,'Female',\"\u5c0f\u5b66\") #####\u5b58\u5728\u95ee\u9898\u662f\uff1a\u4f7f\u7528export\u8f93\u51fa\u56fe\u7247\u65f6\u5019\uff0c\u53ea\u6709ppt\u683c\u5f0f\u4e2d\u6587\u80fd\u6b63\u5e38\u663e\u793a\u3002\u5176\u4ed6\u683c\u5f0f\u4e0b\u4e2d\u6587\u4e71\u7801\u3002 #out_img(name=\"\u5404\u7701\u5c0f\u5b66\") #graph2ppt(file=\"\u5404\u7701\u5c0f\u5b66\u751f\") ggsave(\"\u5404\u7701\u5c0f\u5b66\u751f.png\",width=10,height=5) getBar(middle,'Female',\"\u521d\u4e2d\") ggsave(\"\u5404\u7701\u521d\u4e2d.png\",width = 10,height = 5) getBar(senior,'Female',\"\u9ad8\u4e2d\") ggsave(\"\u5404\u7701\u9ad8\u4e2d.png\",width = 10,height = 5) getBar(higher,'Enrolment.Female',\"\u5927\u5b66\u672c\u79d1\u548c\u4e13\u79d1\u5728\u6821\u751f\") ggsave(\"\u5404\u7701\u5927\u5b66\u548c\u5927\u4e13.png\",width = 10,height = 5) getBar(postgraduate,'Enrolment.Female',\"\u7814\u7a76\u751f\u5728\u6821\u751f\") ggsave(\"\u5404\u7701\u7814\u7a76\u751f.png\",width = 10,height = 5) getBar(higher,'Graduates.Female','\u5927\u5b66\u548c\u5927\u4e13\u6bd5\u4e1a\u751f','Graduates.Total') ggsave(\"\u5404\u7701\u5927\u5b66\u548c\u5927\u4e13\u6bd5\u4e1a\u751f.png\",width = 10,height = 5) getBar(postgraduate,'Graduates.Female','\u7814\u7a76\u751f\u6bd5\u4e1a\u751f','Graduates.Total') ggsave(\"\u5404\u7701\u7814\u7a76\u751f\u6bd5\u4e1a\u751f.png\",width = 10,height = 5) ########################################## #\u5408\u5e76\u5230\u4e00\u8d77\u751f\u6210\u67f1\u5f62\u56fe #\u5c06\u5404\u4e2a\u9636\u6bb5\u90fd\u653e\u5728\u4e00\u8d77\uff0c\u751f\u6210\u5206\u7ec4\u67f1\u5f62\u56fe ########################################## library(tidyr) getvalue <- function(school,Female,totalC= \"Enrolment.Total\"){ value <- ((school[,totalC]/school[,Female]-1)*100)[2:32] return(value) } priValue <- getvalue(primary,'Female') midValue <- getvalue(middle,'Female') senValue <- getvalue(senior,'Female') higValue <- getvalue(higher,'Enrolment.Female') posValue <- getvalue(postgraduate,'Enrolment.Female') allinfo <- data.frame(primary[,1][2:32],priValue,midValue,senValue,higValue,posValue) colnames(allinfo) <- c(\"province\",\"primary\",\"middle\",\"senior\",\"higher\",\"postgraduate\") ##\u4f7f\u7528tidyr\u5305\u7684gather\u51fd\u6570\uff0c\u5c06\u5bbd\u6570\u636e\u53d8\u6210\u957f\u6570\u636e\uff0c%>%\u76f8\u5f53\u4e8eshell\u7684\u7ba1\u9053\u7b26| ##gather()\u5c06\u9664\u4e86province\u5217\u7684\u5176\u4ed6\u5217\u5408\u5e76\u6210\u4e24\u5217\uff0c1\u5217\u662f\u5b66\u6821\uff0c1\u5217\u662f\u503c allinfoNew <- allinfo %>% gather(school,value, -province) ##\u751f\u6210\u4ece1\u5230\u6570\u636e\u6846\u7684\u5217\u8868\u7684\u957f\u5ea6\u7684\u81ea\u7136\u6570\u5411\u91cf\uff0c\u7528\u4e8e\u753b\u56fe\u65f6\uff0c\u4f5c\u4e3a\u53c2\u8003\u5217\u8fdb\u884c\u6392\u5e8f\uff0creorder(school,z)\uff0c\u5373\u4e3a\u4f9d\u7167z\u7684\u987a\u5e8f\u5bf9school\u8fdb\u884c\u6392\u5e8f\u3002 z <- seq(1:length(allinfoNew$province)) ##\u751f\u6210\u67f1\u5f62\u5806\u79ef\u56fe ggplot(data = allinfoNew,mapping=aes(x = reorder(province,z),y = value,fill=reorder(school,z)))+geom_bar(stat = 'identity')+ xlab(\"\u7701\u4efd\")+ylab(\"\u7537\u751f\u4eba\u6570\uff08\u5973\u751f\u4e3a100\uff09\")+ ggtitle(label = \"2019\u5e74\u5168\u56fd\u5b66\u751f\u7537\u5973\u6027\u522b\u6bd4\u4f8b\u5206\u5e03\u56fe\")+ labs(fill=\"\u5b66\u751f\u9636\u6bb5\")+ scale_fill_discrete(labels=c(\"\u5c0f\u5b66\", \"\u521d\u4e2d\", \"\u9ad8\u4e2d\",\"\u5927\u5b66\u548c\u5927\u4e13\",\"\u7814\u7a76\u751f\"))+ theme(plot.title = element_text(hjust = 0.5))+ scale_y_continuous(expand=c(0,0)) ggsave(\"\u5168\u56fd\u5b66\u751f\u5806\u79ef\u56fe.png\",width = 11,height = 7) #labs(fill=\"\u5b66\u751f\u9636\u6bb5\")\u8bbe\u7f6e\u56fe\u4f8b\u7684\u6807\u9898 #scale_fill_discrete(labels=c(\"\u5c0f\u5b66\", \"\u521d\u4e2d\", \"\u9ad8\u4e2d\",\"\u5927\u5b66\u548c\u5927\u4e13\",\"\u7814\u7a76\u751f\"))\u8bbe\u7f6e\u56fe\u4f8b\u7684\u5206\u7c7b\u7684\u540d\u79f0 #geom_hline(aes(yintercept=100),color=\"red\")\u751f\u6210\u4e00\u6761\u7ea2\u8272\u7684\u6a2a\u7ebf\u4f5c\u4e3a\u9608\u503c\u7ebf #xlab(\"\u7701\u4efd\")\u4fee\u6539x\u8f74\u6807\u9898 #ylab(\u201c\u7537\u751f\u4eba\u6570\u201d)\u4fee\u6539y\u8f74\u6807\u9898 #scale_y_continuous(expand=c(0,0)) \u8ba9y\u5750\u6807\u8f740\u523b\u5ea6\u4e0b\u9762\u6ca1\u6709\u7a7a\u767d #coord_flip()\u7ffb\u8f6c\u5750\u6807\u8f74\u7684x\u548cy\u8f74 ##\u751f\u6210\u5206\u7ec4\u67f1\u5f62\u56fe ggplot(data = allinfoNew)+geom_bar(mapping = aes(x=reorder(province,rev(z)),y = value,fill = reorder(school,z)),position=\"dodge\",stat=\"identity\")+ geom_hline(aes(yintercept=100),color=\"red\")+xlab(\"\u7701\u4efd\")+ylab(\"\u7537\u751f\u4eba\u6570\uff08\u5973\u751f\u4e3a100\uff09\")+ggtitle(label = \"2019\u5e74\u5168\u56fd\u5b66\u751f\u7537\u5973\u6027\u522b\u6bd4\u4f8b\u5206\u5e03\u56fe\")+ labs(fill=\"\u5b66\u751f\u9636\u6bb5\")+ scale_fill_discrete(labels=c(\"\u5c0f\u5b66\", \"\u521d\u4e2d\", \"\u9ad8\u4e2d\",\"\u5927\u5b66\u548c\u5927\u4e13\",\"\u7814\u7a76\u751f\"))+ theme(plot.title = element_text(hjust = 0.5))+ scale_y_continuous(expand=c(0,0)) ggsave(\"\u5168\u56fd\u5b66\u751f\u5206\u7ec4\u67f1\u5f62\u56fe.png\",width = 12,height = 7) ggplot(data = allinfoNew)+geom_bar(mapping = aes(x=reorder(province,z),y = value,fill = reorder(school,z)),position=\"dodge\",stat=\"identity\")+ geom_hline(aes(yintercept=100),color=\"red\")+xlab(\"\u7701\u4efd\")+ylab(\"\u7537\u751f\u4eba\u6570\uff08\u5973\u751f\u4e3a100\uff09\")+ggtitle(label = \"2019\u5e74\u5168\u56fd\u5b66\u751f\u7537\u5973\u6027\u522b\u6bd4\u4f8b\u5206\u5e03\u56fe\")+ labs(fill=\"\u5b66\u751f\u9636\u6bb5\")+ scale_fill_discrete(labels=c(\"\u5c0f\u5b66\", \"\u521d\u4e2d\", \"\u9ad8\u4e2d\",\"\u5927\u5b66\u548c\u5927\u4e13\",\"\u7814\u7a76\u751f\"))+ theme(plot.title = element_text(hjust = 0.5))+ scale_y_continuous(expand=c(0,0))+coord_flip() ggsave(\"\u5168\u56fd\u5b66\u751f\u5206\u7ec4\u67f1\u5f62\u56fe-\u6c34\u5e73\u65b9\u5411.png\",width = 5,height = 8) ##leafletCN\u662fleaflet\u7684\u4e2d\u56fd\u6269\u5c55\u5305 # devtools::install_github(\"lchiffon/leafletCN\") # library(leafletCN) # demomap(\"\u6cb3\u5357\") # demomap(\"china\") #","title":"R\u8bed\u8a00\u53ef\u89c6\u5316\uff1a\u7ec3\u4e60\uff08\u5730\u56fe\u3001\u67f1\u5f62\u56fe\uff09REmap"},{"location":"R-in-action/R%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%E6%95%99%E7%A8%8B/","text":"1.R\u6570\u636e\u79d1\u5b66\u5904\u7406\u300aR for data science\u300b\u5728\u7ebf\u7248 https://r4ds.had.co.nz/index.html 2.R\u8fdb\u9636 \u300aadvance R\u300b\u5728\u7ebf\u7248 https://adv-r.hadley.nz/index.html R\u6570\u636e\u79d1\u5b66\u4e3b\u8981\u662f\uff1aR\u8bed\u8a00\u7528\u4e8e\u6570\u636e\u79d1\u5b66\u5b66\u4e60\uff0c\u5b66\u4e60\u4e4b\u524d\u53ef\u4ee5\u770b\u4e0b\u300aR in action\u300bR\u8bed\u8a00\u5b9e\u6218\uff0c\u6216\u8005\u770b\u4e0b\u6211\u5199\u7684R\u8bed\u8a00\u624b\u518c\u5373\u53ef\u3002 R\u8fdb\u9636\u504f\u5411\u4e8e\u8bb2\u8ff0\u5e95\u5c42\u7684\u539f\u7406\uff0c\u80fd\u591f\u6df1\u5165\u7406\u89e3R\u7684\u8fd0\u884c\u673a\u5236\u3002\u540c\u65f6\u8bb2\u4e86\u7f16\u7a0b\u6a21\u5f0f\u548c\u6027\u80fd\u4f18\u5316\u3002\u6bcf\u7ae0\u5f00\u5934\u6709\u6d4b\u8bd5\u9898\uff0c\u80fd\u89e3\u7b54\u5373\u53ef\u76f4\u63a5\u8df3\u8fc7\u8fd9\u7ae0\u3002 R\u7684\u5b89\u88c5\uff0c\u9664\u4e86\u5e38\u89c4\u7684\u5b89\u88c5\uff0c\u5728\u670d\u52a1\u5668\u4e0a\u53ef\u4ee5\u4f7f\u7528conda\u6765\u5b89\u88c5\u3002 #\u641c\u7d22r\u7684\u7248\u672c\u4fe1\u606f conda search r-base #\u4ece\u4e2d\u9009\u62e9\u6700\u65b0\u7684\u7248\u672c\u5b89\u88c5 -c\u6307\u5b9achannel\u662fconda-forge \u76ee\u524d\u6700\u65b0\u7248\u672c\u662f4.0.3 conda install -c conda-forge -y r-base=4.0.3 #\u67e5\u770bR\u7684\u8def\u5f84 which is R #\u4f7f\u7528conda\u641c\u7d22ggplot2 conda search ggplot2 conda search clusterprofiler #\u4f7f\u7528conda\u5b89\u88c5R\u7684\u5305 conda install -y r-ggplot2 conda install -y bioconductor-clusterprofiler \u53c2\u8003 mp.weixin.qq.com/s/P0fczjfKKP3sJpJZJpvDDw","title":"R\u8bed\u8a00\u5b66\u4e60\u6559\u7a0b"},{"location":"R-in-action/R%E8%AF%AD%E8%A8%80%E6%89%8B%E5%86%8C/","text":"\u521b\u5efa\u91cd\u590d\u5143\u7d20 rep(c(\"A\",\"B\",\"C\"),times=3) #\u5411\u91cf\u6574\u4f533\u4e2a\u91cd\u590d #\"A\" \"B\" \"C\" \"A\" \"B\" \"C\" \"A\" \"B\" \"C\" rep(c(\"A\",\"B\",\"C\"),each=2) #\u5411\u91cf\u5185\u90e8\u5404\u4e2a\u5143\u7d20\u91cd\u590d2\u904d #\"A\" \"A\" \"B\" \"B\" \"C\" \"C\" rep(c(\"A\",\"B\",\"C\"),each=2,times=3) #\u5411\u91cf\u5185\u90e8\u5404\u4e2a\u5143\u7d20\u91cd\u590d2\u904d,\u6574\u4f53\u518d\u91cd\u590d\u4e09\u6b21 # \"A\" \"A\" \"B\" \"B\" \"C\" \"C\" \"A\" \"A\" \"B\" \"B\" \"C\" \"C\" \"A\" \"A\" \"B\" \"B\" \"C\" \"C\" sample1 <- rep(c(\"A\",\"B\",\"C\",\"D\",\"E\"),times=1,each=3) #\u5148\u8ba9\u6bcf\u4e2a\u5143\u7d20\u91cd\u590d3\u6b21\uff08times\u548ceach\u53ef\u4ee5\u5206\u522b\u5bf9\u5e94\u6280\u672f\u91cd\u590d\u548c\u751f\u7269\u5b66\u91cd\u590d\uff09 paste0(sample1,1:3) #\u518d\u548c1\uff1a3\u7684\u5411\u91cf\u62fc\u5408\uff0c\u5373\u5b9e\u73b0\u751f\u6210\u6837\u672c\u7684\u591a\u6b21\u91cd\u590d\u7684\u540d\u79f0 # \"A1\" \"A2\" \"A3\" \"B1\" \"B2\" \"B3\" \"C1\" \"C2\" \"C3\" \"D1\" \"D2\" \"D3\" \"E1\" \"E2\" \"E3\" \u76ee\u5f55\u4e0e\u6587\u4ef6\u64cd\u4f5c \u53c2\u8003 \u521b\u5efa\u76ee\u5f55 dir.create(\"ABC/\") \u5217\u51fa\u5f53\u524d\u76ee\u5f55\u7684\u6587\u4ef6\u5939\u7ed3\u6784 list.dirs() \u5217\u51fa\u5f53\u524d\u76ee\u5f55\u5185\u6240\u6709\u6587\u4ef6 dir() \u521b\u5efa\u6587\u4ef6 file.create(\"ABC/README.MD\") \u5220\u9664\u6587\u4ef6\u5939 unlink(\"ABC\",recursive=TRUE) \u5220\u9664\u6587\u4ef6 file.remove(\"ABC/123.txt\") \u79fb\u52a8\u6587\u4ef6 file.copy(from=\"C:/user/data.csv\",to=\"D:/geneinfo/\") \u8ffd\u52a0\u6587\u4ef6 file.append(file1,file2) \u53ef\u4ee5\u624b\u52a8\u9009\u62e9\u6587\u4ef6 file.choose(new=FALSE) file.show file.edit(\"gene.csv\") #\u7f16\u8f91\u6587\u4ef6\uff0c\u5982\u679c\u4e0d\u5b58\u5728\u5219\u5148\u521b\u5efa\u518d\u7f16\u8f91 \u5b57\u7b26\u503c\u7684\u5904\u7406 \u5b57\u7b26\u4e32\u51fd\u6570 \u53c2\u8003 \u8fd4\u56de\u5411\u91cf\uff0c\u5217\u8868\uff0c\u77e9\u9635\uff0c\u6570\u636e\u6846\u5143\u7d20\u4e2a\u6570 lengeh(list1) \u8fd4\u56de\u5b57\u7b26\u4e32\u7684\u5b57\u7b26\u6570 nchar(head(list1)) \u62fc\u63a5\u5b57\u7b26\u4e32 cat(\"this is \",\"a test \",\"file\") \u5f53\u884c\u5f88\u957f\u65f6\u53ef\u4ee5\u8bbe\u7f6efill\u81ea\u52a8\u6362\u884c\u3002 cat(\"\u957f\u5b57\u7b26\u4e32\"\uff0c\"changzifuchuan \",\"\u5f88\u957f\u5f88\u957f\u7684\u5b57\u7b26\u4e32\",fill=TRUE) cat(\"\u957f\u5b57\u7b26\u4e32\"\uff0c\"changzifuchuan \",\"\u5f88\u957f\u5f88\u957f\u7684\u5b57\u7b26\u4e32\",fill=30) \u83b7\u53d6\u5b57\u7b26\u4e32\u7684\u5b57\u4e32 substr(\"asddfcerwv4rwevw4rvrfeed32e4ef32\",1,6) \u8f93\u51fa\u7b2c1\u52306\u4e2a\u5b57\u7b26 substring(\"asddfcerwv4rwevw4rvrfeed32e4ef32\",1:5,5:6) grep()\u51fd\u6570\u53ef\u4ee5\u63a5\u53d7\u6b63\u5219 strsplit()\u53ef\u4ee5\u63a5\u53d7\u6b63\u5219 strsplit(str,'+') #\u5206\u5272\u4e00\u6bb5\u8bdd\uff0c\u4ee5\u7a7a\u683c\u5206\u5272 strsplit(str,split=', ') #\u4ee5 , \u5206\u5272 NA\u7684\u5904\u7406[\u53c2\u8003] ( https://blog.csdn.net/Ssxysxy123/article/details/51774472 ) \u5220\u9664\u7a7a\u503c \uff08\u53ef\u4ee5\u662f\u5411\u91cf\uff0clist,dataframe\uff09 na.omit=TRUE #\u5728\u67d0\u4e9b\u51fd\u6570\u4e2d\u7684\u53c2\u6570 data <- na.omit(data) #\u5220\u9664data\u4e2d\u7684\u7a7a\u503c \u7edf\u8ba1\u7f3a\u5931\u503c\u7684\u4e2a\u6570 sum(is.na(Gene_id)) \u7edf\u8ba1\u5b8c\u6574\u503c\u7684\u4e2a\u6570 sum(complete.cases(geneID)) dplyr\u5305\u7684\u4f7f\u7528 \u53c2\u80031 \u6b63\u5219\u5339\u914d \u5305\u7684\u5b89\u88c5\u4f7f\u7528 \u53c2\u8003 \u5b89\u88c5\u65b9\u5f0f1 install.packages(\"ggplot2\") \u65b9\u5f0f2 if (!requireNamespace(\"BiocManager\", quietly = TRUE)) BiocManager::install(\"DESeq2\") install.packages(\"BiocManager\") install.packages(\"pheatmap\") ##\u4ece\u672c\u5730\u5b89\u88c5\u5305(\u4e00\u822c\u4e0d\u5efa\u8bae\uff0c\u9700\u8981\u81ea\u5df1\u89e3\u51b3\u5305\u7684\u4f9d\u8d56\u5305\u95ee\u9898) install.packages(\"./BiocInstaller_1.20.1.zip\", repos = NULL) * \u5305\u7684\u8f7d\u5165 `library(\"ggplot2\")` * \u5305\u7684\u5378\u8f7d (\u662f\u4ece\u52a0\u8f7d\u7684\u73af\u5883\u5378\u8f7d\uff0c\u4e0d\u662f\u5220\u9664) `detach(\"package:ggplot2\")` * \u5305\u7684\u5220\u9664 `remove.package(c(\"pkg1\",\"pkg2\"),lib=file.path(\"path\"),\"to\",\"library\")` pkg1,pkg2\u8868\u793a\u8981\u5220\u9664\u7684\u5305\u7684\u540d\u5b57\uff0c\u4e00\u6b21\u53ef\u4ee5\u5220\u9664\u591a\u4e2a\u5305 \"path\", \"to\", \"library\"\u8868\u793aR\u7684\u5e93\u8def\u5f84\uff0c\u5b57\u7b26\u5411\u91cf\uff0c\u901a\u5e38\u60c5\u51b5\u4e0b\u53ea\u8f93\u4e00\u4e2a\u8def\u5f84\u5373\u53ef\u3002\u4f7f\u7528\u547d\u4ee4.libPaths()\u53ef\u4ee5\u67e5\u770b\u5e93\u8def\u5f84\u3002 * remove.packages(c('AnnotationHub'),lib=file.path('G:/R-3.6.1/library'))** 3. * \u67e5\u770b\u5df2\u5b89\u88c5\u7684\u5305 [\u53c2\u8003](https://blog.csdn.net/zc02051126/article/details/38053069) `installed.packages()[,c('Package','Version','LibPath')]` * \u67e5\u770b\u5df2\u52a0\u8f7d\u7684\u5305 `(.packages())` 4. \u67d0\u4e2a\u5305\u65e0\u6cd5\u66f4\u65b0\u6216\u8005\u66f4\u65b0\u5931\u8d25 \u7ec8\u6781\u5927\u62db\uff0c\u5173\u95edR\u548cR-studio\uff0c\u5220\u9664library\u8fd9\u4e2a\u6587\u4ef6\u5939\u4e0b\u5bf9\u5e94\u7684\u5305\u7684\u6587\u4ef6\u5939\u3002library\u7684\u8def\u5f84\u53ef\u4ee5\u4ece\u4e0a\u4e00\u6b65\u770b\u51fa\u3002\u6211\u7684\u662fG:/R-3.6.1/library 5. \u66f4\u65b0\u6240\u6709\u5305 `update.packages()` 6. \u67e5\u770bR\u7248\u672c `R.version` 7. citation()\u7528\u4e8e\u67e5\u770b\u6307\u5b9a\u5305\u7684\u6587\u732e\u5f15\u7528 `citation(\"clusterProfiler\")` \u4f1a\u8fd4\u56de\u8be5\u5305\u7684\u4f5c\u8005\u4fe1\u606f\uff0c\u65b9\u4fbf\u5199\u6587\u7ae0\u65f6\u5f15\u7528\u3002 \u5e2e\u52a9 \u67d0\u4e2a\u5305\u7684\u5e2e\u52a9 help(package=\"ggplot2\") \u67d0\u4e2a\u51fd\u6570\u5c5e\u4e8e\u54ea\u4e2a\u5305 help(\u51fd\u6570\u540d)\u6216\u8005\uff1f\u51fd\u6570\u540d \u6253\u5f00\u6240\u6709\u7684\u5e2e\u52a9\u6587\u6863 help.start() \u5bf9\u4e8e\u67d0\u4e2a\u51fd\u6570\u7684\u5177\u4f53\u7528\u6cd5\uff0c\u53ef\u4ee5\u5149\u6807\u653e\u5728\u8be5\u51fd\u6570\u4e0a\uff0c\u6309\u4e0bF1\u67e5\u770b\u5e2e\u52a9 \u6570\u636e\u7684\u4fdd\u6301\u4e0e\u6e05\u9664 \u6e05\u5c4f ctrl+L \u663e\u793a\u76ee\u524d\u5b58\u50a8\u5728R\u4e2d\u7684\u5bf9\u8c61\u7684\u540d\u5b57 objects() rm(x,y,temp) \u5220\u9664x,y,temp\u8fd9\u4e9b\u5bf9\u8c61 \u7531\u4e8eR\u4e2d\u4f1a\u628a\u6240\u6709\u7684\u6570\u636e\u5bf9\u8c61\u4fdd\u5b58\u5230\u5de5\u4f5c\u73af\u5883\uff0c\u5373.RData\u4e2d\u3002\u518d\u6b21\u542f\u52a8\u65f6\uff0c\u4f1a\u628a\u8fd9\u4e9b\u53d8\u91cf\u6302\u8f7d\u4e0a\uff0c\u6240\u4ee5\u5982\u679c\u4e0d\u9700\u8981\u4f7f\u7528\u4e86\uff0c\u5c31\u5220\u9664\u5bf9\u8c61\u3002 \u8f93\u51fa\u5f53\u524d\u5de5\u4f5c\u73af\u5883\u7684\u5305\u548cR\u7684\u7248\u672c\u4fe1\u606f (\u4e3b\u8981\u7528\u4e8e\u95ee\u9898\u89e3\u51b3\u548c\u5305\u7684\u5f00\u53d1\u7b49\u73af\u5883\u65f6\u4f7f\u7528) sessionInfo() \u53c2\u8003\u5730\u5740\uff1a https://www.cnblogs.com/einyboy/p/3182589.html Y\u53d4\u6240\u6709\u6587\u7ae0\u4f20\u9001\u95e8 R\u91cc\u9762\u79d1\u5b66\u8ba1\u6570\u6cd5 \u4e00\u5b9a\u8981\u6ce8\u610f\uff0cR\u91cc\u9762\u4f20\u5165\u79d1\u5b66\u8ba1\u6570\u6cd5\u7684\u683c\u5f0f\u548c\u60f3\u8c61\u7684\u5e76\u4e0d\u4e00\u6837\u3002 - \u5e38\u89c4\u7684\u79d1\u5b66\u8ba1\u6570\u6cd5 3.58X10E-9 - R\u91cc\u9762\u5bf9\u5e94\u7684\u8868\u793a\u6cd5 3.58E-9 \u7279\u522b\u6ce8\u610f\uff0cR\u91cc\u8868\u793a10\u7684\u6b21\u5e42\u65f6\uff0c\u4e0d\u662f10E R\u91cc 10E6 \u7684\u8f93\u5165\u662f 1E6 \u79d1\u5b66\u8ba1\u6570\u6cd5\u548c\u975e\u79d1\u5b66\u8ba1\u6570\u6cd5\u76f8\u4e92\u8f6c\u6362 y <- 3.8981E5 format(y,scientific = F) #\"389810\" format(y,scientific = T,digits = 4) #\"3.898e+05\" digits\u662f\u4fdd\u7559\u7684\u6570\u5b57\u7684\u4f4d\u6570 \u63a7\u5236\u53f0\u7684\u8f93\u51fa print() print(\"this is a test file\") \u51fa\u6765\u7684\u5185\u5bb9\u524d\u9762\u603b\u662f\u6709\u4e00\u4e2a[x] warning() warning(\"The less than 0.05 value will be delete!\") \u51fa\u6765\u7684\u5185\u5bb9\u662f\u7ea2\u8272\u7684\uff1a\u7b2c\u4e00\u884c\u662f Warning message: \u4e00\u822c\u7528\u4e8e\u8b66\u544a\uff0c\u5f15\u8d77\u91cd\u89c6\u3002 stop() stop(\"Need 3 parameter!\") \u5185\u5bb9\u662f\u7ea2\u8272\u7684\uff0c\u800c\u4e14\u4f1a\u4e2d\u65ad\u7a0b\u5e8f\u3002 \u7528\u4e8e\u4e2d\u65ad\u7a0b\u5e8f\uff0c\u5e76\u7ed9\u51fa\u62a5\u9519\u4fe1\u606f message() message(\"Outfile is \",\"new.csv\") \u5185\u5bb9\u662f\u7ea2\u8272\u7684\u3002 \u4e00\u822c\u662f\u7ed9\u51fa\u91cd\u8981\u7684\u4fe1\u606f message\u5185\u7f6e\u4e86paste0\u51fd\u6570\uff0c\u6240\u4ee5\u4f1a\u81ea\u52a8\u62fc\u63a5\u591a\u4e2a\u5b57\u7b26\u3002","title":"R\u8bed\u8a00\u624b\u518c"},{"location":"R-in-action/R%E8%AF%AD%E8%A8%80%E6%89%8B%E5%86%8C/#r-sessioninfo","text":"","title":"\u8f93\u51fa\u5f53\u524d\u5de5\u4f5c\u73af\u5883\u7684\u5305\u548cR\u7684\u7248\u672c\u4fe1\u606f (\u4e3b\u8981\u7528\u4e8e\u95ee\u9898\u89e3\u51b3\u548c\u5305\u7684\u5f00\u53d1\u7b49\u73af\u5883\u65f6\u4f7f\u7528) sessionInfo()"},{"location":"R-in-action/R%E8%AF%AD%E8%A8%80%E6%89%8B%E5%86%8C/#_1","text":"https://www.cnblogs.com/einyboy/p/3182589.html Y\u53d4\u6240\u6709\u6587\u7ae0\u4f20\u9001\u95e8","title":"\u53c2\u8003\u5730\u5740\uff1a"},{"location":"R-in-action/R%E8%AF%AD%E8%A8%80%E6%89%8B%E5%86%8C/#r","text":"\u4e00\u5b9a\u8981\u6ce8\u610f\uff0cR\u91cc\u9762\u4f20\u5165\u79d1\u5b66\u8ba1\u6570\u6cd5\u7684\u683c\u5f0f\u548c\u60f3\u8c61\u7684\u5e76\u4e0d\u4e00\u6837\u3002 - \u5e38\u89c4\u7684\u79d1\u5b66\u8ba1\u6570\u6cd5 3.58X10E-9 - R\u91cc\u9762\u5bf9\u5e94\u7684\u8868\u793a\u6cd5 3.58E-9 \u7279\u522b\u6ce8\u610f\uff0cR\u91cc\u8868\u793a10\u7684\u6b21\u5e42\u65f6\uff0c\u4e0d\u662f10E R\u91cc 10E6 \u7684\u8f93\u5165\u662f 1E6 \u79d1\u5b66\u8ba1\u6570\u6cd5\u548c\u975e\u79d1\u5b66\u8ba1\u6570\u6cd5\u76f8\u4e92\u8f6c\u6362 y <- 3.8981E5 format(y,scientific = F) #\"389810\" format(y,scientific = T,digits = 4) #\"3.898e+05\" digits\u662f\u4fdd\u7559\u7684\u6570\u5b57\u7684\u4f4d\u6570","title":"R\u91cc\u9762\u79d1\u5b66\u8ba1\u6570\u6cd5"},{"location":"R-in-action/R%E8%AF%AD%E8%A8%80%E6%89%8B%E5%86%8C/#_2","text":"print() print(\"this is a test file\") \u51fa\u6765\u7684\u5185\u5bb9\u524d\u9762\u603b\u662f\u6709\u4e00\u4e2a[x] warning() warning(\"The less than 0.05 value will be delete!\") \u51fa\u6765\u7684\u5185\u5bb9\u662f\u7ea2\u8272\u7684\uff1a\u7b2c\u4e00\u884c\u662f Warning message: \u4e00\u822c\u7528\u4e8e\u8b66\u544a\uff0c\u5f15\u8d77\u91cd\u89c6\u3002 stop() stop(\"Need 3 parameter!\") \u5185\u5bb9\u662f\u7ea2\u8272\u7684\uff0c\u800c\u4e14\u4f1a\u4e2d\u65ad\u7a0b\u5e8f\u3002 \u7528\u4e8e\u4e2d\u65ad\u7a0b\u5e8f\uff0c\u5e76\u7ed9\u51fa\u62a5\u9519\u4fe1\u606f message() message(\"Outfile is \",\"new.csv\") \u5185\u5bb9\u662f\u7ea2\u8272\u7684\u3002 \u4e00\u822c\u662f\u7ed9\u51fa\u91cd\u8981\u7684\u4fe1\u606f message\u5185\u7f6e\u4e86paste0\u51fd\u6570\uff0c\u6240\u4ee5\u4f1a\u81ea\u52a8\u62fc\u63a5\u591a\u4e2a\u5b57\u7b26\u3002","title":"\u63a7\u5236\u53f0\u7684\u8f93\u51fa"},{"location":"R-in-action/R%E8%BF%9B%E9%98%B6%EF%BC%9A%E7%BC%BA%E5%A4%B1%E5%80%BC%E7%9A%84%E5%A4%84%E7%90%86%E3%80%81%E6%8B%9F%E5%90%88%E5%85%B3%E7%B3%BB/","text":"\u7f3a\u5931\u503c\u7684\u5904\u7406 1.\u4f7f\u7528\u4e2d\u4f4d\u6570\u6216\u8005\u5747\u503c\uff08\u975e\u6570\u503c\u65f6\u4f7f\u7528\u4f17\u6570\uff09\u6765\u586b\u8865\u7f3a\u5931\u503c x <- c(1,2,7,8,NA,10,22,NA,15,NA,9) y <-c('a',NA,'b',NA,'b','a','a','b','a','c','d') df <- data.frame(x, y) df x_mean <- mean(x,na.rm = TRUE) x_mean #x\u7684\u5e73\u5747\u503c x_median <- median(x, na.rm = TRUE) x_median #x\u7684\u4e2d\u4f4d\u6570 y_mode <- as.character(y[which.max(table(y))]) y_mode #y\u7684\u4f17\u6570 df2 <- replace_na(data = df, replace = list(x = x_mean, y = y_mode)) df2 #\u4f7f\u7528x\u7684\u5747\u503c\uff0cy\u7684\u4f17\u6570\uff0c\u6765\u586b\u5145\u7f3a\u5931\u503c\u3002 2.\u4f7f\u7528\u968f\u673a\u6570 3.\u4f7f\u7528 mice \u5305\u591a\u91cd\u586b\u8865\u6cd5\u8865\u5145\u6570\u636e 1\uff09mice()\u51fd\u6570\u4ece\u4e00\u4e2a\u542b\u7f3a\u5931\u503c\u7684\u6570\u636e\u6846\u5f00\u59cb\uff0c\u8fd4\u56de\u4e00\u4e2a\u5305\u542b\u591a\u4e2a\u5b8c\u6574\u6570\u636e\u96c6\u5bf9\u8c61\uff08\u9ed8\u8ba4\u53ef\u4ee5\u6a21\u62df\u53c2\u65705\u4e2a\u5b8c\u6574\u7684\u6570\u636e\u96c6\uff09\uff1b 2\uff09with()\u51fd\u6570\u53ef\u4f9d\u6b21\u5bf9\u6bcf\u4e2a\u5b8c\u6574\u6570\u636e\u96c6\u5e94\u7528\u7edf\u8ba1\u5efa\u6a21\uff1b 3\uff09pool()\u51fd\u6570\u5c06with()\u751f\u6210\u7684\u5355\u72ec\u7ed3\u679c\u6574\u5408\u5230\u4e00\u8d77\u3002 \u968f\u673a\u6570\u7684\u751f\u6210\u65b9\u6cd5 set.seed(12138) x1 <- runif(n = 1000, min = 1, max = 15) #runif\u751f\u6210\u5747\u5300\u5206\u5e03\u968f\u673a\u6570\uff0cn\u6307\u5b9a\u6570\u91cf\uff0cmin\u6700\u5c0f\u503c\uff0cmax\u6700\u5927\u503c x2 <- rnorm(n = 1000,mean = 10,sd=5) + 10 #rnorm\u751f\u6210\u6b63\u6001\u968f\u673a\u6570 ,n\u6570\u91cf\uff0cmean\u6b63\u6001\u5206\u5e03\u7684\u5747\u503c\uff0csd\u6b63\u6001\u5206\u5e03\u7684\u6807\u51c6\u5dee x3 <- rt(n = 1000, df = 3) #T\u6d4b\u9a8c\u968f\u673a\u6570 x4 <- rf(n = 1000, df1 = 2, df2 = 3) #F\u6d4b\u9a8c\u968f\u673a\u6570 x5 <- rpois(n= 1000,lambda=5) #\u6cca\u677e\u5206\u5e03\u7684\u968f\u673a\u6570 x6 <- rbinom(n=1000,size=100,prob=0.75) #\u4e8c\u9879\u5206\u5e03\u968f\u673a\u6570 rbinom\u662f\u751f\u6210\u4e8c\u9879\u5206\u5e03\uff0c\u5373\u6b63\u9762/\u53cd\u9762\u8fd9\u6837\uff0cn\u662f\u751f\u6210\u7684\u6570\u91cf\uff0csize\u662f\u5b9e\u9a8c\u6b21\u6570\uff0cprob\u662f\u6307\u5b9a\u6982\u7387\u3002 \u6a21\u62df1000\u6b21\u629b\u786c\u5e01\uff0c coin <- rbinom(n=1000,size=1,prob=0.5) y <- 2*x1 - 0.3*x2 + 0.6*x3 - 1.2*x4 + rexp(1000,rate=1) #rexp(1000,rate=1)\u751f\u6210\u6307\u6570\u5206\u5e03\u7684\u968f\u673a\u65701000\u4e2a \u5c06NA\u8d4b\u503c\u7ed9\u6307\u5b9a\u5217\u7684\u968f\u673a\u751f\u6210\u7684\u884c\u7684\u503c miss.df\u662f\u4e00\u4e2a\u6570\u636e\u6846 miss.df[sample(1:nrow(miss.df), 40),1] <- NA sample(1:nrow(miss.df), 40)\u662f\u751f\u6210\u968f\u673a\u76841\u5230\u884c\u6570\uff081000\uff09\u4e4b\u95f4\u7684\u968f\u673a\u768440\u4e2a\u6570 \u540e\u9762\u76841\u662f\u6307\u5b9a\u7b2c\u4e00\u5217 library(mice) im <- mice(data = miss.df, m = 10,maxit = 6, method = 'pmm') #m\u662f\u591a\u91cd\u63d2\u8865\u7684\u6b21\u6570\uff0cmaxit\u662f\u8bbe\u7f6e\u83b7\u53d6\u5b8c\u6574\u6570\u636e\u96c6\u7684\u4e2a\u6570,method\u662f\u9884\u6d4b\u65b9\u6cd5\uff0cpmm\u4f7f\u7528\u5e73\u5747\u503c\u9884\u6d4b fit <- with(data = im, expr = lm(y ~ x1 + x2 + x3 + x4+x5+x6)) pooled <- pool(object = fit) summary(pooled) lm.fit <- lm(y ~ x1 + x2 + x3 + x4+x5+x6, data = miss.df) summary(lm.fit) \u5173\u4e8e\u62df\u5408\u5173\u7cfb\uff0c\u53c2\u8003 https://zhuanlan.zhihu.com/p/51533928 y~x1 + x2 + x3 + x4+x5+x6 \u662f\u4e00\u4e2a\u62df\u5408\u5173\u7cfb\uff0cy\u662f\u56e0\u53d8\u91cf\uff0cx1,x2,x3,x4,x5,x6\u662f\u81ea\u53d8\u91cf\uff0c ~ \u4ee3\u8868\u5b58\u5728\u51fd\u6570\u5173\u7cfb\u3002\u6b64\u5904\u7684x1,x2,x3,x4,x5,x6\u4e4b\u95f4\u4e0d\u662f\u4f20\u7edf\u610f\u4e49\u7684\u52a0\u6cd5\u8fd0\u7b97\uff0c\u800c\u662f\u8868\u793a\u6bcf\u4e00\u4e2a\u90fd\u662f\u4e00\u4e2a\u81ea\u53d8\u91cf\u3002 ~ \u4e4b\u540e\u7684\u7b26\u53f7\u7684\u542b\u4e49\uff1a - + \u8868\u793a\u6dfb\u52a0\u65b0\u7684\u53d8\u91cf - - \u8868\u793a\u79fb\u9664\u4e00\u4e2a\u53d8\u91cf - : \u8868\u793a\u76f8\u4e92\u4f5c\u7528 - * \u8868\u793a\u4ea4\u53c9 - %in% \u8868\u793a\u5957\u53e0 - ^ \u8868\u793a\u5bf9\u4ea4\u53c9\u8fdb\u884c\u9650\u5236 lm() \u662f\u62df\u5408\u7ebf\u6027\u6a21\u578b\uff0c\u53ef\u7528\u4e8e\u56de\u5f52\u5206\u6790\uff0c\u5355\u56e0\u7d20\u65b9\u5dee\u5206\u6790\uff0c\u534f\u65b9\u5dee\u5206\u6790","title":"R\u8fdb\u9636\uff1a\u7f3a\u5931\u503c\u7684\u5904\u7406\u3001\u62df\u5408\u5173\u7cfb"},{"location":"R-in-action/R%E8%BF%9B%E9%98%B6%EF%BC%9A%E7%BC%BA%E5%A4%B1%E5%80%BC%E7%9A%84%E5%A4%84%E7%90%86%E3%80%81%E6%8B%9F%E5%90%88%E5%85%B3%E7%B3%BB/#_1","text":"1.\u4f7f\u7528\u4e2d\u4f4d\u6570\u6216\u8005\u5747\u503c\uff08\u975e\u6570\u503c\u65f6\u4f7f\u7528\u4f17\u6570\uff09\u6765\u586b\u8865\u7f3a\u5931\u503c x <- c(1,2,7,8,NA,10,22,NA,15,NA,9) y <-c('a',NA,'b',NA,'b','a','a','b','a','c','d') df <- data.frame(x, y) df x_mean <- mean(x,na.rm = TRUE) x_mean #x\u7684\u5e73\u5747\u503c x_median <- median(x, na.rm = TRUE) x_median #x\u7684\u4e2d\u4f4d\u6570 y_mode <- as.character(y[which.max(table(y))]) y_mode #y\u7684\u4f17\u6570 df2 <- replace_na(data = df, replace = list(x = x_mean, y = y_mode)) df2 #\u4f7f\u7528x\u7684\u5747\u503c\uff0cy\u7684\u4f17\u6570\uff0c\u6765\u586b\u5145\u7f3a\u5931\u503c\u3002 2.\u4f7f\u7528\u968f\u673a\u6570 3.\u4f7f\u7528 mice \u5305\u591a\u91cd\u586b\u8865\u6cd5\u8865\u5145\u6570\u636e 1\uff09mice()\u51fd\u6570\u4ece\u4e00\u4e2a\u542b\u7f3a\u5931\u503c\u7684\u6570\u636e\u6846\u5f00\u59cb\uff0c\u8fd4\u56de\u4e00\u4e2a\u5305\u542b\u591a\u4e2a\u5b8c\u6574\u6570\u636e\u96c6\u5bf9\u8c61\uff08\u9ed8\u8ba4\u53ef\u4ee5\u6a21\u62df\u53c2\u65705\u4e2a\u5b8c\u6574\u7684\u6570\u636e\u96c6\uff09\uff1b 2\uff09with()\u51fd\u6570\u53ef\u4f9d\u6b21\u5bf9\u6bcf\u4e2a\u5b8c\u6574\u6570\u636e\u96c6\u5e94\u7528\u7edf\u8ba1\u5efa\u6a21\uff1b 3\uff09pool()\u51fd\u6570\u5c06with()\u751f\u6210\u7684\u5355\u72ec\u7ed3\u679c\u6574\u5408\u5230\u4e00\u8d77\u3002","title":"\u7f3a\u5931\u503c\u7684\u5904\u7406"},{"location":"R-in-action/R%E8%BF%9B%E9%98%B6%EF%BC%9A%E7%BC%BA%E5%A4%B1%E5%80%BC%E7%9A%84%E5%A4%84%E7%90%86%E3%80%81%E6%8B%9F%E5%90%88%E5%85%B3%E7%B3%BB/#_2","text":"set.seed(12138) x1 <- runif(n = 1000, min = 1, max = 15) #runif\u751f\u6210\u5747\u5300\u5206\u5e03\u968f\u673a\u6570\uff0cn\u6307\u5b9a\u6570\u91cf\uff0cmin\u6700\u5c0f\u503c\uff0cmax\u6700\u5927\u503c x2 <- rnorm(n = 1000,mean = 10,sd=5) + 10 #rnorm\u751f\u6210\u6b63\u6001\u968f\u673a\u6570 ,n\u6570\u91cf\uff0cmean\u6b63\u6001\u5206\u5e03\u7684\u5747\u503c\uff0csd\u6b63\u6001\u5206\u5e03\u7684\u6807\u51c6\u5dee x3 <- rt(n = 1000, df = 3) #T\u6d4b\u9a8c\u968f\u673a\u6570 x4 <- rf(n = 1000, df1 = 2, df2 = 3) #F\u6d4b\u9a8c\u968f\u673a\u6570 x5 <- rpois(n= 1000,lambda=5) #\u6cca\u677e\u5206\u5e03\u7684\u968f\u673a\u6570 x6 <- rbinom(n=1000,size=100,prob=0.75) #\u4e8c\u9879\u5206\u5e03\u968f\u673a\u6570 rbinom\u662f\u751f\u6210\u4e8c\u9879\u5206\u5e03\uff0c\u5373\u6b63\u9762/\u53cd\u9762\u8fd9\u6837\uff0cn\u662f\u751f\u6210\u7684\u6570\u91cf\uff0csize\u662f\u5b9e\u9a8c\u6b21\u6570\uff0cprob\u662f\u6307\u5b9a\u6982\u7387\u3002","title":"\u968f\u673a\u6570\u7684\u751f\u6210\u65b9\u6cd5"},{"location":"R-in-action/R%E8%BF%9B%E9%98%B6%EF%BC%9A%E7%BC%BA%E5%A4%B1%E5%80%BC%E7%9A%84%E5%A4%84%E7%90%86%E3%80%81%E6%8B%9F%E5%90%88%E5%85%B3%E7%B3%BB/#1000coin-rbinomn1000size1prob05","text":"y <- 2*x1 - 0.3*x2 + 0.6*x3 - 1.2*x4 + rexp(1000,rate=1) #rexp(1000,rate=1)\u751f\u6210\u6307\u6570\u5206\u5e03\u7684\u968f\u673a\u65701000\u4e2a","title":"\u6a21\u62df1000\u6b21\u629b\u786c\u5e01\uff0ccoin &lt;- rbinom(n=1000,size=1,prob=0.5)"},{"location":"R-in-action/R%E8%BF%9B%E9%98%B6%EF%BC%9A%E7%BC%BA%E5%A4%B1%E5%80%BC%E7%9A%84%E5%A4%84%E7%90%86%E3%80%81%E6%8B%9F%E5%90%88%E5%85%B3%E7%B3%BB/#na","text":"miss.df\u662f\u4e00\u4e2a\u6570\u636e\u6846 miss.df[sample(1:nrow(miss.df), 40),1] <- NA sample(1:nrow(miss.df), 40)\u662f\u751f\u6210\u968f\u673a\u76841\u5230\u884c\u6570\uff081000\uff09\u4e4b\u95f4\u7684\u968f\u673a\u768440\u4e2a\u6570 \u540e\u9762\u76841\u662f\u6307\u5b9a\u7b2c\u4e00\u5217 library(mice) im <- mice(data = miss.df, m = 10,maxit = 6, method = 'pmm') #m\u662f\u591a\u91cd\u63d2\u8865\u7684\u6b21\u6570\uff0cmaxit\u662f\u8bbe\u7f6e\u83b7\u53d6\u5b8c\u6574\u6570\u636e\u96c6\u7684\u4e2a\u6570,method\u662f\u9884\u6d4b\u65b9\u6cd5\uff0cpmm\u4f7f\u7528\u5e73\u5747\u503c\u9884\u6d4b fit <- with(data = im, expr = lm(y ~ x1 + x2 + x3 + x4+x5+x6)) pooled <- pool(object = fit) summary(pooled) lm.fit <- lm(y ~ x1 + x2 + x3 + x4+x5+x6, data = miss.df) summary(lm.fit) \u5173\u4e8e\u62df\u5408\u5173\u7cfb\uff0c\u53c2\u8003 https://zhuanlan.zhihu.com/p/51533928 y~x1 + x2 + x3 + x4+x5+x6 \u662f\u4e00\u4e2a\u62df\u5408\u5173\u7cfb\uff0cy\u662f\u56e0\u53d8\u91cf\uff0cx1,x2,x3,x4,x5,x6\u662f\u81ea\u53d8\u91cf\uff0c ~ \u4ee3\u8868\u5b58\u5728\u51fd\u6570\u5173\u7cfb\u3002\u6b64\u5904\u7684x1,x2,x3,x4,x5,x6\u4e4b\u95f4\u4e0d\u662f\u4f20\u7edf\u610f\u4e49\u7684\u52a0\u6cd5\u8fd0\u7b97\uff0c\u800c\u662f\u8868\u793a\u6bcf\u4e00\u4e2a\u90fd\u662f\u4e00\u4e2a\u81ea\u53d8\u91cf\u3002 ~ \u4e4b\u540e\u7684\u7b26\u53f7\u7684\u542b\u4e49\uff1a - + \u8868\u793a\u6dfb\u52a0\u65b0\u7684\u53d8\u91cf - - \u8868\u793a\u79fb\u9664\u4e00\u4e2a\u53d8\u91cf - : \u8868\u793a\u76f8\u4e92\u4f5c\u7528 - * \u8868\u793a\u4ea4\u53c9 - %in% \u8868\u793a\u5957\u53e0 - ^ \u8868\u793a\u5bf9\u4ea4\u53c9\u8fdb\u884c\u9650\u5236","title":"\u5c06NA\u8d4b\u503c\u7ed9\u6307\u5b9a\u5217\u7684\u968f\u673a\u751f\u6210\u7684\u884c\u7684\u503c"},{"location":"R-in-action/R%E8%BF%9B%E9%98%B6%EF%BC%9A%E7%BC%BA%E5%A4%B1%E5%80%BC%E7%9A%84%E5%A4%84%E7%90%86%E3%80%81%E6%8B%9F%E5%90%88%E5%85%B3%E7%B3%BB/#lm","text":"","title":"lm()\u662f\u62df\u5408\u7ebf\u6027\u6a21\u578b\uff0c\u53ef\u7528\u4e8e\u56de\u5f52\u5206\u6790\uff0c\u5355\u56e0\u7d20\u65b9\u5dee\u5206\u6790\uff0c\u534f\u65b9\u5dee\u5206\u6790"},{"location":"R-in-action/R%EF%BC%9Aggplot2%E7%94%BB%E5%9B%BE%E7%A7%8D%E5%9B%BE%E5%BD%A2%E6%8E%92%E5%BA%8F/","text":"install.packages(\"forcats\") library(forcats) fct_infreq","title":"R\uff1aggplot2\u753b\u56fe\u79cd\u56fe\u5f62\u6392\u5e8f"},{"location":"R-in-action/R%EF%BC%9A%E5%BF%AB%E9%80%9F%E7%BB%98%E5%88%B6SCI%E7%9B%B4%E6%96%B9%E5%9B%BE/","text":"library(\"ggplot2\") library(ggprism) #\u53ef\u4ee5\u5b8c\u5584ggplot2\u7684\u56fe\u4f7f\u4e4b\u8fbe\u5230\u53d1\u8868\u7ea7\u522b miRNA_RT <- read.csv(\"miRNAfamily.csv\",header = T) #\u6309\u7167\u6307\u5b9a\u987a\u5e8f\u7ed8\u5236\u76f4\u65b9\u56fe ggplot(miRNA_RT,aes(x=reorder(miRNA_family,-Count), y=Count) + geom_bar(stat=\"identity\", fill=\"#f68060\", alpha=.6, width=.4)+ xlab(\"miRNA family\")+ scale_y_continuous(expand = c(0,0))+ #\u7eb5\u5750\u6807\u4ece0\u5f00\u59cb theme_prism(base_size=10) + #\u51fa\u7248\u5b57\u4f53 #coord_flip() + #\u8f6c\u6362xy\u8f74 #xlab(\"\") + #x\u8f74\u6807\u9898 theme(axis.text.x=element_text(angle = 45,hjust = 0.5,vjust = 0.5)) #\u4fee\u6539reorder\u91cc\u7684Count\u4e3a-\uff0c\u5373\u5012\u5e8f\u6392\u5217 ggplot(miRNA_RT,aes(x=reorder(miRNA_family,-Count), y=Count) + geom_bar(stat=\"identity\", fill=\"#f68060\", alpha=.6, width=.4)+ xlab(\"miRNA family\")+ scale_y_continuous(expand = c(0,0))+ #\u7eb5\u5750\u6807\u4ece0\u5f00\u59cb theme_prism(base_size=10) + #\u51fa\u7248\u5b57\u4f53 theme(axis.text.x=element_text(angle = 45,hjust = 0.5,vjust = 0.5)) miRNA_RT\u6570\u636e\u683c\u5f0f\u5982\u4e0b\uff1a miRNA_family Count MIR162_1 1 MIR393 3 MIR160 4 MIR394 2","title":"R\uff1a\u5feb\u901f\u7ed8\u5236SCI\u76f4\u65b9\u56fe"},{"location":"R-in-action/R%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%B8%B8%E7%94%A8%E5%8C%85-tidyverse/","text":"R4DS :\u5728\u7ebf\u7535\u5b50\u4e66\u7528\u4e8e\u5b66\u4e60tidyverse\u7684\u7528\u6cd5 \u6570\u636e\u79d1\u5b66\u5904\u7406\u4f7f\u7528 tidyverse data.table \u5927\u6570\u636e\u5904\u7406\u9996\u9009data.table\uff0c\u591aCPU\u5e76\u884c\u8fd0\u7b97\uff0c100G\u5185\u5b58\u5373\u53ef\u652f\u630120\u4ebf\u884c\u7684\u57fa\u51c6\u6d4b\u8bd5\u3002\u901f\u5ea6\u8bfb\u53d6\u5199\u5165\u901f\u5ea6\u90fd\u6bd4dplyr\u5feb\u3002 R\u548cpython\u7684\u6570\u636e\u5904\u7406\u5305\u7684\u901f\u5ea6\u5bf9\u6bd4\u8bc4\u6d4b \u6027\u80fd\u8bc4\u6d4b\u4e00\u822c\u662f\uff1agroup_by\u548cjoin\u51fd\u6570\uff0c\u663e\u7136data.table\u901f\u5ea6\u5feb\u4e8edplyr. dplyr data.table dplyr data.table\u5bf9\u6bd4 tidyverse \u5305\u542b\u591a\u4e2a\u5305 - ggplot2 \u7528\u4e8e\u53ef\u89c6\u5316 - dplyr \u6570\u636e\u5904\u7406 - tidyr \u6570\u636e\u5904\u7406 - stringr \u5b57\u7b26\u4e32\u7684\u5904\u7406 - readr \u6587\u4ef6\u7684\u8bfb\u53d6 - purrr \u51fd\u6570\u7684\u8fed\u4ee3 - forcats \u5904\u7406\u56e0\u5b50\u95ee\u9898 - tibble \u5b9e\u73b0data.table\u7c7b\u4f3c\u7684\u4f18\u96c5\u5904\u7406dataframe\u95ee\u9898 dplyr\u53c2\u8003 \u6570\u636e\u5904\u7406\u7ecf\u5e38\u7528\u5230\u7684\u5305 dplyr , data.table , Base R \u6d4b\u8bd5\u8868\u660e\uff0cdplyr\u7684\u901f\u5ea6\u8981\u5feb\u4e8edata.table. dplyr \u662f tidyverse \u5176\u4e2d\u7684\u4e00\u4e2a\u5305\u3002 \u6570\u636e\u5904\u7406\u4e00\u822c\u7684\u6d41\u7a0b\uff1a 1.\u6570\u636e\u8fc7\u6ee4\uff08\u53bb\u91cd\uff09 2.\u9009\u62e9 3.\u6bd4\u5bf9\uff0c\u5339\u914d 4.\u5206\u7ec4 5.\u6392\u5e8f 6.\u62bd\u6837 \u5728excel\u4e2d\u4e5f\u53ef\u4ee5\u5b8c\u6210\u4e0a\u8ff0\u64cd\u4f5c\uff0c\u4f46\u662f\u5f53\u6570\u91cf\u8fbe\u5230\u5341\u4e07\u4ee5\u4e0a\u7ea7\u522b\u540e\uff0cexcel\u901f\u5ea6\u6162\u5982\u8717\u725b\u3002 dplyr\u7528\u6cd5\u793a\u4f8b \u6570\u636e\u53bb\u91cd distinct(df,V1,V2) \u6839\u636eV1\u548cV2\u4e24\u4e2a\u6761\u4ef6\u6765\u8fdb\u884c\u53bb\u91cd \u65b0\u589e\u5217 mutate(df,vnew1=v1-v2,vnew2=vnew1+v3) \u652f\u6301\u5728\u521b\u5efa\u7684\u65b0\u5217\u7684\u57fa\u7840\u4e0a\uff0c\u518d\u65b0\u5efa\u5217\u3002 \u8fc7\u6ee4\u51fd\u6570 filter(df,cond1,cond2,\u2026) \u7528\u9017\u53f7,\u9694\u5f00\u8868\u793a\u6761\u4ef6\u662fand\u7684\u5173\u7cfb filter(df,cond1|cond2|\u2026) \u7528\u7ad6\u7ebf|\u9694\u5f00\u8868\u793a\u6761\u4ef6\u662for\u7684\u5173\u7cfb slice(df,80:100) \u9009\u53d6\u7d22\u5f1580\u5230100\u7684\u6570\u636e \u6392\u5e8f arrange(df,V1,desc(V2),V3) V1,V3\u5347\u5e8f\uff0cV2\u964d\u5e8f arranage(df,V1) \u5347\u5e8f\u6392\u5217V1 arrange(df,desc(V3)) \u964d\u5e8f\u6392\u5217V3 \u9009\u62e9 select(df,V1,V2,V3) \u9009\u62e9V1,V2,V3\u8fd9\u4e09\u5217 select(df,V1:V3) \u9009\u62e9V1\u5230V3\u5217\u4e4b\u95f4\u7684\u6240\u6709\u5217 select(df,-c(v1,V3)) \u9009\u62e9\u9664V1,V3\u4e4b\u5916\u7684\u6240\u6709\u5217 \u5206\u7ec4 group_by(df,V1,V2) df\u6839\u636eV1,V2\u8fdb\u884c\u5206\u7ec4 \u8ba1\u7b97\u7edf\u8ba1\u6570\u636e summarise(df,mean(V1),sum(V4)) \u968f\u673a\u62bd\u53d6 sample_n(df,1000) \u968f\u673a\u62bd\u53d61000\u4e2a\u6570\u636e sample_frac(df,0.7) \u968f\u673a\u62bd\u53d670%\u7684\u6570\u636e \u53c2\u8003\u5730\u5740 https://www.cnblogs.com/nxld/p/6060533.html \u6570\u636e\u683c\u5f0f\u8f6c\u6362tidyr\u5305 library(tidyr) library(dplyr) \u7f3a\u5931\u503c\u7684\u7b80\u5355\u8865\u9f50 \u957f\u5f62\u8868\u53d8\u5bbd\u5f62\u8868\u4e0e\u5bbd\u5f62\u8868\u53d8\u957f\u5f62\u8868 \u3000\u3000gather-\u628a\u5bbd\u5ea6\u8f83\u5927\u7684\u6570\u636e\u8f6c\u6362\u6210\u4e00\u4e2a\u66f4\u957f\u7684\u5f62\u5f0f\uff0c\u5b83\u7c7b\u6bd4\u4e8e\u4ecereshape2\u5305\u4e2d\u878d\u5408\u51fd\u6570\u7684\u529f\u80fd \u3000\u3000spread-\u628a\u957f\u7684\u6570\u636e\u8f6c\u6362\u6210\u4e00\u4e2a\u66f4\u5bbd\u7684\u5f62\u5f0f\uff0c\u5b83\u7c7b\u6bd4\u4e8e\u4ecereshape2\u5305\u4e2d\u94f8\u9020\u51fd\u6570\u7684\u529f\u80fd\u3002 \u3000 gather()\u76f8\u53cd\u7684\u662fspread()\uff0c\u524d\u8005\u5c06\u4e0d\u540c\u7684\u5217\u5806\u53e0\u8d77\u6765\uff0c\u540e\u8005\u5c06\u540c\u4e00\u5217\u5206\u5f00 \u957f\u77ed\u6570\u636e\u7684\u8f6c\u6362\u4e3b\u8981\u662f\u7528\u4e8eggplot2\u7684\u51fa\u56fe\uff0cggplot2\u9700\u8981\u7684\u662f\u957f\u6570\u636e\uff0c\u800c\u6211\u4eec\u65e5\u5e38\u8f93\u5165\u7684\u6570\u636e\u662f\u5bbd\u6570\u636e \u5bbd\u6570\u636e\u5b9e\u4f8b \u4e0b\u9762\u6570\u636e\u7684\u7b2c\u4e00\u5217\u6570\u5b57\u662fR\u4e2d\u7684\u884c\u53f7 allinfo \u5185\u5bb9\u5982\u4e0b province primary middle senior higher postgraduate 1 \u5317\u4eac 109.4579 110.5105 96.20949 98.91572 107.82594 2 \u5929\u6d25 113.4776 114.0266 94.79238 99.90067 88.54674 3 \u6cb3\u5317 114.6299 113.0214 91.19643 87.67520 81.96543 4 \u5c71\u897f 107.9786 108.3219 92.03961 82.94410 73.76735 5 \u5185\u8499\u53e4 109.1339 108.9091 92.13359 89.96668 67.54206 6 \u8fbd\u5b81 110.3081 110.8525 91.70425 112.46839 87.90451 ``` `allinfoNew`\u5185\u5bb9\u5982\u4e0b \u8f6c\u6362\u6210\u957f\u6570\u636e\u540e `allinfoNew <- allinfo %>% gather(school,value, -province)` \u5c06allinfo\u7684\u6240\u6709\u5217\uff0c\u9664\u4e86province\u5217\u4e4b\u5916\u5168\u90e8\u5408\u5e76\u6210\u4e24\u5217\uff0c\u4e00\u5217\u662fschool,\u4e00\u5217\u662fvalue. province school value 1 \u5317\u4eac primary 109.45794 2 \u5929\u6d25 primary 113.47760 3 \u6cb3\u5317 primary 114.62993 4 \u5c71\u897f primary 107.97863 5 \u5185\u8499\u53e4 primary 109.13391 6 \u8fbd\u5b81 primary 110.30810 7 \u5317\u4eac middle 110.51045 8 \u5929\u6d25 middle 114.02665 9 \u6cb3\u5317 middle 113.02139 10 \u5c71\u897f middle 108.32195 11 \u5185\u8499\u53e4 middle 108.90907 12 \u8fbd\u5b81 middle 110.85252 13 \u5317\u4eac senior 96.20949 14 \u5929\u6d25 senior 94.79238 15 \u6cb3\u5317 senior 91.19643 16 \u5c71\u897f senior 92.03961 17 \u5185\u8499\u53e4 senior 92.13359 18 \u8fbd\u5b81 senior 91.70425 19 \u5317\u4eac higher 98.91572 20 \u5929\u6d25 higher 99.90067 21 \u6cb3\u5317 higher 87.67520 22 \u5c71\u897f higher 82.94410 23 \u5185\u8499\u53e4 higher 89.96668 24 \u8fbd\u5b81 higher 112.46839 25 \u5317\u4eac postgraduate 107.82594 26 \u5929\u6d25 postgraduate 88.54674 27 \u6cb3\u5317 postgraduate 81.96543 28 \u5c71\u897f postgraduate 73.76735 29 \u5185\u8499\u53e4 postgraduate 67.54206 30 \u8fbd\u5b81 postgraduate 87.90451 ####\u957f\u6570\u636e\u8f6c\u4e3a\u5bbd\u6570\u636e `allinfoFat <- allinfoNew %>% spread(school,value)` `allinfoFat`\u548callinfo\u7684\u5185\u5bb9\u4e00\u81f4\u3002 school\u662f\u8981\u62c6\u5206\u7684\u5217\u7684\u5bf9\u8c61\uff0cvalue\u662f\u8981\u62c6\u5206\u5217\u7684\u503c\u3002 - 3. \u5217\u5206\u5272\u4e0e\u5217\u5408\u5e76 \u3000\u3000separate\uff0d\u5c06\u4e00\u5217\u6309\u5206\u9694\u7b26\u5206\u5272\u4e3a\u591a\u5217 \u3000\u3000unite\uff0d\u5c06\u591a\u5217\u6309\u6307\u5b9a\u5206\u9694\u7b26\u5408\u5e76\u4e3a\u4e00\u5217 tidyr\u5305\uff1a\uff08gather\uff08\u5bbd\u6570\u636e\u8f6c\u4e3a\u957f\u6570\u636e\uff09\u3001spread\uff08\u957f\u6570\u636e\u8f6c\u4e3a\u5bbd\u6570\u636e\uff09\u3001unit\uff08\u591a\u5217\u5408\u5e76\u4e3a\u4e00\u5217\uff09\u3001separate\uff08\u5c06\u4e00\u5217\u5206\u79bb\u4e3a\u591a\u5217\uff09\uff09 #### stringr\u7684\u7528\u6cd5 library(stringr) x <- c(\"why\", \"video\", \"cross\", \"extra\", \"deal\", \"authority\") str_length(x)#\u83b7\u53d6\u5b57\u7b26\u4e32\u7684\u957f\u5ea6 > [1] 3 5 5 5 4 9 str_c(x, collapse = \", \")#\u66ff\u6362\u5206\u9694\u7b26 > [1] \"why, video, cross, extra, deal, authority\" str_sub(x, 1, 2)#\u63d0\u53d6\u6307\u5b9a\u957f\u5ea6\u7684\u5b57\u7b26\u4e32 > [1] \"wh\" \"vi\" \"cr\" \"ex\" \"de\" \"au\" str_subset(x, \"[aeiou]\") #\u5339\u914d\u5305\u542baeiou\u7684\u5b57\u7b26\u4e32 > [1] \"video\" \"cross\" \"extra\" \"deal\" \"authority\" str_count(x, \"[aeiou]\")#\u5339\u914d\u5305\u542baeiou\u7684\u5b57\u7b26\u7684\u6570\u91cf > [1] 0 3 1 2 2 4 str_detect(x, \"[aeiou]\") #\u8fd4\u56de\u662f\u5426\u5305\u542baeiou\u5b57\u7b26\u4e32\u7684\u903b\u8f91\u503c > [1] FALSE TRUE TRUE TRUE TRUE TRUE str_locate(x, \"[aeiou]\") #\u8fd4\u56de\u6bcf\u4e2a\u5b57\u7b26\u4e32\u9996\u6b21\u5339\u914d\u7684\u8d77\u59cb\u4f4d\u7f6e\u548c\u7ec8\u6b62\u4f4d\u7f6e\u3002\uff08\u4f8b\u5b50\u4e2d\u9700\u8981\u5339\u914d\u7684\u5b57\u7b26\u4e32\u957f\u5ea6\u90fd\u662f1\uff0c\u6240\u4ee5\u7ec8\u6b62\u4f4d\u7f6e\u548c\u8d77\u59cb\u4f4d\u7f6e\u662f\u4e00\u6837\u7684\uff09 str_locate_all(x, \"[aeiou]\") #\u8fd4\u56de\u6bcf\u4e2a\u5b57\u7b26\u4e32\u6240\u6709\u7684\u4e0e\u5339\u914d\u5b57\u7b26\u5339\u914d\u7684\u8d77\u59cb\u4f4d\u7f6e\u548c\u7ec8\u6b62\u4f4d\u7f6e\u3002 str_extract(x, \"[aeiou]\") #\u63d0\u53d6\u6bcf\u4e2a\u5b57\u7b26\u4e32\u4e2d\u4e0e\u5339\u914d\u5b57\u7b26\u4e32\u4e00\u81f4\u7684\u5b57\u7b26 str_match(x, \"(.) aeiou \") #\u5339\u914d str_replace(x, \"[aeiou]\", \"^\") #\u66ff\u6362\u5339\u914d\u7684\u5b57\u7b26 [1] \"why\" \"v^deo\" \"cr^ss\" \"^xtra\" \"d^al\" \"^uthority\" str_split(c(\"a,b\", \"c,d,e\"), \",\") #\u6307\u5b9a\u4f7f\u7528\u9017\u53f7\u5206\u5272\u5b57\u7b26\u4e32 #### forcats\u7684 \u7528\u6cd5 library(forcats) fct_reorder()#: \u6309\u53e6\u4e00\u4e2a\u53d8\u91cf\u91cd\u65b0\u6392\u5e8f\u4e00\u4e2a\u56e0\u5b50\u3002 fct_infreq()#\uff1a\u6309\u503c\u7684\u9891\u7387\u5bf9\u56e0\u5b50\u91cd\u65b0\u6392\u5e8f\u3002 fct_relevel()#\uff1a\u624b\u52a8\u66f4\u6539\u56e0\u5b50\u7684\u987a\u5e8f\u3002 fct_lump()#\uff1a\u5c06\u4e00\u4e2a\u56e0\u7d20\u7684\u6700\u5c11/\u6700\u9891\u7e41\u503c\u6298\u53e0\u4e3a\u201c\u5176\u4ed6\u201d\u3002 starwars %>% filter(!is.na(species)) %>% count(species, sort = TRUE) starwars %>% filter(!is.na(species)) %>% mutate(species = fct_lump(species, n = 3)) %>% count(species) filter(starwars,!is.na(hair_color))%>% ggplot(aes(x = hair_color)) + geom_bar() + coord_flip() starwars %>% filter(!is.na(hair_color))%>% mutate(hair_color = fct_infreq(hair_color))%>% ggplot(aes(x = hair_color)) + geom_bar() + coord_flip() ### readr\u8bfb\u53d6\u6587\u4ef6 `readr`\u6bd4baseR\u8bfb\u53d6\u5feb10\u500d `data.table`\u5305\u7684`fread`\u7684\u901f\u5ea6\u6bd4`readr`\u5feb1-2\u500d library(readr) read_csv()#: \u9017\u53f7\u5206\u9694 (CSV) \u6587\u4ef6 read_tsv()#: \u5236\u8868\u7b26\u5206\u9694\u7684\u6587\u4ef6 read_delim()#: \u4e00\u822c\u5206\u9694\u6587\u4ef6 read_fwf()#: \u56fa\u5b9a\u5bbd\u5ea6\u6587\u4ef6 read_table()#\uff1a\u5217\u7531\u7a7a\u683c\u5206\u9694\u7684\u8868\u683c\u6587\u4ef6\u3002 read_log()#: \u7f51\u7edc\u65e5\u5fd7\u6587\u4ef6 #purrr\u7528\u4e8e\u8fed\u4ee3\u51fd\u6570\uff0c\u901f\u5ea6\u975e\u5e38\u5feb library(purrr) purrr\u7684\u6240\u6709\u51fd\u6570\u662fC\u5b9e\u73b0\u7684\uff0c\u6240\u4ee5\u901f\u5ea6\u975e\u5e38\u5feb\u3002map\u5b9e\u73b0\u7684\u662ffor\u5faa\u73af\uff0c\u8fd4\u56de\u503c\u662f\u5411\u91cf map() #map\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u53ef\u4ee5\u662f\u5411\u91cf\u6216\u6570\u636e\u6846\u3002 map_lgl() #\u751f\u6210\u4e00\u4e2a\u903b\u8f91\u5411\u91cf\u3002 map_int() #\u751f\u6210\u4e00\u4e2a\u6574\u6570\u5411\u91cf\u3002 map_dbl() #\u5f62\u6210\u4e00\u4e2a\u53cc\u5411\u91cf\u3002 map_chr() #\u5236\u4f5c\u4e00\u4e2a\u5b57\u7b26\u5411\u91cf\u3002 \u793a\u4f8b\uff1a map_int(x,str_count) x1 <- rnorm(100,mean = 50,sd=15) #\u4ea7\u751f\u968f\u673a\u6570100\u4e2a\uff0c\u5747\u503c50\uff0c\u6807\u51c6\u5dee15 x2 <- rnorm(100,mean=100) x3 <- rnorm(100) xd <- data.frame(x1,x2,x3) map(xd,sum) map(xd,sd) ### dplyr\u5305\u7684\u4f7f\u7528\uff1a\u6570\u636e\u5904\u7406 library(dplyr) \u6570\u636e\u5305 \u822a\u73ed \u4e16\u754c\u53d1\u5c55 \u68d2\u7403\u6570\u636e if(!require(c(\"nycflights13\", \"gapminder\", \"Lahman\")))install.packages(c(\"nycflights13\", \"gapminder\", \"Lahman\")) #\u4e09\u4e2a\u6570\u636e\u5305 library(nycflights13) flights #\u662f2013\u5e74\u7f8e\u56fd\u7ebd\u7ea6\u51fa\u53d1\u7684\u822a\u73ed\u4fe1\u606f dplyr\u5e38\u7528\u7684\u51fd\u6570 \u6839\u636e\u5176\u503c\uff08filter()\uff09\u9009\u62e9\u89c2\u5bdf\u503c\u3002 \u91cd\u65b0\u6392\u5e8f\u884c\uff08arrange()\uff09\u3002 \u6309\u53d8\u91cf\u540d\u79f0\uff08select()\uff09\u9009\u62e9\u53d8\u91cf\u3002 \u4f7f\u7528\u73b0\u6709\u53d8\u91cf\uff08mutate()\uff09\u7684\u529f\u80fd\u521b\u5efa\u65b0\u53d8\u91cf\u3002 \u5c06\u8bb8\u591a\u503c\u6298\u53e0\u4e3a\u4e00\u4e2a\u6458\u8981\uff08summarise()\uff09\u3002 April_1st <- filter(flights,month==4,day==1) #\u67e5\u8be22013\u5e744\u67081\u65e5\u51fa\u53d1\u7684\u822a\u73ed filter(flights,!(dep_delay>60|arr_delay>60),month %in% c(4,5,6)) #\u67e5\u770b\u7b2c\u4e8c\u5b63\u5ea6\u7684\u51fa\u53d1\u548c\u5230\u8fbe\u65f6\u95f4\u5ef6\u8bef\u5747\u5c0f\u4e8e\u7b49\u4e8e60min\u7684\u822a\u73ed \u67e5\u627e\u65e9\u4e0a7\u70b9\u524d\u5230\u8fbe\u548c23\u70b9\u4e4b\u540e\u5230\u8fbe\u7684\u822a\u73ed\uff0c\u6839\u636e\u51fa\u53d1\u65f6\u95f4\u4ece\u65e9\u5230\u665a\uff0c\u548c\u5230\u8fbe\u65f6\u95f4\u4ece\u665a\u5230\u65e9\u6392\u5e8f filter(flights,arr_time<700 | arr_time>2300) %>% arrange(dep_time,desc(arr_time)) \u6311\u9009\u6307\u5b9a\u5217 select(flights,origin,dest,distance,air_time) \u6311\u9009\u6307\u5b9a\u5217\u548c\u6307\u5b9a\u5217\u4e4b\u95f4\u7684\u5217 select(flights, flight:hour) \u6311\u9009\u9664\u4e86\u6307\u5b9a\u5217\u548c\u6307\u5b9a\u5217\u4e4b\u95f4\u7684\u5217\u4e4b\u5916\u6240\u6709\u7684\u5217 select(flights, -(flight:hour)) \u6311\u9009\u6307\u5b9a\u5217\u4e4b\u5916\u7684\u5217 select(flights,-c(year,month,day)) \u91cd\u547d\u540d\u5217\u540d(\u65b0\u7684\u5217\u540d\u5728\u524d\u9762\uff0c=\u540e\u662f\u65e7\u7684\u5217\u540d) rename(flights, departtime = dep_time) select\u5185\u90e8\u8f85\u52a9\u51fd\u6570 starts_with(\"abc\")\uff1a\u5339\u914d\u4ee5\u201c abc\u201d\u5f00\u5934\u7684\u540d\u79f0\u3002 ends_with(\"xyz\")\uff1a\u5339\u914d\u4ee5\u201c xyz\u201d\u7ed3\u5c3e\u7684\u540d\u79f0\u3002 contains(\"ijk\")\uff1a\u5339\u914d\u5305\u542b\u201c ijk\u201d\u7684\u540d\u79f0\u3002 matches(\"(.)\\1\")\uff1a\u9009\u62e9\u4e0e\u6b63\u5219\u8868\u8fbe\u5f0f\u5339\u914d\u7684\u53d8\u91cf\u3002\u8be5\u53d8\u91cf\u4e0e\u4efb\u4f55\u5305\u542b\u91cd\u590d\u5b57\u7b26\u7684\u53d8\u91cf\u5339\u914d\u3002\u60a8\u5c06\u4e86\u89e3\u6709\u5173\u5b57\u7b26\u4e32\u4e2d\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u66f4\u591a\u4fe1\u606f\u3002 num_range(\"x\", 1:3)\uff1a\u5339\u914dx1\uff0cx2\u548cx3\u3002 \u6311\u9009\u5217\u540d\u4ee5time\u7ed3\u5c3e\u7684\u5217 select(flights,ends_with(\"time\")) \u6311\u9009\u5305\u542bdep\u8d77\u98de\u4fe1\u606f\u7684\u5217 select(flights,contains(\"dep\")) select\u548ceverything\u8054\u7528\uff0c\u7528\u4e8e\u8c03\u6574\u5217\u7684\u987a\u5e8f(\u628aorigin\u548cdest\u62cd\u5230\u6700\u524d\u9762) select(flights, origin, dest, everything()) select\u9009\u62e9\u5408\u9002\u7684\u5217 flights_sml <- select(flights, year:day, ends_with(\"delay\"), distance, air_time ) head(flights_sml) mutate\u589e\u52a0\u65b0\u7684\u5217\uff0c\u540c\u65f6\u4fdd\u7559\u539f\u6765\u7684\u5217 mutate(flights_sml, gain = dep_delay - arr_delay, speed = distance / air_time * 60 ) transmute\u662f\u751f\u6210\u65b0\u7684\u5217\uff0c\u4f46\u662f\u4e0d\u4fdd\u7559\u539f\u6765\u7684\u5217 transmute(flights, gain = dep_delay - arr_delay, hours = air_time / 60, gain_per_hour = gain / hours ) near \u5224\u65ad\u4e24\u4e2a\u6570\u5b57\u662f\u5426\u76f8\u7b49 \u56e0\u4e3a\u8ba1\u7b97\u673a\u6709\u6548\u6570\u5b57\u7684\u95ee\u9898\uff0c\u65e0\u9650\u4e0d\u5faa\u73af\u5c0f\u6570\u4f1a\u88ab\u622a\u65ad\uff0c\u6240\u4ee5\u6709\u65f6\u5019==\u5e76\u4e0d\u6210\u7acb sqrt(2)^2 == 2 #\u8fd4\u56deFALSE near(sqrt(2)^2,2) #\u8fd4\u56deTRUE lead/lag\u524d\u5bfc\u503c\u6216\u6ede\u540e\u503c \u6eda\u52a8\u5206\u6790 x <- seq(1,29,by=3) x cumsum(x) > [1] 1 5 12 22 35 51 70 92 117 145 cummean(x) [1] 1.0 2.5 4.0 5.5 7.0 8.5 10.0 11.5 13.0 14.5 cumprod(x) cummax(x) cummin(x) \u5206\u6790\u822a\u73ed\u7684\uff08\u5230\u8fbe\u65f6\u95f4-\u51fa\u53d1\u65f6\u95f4\uff09\u548c\u7a7a\u4e2d\u65f6\u95f4\u7684\u5dee\u503c\uff0c\u53ef\u4ee5\u770b\u51fa\u975e\u98de\u884c\u65f6\u95f4\u5728\u673a\u8231\u5185\u7684 \u65f6\u95f4\u6bd4\u8f83\u957f\u7684\u822a\u73ed\u90fd\u662f\u957f\u8ddd\u79bb\u822a\u73ed>1000km,\u800c\u4e14\u4e3b\u8981\u662f\u76ee\u7684\u5730\u662fJFK\u673a\u573a\u7684\u822a\u73ed\u3002\u8bf4\u660eJFK\u7684\u8fdb\u6e2f\u65f6\u95f4\u6bd4\u8f83\u957f\uff0c\u673a\u573a\u5730\u52e4\u6bd4\u8f83\u6162 flights %>% arrange(origin) %>% group_by(origin) %>% select(contains(\"time\"),dest,distance) %>% mutate(groundtime = arr_time - dep_time - air_time) %>% arrange(desc(groundtime)) flights %>% head(10) %>% identity() %>% rownames() ggplot(aes(x=air_time))+ #geom_histogram()+ NULL geom_boxplot(aes(carrier,flight)) summaries summarise(flights,delay=mean(dep_delay,na.rm=TRUE)) \u663e\u793a\u51fa\u6bcf\u5929\u7684\u5e73\u5747\u51fa\u53d1\u5ef6\u8bef\u65f6\u957f by_day <- group_by(flights,year,month,day) summarise(by_day,delay = mean(dep_delay,na.rm=TRUE)) \u663e\u793a\u51fa\u53d1\u5730\u548c\u5230\u8fbe\u5730\u7684\u5e73\u5747\u5ef6\u8bef\u65f6\u957f by_port <- group_by(flights,origin,dest) summarise(by_port,delay=mean(dep_delay,na.rm=TRUE)) by_dest <- group_by(flights, dest) #\u6839\u636e\u51fa\u53d1\u5730\u5206\u7ec4 delay <- summarise(by_dest, count = n(), dist = mean(distance, na.rm = TRUE), #\u8ddd\u79bb\u7684\u5747\u503c delay = mean(arr_delay, na.rm = TRUE) #\u5230\u8fbe\u65f6\u5ef6\u8bef\u7684\u5747\u503c ) %>% filter(count > 20, dest != \"HNL\") #\u8fc7\u6ee4\u6389\u8ba1\u6570\u5c11\u4e8e20\uff0c\u76ee\u7684\u5730\u662fHNL\u7684\u6570\u636e\uff0cHNL\u8ddd\u79bb\u5176\u4ed6\u673a\u573a\u592a\u8fdc\u4e86 It looks like delays increase with distance up to ~750 miles and then decrease. Maybe as flights get longer there's more ability to make up delays in the air? ggplot(data = delay, mapping = aes(x = dist, y = delay)) + geom_point(aes(size = count), alpha = 1/3) + geom_smooth(se = FALSE) > geom_smooth() using method = 'loess' and formula 'y ~ x' na.rm = TRUE #\u662f\u5220\u9664\u542b\u6709NA\u7684\u884c \u5305\u542bNA\u7684\u8868\u793a\u822a\u73ed\u53d6\u6d88\uff0c\u7b2c\u4e00\u6b65\u5148\u8fc7\u6ee4\u6389\u8fd9\u90e8\u5206\u822a\u73ed normal_flight <- flights %>% filter(!is.na(dep_delay),!is.na(arr_delay)) delays <- normal_flight %>% group_by(tailnum) %>% summarise(delay=mean(arr_delay)) ggplot(data=delays,mapping = aes(x=delay))+geom_freqpoly(binwidth = 10) filter\u662f\u8fc7\u6ee4 arrange\u662f\u6392\u5e8f\uff0carrange(desc(air_time)) desc\u662f\u5012\u5e8f ```","title":"R\uff1a\u6570\u636e\u5904\u7406\u5e38\u7528\u5305 tidyverse"},{"location":"R-in-action/R%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%B8%B8%E7%94%A8%E5%8C%85-tidyverse/#r4dstidyverse","text":"\u6570\u636e\u79d1\u5b66\u5904\u7406\u4f7f\u7528 tidyverse data.table \u5927\u6570\u636e\u5904\u7406\u9996\u9009data.table\uff0c\u591aCPU\u5e76\u884c\u8fd0\u7b97\uff0c100G\u5185\u5b58\u5373\u53ef\u652f\u630120\u4ebf\u884c\u7684\u57fa\u51c6\u6d4b\u8bd5\u3002\u901f\u5ea6\u8bfb\u53d6\u5199\u5165\u901f\u5ea6\u90fd\u6bd4dplyr\u5feb\u3002 R\u548cpython\u7684\u6570\u636e\u5904\u7406\u5305\u7684\u901f\u5ea6\u5bf9\u6bd4\u8bc4\u6d4b \u6027\u80fd\u8bc4\u6d4b\u4e00\u822c\u662f\uff1agroup_by\u548cjoin\u51fd\u6570\uff0c\u663e\u7136data.table\u901f\u5ea6\u5feb\u4e8edplyr. dplyr data.table dplyr data.table\u5bf9\u6bd4","title":"R4DS:\u5728\u7ebf\u7535\u5b50\u4e66\u7528\u4e8e\u5b66\u4e60tidyverse\u7684\u7528\u6cd5"},{"location":"R-in-action/R%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%B8%B8%E7%94%A8%E5%8C%85-tidyverse/#tidyverse","text":"- ggplot2 \u7528\u4e8e\u53ef\u89c6\u5316 - dplyr \u6570\u636e\u5904\u7406 - tidyr \u6570\u636e\u5904\u7406 - stringr \u5b57\u7b26\u4e32\u7684\u5904\u7406 - readr \u6587\u4ef6\u7684\u8bfb\u53d6 - purrr \u51fd\u6570\u7684\u8fed\u4ee3 - forcats \u5904\u7406\u56e0\u5b50\u95ee\u9898 - tibble \u5b9e\u73b0data.table\u7c7b\u4f3c\u7684\u4f18\u96c5\u5904\u7406dataframe\u95ee\u9898 dplyr\u53c2\u8003 \u6570\u636e\u5904\u7406\u7ecf\u5e38\u7528\u5230\u7684\u5305 dplyr , data.table , Base R \u6d4b\u8bd5\u8868\u660e\uff0cdplyr\u7684\u901f\u5ea6\u8981\u5feb\u4e8edata.table. dplyr \u662f tidyverse \u5176\u4e2d\u7684\u4e00\u4e2a\u5305\u3002 \u6570\u636e\u5904\u7406\u4e00\u822c\u7684\u6d41\u7a0b\uff1a 1.\u6570\u636e\u8fc7\u6ee4\uff08\u53bb\u91cd\uff09 2.\u9009\u62e9 3.\u6bd4\u5bf9\uff0c\u5339\u914d 4.\u5206\u7ec4 5.\u6392\u5e8f 6.\u62bd\u6837 \u5728excel\u4e2d\u4e5f\u53ef\u4ee5\u5b8c\u6210\u4e0a\u8ff0\u64cd\u4f5c\uff0c\u4f46\u662f\u5f53\u6570\u91cf\u8fbe\u5230\u5341\u4e07\u4ee5\u4e0a\u7ea7\u522b\u540e\uff0cexcel\u901f\u5ea6\u6162\u5982\u8717\u725b\u3002","title":"tidyverse\u5305\u542b\u591a\u4e2a\u5305"},{"location":"R-in-action/R%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%B8%B8%E7%94%A8%E5%8C%85-tidyverse/#dplyr","text":"","title":"dplyr\u7528\u6cd5\u793a\u4f8b"},{"location":"R-in-action/R%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%B8%B8%E7%94%A8%E5%8C%85-tidyverse/#_1","text":"distinct(df,V1,V2) \u6839\u636eV1\u548cV2\u4e24\u4e2a\u6761\u4ef6\u6765\u8fdb\u884c\u53bb\u91cd","title":"\u6570\u636e\u53bb\u91cd"},{"location":"R-in-action/R%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%B8%B8%E7%94%A8%E5%8C%85-tidyverse/#_2","text":"mutate(df,vnew1=v1-v2,vnew2=vnew1+v3) \u652f\u6301\u5728\u521b\u5efa\u7684\u65b0\u5217\u7684\u57fa\u7840\u4e0a\uff0c\u518d\u65b0\u5efa\u5217\u3002","title":"\u65b0\u589e\u5217"},{"location":"R-in-action/R%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%B8%B8%E7%94%A8%E5%8C%85-tidyverse/#_3","text":"filter(df,cond1,cond2,\u2026) \u7528\u9017\u53f7,\u9694\u5f00\u8868\u793a\u6761\u4ef6\u662fand\u7684\u5173\u7cfb filter(df,cond1|cond2|\u2026) \u7528\u7ad6\u7ebf|\u9694\u5f00\u8868\u793a\u6761\u4ef6\u662for\u7684\u5173\u7cfb slice(df,80:100) \u9009\u53d6\u7d22\u5f1580\u5230100\u7684\u6570\u636e","title":"\u8fc7\u6ee4\u51fd\u6570"},{"location":"R-in-action/R%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%B8%B8%E7%94%A8%E5%8C%85-tidyverse/#_4","text":"arrange(df,V1,desc(V2),V3) V1,V3\u5347\u5e8f\uff0cV2\u964d\u5e8f arranage(df,V1) \u5347\u5e8f\u6392\u5217V1 arrange(df,desc(V3)) \u964d\u5e8f\u6392\u5217V3","title":"\u6392\u5e8f"},{"location":"R-in-action/R%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%B8%B8%E7%94%A8%E5%8C%85-tidyverse/#_5","text":"select(df,V1,V2,V3) \u9009\u62e9V1,V2,V3\u8fd9\u4e09\u5217 select(df,V1:V3) \u9009\u62e9V1\u5230V3\u5217\u4e4b\u95f4\u7684\u6240\u6709\u5217 select(df,-c(v1,V3)) \u9009\u62e9\u9664V1,V3\u4e4b\u5916\u7684\u6240\u6709\u5217","title":"\u9009\u62e9"},{"location":"R-in-action/R%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%B8%B8%E7%94%A8%E5%8C%85-tidyverse/#_6","text":"group_by(df,V1,V2) df\u6839\u636eV1,V2\u8fdb\u884c\u5206\u7ec4","title":"\u5206\u7ec4"},{"location":"R-in-action/R%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%B8%B8%E7%94%A8%E5%8C%85-tidyverse/#_7","text":"summarise(df,mean(V1),sum(V4))","title":"\u8ba1\u7b97\u7edf\u8ba1\u6570\u636e"},{"location":"R-in-action/R%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%B8%B8%E7%94%A8%E5%8C%85-tidyverse/#_8","text":"sample_n(df,1000) \u968f\u673a\u62bd\u53d61000\u4e2a\u6570\u636e sample_frac(df,0.7) \u968f\u673a\u62bd\u53d670%\u7684\u6570\u636e \u53c2\u8003\u5730\u5740 https://www.cnblogs.com/nxld/p/6060533.html","title":"\u968f\u673a\u62bd\u53d6"},{"location":"R-in-action/R%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%B8%B8%E7%94%A8%E5%8C%85-tidyverse/#tidyr","text":"library(tidyr) library(dplyr) \u7f3a\u5931\u503c\u7684\u7b80\u5355\u8865\u9f50 \u957f\u5f62\u8868\u53d8\u5bbd\u5f62\u8868\u4e0e\u5bbd\u5f62\u8868\u53d8\u957f\u5f62\u8868 \u3000\u3000gather-\u628a\u5bbd\u5ea6\u8f83\u5927\u7684\u6570\u636e\u8f6c\u6362\u6210\u4e00\u4e2a\u66f4\u957f\u7684\u5f62\u5f0f\uff0c\u5b83\u7c7b\u6bd4\u4e8e\u4ecereshape2\u5305\u4e2d\u878d\u5408\u51fd\u6570\u7684\u529f\u80fd \u3000\u3000spread-\u628a\u957f\u7684\u6570\u636e\u8f6c\u6362\u6210\u4e00\u4e2a\u66f4\u5bbd\u7684\u5f62\u5f0f\uff0c\u5b83\u7c7b\u6bd4\u4e8e\u4ecereshape2\u5305\u4e2d\u94f8\u9020\u51fd\u6570\u7684\u529f\u80fd\u3002 \u3000 gather()\u76f8\u53cd\u7684\u662fspread()\uff0c\u524d\u8005\u5c06\u4e0d\u540c\u7684\u5217\u5806\u53e0\u8d77\u6765\uff0c\u540e\u8005\u5c06\u540c\u4e00\u5217\u5206\u5f00","title":"\u6570\u636e\u683c\u5f0f\u8f6c\u6362tidyr\u5305"},{"location":"R-in-action/R%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%B8%B8%E7%94%A8%E5%8C%85-tidyverse/#ggplot2ggplot2","text":"\u5bbd\u6570\u636e\u5b9e\u4f8b \u4e0b\u9762\u6570\u636e\u7684\u7b2c\u4e00\u5217\u6570\u5b57\u662fR\u4e2d\u7684\u884c\u53f7 allinfo \u5185\u5bb9\u5982\u4e0b province primary middle senior higher postgraduate 1 \u5317\u4eac 109.4579 110.5105 96.20949 98.91572 107.82594 2 \u5929\u6d25 113.4776 114.0266 94.79238 99.90067 88.54674 3 \u6cb3\u5317 114.6299 113.0214 91.19643 87.67520 81.96543 4 \u5c71\u897f 107.9786 108.3219 92.03961 82.94410 73.76735 5 \u5185\u8499\u53e4 109.1339 108.9091 92.13359 89.96668 67.54206 6 \u8fbd\u5b81 110.3081 110.8525 91.70425 112.46839 87.90451 ``` `allinfoNew`\u5185\u5bb9\u5982\u4e0b \u8f6c\u6362\u6210\u957f\u6570\u636e\u540e `allinfoNew <- allinfo %>% gather(school,value, -province)` \u5c06allinfo\u7684\u6240\u6709\u5217\uff0c\u9664\u4e86province\u5217\u4e4b\u5916\u5168\u90e8\u5408\u5e76\u6210\u4e24\u5217\uff0c\u4e00\u5217\u662fschool,\u4e00\u5217\u662fvalue. province school value 1 \u5317\u4eac primary 109.45794 2 \u5929\u6d25 primary 113.47760 3 \u6cb3\u5317 primary 114.62993 4 \u5c71\u897f primary 107.97863 5 \u5185\u8499\u53e4 primary 109.13391 6 \u8fbd\u5b81 primary 110.30810 7 \u5317\u4eac middle 110.51045 8 \u5929\u6d25 middle 114.02665 9 \u6cb3\u5317 middle 113.02139 10 \u5c71\u897f middle 108.32195 11 \u5185\u8499\u53e4 middle 108.90907 12 \u8fbd\u5b81 middle 110.85252 13 \u5317\u4eac senior 96.20949 14 \u5929\u6d25 senior 94.79238 15 \u6cb3\u5317 senior 91.19643 16 \u5c71\u897f senior 92.03961 17 \u5185\u8499\u53e4 senior 92.13359 18 \u8fbd\u5b81 senior 91.70425 19 \u5317\u4eac higher 98.91572 20 \u5929\u6d25 higher 99.90067 21 \u6cb3\u5317 higher 87.67520 22 \u5c71\u897f higher 82.94410 23 \u5185\u8499\u53e4 higher 89.96668 24 \u8fbd\u5b81 higher 112.46839 25 \u5317\u4eac postgraduate 107.82594 26 \u5929\u6d25 postgraduate 88.54674 27 \u6cb3\u5317 postgraduate 81.96543 28 \u5c71\u897f postgraduate 73.76735 29 \u5185\u8499\u53e4 postgraduate 67.54206 30 \u8fbd\u5b81 postgraduate 87.90451 ####\u957f\u6570\u636e\u8f6c\u4e3a\u5bbd\u6570\u636e `allinfoFat <- allinfoNew %>% spread(school,value)` `allinfoFat`\u548callinfo\u7684\u5185\u5bb9\u4e00\u81f4\u3002 school\u662f\u8981\u62c6\u5206\u7684\u5217\u7684\u5bf9\u8c61\uff0cvalue\u662f\u8981\u62c6\u5206\u5217\u7684\u503c\u3002 - 3. \u5217\u5206\u5272\u4e0e\u5217\u5408\u5e76 \u3000\u3000separate\uff0d\u5c06\u4e00\u5217\u6309\u5206\u9694\u7b26\u5206\u5272\u4e3a\u591a\u5217 \u3000\u3000unite\uff0d\u5c06\u591a\u5217\u6309\u6307\u5b9a\u5206\u9694\u7b26\u5408\u5e76\u4e3a\u4e00\u5217 tidyr\u5305\uff1a\uff08gather\uff08\u5bbd\u6570\u636e\u8f6c\u4e3a\u957f\u6570\u636e\uff09\u3001spread\uff08\u957f\u6570\u636e\u8f6c\u4e3a\u5bbd\u6570\u636e\uff09\u3001unit\uff08\u591a\u5217\u5408\u5e76\u4e3a\u4e00\u5217\uff09\u3001separate\uff08\u5c06\u4e00\u5217\u5206\u79bb\u4e3a\u591a\u5217\uff09\uff09 #### stringr\u7684\u7528\u6cd5 library(stringr) x <- c(\"why\", \"video\", \"cross\", \"extra\", \"deal\", \"authority\") str_length(x)#\u83b7\u53d6\u5b57\u7b26\u4e32\u7684\u957f\u5ea6","title":"\u957f\u77ed\u6570\u636e\u7684\u8f6c\u6362\u4e3b\u8981\u662f\u7528\u4e8eggplot2\u7684\u51fa\u56fe\uff0cggplot2\u9700\u8981\u7684\u662f\u957f\u6570\u636e\uff0c\u800c\u6211\u4eec\u65e5\u5e38\u8f93\u5165\u7684\u6570\u636e\u662f\u5bbd\u6570\u636e"},{"location":"R-in-action/R%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%B8%B8%E7%94%A8%E5%8C%85-tidyverse/#1-3-5-5-5-4-9","text":"str_c(x, collapse = \", \")#\u66ff\u6362\u5206\u9694\u7b26","title":"&gt; [1] 3 5 5 5 4 9"},{"location":"R-in-action/R%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%B8%B8%E7%94%A8%E5%8C%85-tidyverse/#1-why-video-cross-extra-deal-authority","text":"str_sub(x, 1, 2)#\u63d0\u53d6\u6307\u5b9a\u957f\u5ea6\u7684\u5b57\u7b26\u4e32","title":"&gt; [1] \"why, video, cross, extra, deal, authority\""},{"location":"R-in-action/R%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%B8%B8%E7%94%A8%E5%8C%85-tidyverse/#1-wh-vi-cr-ex-de-au","text":"str_subset(x, \"[aeiou]\") #\u5339\u914d\u5305\u542baeiou\u7684\u5b57\u7b26\u4e32","title":"&gt; [1] \"wh\" \"vi\" \"cr\" \"ex\" \"de\" \"au\""},{"location":"R-in-action/R%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%B8%B8%E7%94%A8%E5%8C%85-tidyverse/#1-video-cross-extra-deal-authority","text":"str_count(x, \"[aeiou]\")#\u5339\u914d\u5305\u542baeiou\u7684\u5b57\u7b26\u7684\u6570\u91cf","title":"&gt; [1] \"video\"     \"cross\"     \"extra\"     \"deal\"      \"authority\""},{"location":"R-in-action/R%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%B8%B8%E7%94%A8%E5%8C%85-tidyverse/#1-0-3-1-2-2-4","text":"str_detect(x, \"[aeiou]\") #\u8fd4\u56de\u662f\u5426\u5305\u542baeiou\u5b57\u7b26\u4e32\u7684\u903b\u8f91\u503c","title":"&gt; [1] 0 3 1 2 2 4"},{"location":"R-in-action/R%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%B8%B8%E7%94%A8%E5%8C%85-tidyverse/#1-false-true-true-true-true-true","text":"str_locate(x, \"[aeiou]\") #\u8fd4\u56de\u6bcf\u4e2a\u5b57\u7b26\u4e32\u9996\u6b21\u5339\u914d\u7684\u8d77\u59cb\u4f4d\u7f6e\u548c\u7ec8\u6b62\u4f4d\u7f6e\u3002\uff08\u4f8b\u5b50\u4e2d\u9700\u8981\u5339\u914d\u7684\u5b57\u7b26\u4e32\u957f\u5ea6\u90fd\u662f1\uff0c\u6240\u4ee5\u7ec8\u6b62\u4f4d\u7f6e\u548c\u8d77\u59cb\u4f4d\u7f6e\u662f\u4e00\u6837\u7684\uff09 str_locate_all(x, \"[aeiou]\") #\u8fd4\u56de\u6bcf\u4e2a\u5b57\u7b26\u4e32\u6240\u6709\u7684\u4e0e\u5339\u914d\u5b57\u7b26\u5339\u914d\u7684\u8d77\u59cb\u4f4d\u7f6e\u548c\u7ec8\u6b62\u4f4d\u7f6e\u3002 str_extract(x, \"[aeiou]\") #\u63d0\u53d6\u6bcf\u4e2a\u5b57\u7b26\u4e32\u4e2d\u4e0e\u5339\u914d\u5b57\u7b26\u4e32\u4e00\u81f4\u7684\u5b57\u7b26 str_match(x, \"(.) aeiou \") #\u5339\u914d str_replace(x, \"[aeiou]\", \"^\") #\u66ff\u6362\u5339\u914d\u7684\u5b57\u7b26","title":"&gt; [1] FALSE  TRUE  TRUE  TRUE  TRUE  TRUE"},{"location":"R-in-action/R%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%B8%B8%E7%94%A8%E5%8C%85-tidyverse/#1-why-vdeo-crss-xtra-dal-uthority","text":"str_split(c(\"a,b\", \"c,d,e\"), \",\") #\u6307\u5b9a\u4f7f\u7528\u9017\u53f7\u5206\u5272\u5b57\u7b26\u4e32 #### forcats\u7684 \u7528\u6cd5 library(forcats) fct_reorder()#: \u6309\u53e6\u4e00\u4e2a\u53d8\u91cf\u91cd\u65b0\u6392\u5e8f\u4e00\u4e2a\u56e0\u5b50\u3002 fct_infreq()#\uff1a\u6309\u503c\u7684\u9891\u7387\u5bf9\u56e0\u5b50\u91cd\u65b0\u6392\u5e8f\u3002 fct_relevel()#\uff1a\u624b\u52a8\u66f4\u6539\u56e0\u5b50\u7684\u987a\u5e8f\u3002 fct_lump()#\uff1a\u5c06\u4e00\u4e2a\u56e0\u7d20\u7684\u6700\u5c11/\u6700\u9891\u7e41\u503c\u6298\u53e0\u4e3a\u201c\u5176\u4ed6\u201d\u3002 starwars %>% filter(!is.na(species)) %>% count(species, sort = TRUE) starwars %>% filter(!is.na(species)) %>% mutate(species = fct_lump(species, n = 3)) %>% count(species) filter(starwars,!is.na(hair_color))%>% ggplot(aes(x = hair_color)) + geom_bar() + coord_flip() starwars %>% filter(!is.na(hair_color))%>% mutate(hair_color = fct_infreq(hair_color))%>% ggplot(aes(x = hair_color)) + geom_bar() + coord_flip() ### readr\u8bfb\u53d6\u6587\u4ef6 `readr`\u6bd4baseR\u8bfb\u53d6\u5feb10\u500d `data.table`\u5305\u7684`fread`\u7684\u901f\u5ea6\u6bd4`readr`\u5feb1-2\u500d library(readr) read_csv()#: \u9017\u53f7\u5206\u9694 (CSV) \u6587\u4ef6 read_tsv()#: \u5236\u8868\u7b26\u5206\u9694\u7684\u6587\u4ef6 read_delim()#: \u4e00\u822c\u5206\u9694\u6587\u4ef6 read_fwf()#: \u56fa\u5b9a\u5bbd\u5ea6\u6587\u4ef6 read_table()#\uff1a\u5217\u7531\u7a7a\u683c\u5206\u9694\u7684\u8868\u683c\u6587\u4ef6\u3002 read_log()#: \u7f51\u7edc\u65e5\u5fd7\u6587\u4ef6 #purrr\u7528\u4e8e\u8fed\u4ee3\u51fd\u6570\uff0c\u901f\u5ea6\u975e\u5e38\u5feb library(purrr)","title":"[1] \"why\"       \"v^deo\"     \"cr^ss\"     \"^xtra\"     \"d^al\"      \"^uthority\""},{"location":"R-in-action/R%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%B8%B8%E7%94%A8%E5%8C%85-tidyverse/#purrrcmapfor","text":"map() #map\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u53ef\u4ee5\u662f\u5411\u91cf\u6216\u6570\u636e\u6846\u3002 map_lgl() #\u751f\u6210\u4e00\u4e2a\u903b\u8f91\u5411\u91cf\u3002 map_int() #\u751f\u6210\u4e00\u4e2a\u6574\u6570\u5411\u91cf\u3002 map_dbl() #\u5f62\u6210\u4e00\u4e2a\u53cc\u5411\u91cf\u3002 map_chr() #\u5236\u4f5c\u4e00\u4e2a\u5b57\u7b26\u5411\u91cf\u3002","title":"purrr\u7684\u6240\u6709\u51fd\u6570\u662fC\u5b9e\u73b0\u7684\uff0c\u6240\u4ee5\u901f\u5ea6\u975e\u5e38\u5feb\u3002map\u5b9e\u73b0\u7684\u662ffor\u5faa\u73af\uff0c\u8fd4\u56de\u503c\u662f\u5411\u91cf"},{"location":"R-in-action/R%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%B8%B8%E7%94%A8%E5%8C%85-tidyverse/#_9","text":"map_int(x,str_count) x1 <- rnorm(100,mean = 50,sd=15) #\u4ea7\u751f\u968f\u673a\u6570100\u4e2a\uff0c\u5747\u503c50\uff0c\u6807\u51c6\u5dee15 x2 <- rnorm(100,mean=100) x3 <- rnorm(100) xd <- data.frame(x1,x2,x3) map(xd,sum) map(xd,sd) ### dplyr\u5305\u7684\u4f7f\u7528\uff1a\u6570\u636e\u5904\u7406 library(dplyr)","title":"\u793a\u4f8b\uff1a"},{"location":"R-in-action/R%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%B8%B8%E7%94%A8%E5%8C%85-tidyverse/#_10","text":"if(!require(c(\"nycflights13\", \"gapminder\", \"Lahman\")))install.packages(c(\"nycflights13\", \"gapminder\", \"Lahman\")) #\u4e09\u4e2a\u6570\u636e\u5305 library(nycflights13) flights #\u662f2013\u5e74\u7f8e\u56fd\u7ebd\u7ea6\u51fa\u53d1\u7684\u822a\u73ed\u4fe1\u606f","title":"\u6570\u636e\u5305 \u822a\u73ed \u4e16\u754c\u53d1\u5c55 \u68d2\u7403\u6570\u636e"},{"location":"R-in-action/R%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%B8%B8%E7%94%A8%E5%8C%85-tidyverse/#dplyr_1","text":"","title":"dplyr\u5e38\u7528\u7684\u51fd\u6570"},{"location":"R-in-action/R%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%B8%B8%E7%94%A8%E5%8C%85-tidyverse/#filter","text":"","title":"\u6839\u636e\u5176\u503c\uff08filter()\uff09\u9009\u62e9\u89c2\u5bdf\u503c\u3002"},{"location":"R-in-action/R%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%B8%B8%E7%94%A8%E5%8C%85-tidyverse/#arrange","text":"","title":"\u91cd\u65b0\u6392\u5e8f\u884c\uff08arrange()\uff09\u3002"},{"location":"R-in-action/R%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%B8%B8%E7%94%A8%E5%8C%85-tidyverse/#select","text":"","title":"\u6309\u53d8\u91cf\u540d\u79f0\uff08select()\uff09\u9009\u62e9\u53d8\u91cf\u3002"},{"location":"R-in-action/R%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%B8%B8%E7%94%A8%E5%8C%85-tidyverse/#mutate","text":"","title":"\u4f7f\u7528\u73b0\u6709\u53d8\u91cf\uff08mutate()\uff09\u7684\u529f\u80fd\u521b\u5efa\u65b0\u53d8\u91cf\u3002"},{"location":"R-in-action/R%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%B8%B8%E7%94%A8%E5%8C%85-tidyverse/#summarise","text":"April_1st <- filter(flights,month==4,day==1) #\u67e5\u8be22013\u5e744\u67081\u65e5\u51fa\u53d1\u7684\u822a\u73ed filter(flights,!(dep_delay>60|arr_delay>60),month %in% c(4,5,6)) #\u67e5\u770b\u7b2c\u4e8c\u5b63\u5ea6\u7684\u51fa\u53d1\u548c\u5230\u8fbe\u65f6\u95f4\u5ef6\u8bef\u5747\u5c0f\u4e8e\u7b49\u4e8e60min\u7684\u822a\u73ed","title":"\u5c06\u8bb8\u591a\u503c\u6298\u53e0\u4e3a\u4e00\u4e2a\u6458\u8981\uff08summarise()\uff09\u3002"},{"location":"R-in-action/R%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%B8%B8%E7%94%A8%E5%8C%85-tidyverse/#723","text":"filter(flights,arr_time<700 | arr_time>2300) %>% arrange(dep_time,desc(arr_time))","title":"\u67e5\u627e\u65e9\u4e0a7\u70b9\u524d\u5230\u8fbe\u548c23\u70b9\u4e4b\u540e\u5230\u8fbe\u7684\u822a\u73ed\uff0c\u6839\u636e\u51fa\u53d1\u65f6\u95f4\u4ece\u65e9\u5230\u665a\uff0c\u548c\u5230\u8fbe\u65f6\u95f4\u4ece\u665a\u5230\u65e9\u6392\u5e8f"},{"location":"R-in-action/R%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%B8%B8%E7%94%A8%E5%8C%85-tidyverse/#_11","text":"select(flights,origin,dest,distance,air_time)","title":"\u6311\u9009\u6307\u5b9a\u5217"},{"location":"R-in-action/R%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%B8%B8%E7%94%A8%E5%8C%85-tidyverse/#_12","text":"select(flights, flight:hour)","title":"\u6311\u9009\u6307\u5b9a\u5217\u548c\u6307\u5b9a\u5217\u4e4b\u95f4\u7684\u5217"},{"location":"R-in-action/R%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%B8%B8%E7%94%A8%E5%8C%85-tidyverse/#_13","text":"select(flights, -(flight:hour))","title":"\u6311\u9009\u9664\u4e86\u6307\u5b9a\u5217\u548c\u6307\u5b9a\u5217\u4e4b\u95f4\u7684\u5217\u4e4b\u5916\u6240\u6709\u7684\u5217"},{"location":"R-in-action/R%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%B8%B8%E7%94%A8%E5%8C%85-tidyverse/#_14","text":"select(flights,-c(year,month,day))","title":"\u6311\u9009\u6307\u5b9a\u5217\u4e4b\u5916\u7684\u5217"},{"location":"R-in-action/R%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%B8%B8%E7%94%A8%E5%8C%85-tidyverse/#_15","text":"rename(flights, departtime = dep_time)","title":"\u91cd\u547d\u540d\u5217\u540d(\u65b0\u7684\u5217\u540d\u5728\u524d\u9762\uff0c=\u540e\u662f\u65e7\u7684\u5217\u540d)"},{"location":"R-in-action/R%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%B8%B8%E7%94%A8%E5%8C%85-tidyverse/#select_1","text":"","title":"select\u5185\u90e8\u8f85\u52a9\u51fd\u6570"},{"location":"R-in-action/R%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%B8%B8%E7%94%A8%E5%8C%85-tidyverse/#starts_withabc-abc","text":"","title":"starts_with(\"abc\")\uff1a\u5339\u914d\u4ee5\u201c abc\u201d\u5f00\u5934\u7684\u540d\u79f0\u3002"},{"location":"R-in-action/R%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%B8%B8%E7%94%A8%E5%8C%85-tidyverse/#ends_withxyz-xyz","text":"","title":"ends_with(\"xyz\")\uff1a\u5339\u914d\u4ee5\u201c xyz\u201d\u7ed3\u5c3e\u7684\u540d\u79f0\u3002"},{"location":"R-in-action/R%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%B8%B8%E7%94%A8%E5%8C%85-tidyverse/#containsijk-ijk","text":"","title":"contains(\"ijk\")\uff1a\u5339\u914d\u5305\u542b\u201c ijk\u201d\u7684\u540d\u79f0\u3002"},{"location":"R-in-action/R%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%B8%B8%E7%94%A8%E5%8C%85-tidyverse/#matches1","text":"","title":"matches(\"(.)\\1\")\uff1a\u9009\u62e9\u4e0e\u6b63\u5219\u8868\u8fbe\u5f0f\u5339\u914d\u7684\u53d8\u91cf\u3002\u8be5\u53d8\u91cf\u4e0e\u4efb\u4f55\u5305\u542b\u91cd\u590d\u5b57\u7b26\u7684\u53d8\u91cf\u5339\u914d\u3002\u60a8\u5c06\u4e86\u89e3\u6709\u5173\u5b57\u7b26\u4e32\u4e2d\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u66f4\u591a\u4fe1\u606f\u3002"},{"location":"R-in-action/R%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%B8%B8%E7%94%A8%E5%8C%85-tidyverse/#num_rangex-13x1x2x3","text":"","title":"num_range(\"x\", 1:3)\uff1a\u5339\u914dx1\uff0cx2\u548cx3\u3002"},{"location":"R-in-action/R%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%B8%B8%E7%94%A8%E5%8C%85-tidyverse/#time","text":"select(flights,ends_with(\"time\"))","title":"\u6311\u9009\u5217\u540d\u4ee5time\u7ed3\u5c3e\u7684\u5217"},{"location":"R-in-action/R%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%B8%B8%E7%94%A8%E5%8C%85-tidyverse/#dep","text":"select(flights,contains(\"dep\"))","title":"\u6311\u9009\u5305\u542bdep\u8d77\u98de\u4fe1\u606f\u7684\u5217"},{"location":"R-in-action/R%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%B8%B8%E7%94%A8%E5%8C%85-tidyverse/#selecteverythingorigindest","text":"select(flights, origin, dest, everything())","title":"select\u548ceverything\u8054\u7528\uff0c\u7528\u4e8e\u8c03\u6574\u5217\u7684\u987a\u5e8f(\u628aorigin\u548cdest\u62cd\u5230\u6700\u524d\u9762)"},{"location":"R-in-action/R%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%B8%B8%E7%94%A8%E5%8C%85-tidyverse/#select_2","text":"flights_sml <- select(flights, year:day, ends_with(\"delay\"), distance, air_time ) head(flights_sml)","title":"select\u9009\u62e9\u5408\u9002\u7684\u5217"},{"location":"R-in-action/R%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%B8%B8%E7%94%A8%E5%8C%85-tidyverse/#mutate_1","text":"mutate(flights_sml, gain = dep_delay - arr_delay, speed = distance / air_time * 60 )","title":"mutate\u589e\u52a0\u65b0\u7684\u5217\uff0c\u540c\u65f6\u4fdd\u7559\u539f\u6765\u7684\u5217"},{"location":"R-in-action/R%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%B8%B8%E7%94%A8%E5%8C%85-tidyverse/#transmute","text":"transmute(flights, gain = dep_delay - arr_delay, hours = air_time / 60, gain_per_hour = gain / hours )","title":"transmute\u662f\u751f\u6210\u65b0\u7684\u5217\uff0c\u4f46\u662f\u4e0d\u4fdd\u7559\u539f\u6765\u7684\u5217"},{"location":"R-in-action/R%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%B8%B8%E7%94%A8%E5%8C%85-tidyverse/#near","text":"","title":"near \u5224\u65ad\u4e24\u4e2a\u6570\u5b57\u662f\u5426\u76f8\u7b49"},{"location":"R-in-action/R%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%B8%B8%E7%94%A8%E5%8C%85-tidyverse/#_16","text":"sqrt(2)^2 == 2 #\u8fd4\u56deFALSE near(sqrt(2)^2,2) #\u8fd4\u56deTRUE","title":"\u56e0\u4e3a\u8ba1\u7b97\u673a\u6709\u6548\u6570\u5b57\u7684\u95ee\u9898\uff0c\u65e0\u9650\u4e0d\u5faa\u73af\u5c0f\u6570\u4f1a\u88ab\u622a\u65ad\uff0c\u6240\u4ee5\u6709\u65f6\u5019==\u5e76\u4e0d\u6210\u7acb"},{"location":"R-in-action/R%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%B8%B8%E7%94%A8%E5%8C%85-tidyverse/#leadlag","text":"","title":"lead/lag\u524d\u5bfc\u503c\u6216\u6ede\u540e\u503c"},{"location":"R-in-action/R%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%B8%B8%E7%94%A8%E5%8C%85-tidyverse/#_17","text":"x <- seq(1,29,by=3) x cumsum(x)","title":"\u6eda\u52a8\u5206\u6790"},{"location":"R-in-action/R%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%B8%B8%E7%94%A8%E5%8C%85-tidyverse/#1-1-5-12-22-35-51-70-92-117-145","text":"cummean(x)","title":"&gt;  [1]   1   5  12  22  35  51  70  92 117 145"},{"location":"R-in-action/R%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%B8%B8%E7%94%A8%E5%8C%85-tidyverse/#1-10-25-40-55-70-85-100-115-130-145","text":"cumprod(x) cummax(x) cummin(x)","title":"[1]  1.0  2.5  4.0  5.5  7.0  8.5 10.0 11.5 13.0 14.5"},{"location":"R-in-action/R%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%B8%B8%E7%94%A8%E5%8C%85-tidyverse/#-","text":"","title":"\u5206\u6790\u822a\u73ed\u7684\uff08\u5230\u8fbe\u65f6\u95f4-\u51fa\u53d1\u65f6\u95f4\uff09\u548c\u7a7a\u4e2d\u65f6\u95f4\u7684\u5dee\u503c\uff0c\u53ef\u4ee5\u770b\u51fa\u975e\u98de\u884c\u65f6\u95f4\u5728\u673a\u8231\u5185\u7684"},{"location":"R-in-action/R%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%B8%B8%E7%94%A8%E5%8C%85-tidyverse/#1000kmjfkjfk","text":"flights %>% arrange(origin) %>% group_by(origin) %>% select(contains(\"time\"),dest,distance) %>% mutate(groundtime = arr_time - dep_time - air_time) %>% arrange(desc(groundtime)) flights %>% head(10) %>% identity() %>% rownames() ggplot(aes(x=air_time))+ #geom_histogram()+ NULL geom_boxplot(aes(carrier,flight))","title":"\u65f6\u95f4\u6bd4\u8f83\u957f\u7684\u822a\u73ed\u90fd\u662f\u957f\u8ddd\u79bb\u822a\u73ed&gt;1000km,\u800c\u4e14\u4e3b\u8981\u662f\u76ee\u7684\u5730\u662fJFK\u673a\u573a\u7684\u822a\u73ed\u3002\u8bf4\u660eJFK\u7684\u8fdb\u6e2f\u65f6\u95f4\u6bd4\u8f83\u957f\uff0c\u673a\u573a\u5730\u52e4\u6bd4\u8f83\u6162"},{"location":"R-in-action/R%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%B8%B8%E7%94%A8%E5%8C%85-tidyverse/#summaries","text":"summarise(flights,delay=mean(dep_delay,na.rm=TRUE))","title":"summaries"},{"location":"R-in-action/R%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%B8%B8%E7%94%A8%E5%8C%85-tidyverse/#_18","text":"by_day <- group_by(flights,year,month,day) summarise(by_day,delay = mean(dep_delay,na.rm=TRUE))","title":"\u663e\u793a\u51fa\u6bcf\u5929\u7684\u5e73\u5747\u51fa\u53d1\u5ef6\u8bef\u65f6\u957f"},{"location":"R-in-action/R%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%B8%B8%E7%94%A8%E5%8C%85-tidyverse/#_19","text":"by_port <- group_by(flights,origin,dest) summarise(by_port,delay=mean(dep_delay,na.rm=TRUE)) by_dest <- group_by(flights, dest) #\u6839\u636e\u51fa\u53d1\u5730\u5206\u7ec4 delay <- summarise(by_dest, count = n(), dist = mean(distance, na.rm = TRUE), #\u8ddd\u79bb\u7684\u5747\u503c delay = mean(arr_delay, na.rm = TRUE) #\u5230\u8fbe\u65f6\u5ef6\u8bef\u7684\u5747\u503c ) %>% filter(count > 20, dest != \"HNL\") #\u8fc7\u6ee4\u6389\u8ba1\u6570\u5c11\u4e8e20\uff0c\u76ee\u7684\u5730\u662fHNL\u7684\u6570\u636e\uff0cHNL\u8ddd\u79bb\u5176\u4ed6\u673a\u573a\u592a\u8fdc\u4e86","title":"\u663e\u793a\u51fa\u53d1\u5730\u548c\u5230\u8fbe\u5730\u7684\u5e73\u5747\u5ef6\u8bef\u65f6\u957f"},{"location":"R-in-action/R%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%B8%B8%E7%94%A8%E5%8C%85-tidyverse/#it-looks-like-delays-increase-with-distance-up-to-750-miles","text":"","title":"It looks like delays increase with distance up to ~750 miles"},{"location":"R-in-action/R%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%B8%B8%E7%94%A8%E5%8C%85-tidyverse/#and-then-decrease-maybe-as-flights-get-longer-theres-more","text":"","title":"and then decrease. Maybe as flights get longer there's more"},{"location":"R-in-action/R%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%B8%B8%E7%94%A8%E5%8C%85-tidyverse/#ability-to-make-up-delays-in-the-air","text":"ggplot(data = delay, mapping = aes(x = dist, y = delay)) + geom_point(aes(size = count), alpha = 1/3) + geom_smooth(se = FALSE)","title":"ability to make up delays in the air?"},{"location":"R-in-action/R%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%B8%B8%E7%94%A8%E5%8C%85-tidyverse/#geom_smooth-using-method-loess-and-formula-y-x","text":"na.rm = TRUE #\u662f\u5220\u9664\u542b\u6709NA\u7684\u884c","title":"&gt; geom_smooth() using method = 'loess' and formula 'y ~ x'"},{"location":"R-in-action/R%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%B8%B8%E7%94%A8%E5%8C%85-tidyverse/#na","text":"normal_flight <- flights %>% filter(!is.na(dep_delay),!is.na(arr_delay)) delays <- normal_flight %>% group_by(tailnum) %>% summarise(delay=mean(arr_delay)) ggplot(data=delays,mapping = aes(x=delay))+geom_freqpoly(binwidth = 10)","title":"\u5305\u542bNA\u7684\u8868\u793a\u822a\u73ed\u53d6\u6d88\uff0c\u7b2c\u4e00\u6b65\u5148\u8fc7\u6ee4\u6389\u8fd9\u90e8\u5206\u822a\u73ed"},{"location":"R-in-action/R%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%B8%B8%E7%94%A8%E5%8C%85-tidyverse/#filter_1","text":"","title":"filter\u662f\u8fc7\u6ee4"},{"location":"R-in-action/R%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%B8%B8%E7%94%A8%E5%8C%85-tidyverse/#arrangearrangedescair_time-desc","text":"```","title":"arrange\u662f\u6392\u5e8f\uff0carrange(desc(air_time)) desc\u662f\u5012\u5e8f"},{"location":"R-in-action/centos7%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8R%E7%9A%84%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/","text":"1.\u65e0\u6cd5\u5b89\u88c5XML\u5305\u3002\u62a5\u9519 configuration failed for package \u2018XML\u2019 \u539f\u56e0\uff1a\u672a\u5b89\u88c5libxml2\u3002 \u5b89\u88c5libxml2 wget ftp://xmlsoft.org/libxml2/libxml2-2.8.0.tar.gz tar -zxvf libxml2-2.8.0.tar.gz cd libxml2-2.8.0 ./configure --prefix=/share/softwares/libxml2 make -j8 make install \u7f16\u8f91~/.bashrc\uff0c\u589e\u52a0\u4ee5\u4e0b\u5185\u5bb9\u540e\u3002 source ~/.bashrc #Add bin path export PATH=$PATH:/share/softwares/libxml2/bin export C_INCLUDE_PATH=/share/softwares/libxml2/include/libxml2:$C_INCLUDE_PATH # Add third_lib path export LD_LIBRARY_PATH=/share/softwares/libxml2/lib:$LD_LIBRARY_PATH export LIBRARY_PATH=/share/softwares/libxml2/lib:$LIBRARY_PATH \u8fd0\u884c ./xmllint -h \u62a5\u9519\uff0c./xmllint: /share/home/miniconda3/lib/././libstdc++.so.6: version `CXXABI_1.3.8' not found \u539f\u56e0\uff1alibstdc++.so.6\u7684\u52a8\u6001\u5e93\u6ca1\u6709\u66f4\u65b0\u5230\u6700\u65b0\u7248 find / -name \"libstdc++.so.6*\" \u627e\u5230\u6700\u65b0\u7248\u7684\u8def\u5f84\uff0c\u57fa\u672c\u4e0a\u5c31\u5728\u4e0a\u8ff0\u62a5\u9519\u8def\u5f84\u3002libstdc++.so.6\u662f\u52a8\u6001\u94fe\u63a5\u7684\u5730\u5740\u3002\u539f\u6765\u662f19\uff0c\u4fee\u6539\u6210\u8be5\u8def\u5f84\u4e0b\u6700\u65b0\u7248\u5373\u53ef\uff0c\u6211\u7684\u6700\u65b0\u7248\u662f25 cd /share/home/miniconda3/lib/././ rm -rf libstdc++.so.6 ln -s libstdc++.so.6.25 libstdc++.so.6 \u8bb8\u591a\u65f6\u5019\u4f1a\u63d0\u9192\u7f3a\u5c11\u7c7b\u4f3c\u7684\u52a8\u6001\u5e93\uff0c\u7f3a\u5c11\u5c31\u4e0b\u8f7d\u540e\u914d\u7f6e\u73af\u5883\u53d8\u91cf\u5373\u53ef\u4f7f\u7528\u3002 \u4e00\u822c\u5728\u89e3\u538b\u76ee\u5f55\u4f1a\u6709 bin , lib , share \u7b49\u76ee\u5f55\u3002 \u7c7b\u4f3c\u4e0b\u9762\u8fd9\u79cd\u65b9\u5f0f\u6dfb\u52a0\u5230~/.bashrc,source\u540e\u5373\u53ef\u4f7f\u7528\u3002\u6709\u7684\u53ef\u80fd\u6ca1\u6709bin\u6587\u4ef6\u6216\u8005\u6ca1\u6709include\uff0c\u6ca1\u6709\u7684\u4e0d\u6dfb\u52a0\u8fd9\u4e00\u9879\u5373\u53ef\u3002 export PATH=$PATH:/share/softwares/libxml2/bin export C_INCLUDE_PATH=/share/softwares/libxml2/include/libxml2:$C_INCLUDE_PATH # Add third_lib path export LD_LIBRARY_PATH=/share/softwares/libxml2/lib:$LD_LIBRARY_PATH export LIBRARY_PATH=/share/softwares/libxml2/lib:$LIBRARY_PATH","title":"centos7\u5b89\u88c5\u4f7f\u7528R\u7684\u95ee\u9898\u89e3\u51b3\u65b9\u6848"},{"location":"R-in-action/centos7%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8R%E7%9A%84%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/#libxml2","text":"\u5b89\u88c5libxml2 wget ftp://xmlsoft.org/libxml2/libxml2-2.8.0.tar.gz tar -zxvf libxml2-2.8.0.tar.gz cd libxml2-2.8.0 ./configure --prefix=/share/softwares/libxml2 make -j8 make install \u7f16\u8f91~/.bashrc\uff0c\u589e\u52a0\u4ee5\u4e0b\u5185\u5bb9\u540e\u3002 source ~/.bashrc #Add bin path export PATH=$PATH:/share/softwares/libxml2/bin export C_INCLUDE_PATH=/share/softwares/libxml2/include/libxml2:$C_INCLUDE_PATH # Add third_lib path export LD_LIBRARY_PATH=/share/softwares/libxml2/lib:$LD_LIBRARY_PATH export LIBRARY_PATH=/share/softwares/libxml2/lib:$LIBRARY_PATH \u8fd0\u884c ./xmllint -h \u62a5\u9519\uff0c./xmllint: /share/home/miniconda3/lib/././libstdc++.so.6: version `CXXABI_1.3.8' not found","title":"\u539f\u56e0\uff1a\u672a\u5b89\u88c5libxml2\u3002"},{"location":"R-in-action/centos7%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8R%E7%9A%84%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/#libstdcso6","text":"find / -name \"libstdc++.so.6*\" \u627e\u5230\u6700\u65b0\u7248\u7684\u8def\u5f84\uff0c\u57fa\u672c\u4e0a\u5c31\u5728\u4e0a\u8ff0\u62a5\u9519\u8def\u5f84\u3002libstdc++.so.6\u662f\u52a8\u6001\u94fe\u63a5\u7684\u5730\u5740\u3002\u539f\u6765\u662f19\uff0c\u4fee\u6539\u6210\u8be5\u8def\u5f84\u4e0b\u6700\u65b0\u7248\u5373\u53ef\uff0c\u6211\u7684\u6700\u65b0\u7248\u662f25 cd /share/home/miniconda3/lib/././ rm -rf libstdc++.so.6 ln -s libstdc++.so.6.25 libstdc++.so.6 \u8bb8\u591a\u65f6\u5019\u4f1a\u63d0\u9192\u7f3a\u5c11\u7c7b\u4f3c\u7684\u52a8\u6001\u5e93\uff0c\u7f3a\u5c11\u5c31\u4e0b\u8f7d\u540e\u914d\u7f6e\u73af\u5883\u53d8\u91cf\u5373\u53ef\u4f7f\u7528\u3002 \u4e00\u822c\u5728\u89e3\u538b\u76ee\u5f55\u4f1a\u6709 bin , lib , share \u7b49\u76ee\u5f55\u3002 \u7c7b\u4f3c\u4e0b\u9762\u8fd9\u79cd\u65b9\u5f0f\u6dfb\u52a0\u5230~/.bashrc,source\u540e\u5373\u53ef\u4f7f\u7528\u3002\u6709\u7684\u53ef\u80fd\u6ca1\u6709bin\u6587\u4ef6\u6216\u8005\u6ca1\u6709include\uff0c\u6ca1\u6709\u7684\u4e0d\u6dfb\u52a0\u8fd9\u4e00\u9879\u5373\u53ef\u3002 export PATH=$PATH:/share/softwares/libxml2/bin export C_INCLUDE_PATH=/share/softwares/libxml2/include/libxml2:$C_INCLUDE_PATH # Add third_lib path export LD_LIBRARY_PATH=/share/softwares/libxml2/lib:$LD_LIBRARY_PATH export LIBRARY_PATH=/share/softwares/libxml2/lib:$LIBRARY_PATH","title":"\u539f\u56e0\uff1alibstdc++.so.6\u7684\u52a8\u6001\u5e93\u6ca1\u6709\u66f4\u65b0\u5230\u6700\u65b0\u7248"},{"location":"R-in-action/dplyr%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%EF%BC%9A%E5%9B%BE%E8%A7%A3%E7%89%88/","text":"\u5b9e\u73b0\u5206\u7ec4\u6570\u636e\u7684\u63d0\u53d6\u524dn\u884c library(dplyr) n_top <- function(data1,n){ newdata <- data1 %>% group_by(Group) %>% slice_min(p.adjust,n=n) return(newdata) } n_top(HS_GO,15) #\u63d0\u53d6\u6570\u636e\u6846\u7684\u524d15\u884c \u81ea\u5b9a\u4e49\u51fd\u6570n_top\uff0c\u5148\u6839\u636e Group \u5217\u5206\u7ec4\uff0c \u7136\u540e slice_min \u6307\u5b9a\u6839\u636ep.ajust\u5217\u53d6\u6700\u5c0f\u7684\u524d15\u4e2a\u3002 slice_head(n=10) \u662f\u76f4\u63a5\u63d0\u53d6\u524d10\u884c\u3002 slice_sample(n=15) \u662f\u968f\u673a\u63d0\u53d615\u884c\u3002 slice_max(Count,n=15) \u662f\u63d0\u53d6Count\u7684\u6700\u5927\u7684\u524d15\u4e2a \u5148\u5206\u7ec4\uff0c\u518d\u63d0\u53d6\uff0c\u5373\u53ef\u5b9e\u73b0\u6839\u636e\u5206\u7ec4\u63d0\u53d6\u3002","title":"Dplyr\u6570\u636e\u5904\u7406\uff1a\u56fe\u89e3\u7248"},{"location":"R-in-action/gggenes-%E7%BB%98%E5%88%B6%E5%9F%BA%E5%9B%A0%E5%9B%BE/","tags":["ggplot2","gggenes"],"text":"https://wilkox.org/gggenes/ https://github.com/wilkox/gggenes/ pak::pkg_install(\"gggenes\") library(ggplot2) library(gggenes) ggplot(example_genes, aes(xmin = start, xmax = end, y = molecule, fill = gene)) + geom_gene_arrow() + facet_wrap(~ molecule, scales = \"free\", ncol = 1) + scale_fill_brewer(palette = \"Set3\") \u8f93\u5165\u6570\u636e\u683c\u5f0f\u5982\u4e0b head(example_genes) ``` molecule gene start end strand orientation 1 Genome5 genA 405113 407035 forward -1 2 Genome5 genB 407035 407916 forward -1 3 Genome5 genC 407927 408394 forward -1 4 Genome5 genD 408387 408737 reverse -1 5 Genome5 genE 408751 409830 forward 1 6 Genome5 genF 409836 410315 forward -1 \u5305\u542b\u6b63\u53cd\u65b9\u5411`forward = orientation` ggplot(example_subgenes, aes(xmin = start, xmax = end, y = molecule, fill = gene, forward = orientation)) + geom_gene_arrow() + facet_wrap(~ molecule, scales = \"free\", ncol = 1) + scale_fill_brewer(palette = \"Set3\") ```","title":"Gggenes \u7ed8\u5236\u57fa\u56e0\u56fe"},{"location":"R-in-action/gggenes-%E7%BB%98%E5%88%B6%E5%9F%BA%E5%9B%A0%E5%9B%BE/#_1","text":"head(example_genes) ``` molecule gene start end strand orientation 1 Genome5 genA 405113 407035 forward -1 2 Genome5 genB 407035 407916 forward -1 3 Genome5 genC 407927 408394 forward -1 4 Genome5 genD 408387 408737 reverse -1 5 Genome5 genE 408751 409830 forward 1 6 Genome5 genF 409836 410315 forward -1 \u5305\u542b\u6b63\u53cd\u65b9\u5411`forward = orientation` ggplot(example_subgenes, aes(xmin = start, xmax = end, y = molecule, fill = gene, forward = orientation)) + geom_gene_arrow() + facet_wrap(~ molecule, scales = \"free\", ncol = 1) + scale_fill_brewer(palette = \"Set3\") ```","title":"\u8f93\u5165\u6570\u636e\u683c\u5f0f\u5982\u4e0b"},{"location":"R-in-action/ggplot2%E7%94%BB%E5%87%BA%E6%9D%A1%E5%BD%A2%E5%9B%BE%EF%BC%88facet_wrap%EF%BC%89/","tags":["ggplot2","facet_wrap"],"text":"... Y\u53d4ggplot2\u6559\u7a0b \u914d\u5957PPT ggplot2\u5750\u6807\u8f74\u6700\u5e38\u7528\u53c2\u6570 https://zhuanlan.zhihu.com/p/25173606 facet_wrap\u5206\u9762\u64cd\u4f5c \u5206\u9762\u8be6\u89e3 https://zhuanlan.zhihu.com/p/27093478 \u6dfb\u52a0\u8bef\u5dee\u68d2 R\u7684\u5404\u79cd\u8fb9\u8ddd R\u989c\u8272\u5927\u5168 \u5177\u4f53\u5b9e\u73b0\u4ee3\u7801\uff1a rm() setwd(\"D:/RNA-seq/transcript_level/RT-PCR/\") datainfo <- read.csv(file=\"result2.csv\",header = TRUE) library(ggplot2) #install.packages(\"mime\") library(mime) library(export) #\u51fd\u6570\u4f9d\u8d56export\u5305,\u6784\u9020\u56fe\u7247\u8f93\u51fa\u51fd\u6570 out_img <- function(filename,pic_width=5,pic_height=7){ graph2png(file=filename,width=pic_width,height=pic_height) graph2ppt(file=filename,width=pic_width,height=pic_height) graph2tif(file=filename,width=pic_width,height=pic_height) } #\u4f7f\u7528\u7f20\u7ed5\u5206\u9762facet_wrap\u753b\u51fa\u8868\u8fbe\u91cf\u5dee\u5f02\u6761\u5f62\u56fe,scales=\"free_y\"\u4f7f\u7528\u5404\u81ea\u7684Y\u503c\uff0c\u5426\u5219\u9ed8\u8ba4\u662f\u4f7f\u7528\u7edf\u4e00\u7684y\u503c ##labs\u7528\u4e8e\u6dfb\u52a0title,theme\u7528\u4e8e\u6807\u9898\u5c45\u4e2d ###geom_errorbar\u7528\u4e8e\u6dfb\u52a0\u8bef\u5dee\u68d2\uff0c\u5206\u522b\u6307\u5b9a\u4e0a\u8bef\u5dee\uff0c\u4e0b\u8bef\u5dee\u3002 pg_mean <- as.data.frame(datainfo) p <- ggplot(pg_mean,aes(x=type,y=value,fill=genename))+facet_wrap(~genename,scales = \"free_y\",shrink = TRUE,as.table = TRUE)+geom_bar(stat=\"identity\",width=0.5,color=\"black\",position = position_dodge(0.9))+ geom_errorbar(aes(ymin=value-down,ymax=value+up),width=0.2,position=position_dodge(0.5)) p+labs(title = \"qRT-PCR and RNA-seq \",x=\"gene list \",y=\"Relative expression \")+theme(plot.title = element_text(hjust = 0.5)) out_img(filename=\"all_result\",pic_width = 10,pic_height = 12) result2.csv\u6570\u636e\u683c\u5f0f | genename | value |type| up |down| index| | -------| -------| -------| -------| -------| -------| |48521569| 3.00 |RNA_seq |0 | 0| 1| |257858745 | 2.11 |RNA_seq |0 | 0| 2| |112257492 | 2.94 |RNA_seq |0 | 0| 3| |3542044848| 2.9| RNA_seq | 0 | 0 | 4| |74011558154| 4.50| RNA_seq| 0| 0 |5| |254488136| 1.45 |RNA_seq |0| 0| 6| \u4fee\u6539\u4e0a\u8ff0\u7684fill\u503c\uff0c\u5373\u4fee\u6539\u5206\u7ec4\u4f9d\u636e\u4e3atype fill=type\u4e4b\u540e\uff0c\u5bf9\u5e94\u90e8\u5206\u547d\u4ee4\u5982\u4e0b pg_mean <- as.data.frame(datainfo) genename <- reorder(pg_mean$genename,pg_mean$index) #\u628agenename\u6309\u7167index\u7684\u987a\u5e8f\u6392\u5e8f\uff0c\u540e\u7eed\u51fa\u56fe\u5c0f\u56fe\u6807\u4e5f\u6309\u7167\u8fd9\u4e2a\u987a\u5e8f\u51fa\u56fe p <- ggplot(pg_mean,aes(x=type,y=value,fill=type))+facet_wrap(genename,scales = \"free_y\",shrink = TRUE,as.table = TRUE,strip.position = \"bottom\",labeller = label_parsed)+geom_bar(stat=\"identity\",width=0.5,color=\"black\",position = position_dodge(0.9))+ geom_errorbar(aes(ymin=value-down,ymax=value+up),width=0.2,position=position_dodge(0.5)) p+labs(title = \"qRT-PCR and RNA-seq \",x=\"gene list \",y=\"Relative expression \")+theme(plot.title = element_text(hjust = 0.5)) \u53c2\u6570\u8be6\u89e3\uff1a pg_mean\u662f\u524d\u9762\u5bf9\u5e94\u7684data.frame aes() \u62ec\u53f7\u5185\u7684\u503c\uff0c\u53ef\u4ee5\u5bf9\u5e94\u4e8e\u524d\u9762\u6570\u636e\u5e93 \u91cc\u9762\u7684\u5143\u7d20 x\u6307\u5b9a\u6a2a\u5750\u6807\u5206\u7c7b\u4f9d\u636e\uff08\u53ef\u4ee5\u662f\u5b57\u7b26\u4e32\u6216\u6570\u5b57\uff09 y\u7eb5\u5750\u6807\u7684\u503c\uff0c fill\u5206\u7c7b\u4f9d\u636e\uff0c\u53ef\u4ee5\u662fgene\uff0c\u4e5f\u53ef\u4ee5\u662ftype\u3002\u6839\u636e\u4f5c\u56fe\u9700\u8981\u786e\u5b9a\u3002 facet_wrap\u5bf9\u5e94\u8fd8\u6709\u4e00\u4e2afacet_grid\u90fd\u662f\u5206\u9762\u5de5\u5177\u3002\u533a\u522b\u89c1\u6700\u4e0a\u9762\u3002 ~genename \u5206\u9762\u4f9d\u636e\uff0c\u786e\u5b9a\u6bcf\u4e00\u4e2a\u5c0f\u56fe\u5f62\u7684\u5206\u7c7b\u4f9d\u636e\u3002\u53ef\u4ee5\u66f4\u6539\u4e3a index~genename \u6216 ~index+genename index\u7684\u76ee\u7684\u662f\u4e3a\u4e86\u6307\u5b9a\u6bcf\u4e2a\u5c0f\u56fe\u7684\u6392\u5217\u987a\u5e8f\u3002\u4f46\u662f\u56e0\u4e3a\uff0c\u6807\u7b7e\u4f1a\u628aindex\u7684\u503c\u4e5f\u663e\u793a\uff0c\u6682\u65f6\u672a\u627e\u5230\u53ea\u663e\u793a\u5176\u4e00\u7684 \u4f5c\u4e3a\u6bcf\u4e2a\u5c0f\u56felabel\u7684\u65b9\u6cd5 \u3002 scales=\"free_y\" \u5355\u72ec\u5212\u5b9aY\u5750\u6807\u8f74, scales=\"free\"\u662f\u9ed8\u8ba4\u7edf\u4e00y\u8f74 strip.position=\"bottom\" \u6307\u5b9a\u5c0f\u56fe\u6807\u7b7e\u4f4d\u7f6e\uff0c\u5728\u5e95\u90e8\u3002\u9ed8\u8ba4\u662f\u9876\u90e8\u3002 labeller\u51714\u79cd\u6a21\u5f0f\uff0c\u6307\u5b9a\u5c0f\u56fe\u6807\u7b7e\u663e\u793a\u65b9\u5f0f\u3002 \u8bbe\u7f6e\u67f1\u5b50\u7684\u5927\u5c0f\uff0c\u95f4\u9694\u7684\u5927\u5c0f \uff0c\u91cd\u53e0\u7c7b\u578b geom_bar(stat=\"identity\",width=0.5,color=\"black\",position = position_dodge(0.9)) \u8bbe\u7f6e\u8bef\u5dee\u68d2\uff0c\u8bef\u5dee\u68d2\u7684\u503c\uff0c\u5bbd\u5ea6\uff0c\u4f4d\u7f6e geom_errorbar(aes(ymin=value-down,ymax=value+up),width=0.2,position=position_dodge(0.5)) \u8bbe\u7f6e\u987a\u5e8f(\u628agenename\u6309\u7167index\u7684\u987a\u5e8f\u6392\u5e8f\uff0c\u540e\u7eed\u51fa\u56fe\u5c0f\u56fe\u6807\u4e5f\u6309\u7167\u8fd9\u4e2a\u987a\u5e8f\u51fa\u56fe) genename <- reorder(pg_mean$genename,pg_mean$index) \u98a0\u5012Y\u8f74\u5750\u6807\u65b9\u5411 scale_y_reverse() \u4ea4\u6362x\u8f74\u548cY\u8f74 coord_flip() \u6307\u5b9ax\u8f74\u5750\u6807\u8303\u56f4 coord_cartesian(xlim=c(0,5)) \u5982\u679c\u9700\u8981\u8f6c\u6362x\u8f74\u548cy\u8f74\uff0c\u540c\u65f6\u8fd8\u8981\u6307\u5b9a\u5750\u6807\u8f74\u8303\u56f4\uff0ccoord_flip()\u548ccoord_cartesian(xlim=c(0,5))\u4e00\u8d77\u4f7f\u7528\u662f\u65e0\u6548\u7684\u3002 \u6b63\u786e\u7684\u8868\u8ff0\u662f coord_flip(xlim=c(0,5)) \u6307\u5b9a\u5750\u6807\u8f74\u4ece0\u5f00\u59cb scale_y_continuous(expand = c(0, 0)) scale_x_continuous(expand = c(0, 0)) \u6ce8\u610f ggplot\u7684theme\uff0c\u8bbe\u7f6e\u4e3a\u53ea\u663e\u793a\u5750\u6807\u8f74\u548c\u80cc\u666f\u4e3a\u767d\u8272 theme_classic()","title":"Ggplot2\u753b\u51fa\u6761\u5f62\u56fe\uff08facet wrap\uff09"},{"location":"R-in-action/ggplot2%E7%94%BB%E5%87%BA%E6%9D%A1%E5%BD%A2%E5%9B%BE%EF%BC%88facet_wrap%EF%BC%89/#_1","text":"geom_bar(stat=\"identity\",width=0.5,color=\"black\",position = position_dodge(0.9))","title":"\u8bbe\u7f6e\u67f1\u5b50\u7684\u5927\u5c0f\uff0c\u95f4\u9694\u7684\u5927\u5c0f \uff0c\u91cd\u53e0\u7c7b\u578b"},{"location":"R-in-action/ggplot2%E7%94%BB%E5%87%BA%E6%9D%A1%E5%BD%A2%E5%9B%BE%EF%BC%88facet_wrap%EF%BC%89/#_2","text":"geom_errorbar(aes(ymin=value-down,ymax=value+up),width=0.2,position=position_dodge(0.5))","title":"\u8bbe\u7f6e\u8bef\u5dee\u68d2\uff0c\u8bef\u5dee\u68d2\u7684\u503c\uff0c\u5bbd\u5ea6\uff0c\u4f4d\u7f6e"},{"location":"R-in-action/ggplot2%E7%94%BB%E5%87%BA%E6%9D%A1%E5%BD%A2%E5%9B%BE%EF%BC%88facet_wrap%EF%BC%89/#genenameindex","text":"genename <- reorder(pg_mean$genename,pg_mean$index)","title":"\u8bbe\u7f6e\u987a\u5e8f(\u628agenename\u6309\u7167index\u7684\u987a\u5e8f\u6392\u5e8f\uff0c\u540e\u7eed\u51fa\u56fe\u5c0f\u56fe\u6807\u4e5f\u6309\u7167\u8fd9\u4e2a\u987a\u5e8f\u51fa\u56fe)"},{"location":"R-in-action/ggplot2%E7%94%BB%E5%87%BA%E6%9D%A1%E5%BD%A2%E5%9B%BE%EF%BC%88facet_wrap%EF%BC%89/#y","text":"scale_y_reverse()","title":"\u98a0\u5012Y\u8f74\u5750\u6807\u65b9\u5411"},{"location":"R-in-action/ggplot2%E7%94%BB%E5%87%BA%E6%9D%A1%E5%BD%A2%E5%9B%BE%EF%BC%88facet_wrap%EF%BC%89/#xy","text":"coord_flip()","title":"\u4ea4\u6362x\u8f74\u548cY\u8f74"},{"location":"R-in-action/ggplot2%E7%94%BB%E5%87%BA%E6%9D%A1%E5%BD%A2%E5%9B%BE%EF%BC%88facet_wrap%EF%BC%89/#x","text":"coord_cartesian(xlim=c(0,5))","title":"\u6307\u5b9ax\u8f74\u5750\u6807\u8303\u56f4"},{"location":"R-in-action/ggplot2%E7%94%BB%E5%87%BA%E6%9D%A1%E5%BD%A2%E5%9B%BE%EF%BC%88facet_wrap%EF%BC%89/#xycoord_flipcoord_cartesianxlimc05","text":"\u6b63\u786e\u7684\u8868\u8ff0\u662f coord_flip(xlim=c(0,5))","title":"\u5982\u679c\u9700\u8981\u8f6c\u6362x\u8f74\u548cy\u8f74\uff0c\u540c\u65f6\u8fd8\u8981\u6307\u5b9a\u5750\u6807\u8f74\u8303\u56f4\uff0ccoord_flip()\u548ccoord_cartesian(xlim=c(0,5))\u4e00\u8d77\u4f7f\u7528\u662f\u65e0\u6548\u7684\u3002"},{"location":"R-in-action/ggplot2%E7%94%BB%E5%87%BA%E6%9D%A1%E5%BD%A2%E5%9B%BE%EF%BC%88facet_wrap%EF%BC%89/#0","text":"scale_y_continuous(expand = c(0, 0)) scale_x_continuous(expand = c(0, 0)) \u6ce8\u610f","title":"\u6307\u5b9a\u5750\u6807\u8f74\u4ece0\u5f00\u59cb"},{"location":"R-in-action/ggplot2%E7%94%BB%E5%87%BA%E6%9D%A1%E5%BD%A2%E5%9B%BE%EF%BC%88facet_wrap%EF%BC%89/#ggplottheme","text":"theme_classic()","title":"ggplot\u7684theme\uff0c\u8bbe\u7f6e\u4e3a\u53ea\u663e\u793a\u5750\u6807\u8f74\u548c\u80cc\u666f\u4e3a\u767d\u8272"},{"location":"R-in-action/pak%E8%A7%A3%E5%86%B3%E4%BD%A0%E7%9A%84R%E5%8C%85%E7%9A%84%E5%AE%89%E8%A3%85%E7%9A%84%E5%9B%B0%E6%89%B0/","text":"\u5b89\u88c5\u5404\u79cdR\u5305\uff0c\u6709CRAN,Bioconductor\u6216\u8005githubs\u7684\u5305\uff0c\u8fd8\u6709\u70e6\u4eba\u7684\u4f9d\u8d56\u5305\u7684\u95ee\u9898\u3002\u7f51\u7edc\u4e0d\u597d\uff0c\u73af\u5883\u6709\u95ee\u9898\uff0c\u4f9d\u8d56\u5305\u53cd\u590d\u5b89\u88c5\uff0c\u90fd\u5c06\u88ab pak \u89e3\u51b3\u3002 pak github install.packages(\"pak\") #\u6216\u8005\u5f00\u53d1\u7248 install.packages(\"pak\", repos = \"https://r-lib.github.io/p/pak/dev/\") \u81ea\u52a8\u89e3\u51b3\u4f9d\u8d56\u5305\uff0c\u66f4\u65b0\u4f9d\u8d56\u5305\u3002\u591a\u5e74\u7684\u75db\u7ec8\u4e8e\u5f97\u5230\u6839\u6cbb\u4e86\u3002 \u5b89\u88c5\u5728CRAN\u6216\u8005Bioconductor\u7684\u5305 pak::pkg_install(\"clusterProfiler\") \u5b89\u88c5\u5728github\u7684\u5305\uff08\u9700\u8981\u4f60\u6307\u5b9a\u8981\u5b89\u88c5\u5305\u7684github\u7684user/repo\uff09 pak::pkg_install(\"tomwenseleers/export\")","title":"pak\u89e3\u51b3\u4f60\u7684R\u5305\u7684\u5b89\u88c5\u7684\u56f0\u6270"},{"location":"R-in-action/pak%E8%A7%A3%E5%86%B3%E4%BD%A0%E7%9A%84R%E5%8C%85%E7%9A%84%E5%AE%89%E8%A3%85%E7%9A%84%E5%9B%B0%E6%89%B0/#_1","text":"","title":"\u81ea\u52a8\u89e3\u51b3\u4f9d\u8d56\u5305\uff0c\u66f4\u65b0\u4f9d\u8d56\u5305\u3002\u591a\u5e74\u7684\u75db\u7ec8\u4e8e\u5f97\u5230\u6839\u6cbb\u4e86\u3002"},{"location":"R-in-action/pak%E8%A7%A3%E5%86%B3%E4%BD%A0%E7%9A%84R%E5%8C%85%E7%9A%84%E5%AE%89%E8%A3%85%E7%9A%84%E5%9B%B0%E6%89%B0/#cranbioconductor","text":"pak::pkg_install(\"clusterProfiler\")","title":"\u5b89\u88c5\u5728CRAN\u6216\u8005Bioconductor\u7684\u5305"},{"location":"R-in-action/pak%E8%A7%A3%E5%86%B3%E4%BD%A0%E7%9A%84R%E5%8C%85%E7%9A%84%E5%AE%89%E8%A3%85%E7%9A%84%E5%9B%B0%E6%89%B0/#githubgithubuserrepo","text":"pak::pkg_install(\"tomwenseleers/export\")","title":"\u5b89\u88c5\u5728github\u7684\u5305\uff08\u9700\u8981\u4f60\u6307\u5b9a\u8981\u5b89\u88c5\u5305\u7684github\u7684user/repo\uff09"},{"location":"R-in-action/%E4%BC%98%E9%9B%85%E4%BF%AE%E6%94%B9%E5%B7%A5%E4%BD%9C%E7%9B%AE%E5%BD%95%EF%BC%9Ahere%E6%9B%BF%E4%BB%A3setwd/","text":"\u9519\u8bef\u793a\u4f8b\uff1a setwd(\"E:/data/RNA-seq/\") rm(list=ls()) \u50cf\u4e0a\u9762\u7684\u8fd9\u6837\u7684\u9519\u8bef\u4f8b\u5b50\u7684R\u811a\u672c\u4ee3\u7801\u7ecf\u5e38\u51fa\u73b0\u5728\u5404\u4e2a\u5730\u65b9\uff0c\u5927\u5bb6\u4f3c\u4e4e\u90fd\u5df2\u7ecf\u4e60\u60ef\u4e86\u8fd9\u79cd\u505a\u6cd5\u3002~~\u7136\u540e\u4f60\u7684\u7535\u8111\u5c31\u4f1a\u88abfire~~\u3002 \u539f\u6587\u5730\u5740\uff1ahttps://www.tidyverse.org/blog/2017/12/workflow-vs-script/ \u6b64\u6587\u4ef6\u65e8\u7528\u5728\u66ff\u4ee3\u5e38\u7528\u7684setwd(\"\")\u548crm(list=ls()) \u5728R\u4ee3\u7801\u7684\u5f00\u5934\u7ecf\u5e38\u89c1\u5230\u4e0a\u9762\u7684\u547d\u4ee4\uff0c\u4f46\u662f\u8fd9\u4e9b\u547d\u4ee4\u5bf9\u4e8eR\u811a\u672c\u5e76\u4e0d\u53cb\u597d\u3002\u9700\u8981\u89e3\u51b3R\u4ee3\u7801\u65e0\u8bba\u662fwin\u6216linux\u90fd\u80fd\u6b63\u5e38\u8fd0\u884c\uff0c\u800c\u4e14\u4e0d\u9700\u8981\u624b\u52a8\u7684\u53d8\u66f4\u4fee\u6539\u8def\u5f84\u76f8\u5173\u7684\u4fe1\u606f\u3002 - #### \u4f7f\u7528 here \u4ee3\u66ff\u5e38\u89c4\u7684\u8bbe\u7f6e\u76ee\u5f55\uff0c\u53ef\u4ee5\u89e3\u51b3win\u548cunix\u7684\u7cfb\u7edf\u8def\u5f84\u95ee\u9898\uff0c\u800c\u4e14\u65e0\u8bba\u4ee3\u7801\u7684\u811a\u672c\u6587\u4ef6\u88ab\u8fc1\u79fb\u5230\u4f55\u5904\u90fd\u80fd\u8fd0\u884c\uff0c\u800c\u65e0\u9700\u62c5\u5fc3\u8def\u5f84\u95ee\u9898\u3002 here::i_am(\"usehere/use_here.R\") \u4f7f\u7528\u8fd9\u6761\u547d\u4ee4\u53ef\u4ee5\u628ahere\u7684\u8def\u5f84\u8bbe\u7f6e\u4e3a usehere \u6587\u4ef6\u5939\u7684\u4e0a\u4e00\u7ea7\u6587\u4ef6\u5939 here::i_am(\"use_here.R\") \u4f7f\u7528\u8fd9\u6761\u547d\u4ee4\u53ef\u4ee5\u628ahere\u7684\u8def\u5f84\u8bbe\u7f6e\u4e3a use_here.R \u6240\u5728\u7684\u6587\u4ef6\u5939 here\u5b58\u50a8\u7684\u662f\u7edd\u5bf9\u8def\u5f84\uff0c\u4f7f\u7528\u65f6\u76f4\u63a5\u8fde\u63a5\u5bf9\u5e94\u7684\u6587\u4ef6\u5373\u53ef\u3002 read.csv(here(\"data\",\"testgene.csv\")) \u4e2d\uff0c\u5c31\u662f\u8bfb\u53d6here\u7edd\u5bf9\u8def\u5f84\u4e0b\u7684data\u6587\u4ef6\u5939\u91cc\u7684testgene.csv\u6587\u4ef6\u3002 here::dr_here() \u547d\u4ee4\u53ef\u4ee5\u67e5\u770b\u5f53\u524d\u7684here\u7684\u8def\u5f84\uff0c\u4ee5\u53ca\u4e3a\u4ec0\u4e48\u4f1a\u662f\u8fd9\u4e2a\u8def\u5f84\u7684\u539f\u56e0\u3002 - #### \u4f7f\u7528 saveRDS \u548c readRDS \u53ef\u4ee5\u66ff\u4ee3\u4f60\u7684 rm(list=ls()) rm(list=ls()) \u662f\u6740\u4f24\u529b\u5de8\u5927\u7684\u4ee3\u7801\uff0c\u5bf9\u4e8e\u5e26\u4e2aR\u6587\u4ef6\u6765\u8bf4\u5f71\u54cd\u4e0d\u5927\uff0c\u4f46\u662f\u5982\u679c\u6574\u5408\u5230\u5927\u7684\u9879\u76ee\u91cc\u540e\uff0c\u5c31\u4f1a\u628a\u6574\u4e2a\u9879\u76ee\u8fdb\u7a0b\u91cc\u7684\u53d8\u91cf\u5168\u90e8\u6e05\u9664\u3002\u6240\u4ee5\u63a8\u8350\u662f\uff0c\u5982\u679c\u8fd0\u7b97\u91cf\u6bd4\u8f83\u5927\u7684\u53d8\u91cf\u7684\u503c\uff0c\u751f\u6210\u540e\u76f4\u63a5\u5c31\u5730\u4fdd\u5b58\u3002\u4f7f\u7528 saveRDS \u4fdd\u5b58\u4e3aRDS\u6587\u4ef6\uff0c\u540e\u7eed\u9700\u8981\u4f7f\u7528\u65f6\u76f4\u63a5\u8bfb\u53d6RDS\u5373\u53ef\u3002 install.packages(\"here\") #\u5b89\u88c5here library(here) #\u52a0\u8f7dhere\u5305 here::i_am(\"use_here/use_here.R\") #\u8bbe\u7f6ehere\u7684\u8def\u5f84 testgene <- read.csv(here(\"data\",\"testgene.csv\")) #\u8bfb\u53d6\u6587\u4ef6\u8def\u5f84\u4f7f\u7528here saveRDS(gene,file=here(\"data\",\"genes.RDS\"),compress = \"gzip\") #\u4fdd\u5b58\u6587\u4ef6\u8def\u5f84\u4f7f\u7528here gene2 <- readRDS(here(\"data\",\"genes.RDS\")) #\u8bfb\u53d6RDS\u6587\u4ef6 gene <- read.csv(here(\"gene.csv\")) saveRDS(gene,file=here(\"genes.RDS\"),compress = \"gzip\") gene2 <- readRDS(here(\"genes.RDS\"))","title":"\u4f18\u96c5\u4fee\u6539\u5de5\u4f5c\u76ee\u5f55\uff1ahere\u66ff\u4ee3setwd"},{"location":"R-in-action/%E4%BC%98%E9%9B%85%E4%BF%AE%E6%94%B9%E5%B7%A5%E4%BD%9C%E7%9B%AE%E5%BD%95%EF%BC%9Ahere%E6%9B%BF%E4%BB%A3setwd/#_1","text":"setwd(\"E:/data/RNA-seq/\") rm(list=ls()) \u50cf\u4e0a\u9762\u7684\u8fd9\u6837\u7684\u9519\u8bef\u4f8b\u5b50\u7684R\u811a\u672c\u4ee3\u7801\u7ecf\u5e38\u51fa\u73b0\u5728\u5404\u4e2a\u5730\u65b9\uff0c\u5927\u5bb6\u4f3c\u4e4e\u90fd\u5df2\u7ecf\u4e60\u60ef\u4e86\u8fd9\u79cd\u505a\u6cd5\u3002~~\u7136\u540e\u4f60\u7684\u7535\u8111\u5c31\u4f1a\u88abfire~~\u3002 \u539f\u6587\u5730\u5740\uff1ahttps://www.tidyverse.org/blog/2017/12/workflow-vs-script/","title":"\u9519\u8bef\u793a\u4f8b\uff1a"},{"location":"R-in-action/%E4%BC%98%E9%9B%85%E4%BF%AE%E6%94%B9%E5%B7%A5%E4%BD%9C%E7%9B%AE%E5%BD%95%EF%BC%9Ahere%E6%9B%BF%E4%BB%A3setwd/#setwdrmlistls","text":"\u5728R\u4ee3\u7801\u7684\u5f00\u5934\u7ecf\u5e38\u89c1\u5230\u4e0a\u9762\u7684\u547d\u4ee4\uff0c\u4f46\u662f\u8fd9\u4e9b\u547d\u4ee4\u5bf9\u4e8eR\u811a\u672c\u5e76\u4e0d\u53cb\u597d\u3002\u9700\u8981\u89e3\u51b3R\u4ee3\u7801\u65e0\u8bba\u662fwin\u6216linux\u90fd\u80fd\u6b63\u5e38\u8fd0\u884c\uff0c\u800c\u4e14\u4e0d\u9700\u8981\u624b\u52a8\u7684\u53d8\u66f4\u4fee\u6539\u8def\u5f84\u76f8\u5173\u7684\u4fe1\u606f\u3002 - #### \u4f7f\u7528 here \u4ee3\u66ff\u5e38\u89c4\u7684\u8bbe\u7f6e\u76ee\u5f55\uff0c\u53ef\u4ee5\u89e3\u51b3win\u548cunix\u7684\u7cfb\u7edf\u8def\u5f84\u95ee\u9898\uff0c\u800c\u4e14\u65e0\u8bba\u4ee3\u7801\u7684\u811a\u672c\u6587\u4ef6\u88ab\u8fc1\u79fb\u5230\u4f55\u5904\u90fd\u80fd\u8fd0\u884c\uff0c\u800c\u65e0\u9700\u62c5\u5fc3\u8def\u5f84\u95ee\u9898\u3002 here::i_am(\"usehere/use_here.R\") \u4f7f\u7528\u8fd9\u6761\u547d\u4ee4\u53ef\u4ee5\u628ahere\u7684\u8def\u5f84\u8bbe\u7f6e\u4e3a usehere \u6587\u4ef6\u5939\u7684\u4e0a\u4e00\u7ea7\u6587\u4ef6\u5939 here::i_am(\"use_here.R\") \u4f7f\u7528\u8fd9\u6761\u547d\u4ee4\u53ef\u4ee5\u628ahere\u7684\u8def\u5f84\u8bbe\u7f6e\u4e3a use_here.R \u6240\u5728\u7684\u6587\u4ef6\u5939 here\u5b58\u50a8\u7684\u662f\u7edd\u5bf9\u8def\u5f84\uff0c\u4f7f\u7528\u65f6\u76f4\u63a5\u8fde\u63a5\u5bf9\u5e94\u7684\u6587\u4ef6\u5373\u53ef\u3002 read.csv(here(\"data\",\"testgene.csv\")) \u4e2d\uff0c\u5c31\u662f\u8bfb\u53d6here\u7edd\u5bf9\u8def\u5f84\u4e0b\u7684data\u6587\u4ef6\u5939\u91cc\u7684testgene.csv\u6587\u4ef6\u3002 here::dr_here() \u547d\u4ee4\u53ef\u4ee5\u67e5\u770b\u5f53\u524d\u7684here\u7684\u8def\u5f84\uff0c\u4ee5\u53ca\u4e3a\u4ec0\u4e48\u4f1a\u662f\u8fd9\u4e2a\u8def\u5f84\u7684\u539f\u56e0\u3002 - #### \u4f7f\u7528 saveRDS \u548c readRDS \u53ef\u4ee5\u66ff\u4ee3\u4f60\u7684 rm(list=ls()) rm(list=ls()) \u662f\u6740\u4f24\u529b\u5de8\u5927\u7684\u4ee3\u7801\uff0c\u5bf9\u4e8e\u5e26\u4e2aR\u6587\u4ef6\u6765\u8bf4\u5f71\u54cd\u4e0d\u5927\uff0c\u4f46\u662f\u5982\u679c\u6574\u5408\u5230\u5927\u7684\u9879\u76ee\u91cc\u540e\uff0c\u5c31\u4f1a\u628a\u6574\u4e2a\u9879\u76ee\u8fdb\u7a0b\u91cc\u7684\u53d8\u91cf\u5168\u90e8\u6e05\u9664\u3002\u6240\u4ee5\u63a8\u8350\u662f\uff0c\u5982\u679c\u8fd0\u7b97\u91cf\u6bd4\u8f83\u5927\u7684\u53d8\u91cf\u7684\u503c\uff0c\u751f\u6210\u540e\u76f4\u63a5\u5c31\u5730\u4fdd\u5b58\u3002\u4f7f\u7528 saveRDS \u4fdd\u5b58\u4e3aRDS\u6587\u4ef6\uff0c\u540e\u7eed\u9700\u8981\u4f7f\u7528\u65f6\u76f4\u63a5\u8bfb\u53d6RDS\u5373\u53ef\u3002 install.packages(\"here\") #\u5b89\u88c5here library(here) #\u52a0\u8f7dhere\u5305 here::i_am(\"use_here/use_here.R\") #\u8bbe\u7f6ehere\u7684\u8def\u5f84 testgene <- read.csv(here(\"data\",\"testgene.csv\")) #\u8bfb\u53d6\u6587\u4ef6\u8def\u5f84\u4f7f\u7528here saveRDS(gene,file=here(\"data\",\"genes.RDS\"),compress = \"gzip\") #\u4fdd\u5b58\u6587\u4ef6\u8def\u5f84\u4f7f\u7528here gene2 <- readRDS(here(\"data\",\"genes.RDS\")) #\u8bfb\u53d6RDS\u6587\u4ef6 gene <- read.csv(here(\"gene.csv\")) saveRDS(gene,file=here(\"genes.RDS\"),compress = \"gzip\") gene2 <- readRDS(here(\"genes.RDS\"))","title":"\u6b64\u6587\u4ef6\u65e8\u7528\u5728\u66ff\u4ee3\u5e38\u7528\u7684setwd(\"\")\u548crm(list=ls())"},{"location":"R-in-action/%E6%9E%84%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84R%E5%8C%85--KEGG-db/","text":"\u53c2\u8003\u5730\u5740 \u5728\u4f7f\u7528clusterProfiler\u65f6\uff0cKEGG\u6ce8\u91ca\u5305\uff0c\u53ef\u4ee5\u81ea\u5b9a\u4e49\u3002\u6bd5\u7adf\u8bb8\u591a\u7269\u79cd\u7684\u6570\u636e\u5e93\u662f\u4e0d\u5b8c\u5584\u7684\u3002 \u73b0\u5728\u5c31\u81ea\u5b9a\u4e49\u4e00\u4e2aKEGG.db\u7684\u5305\uff0c\u7528\u4e8eKEGG\u6ce8\u91ca\u3002 \u7b80\u5355\u5feb\u6377\u65b9\u6cd5\u5982\u4e0b\uff1a KEGG\u5b98\u65b9\u5730\u5740 \u7b2c\u4e00\u6b65\uff0c\u5148\u53bb\u4e0a\u8ff0\u5b98\u65b9\u5730\u5740\u627e\u5230\u81ea\u5df1\u7814\u7a76\u7684\u7269\u79cd\u5728KEGG\u6570\u636e\u91cc\u76843\u5b57\u7b26\u7f29\u5199\uff0c\u6bd4\u5982\uff1a\u6211\u7814\u7a76\u7684\u7389\u7c73\uff0c\u7f29\u5199\u662f zma #\u5b89\u88c5Y\u53d4\u7684\u5305\uff0c #\u5b89\u88c5\u521b\u5efaKEGG\u6570\u636e\u5e93\u7684\u5305\u7684\u5305 remotes::install_github(\"YuLab-SMU/createKEGGdb\") #\u521b\u5efa\u81ea\u5df1\u7684\u7269\u79cd\u7684\u5305create_kegg_db\uff0c\u4f1a\u81ea\u52a8\u521b\u5efa\u540d\u79f0\u4e3aKEGG.db_1.0.tar,gz\u7684\u5305\u3002\u7269\u79cd\u540d\u79f0\u7684\u7b80\u5199\uff0c\u5728 createKEGGdb::create_kegg_db('zma') #\u5b89\u88c5\u8fd9\u4e2a\u5305(\u9ed8\u8ba4\u7684\u5305\u7684\u8def\u5f84\u5728\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\uff0c\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u4fee\u6539\u8def\u5f84) install.packages(\"~/KEGG.db_1.0.tar.gz\",repos=NULL,type=\"source\") \u628aKEGG\u6570\u636e\u5e93\u672c\u5730\u5316\u7684\u597d\u5904\u662f\u53ef\u91cd\u590d\u6027\u597d\u3002\u5bf9\u4e8e\u540c\u4e00\u6279\u6570\u636e\u53ef\u4ee5\u7528\u540c\u4e00\u4e2a\u6570\u636e\u5e93\uff0c\u4e0d\u4f1a\u56e0\u7f51\u7edc\u7aef\u66f4\u65b0\u800c\u524d\u540e\u7ed3\u679c\u4e0d\u4e00\u81f4\u3002 \u5feb\u901f\u4e0a\u624b\u751f\u6210KEGG.db\uff0c\u5230\u6b64\u5df2\u7ed3\u675f\u3002 \u6d4b\u8bd5\u672c\u5730\u7684\u5305 library(KEGG.db) library(clusterProfiler) data(geneList,package=\"DOSE\") head(geneList) gene <- names(geneList)[abs(geneList) > 2] head(gene) kk <- enrichKEGG(gene= gene,organism= 'zma',pvalueCutoff = 0.05,qvalueCutoff = 0.05,use_internal_data =T) #\u5f53\u4f7f\u7528\u672c\u5730\u7684KEGG.db\u6570\u636e\u5e93\u65f6\uff0cuse_internal_data\u8bbe\u7f6e\u4e3aT,\u4f7f\u7528\u5728\u7ebf\u6570\u636e\u5e93\u65f6\u8bbe\u7f6e\u4e3aF. head(kk) nrow(kk) ~~\u590d\u6742\u65b9\u6cd5\uff0c\u4ece\u5934\u505a\u8d77~~","title":"\u6784\u5efa\u81ea\u5df1\u7684R\u5305  KEGG db"},{"location":"R-in-action/%E6%9E%84%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84R%E5%8C%85--KEGG-db/#_1","text":"KEGG\u5b98\u65b9\u5730\u5740 \u7b2c\u4e00\u6b65\uff0c\u5148\u53bb\u4e0a\u8ff0\u5b98\u65b9\u5730\u5740\u627e\u5230\u81ea\u5df1\u7814\u7a76\u7684\u7269\u79cd\u5728KEGG\u6570\u636e\u91cc\u76843\u5b57\u7b26\u7f29\u5199\uff0c\u6bd4\u5982\uff1a\u6211\u7814\u7a76\u7684\u7389\u7c73\uff0c\u7f29\u5199\u662f zma #\u5b89\u88c5Y\u53d4\u7684\u5305\uff0c #\u5b89\u88c5\u521b\u5efaKEGG\u6570\u636e\u5e93\u7684\u5305\u7684\u5305 remotes::install_github(\"YuLab-SMU/createKEGGdb\") #\u521b\u5efa\u81ea\u5df1\u7684\u7269\u79cd\u7684\u5305create_kegg_db\uff0c\u4f1a\u81ea\u52a8\u521b\u5efa\u540d\u79f0\u4e3aKEGG.db_1.0.tar,gz\u7684\u5305\u3002\u7269\u79cd\u540d\u79f0\u7684\u7b80\u5199\uff0c\u5728 createKEGGdb::create_kegg_db('zma') #\u5b89\u88c5\u8fd9\u4e2a\u5305(\u9ed8\u8ba4\u7684\u5305\u7684\u8def\u5f84\u5728\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\uff0c\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u4fee\u6539\u8def\u5f84) install.packages(\"~/KEGG.db_1.0.tar.gz\",repos=NULL,type=\"source\") \u628aKEGG\u6570\u636e\u5e93\u672c\u5730\u5316\u7684\u597d\u5904\u662f\u53ef\u91cd\u590d\u6027\u597d\u3002\u5bf9\u4e8e\u540c\u4e00\u6279\u6570\u636e\u53ef\u4ee5\u7528\u540c\u4e00\u4e2a\u6570\u636e\u5e93\uff0c\u4e0d\u4f1a\u56e0\u7f51\u7edc\u7aef\u66f4\u65b0\u800c\u524d\u540e\u7ed3\u679c\u4e0d\u4e00\u81f4\u3002","title":"\u7b80\u5355\u5feb\u6377\u65b9\u6cd5\u5982\u4e0b\uff1a"},{"location":"R-in-action/%E6%9E%84%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84R%E5%8C%85--KEGG-db/#keggdb","text":"\u6d4b\u8bd5\u672c\u5730\u7684\u5305 library(KEGG.db) library(clusterProfiler) data(geneList,package=\"DOSE\") head(geneList) gene <- names(geneList)[abs(geneList) > 2] head(gene) kk <- enrichKEGG(gene= gene,organism= 'zma',pvalueCutoff = 0.05,qvalueCutoff = 0.05,use_internal_data =T) #\u5f53\u4f7f\u7528\u672c\u5730\u7684KEGG.db\u6570\u636e\u5e93\u65f6\uff0cuse_internal_data\u8bbe\u7f6e\u4e3aT,\u4f7f\u7528\u5728\u7ebf\u6570\u636e\u5e93\u65f6\u8bbe\u7f6e\u4e3aF. head(kk) nrow(kk)","title":"\u5feb\u901f\u4e0a\u624b\u751f\u6210KEGG.db\uff0c\u5230\u6b64\u5df2\u7ed3\u675f\u3002"},{"location":"R-in-action/%E6%9E%84%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84R%E5%8C%85--KEGG-db/#_2","text":"","title":"~~\u590d\u6742\u65b9\u6cd5\uff0c\u4ece\u5934\u505a\u8d77~~"},{"location":"R-in-action/%E6%9F%A5%E6%89%BE%E6%9D%82%E5%BF%97%E7%9A%84%E5%BD%B1%E5%93%8D%E5%9B%A0%E5%AD%90-R%E5%AE%9E%E7%8E%B0%E6%89%B9%E9%87%8F%E5%8C%96/","text":"\u6211\u5df2\u7ecf\u6574\u7406\u597d\u7684 \u690d\u7269\u65b9\u5411 \u671f\u520a 2019\u5e74\u5f71\u54cd\u56e0\u5b50 \u67e5\u627e\u6742\u5fd7\u7684\u5f71\u54cd\u56e0\u5b50\uff0c\u624b\u52a8\u663e\u7136\u4e0d\u662f\u597d\u7684\u9009\u62e9\u3002Y\u53d4\u6709\u5199\u597d\u7684\u5305\uff0c\u90a3\u5c31\u7528\u5427\u3002scholar install.packages(\"scholar\") install.packages(\"dplyr\") library(scholar) #scholar\u8fd9\u4e2a\u5305\u5b9e\u8d28\u662f\u722c\u53d6\u4e86\u8c37\u6b4c\u5b66\u672f\uff0c\u6574\u7406\u5bf9\u5e94\u7684\u5185\u5bb9\u3002\u7b80\u5355\u7c97\u66b4\u597d\u7528\u3002 #\u8bbe\u5b9a\u671f\u520a\u7684\u540d\u79f0\u7684\u5411\u91cf jn = c(\"bioinformatics\",\"methods is ecology and evolution\",\"molecular biosystems\",\"molecular biology and evolution\") #\u83b7\u53d6\u5bf9\u5e94\u671f\u520a\u7684\u5f71\u54cd\u56e0\u5b50 get_impactfactor(jn) #\u83b7\u53d6cns\u7684\u6700\u65b0\u5f71\u54cd\u56e0\u5b50 cns=c(\"cell\",\"nature\",\"science\") get_impactfactor(cns) #\u83b7\u53d6\u6709bioinformatics\u76f8\u5173\u7684\u6240\u6709\u671f\u520a bioinfor <- agrep(\"bioinformatics\",scholar:::impactfactor$Journal,ignore.case = T,value = T,max.distance = 0.05) get_impactfactor(bioinfor) \u5982\u679c\u60f3\u6279\u91cf\uff0c\u628a\u6742\u5fd7\u5217\u8868\u5236\u6210csv\uff0c\u8bfb\u53d6\u540e\u3002\u8d4b\u503c\u7ed9\u4e00\u4e2a\u65b0\u5411\u91cfxxm\u3002\u76f4\u63a5\u7528 get_impactfactor(xxm) \u5373\u53ef\u3002 \u53c2\u8003Y\u53d4\u6559\u7a0b \u653e\u4e0a\u4ee3\u7801\uff1a #\u4ece\u672c\u5730\u8bfb\u53d6\u8981\u67e5\u8be2\u7684\u5217\u8868 journal_name <- read.csv(\"JournalName.csv\",header = TRUE)$Journal output <- get_impactfactor(journal_name) write.csv(output,\"journal_IF.csv\") journal.csv\u5185\u5bb9\u683c\u5f0f \u8f93\u51fa\u6587\u4ef6journal_IF.csv\u683c\u5f0f \u751f\u7269\u7c7b\u7684\u6742\u5fd7\u540d\u79f0\u5217\u8868 JournalName.csv \u4e0b\u8f7d\u5730\u5740 chaimol.com/biology/JournalName.csv \u67e5\u627ezhangsan\u7684H\u503c\uff0c \u901a\u8fc7\u5730\u5740 https://scholar.google.com/citations?hl=zh-CN&view_op=search_authors&mauthors=Zhang+San&btnG= 2022/01/12\u66f4\u65b0 scholar\u5b98\u65b9\u7684\u5f71\u54cd\u56e0\u5b50\u6570\u636e\u6765\u6e90\u4e8e\u8c37\u6b4c\uff0c\u4f46\u662fGoogle\u8c8c\u4f3c\u4e0d\u66f4\u65b0\u4e86\uff0c\u6240\u4ee5\u73b0\u5728\u67e5\u8be2\u5230\u7684\u90fd\u4e0d\u662f\u6700\u65b0\u7684\u5f71\u54cd\u56e0\u5b50\u3002\u6240\u4ee5\u5b98\u65b9\u53ef\u80fd\u4f1a\u5220\u9664 get_impactfactor \u8fd9\u4e2a\u51fd\u6570\u3002 The impact factor data is out-of-date and we may remove this function in future release.","title":"\u67e5\u627e\u6742\u5fd7\u7684\u5f71\u54cd\u56e0\u5b50 R\u5b9e\u73b0\u6279\u91cf\u5316"},{"location":"R-in-action/%E7%94%A8TrackViewer%E5%8C%85%E7%94%BB%E6%A3%92%E6%A3%92%E7%B3%96%E5%9B%BE/","text":"trackViewer\u5305\u7528\u4e8e\u53ef\u89c6\u5316 \u53c2\u80031 mp.weixin.qq.com/s/wuPklQ6KhhPqn2JjRWAMTA https://bioconductor.org/packages/release/bioc/vignettes/trackViewer/inst/doc/trackViewer.html#Variant_Call_Format_(VCF)_data #BiocManager::install(\"trackViewer\") setwd(\"e:/Rcode/trackviewer\") library(trackViewer) #\u4e3b\u8981\u753b\u56fe\u5305 library(RColorBrewer) #\u5f15\u5165\u989c\u8272\u5305 SNP <- c(10,12,23,250,300,303,400,500,510,535,650,680,700,1005,1200,1350,1402) # \u6307\u5b9aSNP \u5750\u6807\u4f4d\u7f6e sample.gr <- GRanges(\"chr1\", IRanges(SNP, width=1, names=paste0(\"snp\", SNP))) # \u8bbe\u7f6e\u68d2\u68d2\u56fe\u4f4d\u7f6e features <- GRanges(\"chr1\", IRanges(c(1, 401, 1001), # \u8bbe\u7f6eblock\u8d77\u4f7f\u4f4d\u7f6e width=c(400, 600, 505), # \u8bbe\u7f6eblock \u7684\u957f\u5ea6 names=c(\"UTR5\",\"CDS\",\"UTR3\"))) # \u8bbe\u7f6e\u540d\u5b57 features$fill <- brewer.pal(3,\"Set2\") #\u5757\u7684\u989c\u8272 sample.gr$color <- sample.int(length(SNP), length(SNP)) #\u68d2\u5b50\u4e0a\u9762\u7684\u7403\u7684\u989c\u8272 sample.gr$border <- sample(c(\"grey60\", \"grey50\"), length(SNP), replace=TRUE) #\u68d2\u5b50\u7684\u989c\u8272 sample.gr$alpha <- sample(100:200, length(SNP), replace = TRUE)/200 #\u8bbe\u7f6e\u900f\u660e\u5ea60-1\u4e4b\u95f4,sample\u662f\u751f\u6210100-200\u4e4b\u95f4\u7684\u968f\u673a\u6570 sample.gr$label <- as.character(1:length(sample.gr)) #\u7403\u5185\u7684\u5b57\u7b26 sample.gr$label.col <- \"black\" #\u7403\u5185\u7684\u6807\u7b7e\u7684\u989c\u8272 # features$height <- c(0.02, 0.05, 0.04) #\u5757\u7684\u9ad8\u5ea6 sample.gr$score <- sample.int(4, length(sample.gr), replace = TRUE) #\u8bbe\u7f6e\u7403\u7684\u6570\u91cf lolliplot(sample.gr, features,yaxis = F) #yaxis\u8bbe\u7f6e\u4e0d\u663e\u793ay\u8f74 xaxis <- c(1, 200, 400, 701, 1000, 1200, 1400) ## \u91cd\u65b0\u5b9a\u4e49x\u8f74 names(xaxis) <- xaxis names(xaxis)[4] <- \"center\" sample2.gr <- sample.gr # \u997c\u56fe sample2.gr$score <- NULL sample2.gr$label <- NULL # \u6e05\u7a7a\u6240\u6709\u5176\u4ed6\u65e0\u5173\u6570\u503c sample2.gr$color <- rep(list(c(\"#16A05D\", '#FFCD43')), length(SNP)) # \u8fd9\u91cc\u9700\u8981\u4f7f\u7528\u5217\u8868\uff0c\u5bf9\u5e94\u997c\u56fe\u5404\u90e8\u5206\u989c\u8272 sample2.gr$border <- \"gray30\" sample2.gr$value1 <- sample.int(5, length(sample2.gr), replace = TRUE) # \u997c\u56fe\u6570\u503c1 \u6240\u5360\u6bd4\u91cd sample2.gr$value2 <- 10 - sample2.gr$value1 # \u6570\u503c2 \u6240\u5360\u6bd4\u91cd features2 <- features features2$fill <- brewer.pal(3,\"Set1\") lolliplot(sample2.gr, features2,yaxis = F) lolliplot(list(A=sample.gr,B=sample2.gr),list(features,features2), type=c(\"circle\",\"pie\"), xaxis=xaxis) library(VariantAnnotation) #BiocManager::install(\"TxDb.Hsapiens.UCSC.hg38.knownGene\") #BiocManager::install(\"org.Hs.eg.db\") #\u4ee5\u4e0a\u4e24\u4e2a\u5305\u4e0b\u8f7d\u6bd4\u8f83\u6162\uff0c\u53ef\u4ee5\u4e0b\u8f7d\u5230\u672c\u5730\uff0c\u4f7f\u7528devtools\u5b89\u88c5\u3002 #devtools::install_local(\"org.Hs.eg.db_3.12.0.tar.gz\") #devtools::install_local(\"TxDb.Hsapiens.UCSC.hg38.knownGene_3.10.0.tar.gz\") library(TxDb.Hsapiens.UCSC.hg38.knownGene) library(org.Hs.eg.db) library(trackViewer) my_gr <- GRanges(\"chr1\", IRanges(69200, 70000, names=\"OR4F5\"))","title":"\u7528TrackViewer\u5305\u753b\u68d2\u68d2\u7cd6\u56fe"},{"location":"R-in-action/%E7%94%A8TrackViewer%E5%8C%85%E7%94%BB%E6%A3%92%E6%A3%92%E7%B3%96%E5%9B%BE/#trackviewer","text":"\u53c2\u80031 mp.weixin.qq.com/s/wuPklQ6KhhPqn2JjRWAMTA https://bioconductor.org/packages/release/bioc/vignettes/trackViewer/inst/doc/trackViewer.html#Variant_Call_Format_(VCF)_data #BiocManager::install(\"trackViewer\") setwd(\"e:/Rcode/trackviewer\") library(trackViewer) #\u4e3b\u8981\u753b\u56fe\u5305 library(RColorBrewer) #\u5f15\u5165\u989c\u8272\u5305 SNP <- c(10,12,23,250,300,303,400,500,510,535,650,680,700,1005,1200,1350,1402) # \u6307\u5b9aSNP \u5750\u6807\u4f4d\u7f6e sample.gr <- GRanges(\"chr1\", IRanges(SNP, width=1, names=paste0(\"snp\", SNP))) # \u8bbe\u7f6e\u68d2\u68d2\u56fe\u4f4d\u7f6e features <- GRanges(\"chr1\", IRanges(c(1, 401, 1001), # \u8bbe\u7f6eblock\u8d77\u4f7f\u4f4d\u7f6e width=c(400, 600, 505), # \u8bbe\u7f6eblock \u7684\u957f\u5ea6 names=c(\"UTR5\",\"CDS\",\"UTR3\"))) # \u8bbe\u7f6e\u540d\u5b57 features$fill <- brewer.pal(3,\"Set2\") #\u5757\u7684\u989c\u8272 sample.gr$color <- sample.int(length(SNP), length(SNP)) #\u68d2\u5b50\u4e0a\u9762\u7684\u7403\u7684\u989c\u8272 sample.gr$border <- sample(c(\"grey60\", \"grey50\"), length(SNP), replace=TRUE) #\u68d2\u5b50\u7684\u989c\u8272 sample.gr$alpha <- sample(100:200, length(SNP), replace = TRUE)/200 #\u8bbe\u7f6e\u900f\u660e\u5ea60-1\u4e4b\u95f4,sample\u662f\u751f\u6210100-200\u4e4b\u95f4\u7684\u968f\u673a\u6570 sample.gr$label <- as.character(1:length(sample.gr)) #\u7403\u5185\u7684\u5b57\u7b26 sample.gr$label.col <- \"black\" #\u7403\u5185\u7684\u6807\u7b7e\u7684\u989c\u8272 # features$height <- c(0.02, 0.05, 0.04) #\u5757\u7684\u9ad8\u5ea6 sample.gr$score <- sample.int(4, length(sample.gr), replace = TRUE) #\u8bbe\u7f6e\u7403\u7684\u6570\u91cf lolliplot(sample.gr, features,yaxis = F) #yaxis\u8bbe\u7f6e\u4e0d\u663e\u793ay\u8f74 xaxis <- c(1, 200, 400, 701, 1000, 1200, 1400) ## \u91cd\u65b0\u5b9a\u4e49x\u8f74 names(xaxis) <- xaxis names(xaxis)[4] <- \"center\" sample2.gr <- sample.gr # \u997c\u56fe sample2.gr$score <- NULL sample2.gr$label <- NULL # \u6e05\u7a7a\u6240\u6709\u5176\u4ed6\u65e0\u5173\u6570\u503c sample2.gr$color <- rep(list(c(\"#16A05D\", '#FFCD43')), length(SNP)) # \u8fd9\u91cc\u9700\u8981\u4f7f\u7528\u5217\u8868\uff0c\u5bf9\u5e94\u997c\u56fe\u5404\u90e8\u5206\u989c\u8272 sample2.gr$border <- \"gray30\" sample2.gr$value1 <- sample.int(5, length(sample2.gr), replace = TRUE) # \u997c\u56fe\u6570\u503c1 \u6240\u5360\u6bd4\u91cd sample2.gr$value2 <- 10 - sample2.gr$value1 # \u6570\u503c2 \u6240\u5360\u6bd4\u91cd features2 <- features features2$fill <- brewer.pal(3,\"Set1\") lolliplot(sample2.gr, features2,yaxis = F) lolliplot(list(A=sample.gr,B=sample2.gr),list(features,features2), type=c(\"circle\",\"pie\"), xaxis=xaxis) library(VariantAnnotation) #BiocManager::install(\"TxDb.Hsapiens.UCSC.hg38.knownGene\") #BiocManager::install(\"org.Hs.eg.db\") #\u4ee5\u4e0a\u4e24\u4e2a\u5305\u4e0b\u8f7d\u6bd4\u8f83\u6162\uff0c\u53ef\u4ee5\u4e0b\u8f7d\u5230\u672c\u5730\uff0c\u4f7f\u7528devtools\u5b89\u88c5\u3002 #devtools::install_local(\"org.Hs.eg.db_3.12.0.tar.gz\") #devtools::install_local(\"TxDb.Hsapiens.UCSC.hg38.knownGene_3.10.0.tar.gz\") library(TxDb.Hsapiens.UCSC.hg38.knownGene) library(org.Hs.eg.db) library(trackViewer) my_gr <- GRanges(\"chr1\", IRanges(69200, 70000, names=\"OR4F5\"))","title":"trackViewer\u5305\u7528\u4e8e\u53ef\u89c6\u5316"},{"location":"R-in-action/%E8%87%AA%E5%B7%B1%E6%9E%84%E5%BB%BAR%E5%8C%85/","text":"\u8f6c\u8f7d\u81ea\u53c2\u8003 https://mp.weixin.qq.com/s/Q_chMLju5YEIFncWJ2GFlw \u51c6\u5907\uff1a R,Rstudio,github\u684c\u9762\u7248\uff0cgithub\u8d26\u6237 \u57fa\u672c\u8981\u6c42 \u4f1a\u4f7f\u7528\u4e0a\u9762\u7684\u8f6f\u4ef6\uff0c\u7406\u89e3\u672c\u5730\u7248github\u540c\u6b65\u5230\u8fdc\u7aef\u7684\u8fc7\u7a0b \u5f00\u59cb\u5199\u5305 \u5305\u7684\u57fa\u672c\u7ed3\u6784 \u7f16\u5199\u51fd\u6570 \u751f\u6210\u6587\u6863\u9aa8\u67b6 \u7528 {renv} \u8fdb\u884c\u4f9d\u8d56\uff08\u52a0\u8f7d\u5305\uff09\u7684\u7248\u672c\u63a7\u5236 install.packages(\"renv\") \u521d\u59cb\u5316\u73af\u5883 renv::init() \u81ea\u52a8\u6253\u5305\u9879\u76ee\u4e2d\u7684\u4f9d\u8d56\u5305\u7684\u4fe1\u606f\uff0c\u5305\u62ec\u540d\u79f0\u548c\u7248\u672c\u4fe1\u606f renv::update() \u5bf9\u4f9d\u8d56\u5305\u8fdb\u884c\u66f4\u65b0\uff08\u66f4\u65b0\u4f9d\u8d56\u5305\u7684\u7248\u672c\uff09 \u66f4\u65b0\u5230\u5f53\u524d\u6240\u7528\u7684\u5305\u73af\u5883\uff08\u6bcf\u6b21\u7f16\u5199\u65b0\u7684\u51fd\u6570\u6216\u811a\u672c\u540e\uff0c\u5982\u679c\u6709\u4f9d\u8d56\u65b0\u7684\u5305\uff0c\u5219\u9700\u8981\u8fd0\u884c\u8fd9\u6761\u547d\u4ee4\uff0c\u66f4\u65b0\u81ea\u5df1\u7684\u4f9d\u8d56\u73af\u5883\u4fe1\u606f\uff09 renv::snapshot() \uff08\u66f4\u65b0\u7684\u662f\u81ea\u5df1\u7f16\u5199\u7684\u5305\u91cc\u5bf9\u4f9d\u8d56\u5305\u7684\u4f9d\u8d56\u4fe1\u606f\uff09 \u5982\u679c\u6362\u4e86\u7535\u8111\u5f00\u53d1\uff0c renv::restore() \u6062\u590d\u5230\u5f00\u53d1\u65f6\u7528\u7684\u5305\u73af\u5883 \u5305\u4e3a\u5fc5\u9700\u7684\u65f6\u5019\u7528 imports ; \u975e\u5fc5\u987b\u7684\u65f6\u5019\u7528 Suggests usethis::use_package(package = \"ggplot2\", type = \"imports\") usethis::use_package(package = \"renv\", type = \"Suggests\") \u7f16\u5199READEME \u4f1a\u81ea\u52a8\u751f\u6210\u4e00\u4e2areadme.Rmd\u6587\u4ef6\uff0c # \u5f15\u5165\u5fc5\u5907\u5305 {rmarkdown} install.packages(\"rmarkdown\") # \u867d\u7136\u4e5f\u53ef\u4ee5\u4f7f\u7528 usethis::use_readme_md() usethis::use_readme_rmd() \u7136\u540e\u4f7f\u7528knit\u8f6c\u6362\u4e3agithub\u7684md\u6587\u4ef6\u5373\u53ef\u6216\u8005 \u8fd0\u884c\u547d\u4ee4\u4e5f\u53ef rmarkdown::render('README.Rmd',\"github_document\") \u4ee3\u7801\u683c\u5f0f\u4f18\u5316 \u4f7f\u7528 {styler} \u6765\u7f8e\u5316\u4ee3\u7801 # \u5b89\u88c5 {styler} install.packages(\"styler\") # \u5bf9\u6574\u4e2a\u5305\u8fdb\u884c\u4ee3\u7801\u7f8e\u5316 styler::style_pkg() \u7528 {lintr} \u6765\u89c4\u8303\u4ee3\u7801 # \u5b89\u88c5 {lintr} install.packages(\"lintr\") # \u5bf9\u6574\u4e2a\u5305\u8fdb\u884c\u4e0d\u7b26\u5408\u89c4\u8303\u7684\u4ee3\u7801\u67e5\u8be2\uff08\u5f53\u7136\uff0c\u90fd\u6ca1\u6709\u5199\u591a\u5c11\u4ee3\u7801\uff0c\u5f53\u7136\u4e0d\u4f1a\u51fa\u73b0\u4ec0\u4e48\u9519\u8bef\u7ed3\u679c\uff09 lintr::lint_package() # \u6bd4\u5982\u6211\u4eec\u5728 add \u51fd\u6570\u4e2d\u589e\u52a0\u4e00\u4e2a\u8d85\u8fc780\u5b57\u7b26\u7684\u6ce8\u91ca add <- function(a, b) { # aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa a + b } # \u518d\u6b21\u6267\u884c lintr::lint_package() \u7528 {testthat} \u6765\u6d4b\u8bd5\u4ee3\u7801 \u5728\u7f16\u5199\u4e00\u4e2a\u5177\u6709\u53ef\u9760\u6027\u7684\u5305\u7684\u65f6\u5019\uff0c\u7279\u522b\u662f\u5f53\u51fd\u6570\u53d8\u5f97\u590d\u6742\u7684\u65f6\u5019\uff0c\u6d4b\u8bd5\u662f\u5fc5\u4e0d\u53ef\u5c11\u7684\u3002 \u6211\u4eec\u53ef\u4ee5\u7528 {usethis} \u6765\u5feb\u901f\u8bbe\u5b9a\u7f16\u5199\u6d4b\u8bd5\u6240\u9700\u8981\u7684 {testthat} \u7684\u73af\u5883\u3002 # \u8bbe\u5b9a\u73af\u5883 usethis::use_testthat() \u5b89\u88c5 {testthat} install.packages(\"testthat\") \u5feb\u901f\u521b\u5efa\u6d4b\u8bd5\u6587\u4ef6 usethis::use_test() 10. \u7f16\u5199\u5305\u7684\u8bf4\u660e \u5728\u522b\u7684\u6559\u7a0b\u4e2d\uff0c\u4e00\u822c\u90fd\u4f1a\u628a\u5305\u7684\u8bf4\u660e\u653e\u5230\u524d\u9762\uff0c\u8bf4\u660e\u8fd9\u4e5f\u662f\u5f88\u91cd\u8981\u7684\u4e00\u6b65\u3002 \u5728\u8fd9\u91cc\uff0c\u4e3a\u4e86\u628a\u8bf4\u660e\u90e8\u5206\u90fd\u6c47\u603b\u5230\u4e00\u8d77\uff0c\u5c31\u5c06\u5176\u653e\u5230\u4e86\u504f\u540e\u7684\u90e8\u5206\u3002 \u6253\u5f00\u6839\u76ee\u5f55\u4e0b\u7684 DESCRIPTION \u6587\u4ef6\uff0c\u5bf9\u5305\u8bf4\u660e\u8fdb\u884c\u4e00\u4e9b\u4fee\u6539\uff0c\u4e3b\u8981\u662f Title\u3001Authors \u548c Description \u90e8\u5206\uff0c\u522b\u7684\u90fd\u53ef\u4ee5\u539f\u5c01\u4e0d\u52a8\uff1a Package: rPackageTutorial Title: Create R Package In A Professional Way Tutorial Version: 0.0.0.9000 Authors@R: person(given = \"Wei\", family = \"Su\", role = c(\"aut\", \"cre\"), email = \"swsoyee@gmail.com\") Description: Show an example of how to create a r package in a professional way. License: `use_mit_license()`, `use_gpl3_license()` or friends to pick a license Encoding: UTF-8 LazyData: true Roxygen: list(markdown = TRUE) RoxygenNote: 7.1.1 Suggests: testthat (>= 3.0.0) Config/testthat/edition: 3 \u5982\u679c\u6ca1\u6709\u4f9d\u8d56\u5230\u522b\u7684\u5177\u6709\u4e0d\u540c\u7248\u6743\u7684\u7b2c\u4e09\u65b9\u5305\u7684\u8bdd\uff0c\u4e00\u822c\u9009\u62e9\u6700\u4e3a\u5e7f\u6cdb\u4f7f\u7528\u7684 MIT \u5373\u53ef usethis::use_mit_license() \u5347\u7ea7\u7248\u672c\u53f7 usethis::use_version() \u8f7b\u91cf\u7248\u68c0\u67e5 devtools::check() 11. \u7528 Github Action \u81ea\u52a8\u68c0\u67e5 \u5982\u65e0\u7279\u6b8a\u9700\u6c42\uff0c\u6216\u8005\u65b0\u624b\u5165\u95e8\u4e0b\u8ff0\u547d\u4ee4\u76f4\u63a5\u65e0\u8111\u8bbe\u7f6e\u5373\u53ef usethis::use_tidy_github_actions() devtools::build_rmd() \u589e\u52a0 NEWS \u9875\u9762\uff0c\u7528\u4e8e\u8bb0\u5f55\u6bcf\u4e00\u6b21\u5347\u7ea7\u6240\u505a\u51fa\u7684\u53d8\u66f4 usethis::use_news_md() to be continued","title":"\u81ea\u5df1\u6784\u5efaR\u5305"},{"location":"R-in-action/%E8%87%AA%E5%B7%B1%E6%9E%84%E5%BB%BAR%E5%8C%85/#_1","text":"R,Rstudio,github\u684c\u9762\u7248\uff0cgithub\u8d26\u6237","title":"\u51c6\u5907\uff1a"},{"location":"R-in-action/%E8%87%AA%E5%B7%B1%E6%9E%84%E5%BB%BAR%E5%8C%85/#_2","text":"\u4f1a\u4f7f\u7528\u4e0a\u9762\u7684\u8f6f\u4ef6\uff0c\u7406\u89e3\u672c\u5730\u7248github\u540c\u6b65\u5230\u8fdc\u7aef\u7684\u8fc7\u7a0b","title":"\u57fa\u672c\u8981\u6c42"},{"location":"R-in-action/%E8%87%AA%E5%B7%B1%E6%9E%84%E5%BB%BAR%E5%8C%85/#_3","text":"\u5305\u7684\u57fa\u672c\u7ed3\u6784 \u7f16\u5199\u51fd\u6570 \u751f\u6210\u6587\u6863\u9aa8\u67b6 \u7528 {renv} \u8fdb\u884c\u4f9d\u8d56\uff08\u52a0\u8f7d\u5305\uff09\u7684\u7248\u672c\u63a7\u5236 install.packages(\"renv\")","title":"\u5f00\u59cb\u5199\u5305"},{"location":"R-in-action/%E8%87%AA%E5%B7%B1%E6%9E%84%E5%BB%BAR%E5%8C%85/#_4","text":"renv::init() \u81ea\u52a8\u6253\u5305\u9879\u76ee\u4e2d\u7684\u4f9d\u8d56\u5305\u7684\u4fe1\u606f\uff0c\u5305\u62ec\u540d\u79f0\u548c\u7248\u672c\u4fe1\u606f renv::update() \u5bf9\u4f9d\u8d56\u5305\u8fdb\u884c\u66f4\u65b0\uff08\u66f4\u65b0\u4f9d\u8d56\u5305\u7684\u7248\u672c\uff09","title":"\u521d\u59cb\u5316\u73af\u5883"},{"location":"R-in-action/%E8%87%AA%E5%B7%B1%E6%9E%84%E5%BB%BAR%E5%8C%85/#_5","text":"renv::snapshot() \uff08\u66f4\u65b0\u7684\u662f\u81ea\u5df1\u7f16\u5199\u7684\u5305\u91cc\u5bf9\u4f9d\u8d56\u5305\u7684\u4f9d\u8d56\u4fe1\u606f\uff09","title":"\u66f4\u65b0\u5230\u5f53\u524d\u6240\u7528\u7684\u5305\u73af\u5883\uff08\u6bcf\u6b21\u7f16\u5199\u65b0\u7684\u51fd\u6570\u6216\u811a\u672c\u540e\uff0c\u5982\u679c\u6709\u4f9d\u8d56\u65b0\u7684\u5305\uff0c\u5219\u9700\u8981\u8fd0\u884c\u8fd9\u6761\u547d\u4ee4\uff0c\u66f4\u65b0\u81ea\u5df1\u7684\u4f9d\u8d56\u73af\u5883\u4fe1\u606f\uff09"},{"location":"R-in-action/%E8%87%AA%E5%B7%B1%E6%9E%84%E5%BB%BAR%E5%8C%85/#renvrestore","text":"","title":"\u5982\u679c\u6362\u4e86\u7535\u8111\u5f00\u53d1\uff0crenv::restore() \u6062\u590d\u5230\u5f00\u53d1\u65f6\u7528\u7684\u5305\u73af\u5883"},{"location":"R-in-action/%E8%87%AA%E5%B7%B1%E6%9E%84%E5%BB%BAR%E5%8C%85/#imports-suggests","text":"usethis::use_package(package = \"ggplot2\", type = \"imports\") usethis::use_package(package = \"renv\", type = \"Suggests\") \u7f16\u5199READEME \u4f1a\u81ea\u52a8\u751f\u6210\u4e00\u4e2areadme.Rmd\u6587\u4ef6\uff0c # \u5f15\u5165\u5fc5\u5907\u5305 {rmarkdown} install.packages(\"rmarkdown\") # \u867d\u7136\u4e5f\u53ef\u4ee5\u4f7f\u7528 usethis::use_readme_md() usethis::use_readme_rmd() \u7136\u540e\u4f7f\u7528knit\u8f6c\u6362\u4e3agithub\u7684md\u6587\u4ef6\u5373\u53ef\u6216\u8005 \u8fd0\u884c\u547d\u4ee4\u4e5f\u53ef rmarkdown::render('README.Rmd',\"github_document\") \u4ee3\u7801\u683c\u5f0f\u4f18\u5316 \u4f7f\u7528 {styler} \u6765\u7f8e\u5316\u4ee3\u7801 # \u5b89\u88c5 {styler} install.packages(\"styler\") # \u5bf9\u6574\u4e2a\u5305\u8fdb\u884c\u4ee3\u7801\u7f8e\u5316 styler::style_pkg() \u7528 {lintr} \u6765\u89c4\u8303\u4ee3\u7801 # \u5b89\u88c5 {lintr} install.packages(\"lintr\") # \u5bf9\u6574\u4e2a\u5305\u8fdb\u884c\u4e0d\u7b26\u5408\u89c4\u8303\u7684\u4ee3\u7801\u67e5\u8be2\uff08\u5f53\u7136\uff0c\u90fd\u6ca1\u6709\u5199\u591a\u5c11\u4ee3\u7801\uff0c\u5f53\u7136\u4e0d\u4f1a\u51fa\u73b0\u4ec0\u4e48\u9519\u8bef\u7ed3\u679c\uff09 lintr::lint_package() # \u6bd4\u5982\u6211\u4eec\u5728 add \u51fd\u6570\u4e2d\u589e\u52a0\u4e00\u4e2a\u8d85\u8fc780\u5b57\u7b26\u7684\u6ce8\u91ca add <- function(a, b) { # aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa a + b } # \u518d\u6b21\u6267\u884c lintr::lint_package() \u7528 {testthat} \u6765\u6d4b\u8bd5\u4ee3\u7801 \u5728\u7f16\u5199\u4e00\u4e2a\u5177\u6709\u53ef\u9760\u6027\u7684\u5305\u7684\u65f6\u5019\uff0c\u7279\u522b\u662f\u5f53\u51fd\u6570\u53d8\u5f97\u590d\u6742\u7684\u65f6\u5019\uff0c\u6d4b\u8bd5\u662f\u5fc5\u4e0d\u53ef\u5c11\u7684\u3002 \u6211\u4eec\u53ef\u4ee5\u7528 {usethis} \u6765\u5feb\u901f\u8bbe\u5b9a\u7f16\u5199\u6d4b\u8bd5\u6240\u9700\u8981\u7684 {testthat} \u7684\u73af\u5883\u3002 # \u8bbe\u5b9a\u73af\u5883 usethis::use_testthat()","title":"\u5305\u4e3a\u5fc5\u9700\u7684\u65f6\u5019\u7528imports;     \u975e\u5fc5\u987b\u7684\u65f6\u5019\u7528Suggests"},{"location":"R-in-action/%E8%87%AA%E5%B7%B1%E6%9E%84%E5%BB%BAR%E5%8C%85/#testthat","text":"install.packages(\"testthat\")","title":"\u5b89\u88c5 {testthat}"},{"location":"R-in-action/%E8%87%AA%E5%B7%B1%E6%9E%84%E5%BB%BAR%E5%8C%85/#_6","text":"usethis::use_test() 10. \u7f16\u5199\u5305\u7684\u8bf4\u660e \u5728\u522b\u7684\u6559\u7a0b\u4e2d\uff0c\u4e00\u822c\u90fd\u4f1a\u628a\u5305\u7684\u8bf4\u660e\u653e\u5230\u524d\u9762\uff0c\u8bf4\u660e\u8fd9\u4e5f\u662f\u5f88\u91cd\u8981\u7684\u4e00\u6b65\u3002 \u5728\u8fd9\u91cc\uff0c\u4e3a\u4e86\u628a\u8bf4\u660e\u90e8\u5206\u90fd\u6c47\u603b\u5230\u4e00\u8d77\uff0c\u5c31\u5c06\u5176\u653e\u5230\u4e86\u504f\u540e\u7684\u90e8\u5206\u3002 \u6253\u5f00\u6839\u76ee\u5f55\u4e0b\u7684 DESCRIPTION \u6587\u4ef6\uff0c\u5bf9\u5305\u8bf4\u660e\u8fdb\u884c\u4e00\u4e9b\u4fee\u6539\uff0c\u4e3b\u8981\u662f Title\u3001Authors \u548c Description \u90e8\u5206\uff0c\u522b\u7684\u90fd\u53ef\u4ee5\u539f\u5c01\u4e0d\u52a8\uff1a Package: rPackageTutorial Title: Create R Package In A Professional Way Tutorial Version: 0.0.0.9000 Authors@R: person(given = \"Wei\", family = \"Su\", role = c(\"aut\", \"cre\"), email = \"swsoyee@gmail.com\") Description: Show an example of how to create a r package in a professional way. License: `use_mit_license()`, `use_gpl3_license()` or friends to pick a license Encoding: UTF-8 LazyData: true Roxygen: list(markdown = TRUE) RoxygenNote: 7.1.1 Suggests: testthat (>= 3.0.0) Config/testthat/edition: 3","title":"\u5feb\u901f\u521b\u5efa\u6d4b\u8bd5\u6587\u4ef6"},{"location":"R-in-action/%E8%87%AA%E5%B7%B1%E6%9E%84%E5%BB%BAR%E5%8C%85/#mit","text":"usethis::use_mit_license()","title":"\u5982\u679c\u6ca1\u6709\u4f9d\u8d56\u5230\u522b\u7684\u5177\u6709\u4e0d\u540c\u7248\u6743\u7684\u7b2c\u4e09\u65b9\u5305\u7684\u8bdd\uff0c\u4e00\u822c\u9009\u62e9\u6700\u4e3a\u5e7f\u6cdb\u4f7f\u7528\u7684 MIT \u5373\u53ef"},{"location":"R-in-action/%E8%87%AA%E5%B7%B1%E6%9E%84%E5%BB%BAR%E5%8C%85/#_7","text":"usethis::use_version()","title":"\u5347\u7ea7\u7248\u672c\u53f7"},{"location":"R-in-action/%E8%87%AA%E5%B7%B1%E6%9E%84%E5%BB%BAR%E5%8C%85/#_8","text":"devtools::check() 11. \u7528 Github Action \u81ea\u52a8\u68c0\u67e5","title":"\u8f7b\u91cf\u7248\u68c0\u67e5"},{"location":"R-in-action/%E8%87%AA%E5%B7%B1%E6%9E%84%E5%BB%BAR%E5%8C%85/#_9","text":"usethis::use_tidy_github_actions() devtools::build_rmd() \u589e\u52a0 NEWS \u9875\u9762\uff0c\u7528\u4e8e\u8bb0\u5f55\u6bcf\u4e00\u6b21\u5347\u7ea7\u6240\u505a\u51fa\u7684\u53d8\u66f4 usethis::use_news_md() to be continued","title":"\u5982\u65e0\u7279\u6b8a\u9700\u6c42\uff0c\u6216\u8005\u65b0\u624b\u5165\u95e8\u4e0b\u8ff0\u547d\u4ee4\u76f4\u63a5\u65e0\u8111\u8bbe\u7f6e\u5373\u53ef"},{"location":"RNA-seq/AnnotationHub%E6%97%A0%E6%B3%95%E8%AE%BF%E9%97%AE%E7%9A%84%E9%97%AE%E9%A2%98/","text":"\u9274\u4e8eAnnotationHub\u8fd9\u4e2aR\u5305\u65e0\u6cd5\u8bbf\u95ee\uff0c~\u539f\u56e0\u7f51\u7edc\u65e0\u6cd5\u8bbf\u95ee~\uff0c\u4f7f\u7528\u672c\u5730\u7f13\u5b58\uff0c\u4ece\u672c\u5730\u52a0\u8f7d\u7684\u65b9\u6cd5\u4e5f\u65e0\u6cd5\u4f7f\u7528\u7684\u60c5\u51b5\u4e0b\u3002\u56e0\u7248\u672c\u5347\u7ea7\u589e\u52a0\u4e86\u7248\u672c\u53f7\u524d\u9762\u7684\u968f\u673a\u7801\uff0c\u6240\u4ee5\u65e0\u6cd5\u624b\u52a8\u4ece\u672c\u5730\u52a0\u8f7d\u5305\u3002 \u4e4b\u524d\u53ef\u4ee5FQ\u4e0b\u8f7d\u597dAnnotationhub\u7684\u6570\u636e\u540e\uff0c\u4ece\u672c\u5730\u52a0\u8f7d\u3002\u73b0\u5728\u5df2\u7ecf\u65e0\u6cd5\u4ece\u672c\u5730\u52a0\u8f7d\u3002\uff08\u8fd9\u662f\u6240\u6709\u7269\u79cd\u7684\u5305\uff09https://annotationhub.bioconductor.org/metadata/annotationhub.sqlite3 \u4f7f\u7528AnnotationDbi\u5305\u4ece\u672c\u5730\u52a0\u8f7d\u5df2\u6709\u7684\u7269\u79cd\u5305\u6570\u636e\u3002\uff08org.Zea_mays.eg.sqlite\uff09 library(AnnotationDbi) maize=AnnotationDbi::loadDb(file=\"C:/Users/Frank/AppData/Local/AnnotationHub/AnnotationHub/Cache/org.Zea_mays.eg.sqlite\") length(keys(maize)) \u6b64\u5904\u7684file\u540e\u7684\u8def\u5f84\u5c31\u662f\u672c\u5730\u5b58\u653e\u5bf9\u5e94\u7269\u79cd\u4fe1\u606f\u7684\u5305 org.Zea_mays.eg.sqlite \u6839\u636e\u81ea\u5df1\u7684\u7269\u79cd\u4fe1\u606f\u4e0b\u8f7d\u5bf9\u5e94\u7684\u5305\u3002 AnnotationHub\u7684\u4f7f\u7528 \u7389\u7c73\u7684orgdb\u6570\u636e\u5e93\u4e0b\u8f7d\u5730\u5740 \u6240\u6709\u7269\u79cd\u7684orgdb\u6570\u636e\u5e93 \uff08\u8f93\u5165\u5bf9\u5e94\u7684\u7269\u79cd\u62c9\u4e01\u540d\uff0c\u53ef\u4ee5\u641c\u7d22\u76f8\u5173\u7269\u79cd\u7684\u4e0b\u8f7d\u5730\u5740\uff09 NCBI\u7684\u57fa\u56e0id\u8f6c\u6362\u6587\u4ef6\u4e0b\u8f7d\u5730\u5740\uff08FTP\u5730\u5740\u76f4\u63a5\u590d\u5236\uff0cjianshu\u65e0\u6cd5\u94fe\u63a5FTP\u5730\u5740\uff09 ftp://ftp.ncbi.nlm.nih.gov/gene/DATA/ \u53c2\u8003 \u5bf9\u5e94\u7269\u79cd\u5305\u7684\u6587\u4ef6\u5b58\u653e\u5728Amazon S3\u670d\u52a1\u5668\uff0c\u6240\u4ee5\u8bbf\u95ee\u901f\u5ea6\u5f88\u6162\uff0c15k/B\u3002\u79d1\u5b66\u4e0a\u7f51\u53ef\u4ee5\u89e3\u51b3\u6b64\u95ee\u9898\u3002","title":"AnnotationHub\u65e0\u6cd5\u8bbf\u95ee\u7684\u95ee\u9898"},{"location":"RNA-seq/GO-KEGG/","text":"\u57fa\u56e0\u6ce8\u91ca\uff0c\u8f6c\u6362\uff0cGO,KEGG\u5728\u7ebf\u5de5\u5177 https://biit.cs.ut.ee/gprofiler/gost KOBAS\u65b0\u7684KEGG\u6ce8\u91ca\u6570\u636e\u5e93","title":"GO KEGG"},{"location":"RNA-seq/MeSH%E5%88%86%E6%9E%90/","text":"\u5fc5\u8bfb\u6587\u732e MeSH(\u533b\u5b66\u4e3b\u9898\u8bcd),\u6211\u5c06\u5176\u7528\u4e8e\u690d\u7269\u7684\u5206\u6790 \u5206\u6790\u5de5\u5177clusterProfiler \u6570\u636e\u5e93gene2pubmed \u6570\u636e\u5e93\u652f\u6301\u7269\u79cd \u67e5\u770b\u5730\u5740","title":"MeSH\u5206\u6790"},{"location":"RNA-seq/RNA-seq%E8%BF%9B%E8%A1%8C%E5%9F%BA%E5%9B%A0%E5%85%B1%E8%A1%A8%E8%BE%BE%E5%88%86%E6%9E%90%EF%BC%88WGCNA%EF%BC%89/","text":"\u53c2\u80031 https://horvath.genetics.ucla.edu/html/CoexpressionNetwork/Rpackages/WGCNA/Tutorials/ \u63a8\u8350\u4e0b\u97623\u4e2a\u91cd\u70b9\u9605\u8bfb\u7684\u6559\u7a0b \u516d\u516d\u7684\u6559\u7a0b \u6280\u80fd\u6811 \u751f\u4fe1\u5b9d\u5178 WGCNA\u88ab\u7528\u4e8e\u57fa\u56e0\u5171\u8868\u8fbe\u5206\u6790\u3002 RNA WGCNA\u5206\u6790\u53c2\u8003\u8d44\u6599 \u524d\u671f\u51c6\u5907 \u6570\u636e\u8d28\u63a7 \u4f7f\u7528STAR\u6216\u8005Hisat2\u6bd4\u5bf9\uff0cstringtie\u5b9a\u91cf\uff0c\u8f93\u51fa\u6807\u51c6\u5316\u8868\u8fbe\u77e9\u9635 \u51c6\u5907\u6837\u54c1\u7684\u8868\u578b\u6570\u636e \u6784\u5efa\u8868\u578b\u77e9\u9635 \u5f00\u59cb\u5206\u6790 \u5b89\u88c5WGCNA ```R rm(list = ls()) options(stringsAsFactors = F) options(BioC_mirror=\"https://mirrors.ustc.edu.cn/bioc/\") options(CRAN=\"https://mirrors.tuna.tsinghua.edu.cn/CRAN/\") ##\u8bbe\u7f6ebioconductor\uff0c\u5b89\u88c5WGCNA\u7684\u4f9d\u8d56\u5305 if (!requireNamespace(\"BiocManager\", quietly = TRUE)) install.packages(\"BiocManager\") BiocManager::install(c(\"AnnotationDbi\",\"impute\",\"GO.db\",\"preprocessCore\")) install.packages(\"WGCNA\") library(WGCNA) ``` \u6570\u636e\u8f93\u5165\u548c\u5904\u7406\uff0c\u91cd\u65b0\u683c\u5f0f\u5316\u6570\u636e\u3002 \u6587\u732e GATK\u6700\u4f73\u5b9e\u8df5 \u8f6c\u5f55\u7ec4\u5b66\u4e60\u603b\u7bc7 \u591a\u7ec4RNA-seq\u6bd4\u8f83 WGCNA\u5206\u6790 WGCNA\u56fe\u6587\u8be6\u89e3(\u56db) \u6c34\u7a3bBSA \u5b9a\u5236\u86cb\u767d\u8d28\u6570\u636e\u5e93\u6784\u5efa \u4f7f\u7528limma\u3001Glimma\u548cedgeR\uff0cRNA-seq\u6570\u636e\u5206\u6790\u6613\u5982\u53cd\u638c \u901a\u8fc7\u7efc\u5408\u591a\u7ec4\u5b66\u65b9\u6cd5\u6d1e\u5bdf\u4eba\u7c7b\u8bf1\u5bfc\u7684\u591a\u80fd\u5e72\u7ec6\u80de\u7684\u7a81\u53d8\u8d1f\u62c5 \u901a\u8fc7\u5168\u57fa\u56e0\u7ec4\uff0c\u6574\u4e2a\u5916\u663e\u5b50\u7ec4\u548c\u8f6c\u5f55\u7ec4\u7684\u4e09\u5e73\u53f0\u6d4b\u5e8f\u8fdb\u884c\u4e34\u5e8a\u764c\u75c7\u57fa\u56e0\u7ec4\u5206\u6790 annovar \u81ea\u95ed\u75c7\u8c31\u7cfb\u969c\u788d\u7537\u6027\u5168\u57fa\u56e0\u7ec4\u6d4b\u5e8f\u548c\u8f6c\u5f55\u7ec4\u8c31\u5206\u6790\u7684\u7efc\u5408\u5206\u6790","title":"RNA seq\u8fdb\u884c\u57fa\u56e0\u5171\u8868\u8fbe\u5206\u6790\uff08WGCNA\uff09"},{"location":"RNA-seq/RNA-seq%E8%BF%9B%E8%A1%8C%E5%9F%BA%E5%9B%A0%E5%85%B1%E8%A1%A8%E8%BE%BE%E5%88%86%E6%9E%90%EF%BC%88WGCNA%EF%BC%89/#3","text":"\u516d\u516d\u7684\u6559\u7a0b \u6280\u80fd\u6811 \u751f\u4fe1\u5b9d\u5178 WGCNA\u88ab\u7528\u4e8e\u57fa\u56e0\u5171\u8868\u8fbe\u5206\u6790\u3002 RNA WGCNA\u5206\u6790\u53c2\u8003\u8d44\u6599 \u524d\u671f\u51c6\u5907 \u6570\u636e\u8d28\u63a7 \u4f7f\u7528STAR\u6216\u8005Hisat2\u6bd4\u5bf9\uff0cstringtie\u5b9a\u91cf\uff0c\u8f93\u51fa\u6807\u51c6\u5316\u8868\u8fbe\u77e9\u9635 \u51c6\u5907\u6837\u54c1\u7684\u8868\u578b\u6570\u636e \u6784\u5efa\u8868\u578b\u77e9\u9635","title":"\u63a8\u8350\u4e0b\u97623\u4e2a\u91cd\u70b9\u9605\u8bfb\u7684\u6559\u7a0b"},{"location":"RNA-seq/RNA-seq%E8%BF%9B%E8%A1%8C%E5%9F%BA%E5%9B%A0%E5%85%B1%E8%A1%A8%E8%BE%BE%E5%88%86%E6%9E%90%EF%BC%88WGCNA%EF%BC%89/#_1","text":"\u5b89\u88c5WGCNA ```R rm(list = ls()) options(stringsAsFactors = F) options(BioC_mirror=\"https://mirrors.ustc.edu.cn/bioc/\") options(CRAN=\"https://mirrors.tuna.tsinghua.edu.cn/CRAN/\") ##\u8bbe\u7f6ebioconductor\uff0c\u5b89\u88c5WGCNA\u7684\u4f9d\u8d56\u5305 if (!requireNamespace(\"BiocManager\", quietly = TRUE)) install.packages(\"BiocManager\") BiocManager::install(c(\"AnnotationDbi\",\"impute\",\"GO.db\",\"preprocessCore\")) install.packages(\"WGCNA\") library(WGCNA) ``` \u6570\u636e\u8f93\u5165\u548c\u5904\u7406\uff0c\u91cd\u65b0\u683c\u5f0f\u5316\u6570\u636e\u3002 \u6587\u732e GATK\u6700\u4f73\u5b9e\u8df5 \u8f6c\u5f55\u7ec4\u5b66\u4e60\u603b\u7bc7 \u591a\u7ec4RNA-seq\u6bd4\u8f83 WGCNA\u5206\u6790 WGCNA\u56fe\u6587\u8be6\u89e3(\u56db) \u6c34\u7a3bBSA \u5b9a\u5236\u86cb\u767d\u8d28\u6570\u636e\u5e93\u6784\u5efa \u4f7f\u7528limma\u3001Glimma\u548cedgeR\uff0cRNA-seq\u6570\u636e\u5206\u6790\u6613\u5982\u53cd\u638c \u901a\u8fc7\u7efc\u5408\u591a\u7ec4\u5b66\u65b9\u6cd5\u6d1e\u5bdf\u4eba\u7c7b\u8bf1\u5bfc\u7684\u591a\u80fd\u5e72\u7ec6\u80de\u7684\u7a81\u53d8\u8d1f\u62c5 \u901a\u8fc7\u5168\u57fa\u56e0\u7ec4\uff0c\u6574\u4e2a\u5916\u663e\u5b50\u7ec4\u548c\u8f6c\u5f55\u7ec4\u7684\u4e09\u5e73\u53f0\u6d4b\u5e8f\u8fdb\u884c\u4e34\u5e8a\u764c\u75c7\u57fa\u56e0\u7ec4\u5206\u6790 annovar \u81ea\u95ed\u75c7\u8c31\u7cfb\u969c\u788d\u7537\u6027\u5168\u57fa\u56e0\u7ec4\u6d4b\u5e8f\u548c\u8f6c\u5f55\u7ec4\u8c31\u5206\u6790\u7684\u7efc\u5408\u5206\u6790","title":"\u5f00\u59cb\u5206\u6790"},{"location":"RNA-seq/deseq2-and-clusterprofiler/","text":"\u53c2\u8003\u94fe\u63a5 https://www.jianshu.com/p/c01b4cc1b98a https://www.jianshu.com/p/69aa1c9cf4d1 http://blog.sina.com.cn/s/blog_5d188bc40102xkr1.html Y\u53d4\u5b98\u65b9\u6559\u7a0b GO\u3001KEGG\u751f\u7269\u5b66\u610f\u4e49\u8bb2\u89e3 annotationhub\u7684ftp\u4e0b\u8f7d\u5730\u5740 \uff08\u7528\u4e8e\u4e0b\u8f7dannotationhub\u6570\u636e\u5e93\uff0c\u901f\u5ea6\u6162\u7684\u79bb\u8c31\uff09 \u6211\u7684\u5b9e\u73b0\u4ee3\u7801 \u80cc\u666f\u8bf4\u660e\uff1a\u6b64\u5904\u662f\u5728\u505a\u5b8c\u5dee\u5f02\u5206\u6790\u4e4b\u540e\u7684\uff27O\u548cKEGG\uff0cGSEA \u524d\u9762\u7684\u6b65\u9aa4 \u5168\u7a0b\u5728R-studio\u5b8c\u6210\u3002 \u5404\u79cd\u5305\u5404\u79cd\u4f9d\u8d56\uff0c\u54ea\u4e2a\u7f3a\u5c11\uff0c\u5b89\u54ea\u4e2a\u3002 R\u5305\u7684\u5b89\u88c5\u65b9\u6cd5\uff1a install.packages(\"ggplot2\") if (!requireNamespace(\"BiocManager\", quietly = TRUE)) install.packages(\"BiocManager\") BiocManager::install(\"topGO\", version = \"3.8\") source(\"https://bioconductor.org/biocLite.R\") biocLite(\"clusterProfiler\") \u5404\u79cd\u62a5\u9519\u5927\u90e8\u5206\u90fd\u662f\u5305\u7684\u4f9d\u8d56\u95ee\u9898\u3002 \u524d\u9762\u7684\u6b65\u9aa4\u4ee3\u7801\u5982\u4e0b\uff1a source(\"https://bioconductor.org/biocLite.R\") biocLite(\"DESeq2\") install.packages(\"tidyverse\") #\u8f93\u5165\u6570\u636e library(tidyverse) library(DESeq2) library(ggplot2) #import data #setwd(\"/home/chaim/disk/lyb/data/\") #setwd(\"/mnt/d/RNA-seq/\") setwd(\"D:/RNA-seq/\") countData <- as.matrix(read.csv(\"gene_count_matrix.csv\",row.names=\"gene_id\")) condition <- factor(c(rep(\"NS\",3),rep(\"WT\",3)),levels = c(\"WT\",\"NS\")) colData <- data.frame(row.names=colnames(countData),condition) dds <- DESeqDataSetFromMatrix(countData = countData,colData = colData, design = ~ condition) dds <- DESeq(dds) #\u603b\u4f53\u7ed3\u679c\u67e5\u770b res = results(dds) res = res[order(res$pvalue),] summary(res) #write.csv(res,file=\"All_results.csv\") table(res$padj<0.05) #\u63d0\u53d6\u5dee\u5f02\u57fa\u56e0\uff08DEGs\uff09\u5e76\u8fdb\u884cgene Symbol\u6ce8\u91ca diff_gene_deseq2 <- subset(res,padj<0.05 & abs(log2FoldChange)>1) dim(diff_gene_deseq2) write.csv(diff_gene_deseq2,file = \"DEG_treat_vs_control.csv\") \u5f00\u59cbGO\u3001KEGG\u3001GSEA\u5206\u6790 #\u751f\u6210\u5bf9\u5e94\u7684\u6563\u70b9\u706b\u5c71\u56fe resdata <- read.csv(\"DEG_treat_vs_control.csv\",header = TRUE) threshold <- as.factor(ifelse(resdata$padj < 0.01 & abs(resdata$log2FoldChange) >= 2 ,ifelse(resdata$log2FoldChange >= 2 ,'Up','Down'),'Not')) deg_img <- ggplot(resdata,aes(x=resdata$log2FoldChange,y=-log10(resdata$padj),colour=threshold)) + xlab(\"log2(Fold Change)\")+ylab(\"-log10(qvalue)\") + geom_point(size = 0.5,alpha=1) + ylim(0,200) + xlim(-12,12) + scale_color_manual(values=c(\"green\",\"grey\", \"red\")) ggsave(\"deg.pdf\",deg_img) #\u805a\u7c7b\u70ed\u56fe ##\u6b64\u5904\u751f\u6210\u7684\u662f\u6240\u6709\u7684\u7ed3\u679c\u7684\u70ed\u56fe install.packages(\"pheatmap\") if (!requireNamespace(\"BiocManager\", quietly = TRUE)) install.packages(\"BiocManager\") BiocManager::install(\"genefilter\", version = \"3.8\") #out.csv \u662fDEG_treat_vs_control.csv\u4e2d\u8fc7\u6ee4\u6389\u672a\u88ab\u6ce8\u91ca\u7684\u57fa\u56e0\uff0cout.csv\u662f\u5df2\u7ecf\u6ce8\u91ca\u7684\u57fa\u56e0 #resgene <- read.csv(\"out.csv\",header = TRUE) library(readr) library(\"genefilter\") library(pheatmap) rld <- rlogTransformation(dds,blind=F) write.csv(assay(rld),file=\"mm.DeSeq2.pseudo.counts.csv\") topVarGene <- head(order(rowVars(assay(rld)),decreasing = TRUE),30) mat <- assay(rld)[topVarGene,] ##mat <- mat - rowMeans(mat) \u51cf\u53bb\u4e00\u4e2a\u5e73\u5747\u503c\uff0c\u8ba9\u6570\u503c\u66f4\u52a0\u96c6\u4e2d anno <- as.data.frame(colData(rld)[,c(\"condition\",\"sizeFactor\")]) pheat <- pheatmap(mat,annotation_col=anno) ggsave(\"pheatmap.png\",pheat,width=12,height=12) # #\u5b89\u88c5biomaRt\u5305 # source(\"http://bioconductor.org/biocLite.R\") # biocLite(\"biomaRt\") # install.packages('DT') # #\u7528bioMart\u5bf9\u5dee\u5f02\u8868\u8fbe\u57fa\u56e0\u8fdb\u884c\u6ce8\u91ca # library(\"biomaRt\") # listMarts() # # ensembl=useMart(\"ENSEMBL_MART_ENSEMBL\") # all_datasets <- listDatasets(ensembl) # library(DT) # datatable(all_datasets,options = list(searching=FALSE,pageLength=5,lengthMenu=c(5,10,15,20))) #\u5b89\u88c5clusterProfiler \u7528\u4e8eGO/KEGG\u5206\u6790\u53caGSEA source(\"https://bioconductor.org/biocLite.R\") biocLite(\"clusterProfiler\") biocLite(\"DOSE\") library(DO.db) require(DOSE) library(clusterProfiler) if (!requireNamespace(\"BiocManager\", quietly = TRUE)) install.packages(\"BiocManager\") BiocManager::install(\"S4Vectors\", version = \"3.8\") #\u5b89\u88c5annotationhub if(!requireNamespace(\"BiocManager\",quietly = TRUE)) install.packages(\"BiocManager\") BiocManager::install(\"AnnotationHub\", version = \"3.8\") library(AnnotationHub) require(AnnotationHub) #\u4e0b\u9762\u7684hub <- AnnotationHub() maize <- hub[['AH66226']]\u53ef\u80fd\u4f1a\u5f88\u6162\uff0c\u76f4\u63a5\u7ec8\u6b62\u7a0b\u5e8f\u3002\u6839\u636e\u62a5\u9519\u4fe1\u606f\uff0c\u627e\u5230\u4e0b\u8f7d\u5730\u5740\uff0c\u4e0b\u8f7d\u5bf9\u5e94\u7684\u6587\u4ef6\u3002\u653e\u5230\u672c\u5730\u5bf9\u5e94\u4f4d\u7f6e\u3002https://annotationhub.bioconductor.org/metadata/annotationhub.sqlite3 #\u6ce8\u610f\u4e0b\u8f7d\u7684splite\u6587\u4ef6\u5e94\u8be5\u91cd\u547d\u540d\u4e3a\u5bf9\u5e94\u62a5\u9519\u63d0\u793a\u7684\u7f16\u53f7 hub <- AnnotationHub() query(hub,\"zea mays\") maize <- hub[['AH66226']] length(keys(maize)) #\u663e\u793amaize\u652f\u6301\u7684\u6240\u6709\u7684\u6570\u636e columns(maize) require(clusterProfiler) library(clusterProfiler) bitr(keys(maize)[1],'GID',c(\"GO\",\"ENTREZID\",\"UNIGENE\"),maize) #GO\u5bcc\u96c6\u5206\u6790 #\u4f7f\u7528enrichGO geneid <- read.csv('geneid_GO_KEGG.csv') #geneid_GO_KEGG.csv\u662f\u5c06\u663e\u8457\u7684gene\u901a\u8fc7gramene\u8f6c\u6362\u7f16\u53f7\u3002\u7b2c\u4e8c\u5217\u662fGO\u7f16\u53f7\u3002 \u57fa\u56e0\u7f16\u53f7\u8f6c\u6362\u4e3aGO\u3001KEGG\u7f16\u53f7\u53c2\u8003\u5730\u5740 target_gene_id <- geneid[,2] #target_gene_id <- unique(read.delim(\"geneid2GO\",header = TRUE)$GO_term_accession) #\u6b64\u5904\u7684ont\u662f`MF`\uff0c\u53ef\u4ee5\u81ea\u5df1\u66f4\u6539\u4e3a`BP`\u6216`CC`\uff0c\u5177\u4f53\u542b\u4e49\u89c1\u6587\u672b\u8bb2\u89e3\u3002 res_GO=enrichGO(target_gene_id,OrgDb=maize,keyType = 'GO',ont=\"MF\",pvalueCutoff=0.01,qvalueCutoff=0.05) write.table(as.data.frame(res_GO@result),file=\"GO_result.txt\") write.csv(as.data.frame(res_GO),\"GO_result.csv\",row.names = F) head(summary(res_GO)) #\u67f1\u5f62\u56fe barplot(res_GO,showCategory = 30,title = \"EnrichmentGO\") #\u6c14\u6ce1\u56fe dotplot(res_GO,font.size=5,showCategory=30) #\u6d53\u7f29\u56fe emapplot(res_GO) #\u7f51\u7edc\u56fe enrichMap(res_GO,vertex.label.cex=1.2,layout=igraph::layout.kamada.kawai) res_GO <- setReadable(res_GO,OrgDb = maize) plotGOgraph(res_GO) cnetplot(res_GO,categorySize=\"pvalue\",foldChange=target_gene_id) goplot(res_GO) if (!requireNamespace(\"BiocManager\", quietly = TRUE)) install.packages(\"BiocManager\") BiocManager::install(\"Rgraphviz\", version = \"3.8\") library(Rgraphviz) #\u8f6c\u6362GO id \u5230 gid\uff0c\u5176\u5b9egid\u5c31\u662fncbi-geneid GO2gid <- bitr(target_gene_id,fromType = 'GO',toType = 'GID',OrgDb = 'maize') gid2kegg <- bitr_kegg(GO2gid[,2],fromType = 'ncbi-geneid',toType = 'ncbi-proteinid',organism = 'zma') head(gid2kegg,100) #kegg kk <- enrichKEGG(gene = gid2kegg[,2],organism =\"zma\",keyType = 'ncbi-proteinid',pvalueCutoff = 0.01,qvalueCutoff = 0.01) write.table(as.data.frame(kk@result),file=\"kegg_result.txt\") write.csv(as.data.frame(kk@result),file = \"kegg_result.csv\") #kegg\u7ed3\u679c\u7684\u53ef\u89c6\u5316 dotplot(kk,showCategory=30) if (!requireNamespace(\"BiocManager\", quietly = TRUE)) install.packages(\"BiocManager\") BiocManager::install(\"topGO\", version = \"3.8\") #GSEA gsecc <- gseGO(geneList = target_gene_id,ont=\"CC\",OrgDb = maize,keyType = 'GO',verbose = F) #gseGO\u8fdb\u884cGSEA\u5206\u6790 \u8fd9\u4e2apheatmap\u7684\u6570\u636e\u6e90\u4e0d\u6b63\u786e\uff0c\u6240\u4ee5\u57fa\u56e0\u540d\u79f0\u90fd\u662fMSTRG\u3002\u5b9e\u9645\u5e94\u8be5\u4f7f\u7528\u7684\u662f\u8fc7\u6ee4\u540e\u663e\u8457\u5dee\u5f02\u7684\u57fa\u56e0\u3002 \u4f46\u662f\u5728\u6784\u5efaS4\u683c\u5f0f\u6570\u636e\u65f6\uff0c\u4ecd\u672a\u6210\u529f\u3002\u540e\u7eed\u5b9e\u73b0\u6b64\u529f\u80fd\u3002 \u5173\u4e8eGO,KEGG\u7684\u603b\u7ed3 GO\u67093\u79cd\u683c\u5f0f\uff0c MF \u5206\u5b50\u529f\u80fdmolecular function \u672c\u6587\u6211\u7684\u662f\u7528\u7684MF\u505a\u7684enrichGO\uff0c\u53ef\u4ee5\u8bd5\u8bd5\u5176\u4ed6\u4e24\u4e2a\u9009\u9879 BP \u751f\u7269\u5b66\u9014\u5f84biological process CC \u7ec6\u80de\u7ec4\u4efd cellular component \u5206\u5b50\u529f\u80fd\u63cf\u8ff0\u5728\u5206\u5b50\u751f\u7269\u5b66\u4e0a\u7684\u6d3b\u6027\uff0c\u5927\u90e8\u5206\u6307\u7684\u662f\u5355\u4e2a\u57fa\u56e0\u4ea7\u7269\u7684\u529f\u80fd\uff0c\u8fd8\u6709\u4e00\u5c0f\u90e8\u5206\u662f\u6b64\u57fa\u56e0\u4ea7\u7269\u5f62\u6210\u7684\u590d\u5408\u7269\u7684\u529f\u80fd\uff0c\u5305\u62ecantioxidantactivity \u3001binding\u7b49\uff1b \u751f\u7269\u5b66\u9014\u5f84\u662f\u7531\u5206\u5b50\u529f\u80fd\u6709\u5e8f\u5730\u7ec4\u6210\u7684\uff0c\u5177\u6709\u591a\u4e2a\u6b65\u9aa4\u7684\u4e00\u4e2a\u8fc7\u7a0b\uff0c\u5982cellular process\u3001cell killing\u7b49\uff1b \u7ec6\u80de\u7ec4\u4efd\u6307\u57fa\u56e0\u4ea7\u7269\u4f4d\u4e8e\u4f55\u79cd\u7ec6\u80de\u5668\u6216\u57fa\u56e0\u4ea7\u7269\u7ec4\u4e2d\uff0c\u5982membrane\u3001organelle\u7b49\u3002 \u5728\u4f7f\u7528GSEA\u7684\u6570\u636e\u5e93\u683c\u5f0f\u5206\u7c7b GSEA\u5206\u7c7b \u5173\u4e8e\u56fe\u7684\u95ee\u9898 GO\u6ce8\u91ca\u65f6\uff0c\u51fa\u56fe\u524d\u9762\u7684\u6587\u672c\u592a\u957f\uff0c\u60f3\u8ba9\u5b83\u81ea\u52a8\u6362\u884c GO\u7684\u6c14\u6ce1\u4e0d\u591f\u5927 #\u5b89\u88c5stringr library(stringr) library(ggplot2) p<-barplot(res_GO) #\u89e3\u51b3\u6362\u884c\u95ee\u9898 p + scale_x_discrete(labels=function(x) str_wrap(x, width=10)) #\u89e3\u51b3\u6c14\u6ce1\u4e0d\u591f\u5927\u7684\u95ee\u9898 dotplot(res_GO) + scale_size(range=c(2, 20))","title":"Deseq2 and clusterprofiler"},{"location":"RNA-seq/deseq2-and-clusterprofiler/#_1","text":"GO\u6ce8\u91ca\u65f6\uff0c\u51fa\u56fe\u524d\u9762\u7684\u6587\u672c\u592a\u957f\uff0c\u60f3\u8ba9\u5b83\u81ea\u52a8\u6362\u884c GO\u7684\u6c14\u6ce1\u4e0d\u591f\u5927 #\u5b89\u88c5stringr library(stringr) library(ggplot2) p<-barplot(res_GO) #\u89e3\u51b3\u6362\u884c\u95ee\u9898 p + scale_x_discrete(labels=function(x) str_wrap(x, width=10)) #\u89e3\u51b3\u6c14\u6ce1\u4e0d\u591f\u5927\u7684\u95ee\u9898 dotplot(res_GO) + scale_size(range=c(2, 20))","title":"\u5173\u4e8e\u56fe\u7684\u95ee\u9898"},{"location":"RNA-seq/deseq2%E5%92%8CclusterProfiler%E4%BD%BF%E7%94%A8%E4%B9%8B%E5%B0%8F%E8%AF%95%E7%89%9B%E5%88%80/","text":"\u53c2\u8003\u94fe\u63a5 https://www.jianshu.com/p/c01b4cc1b98a https://www.jianshu.com/p/69aa1c9cf4d1 http://blog.sina.com.cn/s/blog_5d188bc40102xkr1.html Y\u53d4\u5b98\u65b9\u6559\u7a0b GO\u3001KEGG\u751f\u7269\u5b66\u610f\u4e49\u8bb2\u89e3 annotationhub\u7684ftp\u4e0b\u8f7d\u5730\u5740 \uff08\u7528\u4e8e\u4e0b\u8f7dannotationhub\u6570\u636e\u5e93\uff0c\u901f\u5ea6\u6162\u7684\u79bb\u8c31\uff09 \u6211\u7684\u5b9e\u73b0\u4ee3\u7801 \u80cc\u666f\u8bf4\u660e\uff1a\u6b64\u5904\u662f\u5728\u505a\u5b8c\u5dee\u5f02\u5206\u6790\u4e4b\u540e\u7684\uff27O\u548cKEGG\uff0cGSEA \u524d\u9762\u7684\u6b65\u9aa4 \u5168\u7a0b\u5728R-studio\u5b8c\u6210\u3002 \u5404\u79cd\u5305\u5404\u79cd\u4f9d\u8d56\uff0c\u54ea\u4e2a\u7f3a\u5c11\uff0c\u5b89\u54ea\u4e2a\u3002 R\u5305\u7684\u5b89\u88c5\u65b9\u6cd5\uff1a install.packages(\"ggplot2\") if (!requireNamespace(\"BiocManager\", quietly = TRUE)) install.packages(\"BiocManager\") BiocManager::install(\"topGO\", version = \"3.8\") source(\"https://bioconductor.org/biocLite.R\") biocLite(\"clusterProfiler\") \u5404\u79cd\u62a5\u9519\u5927\u90e8\u5206\u90fd\u662f\u5305\u7684\u4f9d\u8d56\u95ee\u9898\u3002 \u524d\u9762\u7684\u6b65\u9aa4\u4ee3\u7801\u5982\u4e0b\uff1a source(\"https://bioconductor.org/biocLite.R\") biocLite(\"DESeq2\") install.packages(\"tidyverse\") #\u8f93\u5165\u6570\u636e library(tidyverse) library(DESeq2) library(ggplot2) #import data #setwd(\"/home/chaim/disk/lyb/data/\") #setwd(\"/mnt/d/RNA-seq/\") setwd(\"D:/RNA-seq/\") countData <- as.matrix(read.csv(\"gene_count_matrix.csv\",row.names=\"gene_id\")) condition <- factor(c(rep(\"NS\",3),rep(\"WT\",3)),levels = c(\"WT\",\"NS\")) colData <- data.frame(row.names=colnames(countData),condition) dds <- DESeqDataSetFromMatrix(countData = countData,colData = colData, design = ~ condition) dds <- DESeq(dds) #\u603b\u4f53\u7ed3\u679c\u67e5\u770b res = results(dds) res = res[order(res$pvalue),] summary(res) #write.csv(res,file=\"All_results.csv\") table(res$padj<0.05) #\u63d0\u53d6\u5dee\u5f02\u57fa\u56e0\uff08DEGs\uff09\u5e76\u8fdb\u884cgene Symbol\u6ce8\u91ca diff_gene_deseq2 <- subset(res,padj<0.05 & abs(log2FoldChange)>1) dim(diff_gene_deseq2) write.csv(diff_gene_deseq2,file = \"DEG_treat_vs_control.csv\") \u5f00\u59cbGO\u3001KEGG\u3001GSEA\u5206\u6790 #\u751f\u6210\u5bf9\u5e94\u7684\u6563\u70b9\u706b\u5c71\u56fe resdata <- read.csv(\"DEG_treat_vs_control.csv\",header = TRUE) threshold <- as.factor(ifelse(resdata$padj < 0.01 & abs(resdata$log2FoldChange) >= 2 ,ifelse(resdata$log2FoldChange >= 2 ,'Up','Down'),'Not')) deg_img <- ggplot(resdata,aes(x=resdata$log2FoldChange,y=-log10(resdata$padj),colour=threshold)) + xlab(\"log2(Fold Change)\")+ylab(\"-log10(qvalue)\") + geom_point(size = 0.5,alpha=1) + ylim(0,200) + xlim(-12,12) + scale_color_manual(values=c(\"green\",\"grey\", \"red\")) ggsave(\"deg.pdf\",deg_img) #\u805a\u7c7b\u70ed\u56fe ##\u6b64\u5904\u751f\u6210\u7684\u662f\u6240\u6709\u7684\u7ed3\u679c\u7684\u70ed\u56fe install.packages(\"pheatmap\") if (!requireNamespace(\"BiocManager\", quietly = TRUE)) install.packages(\"BiocManager\") BiocManager::install(\"genefilter\", version = \"3.8\") #out.csv \u662fDEG_treat_vs_control.csv\u4e2d\u8fc7\u6ee4\u6389\u672a\u88ab\u6ce8\u91ca\u7684\u57fa\u56e0\uff0cout.csv\u662f\u5df2\u7ecf\u6ce8\u91ca\u7684\u57fa\u56e0 #resgene <- read.csv(\"out.csv\",header = TRUE) library(readr) library(\"genefilter\") library(pheatmap) rld <- rlogTransformation(dds,blind=F) write.csv(assay(rld),file=\"mm.DeSeq2.pseudo.counts.csv\") topVarGene <- head(order(rowVars(assay(rld)),decreasing = TRUE),30) mat <- assay(rld)[topVarGene,] ##mat <- mat - rowMeans(mat) \u51cf\u53bb\u4e00\u4e2a\u5e73\u5747\u503c\uff0c\u8ba9\u6570\u503c\u66f4\u52a0\u96c6\u4e2d anno <- as.data.frame(colData(rld)[,c(\"condition\",\"sizeFactor\")]) pheat <- pheatmap(mat,annotation_col=anno) ggsave(\"pheatmap.png\",pheat,width=12,height=12) # #\u5b89\u88c5biomaRt\u5305 # source(\"http://bioconductor.org/biocLite.R\") # biocLite(\"biomaRt\") # install.packages('DT') # #\u7528bioMart\u5bf9\u5dee\u5f02\u8868\u8fbe\u57fa\u56e0\u8fdb\u884c\u6ce8\u91ca # library(\"biomaRt\") # listMarts() # # ensembl=useMart(\"ENSEMBL_MART_ENSEMBL\") # all_datasets <- listDatasets(ensembl) # library(DT) # datatable(all_datasets,options = list(searching=FALSE,pageLength=5,lengthMenu=c(5,10,15,20))) #\u5b89\u88c5clusterProfiler \u7528\u4e8eGO/KEGG\u5206\u6790\u53caGSEA source(\"https://bioconductor.org/biocLite.R\") biocLite(\"clusterProfiler\") biocLite(\"DOSE\") library(DO.db) require(DOSE) library(clusterProfiler) if (!requireNamespace(\"BiocManager\", quietly = TRUE)) install.packages(\"BiocManager\") BiocManager::install(\"S4Vectors\", version = \"3.8\") #\u5b89\u88c5annotationhub if(!requireNamespace(\"BiocManager\",quietly = TRUE)) install.packages(\"BiocManager\") BiocManager::install(\"AnnotationHub\", version = \"3.8\") library(AnnotationHub) require(AnnotationHub) #\u4e0b\u9762\u7684hub <- AnnotationHub() maize <- hub[['AH66226']]\u53ef\u80fd\u4f1a\u5f88\u6162\uff0c\u76f4\u63a5\u7ec8\u6b62\u7a0b\u5e8f\u3002\u6839\u636e\u62a5\u9519\u4fe1\u606f\uff0c\u627e\u5230\u4e0b\u8f7d\u5730\u5740\uff0c\u4e0b\u8f7d\u5bf9\u5e94\u7684\u6587\u4ef6\u3002\u653e\u5230\u672c\u5730\u5bf9\u5e94\u4f4d\u7f6e\u3002https://annotationhub.bioconductor.org/metadata/annotationhub.sqlite3 #\u6ce8\u610f\u4e0b\u8f7d\u7684splite\u6587\u4ef6\u5e94\u8be5\u91cd\u547d\u540d\u4e3a\u5bf9\u5e94\u62a5\u9519\u63d0\u793a\u7684\u7f16\u53f7 hub <- AnnotationHub() query(hub,\"zea mays\") maize <- hub[['AH66226']] length(keys(maize)) #\u663e\u793amaize\u652f\u6301\u7684\u6240\u6709\u7684\u6570\u636e columns(maize) require(clusterProfiler) library(clusterProfiler) bitr(keys(maize)[1],'GID',c(\"GO\",\"ENTREZID\",\"UNIGENE\"),maize) #GO\u5bcc\u96c6\u5206\u6790 #\u4f7f\u7528enrichGO geneid <- read.csv('geneid_GO_KEGG.csv') #geneid_GO_KEGG.csv\u662f\u5c06\u663e\u8457\u7684gene\u901a\u8fc7gramene\u8f6c\u6362\u7f16\u53f7\u3002\u7b2c\u4e8c\u5217\u662fGO\u7f16\u53f7\u3002 \u57fa\u56e0\u7f16\u53f7\u8f6c\u6362\u4e3aGO\u3001KEGG\u7f16\u53f7\u53c2\u8003\u5730\u5740 target_gene_id <- geneid[,2] #target_gene_id <- unique(read.delim(\"geneid2GO\",header = TRUE)$GO_term_accession) #\u6b64\u5904\u7684ont\u662f`MF`\uff0c\u53ef\u4ee5\u81ea\u5df1\u66f4\u6539\u4e3a`BP`\u6216`CC`\uff0c\u5177\u4f53\u542b\u4e49\u89c1\u6587\u672b\u8bb2\u89e3\u3002 res_GO=enrichGO(target_gene_id,OrgDb=maize,keyType = 'GO',ont=\"MF\",pvalueCutoff=0.01,qvalueCutoff=0.05) write.table(as.data.frame(res_GO@result),file=\"GO_result.txt\") write.csv(as.data.frame(res_GO),\"GO_result.csv\",row.names = F) head(summary(res_GO)) #\u67f1\u5f62\u56fe barplot(res_GO,showCategory = 30,title = \"EnrichmentGO\") #\u6c14\u6ce1\u56fe dotplot(res_GO,font.size=5,showCategory=30) #\u6d53\u7f29\u56fe emapplot(res_GO) #\u7f51\u7edc\u56fe enrichMap(res_GO,vertex.label.cex=1.2,layout=igraph::layout.kamada.kawai) res_GO <- setReadable(res_GO,OrgDb = maize) plotGOgraph(res_GO) cnetplot(res_GO,categorySize=\"pvalue\",foldChange=target_gene_id) goplot(res_GO) if (!requireNamespace(\"BiocManager\", quietly = TRUE)) install.packages(\"BiocManager\") BiocManager::install(\"Rgraphviz\", version = \"3.8\") library(Rgraphviz) #\u8f6c\u6362GO id \u5230 gid\uff0c\u5176\u5b9egid\u5c31\u662fncbi-geneid GO2gid <- bitr(target_gene_id,fromType = 'GO',toType = 'GID',OrgDb = 'maize') gid2kegg <- bitr_kegg(GO2gid[,2],fromType = 'ncbi-geneid',toType = 'ncbi-proteinid',organism = 'zma') head(gid2kegg,100) #kegg kk <- enrichKEGG(gene = gid2kegg[,2],organism =\"zma\",keyType = 'ncbi-proteinid',pvalueCutoff = 0.01,qvalueCutoff = 0.01) write.table(as.data.frame(kk@result),file=\"kegg_result.txt\") write.csv(as.data.frame(kk@result),file = \"kegg_result.csv\") #kegg\u7ed3\u679c\u7684\u53ef\u89c6\u5316 dotplot(kk,showCategory=30) if (!requireNamespace(\"BiocManager\", quietly = TRUE)) install.packages(\"BiocManager\") BiocManager::install(\"topGO\", version = \"3.8\") #GSEA gsecc <- gseGO(geneList = target_gene_id,ont=\"CC\",OrgDb = maize,keyType = 'GO',verbose = F) #gseGO\u8fdb\u884cGSEA\u5206\u6790 \u8fd9\u4e2apheatmap\u7684\u6570\u636e\u6e90\u4e0d\u6b63\u786e\uff0c\u6240\u4ee5\u57fa\u56e0\u540d\u79f0\u90fd\u662fMSTRG\u3002\u5b9e\u9645\u5e94\u8be5\u4f7f\u7528\u7684\u662f\u8fc7\u6ee4\u540e\u663e\u8457\u5dee\u5f02\u7684\u57fa\u56e0\u3002 \u4f46\u662f\u5728\u6784\u5efaS4\u683c\u5f0f\u6570\u636e\u65f6\uff0c\u4ecd\u672a\u6210\u529f\u3002\u540e\u7eed\u5b9e\u73b0\u6b64\u529f\u80fd\u3002 \u5173\u4e8eGO,KEGG\u7684\u603b\u7ed3 GO\u67093\u79cd\u683c\u5f0f\uff0c MF \u5206\u5b50\u529f\u80fdmolecular function \u672c\u6587\u6211\u7684\u662f\u7528\u7684MF\u505a\u7684enrichGO\uff0c\u53ef\u4ee5\u8bd5\u8bd5\u5176\u4ed6\u4e24\u4e2a\u9009\u9879 BP \u751f\u7269\u5b66\u9014\u5f84biological process CC \u7ec6\u80de\u7ec4\u4efd cellular component \u5206\u5b50\u529f\u80fd\u63cf\u8ff0\u5728\u5206\u5b50\u751f\u7269\u5b66\u4e0a\u7684\u6d3b\u6027\uff0c\u5927\u90e8\u5206\u6307\u7684\u662f\u5355\u4e2a\u57fa\u56e0\u4ea7\u7269\u7684\u529f\u80fd\uff0c\u8fd8\u6709\u4e00\u5c0f\u90e8\u5206\u662f\u6b64\u57fa\u56e0\u4ea7\u7269\u5f62\u6210\u7684\u590d\u5408\u7269\u7684\u529f\u80fd\uff0c\u5305\u62ecantioxidantactivity \u3001binding\u7b49\uff1b \u751f\u7269\u5b66\u9014\u5f84\u662f\u7531\u5206\u5b50\u529f\u80fd\u6709\u5e8f\u5730\u7ec4\u6210\u7684\uff0c\u5177\u6709\u591a\u4e2a\u6b65\u9aa4\u7684\u4e00\u4e2a\u8fc7\u7a0b\uff0c\u5982cellular process\u3001cell killing\u7b49\uff1b \u7ec6\u80de\u7ec4\u4efd\u6307\u57fa\u56e0\u4ea7\u7269\u4f4d\u4e8e\u4f55\u79cd\u7ec6\u80de\u5668\u6216\u57fa\u56e0\u4ea7\u7269\u7ec4\u4e2d\uff0c\u5982membrane\u3001organelle\u7b49\u3002 \u5728\u4f7f\u7528GSEA\u7684\u6570\u636e\u5e93\u683c\u5f0f\u5206\u7c7b GSEA\u5206\u7c7b","title":"deseq2\u548cclusterProfiler\u4f7f\u7528\u4e4b\u5c0f\u8bd5\u725b\u5200"},{"location":"RNA-seq/eQTL%E7%9A%84%E5%88%86%E6%9E%90-Matrix-eQTL/","text":"\u4f7f\u7528Matrix eQTL\u5206\u6790eQTL, \u8bba\u6587 https://doi.org/10.1093/bioinformatics/bts163 \u53c2\u8003\uff1a - https://www.jianshu.com/p/6e6d54d7483e - https://www.jianshu.com/p/2e1e9d3ccd63 \u57fa\u7840\u6982\u5ff5\uff1a \u8868\u8fbe\u6570\u91cf\u6027\u72b6\u57fa\u56e0\u5ea7\uff08expression Quantitative Trait Loci,eQTL\uff09\u662f\u5bf9\u4e0a\u8ff0\u6982\u5ff5\u7684\u8fdb\u4e00\u6b65\u6df1\u5316\uff0c\u5b83\u6307\u7684\u662f\u67d3\u8272\u4f53\u4e0a\u4e00\u4e9b\u80fd\u7279\u5b9a\u8c03\u63a7mRNA\u548c\u86cb\u767d\u8d28\u8868\u8fbe\u6c34\u5e73\u7684\u533a\u57df\uff0c\u5176mRNA/\u86cb\u767d\u8d28\u7684\u8868\u8fbe\u6c34\u5e73\u91cf\u4e0e\u6570\u91cf\u6027\u72b6\u6210\u6bd4\u4f8b\u5173\u7cfb\u3002eQTL\u53ef\u5206\u4e3a\u987a\u5f0f\u4f5c\u7528eQTL\uff08cis- eQTL\uff09\u548c\u53cd\u5f0f\u4f5c\u7528eQTL\uff08trans-eQTL\uff09\uff0c\u987a\u5f0f\u4f5c\u7528eQTL\u5c31\u662f\u67d0\u4e2a\u57fa\u56e0\u7684eQTL\u5b9a\u4f4d\u5230\u8be5\u57fa\u56e0\u6240\u5728\u7684\u57fa\u56e0\u7ec4\u533a\u57df\uff0c\u8868\u660e\u53ef\u80fd\u662f\u8be5\u57fa\u56e0\u672c\u8eab\u7684\u5dee\u522b\u5f15\u8d77\u7684mRNA\u6c34\u5e73\u53d8\u5316\uff1b\u53cd\u5f0f\u4f5c\u7528eQTL\u662f\u6307\u67d0\u4e2a\u57fa\u56e0\u7684eQTL\u5b9a\u4f4d\u5230\u5176\u4ed6\u57fa\u56e0\u7ec4\u533a\u57df\uff0c\u8868\u660e\u5176\u4ed6\u57fa\u56e0\u7684\u5dee\u522b\u63a7\u5236\u8be5\u57fa\u56e0mRNA\u6c34\u5e73\u7684\u5dee\u5f02\u3002 \u7b80\u5355\u8bf4\uff1a\u987a\u5f0f\u5143\u4ef6\u5728\u8c03\u63a7\u57fa\u56e0\u9644\u8fd1\uff0c\u53cd\u5f0f\u4f5c\u7528\u5143\u4ef6\u8ddd\u79bb\u76ee\u6807\u57fa\u56e0\u8f83\u8fdc\uff0c\u53ef\u80fd\u8de8\u67d3\u8272\u4f53\u3002 eQTL\u5c31\u662f\u628a\u57fa\u56e0\u8868\u8fbe\u4f5c\u4e3a\u4e00\u79cd\u6027\u72b6,\u7814\u7a76\u9057\u4f20\u7a81\u53d8\u4e0e\u57fa\u56e0\u8868\u8fbe\u7684\u76f8\u5173\u6027: \u5c31\u597d\u50cf\u7814\u7a76\u9057\u4f20\u7a81\u53d8\u4e0e\u8eab\u9ad8\u7684\u76f8\u5173\u6027\u4e00\u6837\u3002 \u8f93\u5165\u6587\u4ef6\uff1a genotype\u3001expression\u3001covariates\u3001gene location\u3001SNP location\u3002 genotype\uff08 \u5b9e\u4f8b \uff09 id Sam_01 Sam_02 Sam_03 Sam_04 Sam_05 Sam_06 Sam_07 Sam_08 Sam_09 Sam_10 Sam_11 Sam_12 Sam_13 Sam_14 Sam_15 Sam_16 Snp_01 2 0 2 0 2 1 2 1 1 1 2 2 1 2 2 1 Snp_02 0 1 1 2 2 1 0 0 0 1 1 1 1 0 1 1 Snp_03 1 0 1 0 1 1 1 1 0 1 1 0 1 1 1 2 Snp_04 0 1 2 2 2 1 1 0 0 0 1 2 1 1 1 0 Snp_05 1 1 2 1 1 2 1 1 0 1 1 2 0 1 2 1 Snp_06 2 2 2 1 1 0 1 0 2 1 1 1 2 0 2 1 Snp_07 1 1 2 2 0 1 1 1 1 0 2 2 0 1 1 1 Snp_08 1 0 1 0 1 0 0 1 1 1 0 2 0 1 1 1 Snp_09 2 1 2 2 0 1 1 0 2 1 1 0 1 1 0 0 Snp_10 1 1 0 0 0 2 2 1 1 2 1 1 1 1 1 0 Snp_11 2 2 2 0 2 1 1 2 1 2 0 1 0 1 1 2 Snp_12 1 1 2 2 2 1 1 1 1 0 2 0 1 1 0 2 Snp_13 0 1 1 1 1 1 2 1 2 2 0 0 0 1 1 1 Snp_14 0 0 1 0 1 2 2 2 1 1 1 0 1 0 1 0 Snp_15 1 2 1 2 2 1 2 1 1 2 1 1 1 2 0 2 expression covariates gene location SNP location https://mp.weixin.qq.com/s/kZEYD7AK3nr0vS7Zk5mrdw eQTL\u3001mQTL\u5171\u5b9a\u4f4d\u5206\u6790\u5c5e\u4e8ePost-GWAS\u7684\u4e00\u9879\u91cd\u8981\u5de5\u4f5c\uff0c\u65e8\u5728GWAS\u7ed3\u679c\u7684\u57fa\u7840\u4e0a\u9274\u5b9a\u4e0e\u8868\u578b\u76f8\u5173\u7684eQTL\u548cmQTL\u4f4d\u70b9. eQTL\u3001mQTL\u5171\u5b9a\u4f4d\u5206\u6790\u65b9\u6cd5\u3002 \u5176\u539f\u7406\u662f\u5229\u7528\u5df2\u6709\u6570\u636e\u5e93\u516c\u5e03\u7684eQTL\u3001mQTL\u4f4d\u70b9\uff0c\u7ed3\u5408GWAS summary\u6570\u636e\uff0c\u9274\u5b9a\u4e0e\u8868\u578b\u76f8\u5173\u7684eQTL\u548cmQTL\u4f4d\u70b9\u3002","title":"eQTL\u7684\u5206\u6790 Matrix eQTL"},{"location":"RNA-seq/eQTL%E7%9A%84%E5%88%86%E6%9E%90-Matrix-eQTL/#_1","text":"\u8868\u8fbe\u6570\u91cf\u6027\u72b6\u57fa\u56e0\u5ea7\uff08expression Quantitative Trait Loci,eQTL\uff09\u662f\u5bf9\u4e0a\u8ff0\u6982\u5ff5\u7684\u8fdb\u4e00\u6b65\u6df1\u5316\uff0c\u5b83\u6307\u7684\u662f\u67d3\u8272\u4f53\u4e0a\u4e00\u4e9b\u80fd\u7279\u5b9a\u8c03\u63a7mRNA\u548c\u86cb\u767d\u8d28\u8868\u8fbe\u6c34\u5e73\u7684\u533a\u57df\uff0c\u5176mRNA/\u86cb\u767d\u8d28\u7684\u8868\u8fbe\u6c34\u5e73\u91cf\u4e0e\u6570\u91cf\u6027\u72b6\u6210\u6bd4\u4f8b\u5173\u7cfb\u3002eQTL\u53ef\u5206\u4e3a\u987a\u5f0f\u4f5c\u7528eQTL\uff08cis- eQTL\uff09\u548c\u53cd\u5f0f\u4f5c\u7528eQTL\uff08trans-eQTL\uff09\uff0c\u987a\u5f0f\u4f5c\u7528eQTL\u5c31\u662f\u67d0\u4e2a\u57fa\u56e0\u7684eQTL\u5b9a\u4f4d\u5230\u8be5\u57fa\u56e0\u6240\u5728\u7684\u57fa\u56e0\u7ec4\u533a\u57df\uff0c\u8868\u660e\u53ef\u80fd\u662f\u8be5\u57fa\u56e0\u672c\u8eab\u7684\u5dee\u522b\u5f15\u8d77\u7684mRNA\u6c34\u5e73\u53d8\u5316\uff1b\u53cd\u5f0f\u4f5c\u7528eQTL\u662f\u6307\u67d0\u4e2a\u57fa\u56e0\u7684eQTL\u5b9a\u4f4d\u5230\u5176\u4ed6\u57fa\u56e0\u7ec4\u533a\u57df\uff0c\u8868\u660e\u5176\u4ed6\u57fa\u56e0\u7684\u5dee\u522b\u63a7\u5236\u8be5\u57fa\u56e0mRNA\u6c34\u5e73\u7684\u5dee\u5f02\u3002 \u7b80\u5355\u8bf4\uff1a\u987a\u5f0f\u5143\u4ef6\u5728\u8c03\u63a7\u57fa\u56e0\u9644\u8fd1\uff0c\u53cd\u5f0f\u4f5c\u7528\u5143\u4ef6\u8ddd\u79bb\u76ee\u6807\u57fa\u56e0\u8f83\u8fdc\uff0c\u53ef\u80fd\u8de8\u67d3\u8272\u4f53\u3002 eQTL\u5c31\u662f\u628a\u57fa\u56e0\u8868\u8fbe\u4f5c\u4e3a\u4e00\u79cd\u6027\u72b6,\u7814\u7a76\u9057\u4f20\u7a81\u53d8\u4e0e\u57fa\u56e0\u8868\u8fbe\u7684\u76f8\u5173\u6027: \u5c31\u597d\u50cf\u7814\u7a76\u9057\u4f20\u7a81\u53d8\u4e0e\u8eab\u9ad8\u7684\u76f8\u5173\u6027\u4e00\u6837\u3002","title":"\u57fa\u7840\u6982\u5ff5\uff1a"},{"location":"RNA-seq/eQTL%E7%9A%84%E5%88%86%E6%9E%90-Matrix-eQTL/#_2","text":"genotype\u3001expression\u3001covariates\u3001gene location\u3001SNP location\u3002 genotype\uff08 \u5b9e\u4f8b \uff09 id Sam_01 Sam_02 Sam_03 Sam_04 Sam_05 Sam_06 Sam_07 Sam_08 Sam_09 Sam_10 Sam_11 Sam_12 Sam_13 Sam_14 Sam_15 Sam_16 Snp_01 2 0 2 0 2 1 2 1 1 1 2 2 1 2 2 1 Snp_02 0 1 1 2 2 1 0 0 0 1 1 1 1 0 1 1 Snp_03 1 0 1 0 1 1 1 1 0 1 1 0 1 1 1 2 Snp_04 0 1 2 2 2 1 1 0 0 0 1 2 1 1 1 0 Snp_05 1 1 2 1 1 2 1 1 0 1 1 2 0 1 2 1 Snp_06 2 2 2 1 1 0 1 0 2 1 1 1 2 0 2 1 Snp_07 1 1 2 2 0 1 1 1 1 0 2 2 0 1 1 1 Snp_08 1 0 1 0 1 0 0 1 1 1 0 2 0 1 1 1 Snp_09 2 1 2 2 0 1 1 0 2 1 1 0 1 1 0 0 Snp_10 1 1 0 0 0 2 2 1 1 2 1 1 1 1 1 0 Snp_11 2 2 2 0 2 1 1 2 1 2 0 1 0 1 1 2 Snp_12 1 1 2 2 2 1 1 1 1 0 2 0 1 1 0 2 Snp_13 0 1 1 1 1 1 2 1 2 2 0 0 0 1 1 1 Snp_14 0 0 1 0 1 2 2 2 1 1 1 0 1 0 1 0 Snp_15 1 2 1 2 2 1 2 1 1 2 1 1 1 2 0 2 expression covariates gene location SNP location https://mp.weixin.qq.com/s/kZEYD7AK3nr0vS7Zk5mrdw eQTL\u3001mQTL\u5171\u5b9a\u4f4d\u5206\u6790\u5c5e\u4e8ePost-GWAS\u7684\u4e00\u9879\u91cd\u8981\u5de5\u4f5c\uff0c\u65e8\u5728GWAS\u7ed3\u679c\u7684\u57fa\u7840\u4e0a\u9274\u5b9a\u4e0e\u8868\u578b\u76f8\u5173\u7684eQTL\u548cmQTL\u4f4d\u70b9. eQTL\u3001mQTL\u5171\u5b9a\u4f4d\u5206\u6790\u65b9\u6cd5\u3002 \u5176\u539f\u7406\u662f\u5229\u7528\u5df2\u6709\u6570\u636e\u5e93\u516c\u5e03\u7684eQTL\u3001mQTL\u4f4d\u70b9\uff0c\u7ed3\u5408GWAS summary\u6570\u636e\uff0c\u9274\u5b9a\u4e0e\u8868\u578b\u76f8\u5173\u7684eQTL\u548cmQTL\u4f4d\u70b9\u3002","title":"\u8f93\u5165\u6587\u4ef6\uff1a"},{"location":"RNA-seq/%E4%B8%8A%E4%BC%A0%E6%B5%8B%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%88%B0NCBI%E7%9A%84SRA%E6%95%B0%E6%8D%AE%E5%BA%93/","text":"\u4e0a\u4f20\u6d4b\u5e8f\u6570\u636e\u5230SRA\u6570\u636e\u5e93\u3002 \u53c2\u8003\u94fe\u63a51 aspera\u7684\u4f7f\u7528 1.\u6ce8\u518cNCBI\u8d26\u6237 2. https://submit.ncbi.nlm.nih.gov/ \u9009\u62e9SRA. 3.\u65b0\u5efa\u63d0\u4ea4\u3002\u9700\u8981\u7ecf\u8fc7\u591a\u4e2a\u8868\u683c\u586b\u5199\u3002\uff08\u5982\u679c\u51fa\u73b0Waring,\u90a3\u5c31\u6682\u65f6\u4e0d\u8981\u7ba1\uff0c\u7b49\u534a\u5929\u518d\u8fdb\u5165\u8be5\u9875\u9762\uff0c\u7ee7\u7eed\u63d0\u4ea4\u3002\u4e00\u5b9a\u8981\u6309\u7167\u8981\u6c42\u586b\u5199\uff09 4.\u9009\u62e9aspera\u4e0a\u4f20\u65b9\u5f0f\u3002 \u5b89\u88c5\u4f7f\u7528aspera \u4e0b\u8f7d\u6587\u4ef6\uff0c\u89e3\u538b\uff0c\u5f97\u5230aspera.sh\u6587\u4ef6\u3002 bash aspera.sh ##\u6dfb\u52a0\u73af\u5883\u53d8\u91cf vim ~/.bash_profile export PATH=/home/chaim/.aspera/cli/bin:$PATH export MANPATH=/home/chaim/.aspera/cli/share/man:$MANPATH ##\u6839\u636e\u81ea\u5df1\u7684\u5b9e\u9645\u60c5\u51b5\u6dfb\u52a0\u914d\u7f6e\u6587\u4ef6\u7684\u8def\u5f84 ##\u91cd\u542f\u7ec8\u7aef ascp -h #\u6d4b\u8bd5\u5373\u53ef\u4f7f\u7528 \u4eceNCBI\u7684SRA\u7684\u7b2c7\u6b65\u9875\u9762\uff0c\u83b7\u53d6\u4f60\u81ea\u5df1\u7684aspera\u7684\u516c\u94a5\u3002\u6587\u4ef6\u540d\u662f aspera.openssh ,\u4e0b\u9762 -i \u53c2\u6570\u540e\u8ddf\u7684\u662f\u8be5\u516c\u94a5\u7684\u7edd\u5bf9\u8def\u5f84\u3002 -d \u547d\u4ee4\u540e\u8ddf\u7684\u662f\u4f60\u8981\u4e0a\u4f20\u7684\u6587\u4ef6\u7684\u7edd\u5bf9\u8def\u5f84\u3002 \u6ce8\u610f\u5728\u547d\u4ee4\u6700\u540e\u6dfb\u52a0\u4e0a\u65b0\u7684\u6587\u4ef6\u8def\u5f84 \u6211\u6dfb\u52a0\u7684\u662f /sra_data ,\u4e0d\u8ddf\u8def\u5f84\u4f1a\u76f4\u63a5\u4e0a\u4f20\u5230\u6839\u76ee\u5f55\uff0c\u6839\u76ee\u5f55\u65e0\u6cd5\u7f16\u8f91\u3002\u4e00\u5b9a\u8981\u5728\u540e\u9762\u8ddf\u4e0a\u81ea\u5df1\u547d\u540d\u7684\u8def\u5f84\u3002 \u4e0a\u4f20\u5230NCBI\u7684SRA\u7684\u4ee3\u7801\u3002 ascp -i <path to openssh/aspera.openssh> -QT -l 100m -k 1 -d <path to your sequence /*.fq> subasp@upload.ncbi.nlm.nih.gov:uploads/chaim$$$%#^$^%^a3/sra_data \u6211\u7684\u670d\u52a1\u5668\u662f\u7ecf\u5e38\u6389\u7ebf\u7684\uff0c\u9700\u8981\u4e00\u81f4\u4fdd\u6301\u8054\u7f51\u72b6\u6001\u3002 nohup ping www.hao123.com & \u6dfb\u52a0\u4e00\u4e2aping\uff0c\u4fdd\u6301\u7f51\u7edc\u8fde\u63a5\u3002 5.\u8fd4\u56deNCBI\u7684\u63d0\u4ea4\u9875\u9762\u9009\u62e9\u4f60\u7684\u76ee\u5f55\u7684\u6587\u4ef6\u5939\uff0c\u9009\u4e2d\u672c\u6b21\u4e0a\u4f20\u7684\u6570\u636e\u3002\u4e0a\u4f20\u5b8c\u6210\u540e\u9700\u8981\u7b49\u5f85\u4e00\u6bb5\u65f6\u95f4\uff08\u7ea610min\uff09\uff0c\u624d\u53ef\u4ee5\u770b\u5230\u4e0a\u4f20\u7684\u6587\u4ef6\u5939\u3002 \u4e4b\u540e\u9009\u4e2d\uff0c\u6309\u7167\u8981\u6c42\u63d0\u4ea4\u5373\u53ef\u3002 \u4e4b\u540e\u4f1a\u6536\u5230\u53d1\u9001\u7ed9\u4f60\u7684\u90ae\u4ef6\uff0c\u63d0\u9192\u4f60\u5df2\u7ecf\u6210\u529f\u63d0\u4ea4\u3002\u7b49\u5f85\u5ba1\u6838\u3002\u5ba1\u6838\u7ed3\u675f\u540e\uff0c\u4fbf\u53ef\u4ee5\u6b63\u5f0f\u53d1\u5e03\u6570\u636e\u3002\u4f1a\u6839\u636e\u4f60\u586b\u5199\u7684\u6570\u636e\u516c\u5e03\u65e5\u671f\uff0c\u6b63\u5f0f\u9762\u5411\u516c\u4f17\u516c\u5e03\u6570\u636e\u3002","title":"\u4e0a\u4f20\u6d4b\u5e8f\u6570\u636e\u5230NCBI\u7684SRA\u6570\u636e\u5e93"},{"location":"RNA-seq/%E4%BD%BF%E7%94%A8clusterProfiler%E5%88%86%E6%9E%90%E5%85%B6%E4%BB%96%E8%BD%AF%E4%BB%B6%E6%B3%A8%E9%87%8A%E7%9A%84GO%E5%92%8CKEGG/","text":"clusterProfiler\u51fa\u56fe\u6bd4\u8f83\u6f02\u4eae\u3002 #\u4f7f\u7528\u65b0\u7684GO\u548cKEGG\u8fdb\u884c\u5bcc\u96c6\u5206\u6790 setwd(\"e:/GO/\") library(clusterProfiler) library(ggplot2) ##\u83b7\u53d6spo\u57fa\u56e0\u7684\u5bcc\u96c6\u5206\u6790\u7ed3\u679c\uff0c\u9700\u8981\u8f93\u5165\u57fa\u56e0\u5217\u8868\u548cgenetype(\u7528\u4e8e\u8f93\u51fa\u6587\u4ef6\u540d\u7684\u524d\u7f00) #\u4fee\u6539\u8f93\u5165\u6587\u4ef6\u548ctype\u5373\u53ef\u8fd0\u884c gene <- read.csv(\"expansion_trd.csv\",header = FALSE) genetype <- \"trd\" #\u4fee\u6539GO\u548cKEGG\u6587\u4ef6\u540d golist <- read.table(file=\"GO.info\",sep = \"\\t\",header = FALSE) kegglist <- read.table(file=\"KEGG.info\",sep = \"\\t\",header = FALSE) #\u4e0b\u9762\u5185\u5bb9\u57fa\u672c\u4e0d\u9700\u8981\u4fee\u6539 spo2gene <- data.frame(golist$V1,golist$V3) #GO,Geneid spo2name <- data.frame(golist$V1,golist$V2) #GO,GO\u63cf\u8ff0 gene1 <- t(gene$V1) #\u83b7\u53d6\u9700\u8981\u5206\u6790\u7684\u57fa\u56e0\u5217\u8868 #GO\u5bcc\u96c6\u5206\u6790 spo_GO <- enricher(gene1,TERM2GENE = spo2gene,TERM2NAME = spo2name) p1 <- dotplot(spo_GO) p1 ggsave(file=paste(genetype,\".GO.pdf\",sep=\"\")) write.csv(spo_GO,file=paste(genetype,\"_GO.csv\",sep = \"\")) #kegg\u5bcc\u96c6 kegg2gene <- data.frame(kegglist$V1,kegglist$V3) #keggid,Geneid kegg2name <- data.frame(kegglist$V1,kegglist$V2) #keggid,kegg\u63cf\u8ff0 gene1 <- t(gene$V1) #\u83b7\u53d6\u9700\u8981\u5206\u6790\u7684\u57fa\u56e0\u5217\u8868 spo_KEGG <- enricher(gene1,TERM2GENE = kegg2gene,TERM2NAME = kegg2name) p2 <- dotplot(spo_KEGG) p2 ggsave(file=paste(genetype,\".KEGG.pdf\",sep=\"\")) write.csv(spo_KEGG,file=paste(genetype,\"_kegg.csv\",sep=\"\")) cowplot::plot_grid(p1, p2, nrow=2, labels=c(\"A\", \"B\")) #ggplot2\u7684\u51fd\u6570\uff0cnrow\u6307\u5b9a2\u884c\uff0c\u5982\u679c\u662fncol\u5219\u662f2\u5217\u3002 ggsave(file=paste(genetype,\"_go_kegg.pdf\",sep=\"\")) head(golist) # V1 V2 V3 V4 # 1 GO:0005452 inorganic anion exchanger activity Sp09G018780.1 Molecular Function # 2 GO:0006820 anion transport Sp09G018780.1 Biological Process # 3 GO:0016021 integral component of membrane Sp09G018780.1 Cellular Component head(kegglist) # V1 V2 V3 # 1 ko00010 Glycolysis / Gluconeogenesis Sp12G016220.1 # 2 ko00010 Glycolysis / Gluconeogenesis Sp10G003910.1 # 3 ko00010 Glycolysis / Gluconeogenesis Sp16G007040.1","title":"\u4f7f\u7528clusterProfiler\u5206\u6790\u5176\u4ed6\u8f6f\u4ef6\u6ce8\u91ca\u7684GO\u548cKEGG"},{"location":"RNA-seq/%E5%B7%AE%E5%BC%82%E5%9F%BA%E5%9B%A0%E7%81%AB%E5%B1%B1%E5%9B%BE%EF%BC%9Aggplot2%2Bggrepel/","text":"ggrepel\u53c2\u8003 \u706b\u5c71\u56fe\u53c2\u8003 \u8c03\u6574\u56fe\u6ce8\u53c2\u80031 \u56fe\u6ce8\u53c2\u80032 install.packages(\"ggrepel\") library(\"ggplot2\") library(\"ggrepel\") resdata1 <- read.csv(\"trans_All_results.csv\",header = TRUE) resdata <- na.omit(resdata1) ##\u6b64\u5904\u662f\u5220\u9664\u6389\u5305\u542bNA\u7684\u884c\uff0c\u8fd9\u4e9b\u884c\u7684\u7ed3\u679c\u4e0d\u5e94\u7eb3\u5165\u540e\u7eed\u7ed3\u679c threshold <- as.factor(ifelse(resdata$pvalue < 0.05 & abs(resdata$log2FoldChange) >= 1 ,ifelse(resdata$log2FoldChange >= 1 ,'Up','Down'),'Not')) deg_img <- ggplot(resdata,aes(x=resdata$log2FoldChange,y=-log10(resdata$padj),colour=threshold)) + xlab(\"log2(Fold Change)\")+ylab(\"-log10(qvalue)\") + geom_point(size = 0.5,alpha=1) + ylim(0,82) + xlim(-18,18) + scale_color_manual(values=c(\"green\",\"grey\", \"red\")) ##\u6dfb\u52a0\u9608\u503c\u7ebf line_valcao <- deg_img+geom_hline(yintercept = 40,linetype=\"dotted\")+geom_vline(xintercept=c(-1,1),linetype=\"dotted\") ##\u4f7f\u7528ggrepel\u5305\u7ed9\u9608\u503c\u8303\u56f4\u4ee5\u4e0a\u7684\u70b9\u6dfb\u52a0\u6807\u7b7e ##\u6ce8\u610f\u6b64\u5904\u662f\u624b\u52a8\u4fee\u6539\u539f\u59cb\u6587\u4ef6trans_All_result.csv,\u6dfb\u52a0\u4e00\u5217\u540d\u79f0\u662flabel,\u5185\u5bb9\u662f\u4f60\u9009\u62e9\u663e\u793a\u7684\u57fa\u56e0\u540d\u79f0\uff0c\u53ea\u7528\u5199\u60f3\u663e\u793a\u7684\uff0c\u4e0d\u60f3\u663e\u793a\u7684\u4e0d\u7528\u5199\uff0c\u7559\u7a7a\u3002 #threshold$label[1:20] <- resdata$X[1:20] #threshold$label[21:length(resdata$X)] <- \"\" valcano <- line_valcao+geom_text_repel(aes(label=resdata$label),point.padding = unit(0.25,\"lines\"),arrow = arrow(length=unit(0.01,\"npc\")),nudge_y = 0.1)+theme_classic(base_size = 14) print(valcano) trans_All_result.csv\u6570\u636e\u683c\u5f0f\u5982\u56fe \u6700\u7ec8\u7684\u706b\u5c71\u56fe\u7ed3\u679c\u5982\u56fe\u6240\u793a\u3002","title":"\u5dee\u5f02\u57fa\u56e0\u706b\u5c71\u56fe\uff1aggplot2+ggrepel"},{"location":"RNA-seq/%E6%AF%94%E8%BE%83%E8%BD%AC%E5%BD%95%E7%BB%84%E5%88%86%E6%9E%90%E5%B7%A5%E5%85%B7%EF%BC%9ATO-GCN/","text":"github \u7528\u4e8e\u6784\u5efa\u65f6\u95f4\u5e8f\u5217\u5171\u8868\u8fbe\u7f51\u7edc\u5206\u6790\u3002\u9002\u5408\u4e8e\u8f6c\u5f55\u7ec4\u6570\u636e\u6316\u6398\u3002\u8f93\u5165\u6587\u4ef6\u4e3a\u5168\u90e8\u7684\u8868\u8fbe\u57fa\u56e0\u548c\u5173\u6ce8\u7684\u8868\u8fbe\u57fa\u56e0\uff0c\u5c31\u80fd\u5f97\u5230\u5171\u8868\u8fbe\u7f51\u7edc\u3002","title":"\u6bd4\u8f83\u8f6c\u5f55\u7ec4\u5206\u6790\u5de5\u5177\uff1aTO GCN"},{"location":"RNA-seq/%E8%B0%83%E6%8E%A7%E7%BD%91%E7%BB%9C%E7%9A%84%E6%9E%84%E5%BB%BA-Cytoscape-%26-string/","text":"\u5e38\u7528\u7684\u5de5\u5177 \u67d0\u4e2a\u57fa\u56e0\u7684\u7814\u7a76\u73b0\u72b6--pubmed\u6587\u732e\u81ea\u52a8\u5206\u6790\u5de5\u5177EVEX\u6570\u636e\u5e93 cytoscape\u7684\u63d2\u4ef6 \u53c2\u8003\u94fe\u63a5 string string\u6559\u7a0b Cytoscape\u7684\u4f7f\u7528 Cytoscape\u5b98\u7f51 cytoscape\u4e2d\u6587\u6559\u7a0b-Y\u5927\u5bbd Cytoscape\u662f\u4e00\u4e2a\u57fa\u4e8eJava\u7684\u7f51\u7edc\u6784\u5efa\u7a0b\u5e8f\uff0c\u5728\u5b83\u7684\u57fa\u7840\u4e0a\u6709\u8bb8\u591a\u73b0\u6210\u7684\u53ef\u7528\u7684\u5305\uff0c\u7528\u4e8e\u7f51\u7edc\u6784\u5efa\u7b49\u7b49\u3002\u5b98\u7f51\u5305\u62ec\u8f6f\u4ef6\u4e0b\u8f7d\uff0c\u8f6f\u4ef6\u4f9d\u8d56\u68c0\u6d4b\uff0c\u76f8\u5173\u793e\u533a\uff0c\u76f8\u5173\u5305 cytoscape\u7684\u6240\u6709\u63d2\u4ef6\u5305 \uff0c\u6559\u7a0b\u3002 \u4e3b\u8981\u6c49\u5316\u8bb2\u8ff0\uff1a\u5dee\u5f02\u57fa\u56e0\u7684\u7f51\u7edc\u6784\u5efa \u4eceAPPs\u2014\u2014 APP manager \u2026\u2026 \u4ece\u4e2d\u8f93\u5165\u76ee\u6807\u5305 STRING ,install \u540c\u6837\u5b89\u88c5\u5176\u4ed6\u7684\u5305 Agilent Literature Search , GeneMANIA , WikiPathways NDEx GeneMANIA \u4e5f\u53ef\u4ee5\u4ece\u4e0a\u8ff0\u5730\u5740\u4e0b\u8f7djar\u6587\u4ef6\uff0c\u624b\u52a8\u4eceAPP manager\u91cc\u9762\u5b89\u88c5\u3002 \u9ed8\u8ba4\u7684\u7269\u79cd\u662f\u4eba\u7c7b\uff0c\u9700\u8981\u6839\u636e\u81ea\u5df1\u7684\u5b9e\u9645\u7269\u79cd\u4fee\u6539\u3002","title":"\u8c03\u63a7\u7f51\u7edc\u7684\u6784\u5efa Cytoscape & string"},{"location":"RNA-seq/%E8%B0%83%E6%8E%A7%E7%BD%91%E7%BB%9C%E7%9A%84%E6%9E%84%E5%BB%BA-Cytoscape-%26-string/#cytoscape","text":"Cytoscape\u5b98\u7f51 cytoscape\u4e2d\u6587\u6559\u7a0b-Y\u5927\u5bbd Cytoscape\u662f\u4e00\u4e2a\u57fa\u4e8eJava\u7684\u7f51\u7edc\u6784\u5efa\u7a0b\u5e8f\uff0c\u5728\u5b83\u7684\u57fa\u7840\u4e0a\u6709\u8bb8\u591a\u73b0\u6210\u7684\u53ef\u7528\u7684\u5305\uff0c\u7528\u4e8e\u7f51\u7edc\u6784\u5efa\u7b49\u7b49\u3002\u5b98\u7f51\u5305\u62ec\u8f6f\u4ef6\u4e0b\u8f7d\uff0c\u8f6f\u4ef6\u4f9d\u8d56\u68c0\u6d4b\uff0c\u76f8\u5173\u793e\u533a\uff0c\u76f8\u5173\u5305 cytoscape\u7684\u6240\u6709\u63d2\u4ef6\u5305 \uff0c\u6559\u7a0b\u3002 \u4e3b\u8981\u6c49\u5316\u8bb2\u8ff0\uff1a\u5dee\u5f02\u57fa\u56e0\u7684\u7f51\u7edc\u6784\u5efa \u4eceAPPs\u2014\u2014 APP manager \u2026\u2026 \u4ece\u4e2d\u8f93\u5165\u76ee\u6807\u5305 STRING ,install \u540c\u6837\u5b89\u88c5\u5176\u4ed6\u7684\u5305 Agilent Literature Search , GeneMANIA , WikiPathways NDEx GeneMANIA \u4e5f\u53ef\u4ee5\u4ece\u4e0a\u8ff0\u5730\u5740\u4e0b\u8f7djar\u6587\u4ef6\uff0c\u624b\u52a8\u4eceAPP manager\u91cc\u9762\u5b89\u88c5\u3002 \u9ed8\u8ba4\u7684\u7269\u79cd\u662f\u4eba\u7c7b\uff0c\u9700\u8981\u6839\u636e\u81ea\u5df1\u7684\u5b9e\u9645\u7269\u79cd\u4fee\u6539\u3002","title":"Cytoscape\u7684\u4f7f\u7528"},{"location":"RNA-seq/%E8%BD%AC%E5%BD%95%E7%BB%84%E4%B8%8B%E6%B8%B8%E5%88%86%E6%9E%90%E4%B9%8BGSEA/","text":"\u8f6c\u8f7d\u6765\u6e90 https://blog.csdn.net/weixin_43569478/article/details/83745105 GSEA\u548c\u5e38\u89c4\u7684GO\u3001KEGG\u7684\u5dee\u5f02\u5728\u4e8e\uff0cGSEA\u4f7f\u7528\u7684\u662f\u57fa\u56e0\u96c6\u3002\u57fa\u56e0\u96c6\u7684\u5dee\u5f02\u5206\u6790\u3002GSEA\u53ef\u4ee5\u6e05\u9664\u7684\u8bf4\u660e\u4e0a\u8c03\u57fa\u56e0\u548c\u4e0b\u8c03\u57fa\u56e0\u5206\u522b\u53c2\u52a0\u4e86\u54ea\u4e9b\u901a\u8def\uff0c\u751f\u7269\u5b66\u9014\u5f84\u3002 GO\u3001KEGG\u53ea\u80fd\u7ed9\u51fa\u5dee\u5f02\u57fa\u56e0\u7684pathway,\u751f\u7269\u5b66\u901a\u8def\u3001\u8868\u8fbe\u90e8\u4f4d\u7b49\u3002\u65e0\u6cd5\u5374\u5206\u54ea\u90e8\u5206\u662f\u4e0a\u8c03\u57fa\u56e0\uff0c\u54ea\u90e8\u5206\u662f\u4e0b\u8c03\u57fa\u56e0\u3002 \u540c\u65f6\u8bf4\u660eY\u53d4\u7684clusterProfiler\u7684\u5305\u4e2d\u7684gseGO\u548cgseKEGG\u7684genelist\u4e2a\u683c\u5f0f\u3002 https://github.com/GuangchuangYu/DOSE/wiki/how-to-prepare-your-own-geneList gsea\u7684\u539f\u59cb\u6570\u636e\u5206\u4e3a\u4e09\u5217\uff0c\u4e00\u5217\u662fgeneid,\u4e00\u5217\u662fFoldChange,\u4e00\u5217\u662f\u6839\u636eFoldChange\u6392\u5e8f\u7684\u7ed3\u679c\u3002 \u5176\u5b9egsea\u5c31\u662f\u770bfoldchange\u7684\u503c\u7684\u5206\u5e03\uff0c\u5982\u679c\u662f\u968f\u673a\u5206\u5e03\uff0c\u90a3\u7ed3\u679c\u5c31\u4e0d\u7406\u60f3\u3002\u6211\u4eec\u60f3\u8981\u7684\u662f\u5728\u4e24\u7aef\u5bcc\u96c6\u5206\u5e03\u3002 GSEA\u5206\u6790\u540c\u6837\u53ef\u4ee5\u4f7f\u7528clusterprofiler\u5305\u3002Y\u53d4\u7684\u5305\u771f\u7684\u5f3a\u5927\uff0c\u6211\u8fd8\u8981\u7528\u5b83\u505a\u8f6c\u5f55\u56e0\u5b50\u7684\u5bcc\u96c6\u5206\u6790\u3002 GSEA\u7684\u6570\u636e\u96c6\u662f\u6240\u6709\u57fa\u56e0\u7684entrez id\uff0c\u548cLog2FoldChange\u7684\u503c\u3002\u4e0d\u662f\u8bbe\u7f6ep-value<0.05\u548clog2FoldChange>1\u8fc7\u6ee4\u540e\u7684\u503c\u3002 library(DO.db) require(DOSE) library(clusterProfiler) library(AnnotationHub) library(readr) library(\"genefilter\") library(pheatmap) library(tidyverse) library(DESeq2) library(ggplot2) library(export) library(enrichplot) library(Rgraphviz) #\u6784\u9020\u56fe\u7247\u8f93\u51fa\u51fd\u6570\uff0cneed input filename width height #\u51fd\u6570\u4f9d\u8d56export\u5305 out_img <- function(filename,pic_width=5,pic_height=7){ graph2png(file=filename,width=pic_width,height=pic_height) graph2ppt(file=filename,width=pic_width,height=pic_height) graph2tif(file=filename,width=pic_width,height=pic_height) } #all_entrez.csv\u7684\u7b2c\u4e00\u5217\u662fentrezid,\u7b2c\u4e8c\u5217\u662fFoldChange\u7684\u503c\u3002 #gse\u9700\u8981\u5355\u72ec\u505a\u6570\u636e\u683c\u5f0f d <- read.csv(\"all_entrez.csv\") geneList <- d[,2] names(geneList)=as.factor(d[,1]) geneList <- sort(geneList,decreasing = TRUE) #gseGO\u8fdb\u884cGSEA\u5206\u6790 #\u53c2\u8003\u8fde\u63a5https://yulab-smu.github.io/clusterProfiler-book/chapter12.html ###gseBP <- gseGO(geneList=geneList,ont=\"BP\",OrgDb=maize,keyType = 'ENTREZID',nPerm = 50000,minGSSize = 100,maxGSSize = 6000,pvalueCutoff = 0.05,verbose = FALSE) ############# GSEA CC \u6a21\u5f0f start ego3 <- gseGO(geneList = geneList,OrgDb = maize,ont = \"CC\",nPerm = 1000,minGSSize = 100,maxGSSize = 1000,pvalueCutoff = 0.05,verbose = FALSE) write.csv(ego3,file = \"GESA-GO_CC.csv\") #ridgeline plot for expression distribution of GSEA result ridgeplot(ego3) out_img(filename = \"ridgeplot_CC\",pic_width = 12,pic_height = 12) #\u53ea\u663e\u793a\u503c\u6700\u9ad8\u7684\u4e00\u7ec4\u7684\u4fe1\u606f #gseaplot(ego3,geneSetID = 1,by=\"runningScore\",title=ego3$Description[1]) #gseaplot(ego3,geneSetID = 1,by=\"preranked\",title=ego3$Description[1]) #gseaplot(ego3,geneSetID = 1,title=ego3$Description[1]) #\u663e\u793a\u524d4\u7ec4\u4fe1\u606f gseaplot2(ego3,geneSetID = 1:4, ES_geom = \"dot\",pvalue_table = TRUE) out_img(filename = \"gseaplot_CC\",pic_width=12,pic_height = 10) #gsearank(ego3,1,title=ego3[1,\"Description\"]) ############GSEA CC \u6a21\u5f0fend ############# GSEA BP \u6a21\u5f0f start ego2 <- gseGO(geneList = geneList,OrgDb = maize,ont = \"BP\",pvalueCutoff = 0.05,verbose = FALSE) write.csv(ego2,file = \"GESA-GO_BP.csv\") #ridgeline plot for expression distribution of GSEA result ridgeplot(ego2) out_img(filename = \"ridgeplot_BP\",pic_width = 12,pic_height = 12) #\u53ea\u663e\u793a\u503c\u6700\u9ad8\u7684\u4e00\u7ec4\u7684\u4fe1\u606f #gseaplot(ego3,geneSetID = 1,by=\"runningScore\",title=ego3$Description[1]) #gseaplot(ego3,geneSetID = 1,by=\"preranked\",title=ego3$Description[1]) #gseaplot(ego3,geneSetID = 1,title=ego3$Description[1]) #\u663e\u793a\u524d4\u7ec4\u4fe1\u606f gseaplot2(ego2,geneSetID = 1:4, ES_geom = \"dot\",pvalue_table = TRUE) out_img(filename = \"gseaplot_BP\",pic_width=12,pic_height = 10) #gsearank(ego3,1,title=ego3[1,\"Description\"]) ############GSEA BP \u6a21\u5f0fend ############# GSEA MF \u6a21\u5f0f start ego4 <- gseGO(geneList = geneList,OrgDb = maize,ont = \"MF\",pvalueCutoff = 0.05,verbose = FALSE) write.csv(ego4,file = \"GESA-GO_MF.csv\") #ridgeline plot for expression distribution of GSEA result ridgeplot(ego4) out_img(filename = \"ridgeplot_MF\",pic_width = 12,pic_height = 12) #\u53ea\u663e\u793a\u503c\u6700\u9ad8\u7684\u4e00\u7ec4\u7684\u4fe1\u606f #gseaplot(ego3,geneSetID = 1,by=\"runningScore\",title=ego3$Description[1]) #gseaplot(ego3,geneSetID = 1,by=\"preranked\",title=ego3$Description[1]) #gseaplot(ego3,geneSetID = 1,title=ego3$Description[1]) #\u663e\u793a\u524d4\u7ec4\u4fe1\u606f gseaplot2(ego4,geneSetID = 1:4, ES_geom = \"dot\",pvalue_table = TRUE) out_img(filename = \"gseaplot_MF\",pic_width=12,pic_height = 10) #gsearank(ego3,1,title=ego3[1,\"Description\"]) ############GSEA MF \u6a21\u5f0fend #gsaKEGG\u57fa\u56e0\u5bcc\u96c6\u5206\u6790 kk2 <- gseKEGG(geneList = geneList,organism = 'zma',pvalueCutoff = 0.05,verbose = FALSE) write.csv(kk2,file=\"GSEA_KEGG.csv\") gseaplot2(kk2,geneSetID = 1:4,ES_geom = \"dot\",pvalue_table = TRUE) out_img(filename=\"GSEA_KEGG\",pic_width = 12,pic_height = 10) ridgeplot(kk2) out_img(filename=\"ridgeplot_GSEA_KEGG\",pic_width = 12,pic_height = 12)","title":"\u8f6c\u5f55\u7ec4\u4e0b\u6e38\u5206\u6790\u4e4bGSEA"},{"location":"RNA-seq/%E8%BD%AC%E5%BD%95%E7%BB%84%E4%B8%8B%E6%B8%B8%E5%88%86%E6%9E%90%E4%B9%8BGSEA/#gseaentrez-idlog2foldchangep-value005log2foldchange1","text":"library(DO.db) require(DOSE) library(clusterProfiler) library(AnnotationHub) library(readr) library(\"genefilter\") library(pheatmap) library(tidyverse) library(DESeq2) library(ggplot2) library(export) library(enrichplot) library(Rgraphviz) #\u6784\u9020\u56fe\u7247\u8f93\u51fa\u51fd\u6570\uff0cneed input filename width height #\u51fd\u6570\u4f9d\u8d56export\u5305 out_img <- function(filename,pic_width=5,pic_height=7){ graph2png(file=filename,width=pic_width,height=pic_height) graph2ppt(file=filename,width=pic_width,height=pic_height) graph2tif(file=filename,width=pic_width,height=pic_height) } #all_entrez.csv\u7684\u7b2c\u4e00\u5217\u662fentrezid,\u7b2c\u4e8c\u5217\u662fFoldChange\u7684\u503c\u3002 #gse\u9700\u8981\u5355\u72ec\u505a\u6570\u636e\u683c\u5f0f d <- read.csv(\"all_entrez.csv\") geneList <- d[,2] names(geneList)=as.factor(d[,1]) geneList <- sort(geneList,decreasing = TRUE) #gseGO\u8fdb\u884cGSEA\u5206\u6790 #\u53c2\u8003\u8fde\u63a5https://yulab-smu.github.io/clusterProfiler-book/chapter12.html ###gseBP <- gseGO(geneList=geneList,ont=\"BP\",OrgDb=maize,keyType = 'ENTREZID',nPerm = 50000,minGSSize = 100,maxGSSize = 6000,pvalueCutoff = 0.05,verbose = FALSE) ############# GSEA CC \u6a21\u5f0f start ego3 <- gseGO(geneList = geneList,OrgDb = maize,ont = \"CC\",nPerm = 1000,minGSSize = 100,maxGSSize = 1000,pvalueCutoff = 0.05,verbose = FALSE) write.csv(ego3,file = \"GESA-GO_CC.csv\") #ridgeline plot for expression distribution of GSEA result ridgeplot(ego3) out_img(filename = \"ridgeplot_CC\",pic_width = 12,pic_height = 12) #\u53ea\u663e\u793a\u503c\u6700\u9ad8\u7684\u4e00\u7ec4\u7684\u4fe1\u606f #gseaplot(ego3,geneSetID = 1,by=\"runningScore\",title=ego3$Description[1]) #gseaplot(ego3,geneSetID = 1,by=\"preranked\",title=ego3$Description[1]) #gseaplot(ego3,geneSetID = 1,title=ego3$Description[1]) #\u663e\u793a\u524d4\u7ec4\u4fe1\u606f gseaplot2(ego3,geneSetID = 1:4, ES_geom = \"dot\",pvalue_table = TRUE) out_img(filename = \"gseaplot_CC\",pic_width=12,pic_height = 10) #gsearank(ego3,1,title=ego3[1,\"Description\"]) ############GSEA CC \u6a21\u5f0fend ############# GSEA BP \u6a21\u5f0f start ego2 <- gseGO(geneList = geneList,OrgDb = maize,ont = \"BP\",pvalueCutoff = 0.05,verbose = FALSE) write.csv(ego2,file = \"GESA-GO_BP.csv\") #ridgeline plot for expression distribution of GSEA result ridgeplot(ego2) out_img(filename = \"ridgeplot_BP\",pic_width = 12,pic_height = 12) #\u53ea\u663e\u793a\u503c\u6700\u9ad8\u7684\u4e00\u7ec4\u7684\u4fe1\u606f #gseaplot(ego3,geneSetID = 1,by=\"runningScore\",title=ego3$Description[1]) #gseaplot(ego3,geneSetID = 1,by=\"preranked\",title=ego3$Description[1]) #gseaplot(ego3,geneSetID = 1,title=ego3$Description[1]) #\u663e\u793a\u524d4\u7ec4\u4fe1\u606f gseaplot2(ego2,geneSetID = 1:4, ES_geom = \"dot\",pvalue_table = TRUE) out_img(filename = \"gseaplot_BP\",pic_width=12,pic_height = 10) #gsearank(ego3,1,title=ego3[1,\"Description\"]) ############GSEA BP \u6a21\u5f0fend ############# GSEA MF \u6a21\u5f0f start ego4 <- gseGO(geneList = geneList,OrgDb = maize,ont = \"MF\",pvalueCutoff = 0.05,verbose = FALSE) write.csv(ego4,file = \"GESA-GO_MF.csv\") #ridgeline plot for expression distribution of GSEA result ridgeplot(ego4) out_img(filename = \"ridgeplot_MF\",pic_width = 12,pic_height = 12) #\u53ea\u663e\u793a\u503c\u6700\u9ad8\u7684\u4e00\u7ec4\u7684\u4fe1\u606f #gseaplot(ego3,geneSetID = 1,by=\"runningScore\",title=ego3$Description[1]) #gseaplot(ego3,geneSetID = 1,by=\"preranked\",title=ego3$Description[1]) #gseaplot(ego3,geneSetID = 1,title=ego3$Description[1]) #\u663e\u793a\u524d4\u7ec4\u4fe1\u606f gseaplot2(ego4,geneSetID = 1:4, ES_geom = \"dot\",pvalue_table = TRUE) out_img(filename = \"gseaplot_MF\",pic_width=12,pic_height = 10) #gsearank(ego3,1,title=ego3[1,\"Description\"]) ############GSEA MF \u6a21\u5f0fend #gsaKEGG\u57fa\u56e0\u5bcc\u96c6\u5206\u6790 kk2 <- gseKEGG(geneList = geneList,organism = 'zma',pvalueCutoff = 0.05,verbose = FALSE) write.csv(kk2,file=\"GSEA_KEGG.csv\") gseaplot2(kk2,geneSetID = 1:4,ES_geom = \"dot\",pvalue_table = TRUE) out_img(filename=\"GSEA_KEGG\",pic_width = 12,pic_height = 10) ridgeplot(kk2) out_img(filename=\"ridgeplot_GSEA_KEGG\",pic_width = 12,pic_height = 12)","title":"GSEA\u7684\u6570\u636e\u96c6\u662f\u6240\u6709\u57fa\u56e0\u7684entrez id\uff0c\u548cLog2FoldChange\u7684\u503c\u3002\u4e0d\u662f\u8bbe\u7f6ep-value&lt;0.05\u548clog2FoldChange&gt;1\u8fc7\u6ee4\u540e\u7684\u503c\u3002"},{"location":"RNA-seq/%E8%BD%AC%E5%BD%95%E7%BB%84%E4%BB%8E%E4%B8%8B%E6%9C%BA%E6%95%B0%E6%8D%AE%E5%88%B0GO%E3%80%81kegg%E3%80%81GSEA/","text":"\u6240\u6709\u7684\u547d\u4ee4\u7c98\u8d34\u4e8e\u6b64\uff0c\u7528\u4e8e\u5feb\u901f\u5b8c\u6210\u5206\u6790\u4efb\u52a1\u3002\u5177\u4f53\u8f6f\u4ef6\u53c2\u6570\uff0c\u89c1 - \u8f6c\u5f55\u7ec4\u5168\u65b0\u5b66\u4e60\u4e4b\u603b\u7bc7 - clusterProfiler\u5c0f\u8bd5\u725b\u5200 #!/bin/bash #\u590d\u5236\u4e0b\u673a\u6570\u636e\u5230\u65b0\u7684\u6587\u4ef6\u5939data ,\u5c3d\u91cf\u907f\u514d\u64cd\u4f5c\u539f\u59cb\u6587\u4ef6~/disk/lyb/ find ./Cleandata -name '*fq.gz'|xargs -i cp {} ./data #\u4ee5\u4e0b\u5185\u5bb9\u8fd0\u884c\u76ee\u5f55 ~/disk/lyb/data/ #1.\u8d28\u63a7 fastqc *.fq.gz -t 8 bg1='RNA_R1.fq.gz' bg2='RNA_R2.fq.gz' bef=(NS-1 NS-2 NS-3 WT-1 WT-2 WT-3) for ((i=0;i<6;i++)); do inA1=${bef[$i]}$bg1; inA2=${bef[$i]}$bg2; out1=${bef[$i]}\"paired-R1.fq.gz\"; out2=${bef[$i]}\"paired-R2.fq.gz\"; unpaired1=${bef[$i]}\"unpaired-R1.fq.gz\"; unpaired2=${bef[$i]}\"unpaired-R2.fq.gz\"; java -jar /home/guo/tool/Trimmomatic-0.38/trimmomatic-0.38.jar PE -threads 12 -phred33 $inA1 $inA2 $out1 $unpaired1 $out2 $unpaired2 ILLUMINACLIP:TruSeq3-PE.fa:2:30:10 LEADING:3 TRAILING:3 SLIDINGWINDOW:4:15 MINLEN:36 echo $inA1,$inA2,$out1,$out2,$unpaired1,$unpaired2; done #\u8fd0\u884c\u76ee\u5f55\u662f /disks/backup/chaim/maize/ /home/chaim/disk/soft/hisat2/extract_exons.py Zea_mays.B73_RefGen_v4.42.gtf > genome.exon /home/chaim/disk/soft/hisat2/extract_splice_sites.py Zea_mays.B73_RefGen_v4.42.gtf > genome.ss /home/chaim/disk/soft/hisat2/hisat2_extract_snps_haplotypes_VCF.py zea_mays.vcf> genome.snp #2.1\u5efa\u7acb\u7d22\u5f15 hisat2-build -p 8 Zea_mays.B73_RefGen_v4.42.fa --ss genome.ss --exon genome.exon genome_tran & #2.2\u6bd4\u5bf9 for((i=0;i<6;i++)); do out1=${bef[$i]}\"paired-R1.fq.gz\"; out2=${bef[$i]}\"paired-R2.fq.gz\"; hisat2 -x /disks/backup/chaim/maize/genome_tran -p 16 -1 $out1 -2 $out2 -S ${bef[$i]}\".map.sam\" --dta-cufflinks --novel-splicesite-outfile ${bef[$i]}\".nsplice\" done #\u7b2c3\u6b65\uff1a\u7528samtool\uff0c\u683c\u5f0f\u8f6c\u6362\uff0c\u5c06sam\u8f6c\u6362\u4e3abam\uff08\u51716\u6761\uff09 for((i=0;i<6;i++)); do samtools sort -@ 8 -o ${bef[$i]}\".map.bam\" ${bef[$i]}\".map.sam\" 2>${bef[$i]}\"samtool_out\" done #\u7b2c4\u6b65\u88c5\u914d\uff1a\u7528stringtie\uff08\u5171\u4e09\u8f6e\uff09 #\u7ec4\u88c5\u8f6c\u5f55\u672c\uff086\u4e2a\u5206\u522b\u6bd4\u5bf9\u5230\u57fa\u56e0\u7ec4\uff09 for((i=0;i<6;i++)); do stringtie ${bef[$i]}\".map.bam\" -G /disks/backup/chaim/maize/Zea_mays.B73_RefGen_v4.42.gtf -p 8 -o ${bef[$i]}\".gtf\" & done #\u5408\u5e76\u5404\u6837\u672c\uff08\u6574\u54086\u4e2a\u7684\u7ed3\u679c\u6210\u4e00\u4e2a\uff09 stringtie --merge -G /disks/backup/chaim/maize/Zea_mays.B73_RefGen_v4.42.gtf -p 8 -o merged.gtf NS-1.gtf NS-2.gtf NS-3.gtf WT-1.gtf WT-2.gtf WT-3.gtf 2>stringtie_merge & #\u4f30\u8ba1\u8868\u8fbe\u4e30\u5ea6\uff08\u4ee5\u7b2c\u4e8c\u8f6e\u7684\u7ed3\u679c\u4f5c\u4e3a\u53c2\u8003\u5e8f\u5217\uff0c6\u4e2a\u5206\u522b\u6bd4\u5bf9\uff09 stringtie ${bef[$i]}\".map.bam\" -G merged.gtf -p 8 -b ${bef[$i]}\"_out\" -e -o ${bef[$i]}\"-st.gtf\" & #\u7b2c5\u6b65 \u751f\u6210CSV\u6587\u4ef6 #python\u8def\u5f84 python2.7 /disks/backup/chaim/soft/prepDE.py -i gtf2 #\u7b2c6\u6b65 deseq2\u8fdb\u884c\u5b9a\u91cf\u5206\u6790 source(\"https://bioconductor.org/biocLite.R\") biocLite(\"DESeq2\") #\u8f93\u5165\u6570\u636e library(tidyverse) library(DESeq2) library(ggplot2) #import data #setwd(\"/home/chaim/disk/lyb/data/\") #setwd(\"/mnt/d/RNA-seq/\") setwd(\"D:/RNA-seq/\") countData <- as.matrix(read.csv(\"gene_count_matrix.csv\",row.names=\"gene_id\")) condition <- factor(c(rep(\"NS\",3),rep(\"WT\",3)),levels = c(\"NS\",\"WT\")) colData <- data.frame(row.names=colnames(countData),condition) dds <- DESeqDataSetFromMatrix(countData = countData,colData = colData, design = ~ condition) dds <- DESeq(dds) #\u603b\u4f53\u7ed3\u679c\u67e5\u770b res = results(dds) res = res[order(res$pvalue),] summary(res) write.csv(res,file=\"All_results.csv\") table(res$padj<0.05) #\u63d0\u53d6\u5dee\u5f02\u57fa\u56e0\uff08DEGs\uff09\u5e76\u8fdb\u884cgene Symbol\u6ce8\u91ca diff_gene_deseq2 <- subset(res,padj<0.05 & abs(log2FoldChange)>1) dim(diff_gene_deseq2) write.csv(diff_gene_deseq2,file = \"DEG_treat_vs_control.csv\") # resdata <- res # threshold <- as.factor(ifelse(resdata$padj < 0.001 & abs(resdata$log2FoldChange) >= 2 ,ifelse(resdata$log2FoldChange >= 2 ,'Up','Down'),'Not')) # ggplot(resdata,aes(x=log2FoldChange,y=-log10(padj),colour=threshold)) + xlab(\"log2(Fold Change)\")+ylab(\"-log10(qvalue)\") + geom_point(size = 0.5,alpha=1) + ylim(0,200) + xlim(-12,12) + scale_color_manual(values=c(\"green\",\"grey\", \"red\")) # #\u5b89\u88c5biomaRt\u5305 # source(\"http://bioconductor.org/biocLite.R\") # biocLite(\"biomaRt\") # install.packages('DT') # #\u7528bioMart\u5bf9\u5dee\u5f02\u8868\u8fbe\u57fa\u56e0\u8fdb\u884c\u6ce8\u91ca # library(\"biomaRt\") # listMarts() # # ensembl=useMart(\"ENSEMBL_MART_ENSEMBL\") # all_datasets <- listDatasets(ensembl) # library(DT) # datatable(all_datasets,options = list(searching=FALSE,pageLength=5,lengthMenu=c(5,10,15,20))) #\u5b89\u88c5clusterProfiler \u7528\u4e8eGO/KEGG\u5206\u6790\u53caGSEA source(\"https://bioconductor.org/biocLite.R\") biocLite(\"clusterProfiler\") biocLite(\"DOSE\") require(DOSE) library(DO.db) library(clusterProfiler) if (!requireNamespace(\"BiocManager\", quietly = TRUE)) install.packages(\"BiocManager\") BiocManager::install(\"S4Vectors\", version = \"3.8\") #\u5b89\u88c5annotationhub if(!requireNamespace(\"BiocManager\",quietly = TRUE)) install.packages(\"BiocManager\") BiocManager::install(\"AnnotationHub\", version = \"3.8\") library(AnnotationHub) require(AnnotationHub) hub <- AnnotationHub() query(hub,\"zea mays\") maize <- hub[['AH66225']] length(keys(maize)) columns(maize) require(clusterProfiler) bitr(keys(maize)[1],'GID',c(\"ACCNUM\",\"ENTREZID\",\"UNIGENE\"),maize) \"ALIAS\",\"EVIDENCE\",\"EVIDENCELL\", #GO\u5bcc\u96c6\u5206\u6790 #\u4f7f\u7528enrichGO sample_genes <- keys(maize) res=enrichGO(sample_genes,OrgDb=maize,pvalueCutoff=1,qvalueCutoff=1) ego <- enrichGO(gene=row.names(diff_gene_deseq2),OrgDb = maize,keyType = \"GENENAME\",ont=\"MF\") ensids <- c(\"Zm00001d011037\",\"Zm00001d035600\",\"Zm00001d035599\") cols <- c(\"SYMBOL\",\"GO\") select(maize,keys = ensids,columns = cols,keytype = \"GENENAME\") #\u6c14\u6ce1\u56fe dotplot(ego,font.size=5) #\u7f51\u7edc\u56fe enrichMap(ego,vertex.label.cex=1.2,layout=igraph::layout.kamada.kawai) #GO\u56fe\u989d\u5916\u5b89\u88c5\u7684\u5305 biocLite(\"topGO\") biocLite(\"Rgraphviz\") plotGOgraph(ego) #gseGO\u8fdb\u884cGSEA\u5206\u6790 #\u5feb\u901f\u5339\u914d\u6587\u4ef6\u4e2d\uff0c\u4ee5gene\u5f00\u5934\u7684\u884c\uff0c\u5e76\u8f93\u51fa\u5176\u4e2d\u7684\u7b2c3\uff0c12\u5217\u5185\u5bb9\u3002 cat genome_table.txt |awk '$1 ~/gene/ {print $3,$12}' >gene_id","title":"\u8f6c\u5f55\u7ec4\u4ece\u4e0b\u673a\u6570\u636e\u5230GO\u3001kegg\u3001GSEA"},{"location":"RNA-seq/%E8%BD%AC%E5%BD%95%E7%BB%84%E5%85%A8%E6%96%B0%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%80%BB%E7%AF%87/","text":"Y\u53d4\u7684RNA-seq workflow \u5f3a\u529b\u63a8\u8350 \u751f\u4fe1\u6280\u80fd\u6811\u8bb2\u89e3 1. \u6570\u636e\u5df2\u7ecf\u5b58\u5728\u670d\u52a1\u5668\uff0c\u57fa\u56e0\u7ec4\u6ce8\u91ca\u6587\u4ef6\u3001\u57fa\u56e0\u7ec4\u6587\u4ef6\u90fd\u5df2\u7ecf\u5b58\u5728\u3002\u670d\u52a1\u5668\u73af\u5883\u8f6f\u4ef6\u90fd\u5df2\u7ecf\u5b89\u88c5\u5b8c\u6210\u3002\u4f46\u662f\u6ca1\u6709root\u6743\u9650\u3002 \u6570\u636e\u83b7\u53d6\u9884\u5904\u7406 find ./510 -name '*zaoqian*'|xargs -i mv {} ./100 #\u6279\u91cf\u67e5\u627e510\u76ee\u5f55\u91cc\u6240\u6709\u5305\u542bzaoqian\u7684\u6587\u4ef6\uff0c\u79fb\u52a8\u5230100\u76ee\u5f55\u91cc\u3002 \u53c2\u8003 1 2 \u5b9e\u9a8c\u6d41\u7a0b\u548c\u4f7f\u7528\u8f6f\u4ef6 \u8d28\u63a7 trimmomatic trimmomatic\u529f\u80fd\u8bb2\u89e3 \u7cbe\u534e\u7bc7 trimmomatic\u53c2\u6570\u8bb2\u89e3 \u6bd4\u5bf9 HISAT2 \u7cbe\u534eHISAT2 HISAT2\u5b98\u7f51 \u88c5\u914d String tie \u7cbe\u534estringtie \u5b9a\u91cf\u5206\u6790 Deseq2 \u8f6c\u5f55\u672c\u5206\u6790 Cufflink \u4ece\u5934\u7ec4\u88c5 trinity \u5f00\u59cb\u7b2c\u4e00\u6b65\u2014\u2014\u8d28\u63a7\u3002 fastqc\u53ef\u4ee5\u68c0\u6d4b\u6d4b\u5e8f\u8d28\u91cf\u3002 fastqc *.fastq.gz -t 4 #\u5f00\u542f4\u4e2a\u8fdb\u7a0b\u3002 fastqc\u6d4b\u5e8f\u8d28\u91cf\u8bc4\u4f30 trimmomatic\u53bb\u9664\u63a5\u5934\u548c\u4f4e\u8d28\u91cf\u6d4b\u5e8f\u6570\u636e\uff08-threads 12 \u5f00\u542f\u4e8612\u4e2a\u8fdb\u7a0b\uff09 java -jar /home/guo/tool/Trimmomatic-0.38/trimmomatic-0.38.jar PE -threads 12 -phred33 CR-zaoqian-1_L8_I313.R1.clean.fastq.gz CR-zaoqian-1_L8_I313.R2.clean.fastq.gz CR-paired-1-R1.fastq.gz CR-unpaired-1-R1.fastq.gz CR-paired-1-R2.fastq.gz CR-unpaired-1-R2.fastq.gz ILLUMINACLIP:TruSeq3-PE.fa:2:30:10 LEADING:3 TRAILING:3 SLIDINGWINDOW:4:15 MINLEN:36 & \u6700\u540e\u7684&\u662f\u5728\u540e\u53f0\u6267\u884c\u3002 4. \u6bd4\u5bf9HISAT2 - \u5148\u4f7f\u7528hisat2\u7684\u81ea\u5e26\u7684py\u811a\u672c\u5904\u7406\u57fa\u56e0\u7ec4\u6ce8\u91ca\u6587\u4ef6\u548csnp\u6587\u4ef6 #\u8fd0\u884c\u76ee\u5f55\u662f /disks/backup/chaim/maize/ /home/chaim/disk/soft/hisat2/extract_exons.py Zea_mays.B73_RefGen_v4.42.gtf > genome.exon /home/chaim/disk/soft/hisat2/extract_splice_sites.py Zea_mays.B73_RefGen_v4.42.gtf > genome.ss /home/chaim/disk/soft/hisat2/hisat2_extract_snps_haplotypes_VCF.py zea_mays.vcf> genome.snp \u5efa\u7acb\u7d22\u5f15\u6587\u4ef6\uff08\u6b64\u6b65\u9aa4\u975e\u5e38\u8017\u65f6\uff0c\u81f3\u5c111-2h,\u591a\u52191-2\u5929\uff09 #-p 8 8\u4e2a\u8fdb\u7a0b\uff0c\u57fa\u56e0\u7ec4\u6587\u4ef619v4.dna.fa /disks/\u00b7\u00b7\u00b7/maize437 \u6307\u5b9a\u8f93\u51fa\u7684\u6587\u4ef6\u7684\u540d\u5b57\u4e3amaize437\uff0c\u5b58\u653e\u4f4d\u7f6e\u5c31\u662f\u524d\u9762\u8fd9\u4e00\u4e32\u8def\u5f84\u3002 #hisat2-build -p 8 /disks/backup/chaim/maize/Zea_mays.B73_RefGen_v4.42.fa --snp genome.snp --ss genome.ss --exon genome.exon /disks/backup/chaim/maize/genome_tran &~~ #\u9274\u4e8e\u6dfb\u52a0snp\u4e4b\u540e\uff0c\u670d\u52a1\u5668\u5b9e\u5728\u5403\u4e0d\u6d88\u3002\u6240\u4ee5\u5c31\u4e0d\u6dfb\u52a0snp\u4f4d\u70b9\u4e86\u3002\u5185\u5b58\u5728200G\u4ee5\u4e0a\u7684\u53ef\u4ee5\u8bd5\u4e00\u8bd5\u52a0snp\u7684\u5efa\u7acb\u7d22\u5f15\u3002 hisat2-build -p 8 /disks/backup/chaim/maize/Zea_mays.B73_RefGen_v4.42.fa --ss genome.ss --exon genome.exon /disks/backup/chaim/maize/genome_tran & \u5f00\u59cb\u6bd4\u5bf9 hisat2 -x /disks/backup/chaim/maize/genome_tran -p 8 -1 /disks/backup/chaim/cms/zaoqian/Cr-paired-1-R1.fastq.gz -2 /disks/backup/chaim/cms/zaoqian/Cr-paired-1-R2.fastq.gz -S Cr-1.map.sam --dta-cufflinks --novel-splicesite-outfile Cr-1.nsplice & \u53c2\u6570\u8bb2\u89e3 -x /disks/backup/chaim/maize/genome_tran #\u57fa\u56e0\u7ec4\u7d22\u5f15\u6587\u4ef6(\u540e\u7f00\u662f.fai,\u6b64\u5904\u53ea\u5199\u6587\u4ef6\u540d\uff0c\u4e0d\u8981.fai\u540e\u7f00) -p 8 #\u4f7f\u75288\u4e2a\u8fdb\u7a0b -1 paired1 #\u8d28\u63a7\u540e\u5de6\u94fe\u7684\u6570\u636ecms -2 paired2 #\u8d28\u63a7\u540e\u53f3\u94fe\u7684\u6570\u636e -S Cr-1.map.sam #\u8f93\u51fa\u6587\u4ef6 -dta-cufflinks--novel-splicesite-outfile Cr-1.nsplice #\u540e\u671f\u4f7f\u7528cufflinks\u505a\u51c6\u5907\u3002 4.5 samtools \u5c06sam\u8f6cbam\u540c\u65f6\u6392\u5e8f\u3002 samtools sort -@ 8 -o ${bef[$i]}\".map.bam\" ${bef[$i]}\".map.sam\" 2>${bef[$i]}\"samtool_out\" #\u6784\u5efa\u7d22\u5f15\u6587\u4ef6\uff0c\u65b9\u4fbf\u4f7f\u7528IGV\u67e5\u770b\u62fc\u63a5\u7ed3\u679c samtools index -@ 8 {bef[$i]}\".map.bam\" {bef[$i]}\".map.bai\" & stringtie \u5b98\u7f51\u6587\u6863\uff08\u81ea\u5e26\u68af\u5b50\uff09 for (( i=1;i<4;i++ )); do stringtie CR.map.bam -G /disks/backup/chaim/maize/19v4.42.gff3 -p 8 -o CR-${i}.gtf & stringtie Nr.map.bam -G /disks/backup/chaim/maize/19v4.42.gff3 -p 8 -o Nr-${i}.gtf & stringtie Cr.map.bam -G /disks/backup/chaim/maize/19v4.42.gff3 -p 8 -o Cr-${i}.gtf & done stringtie --merge -G /disks/backup/chaim/maize/19v4.42.gff3 -o merged.gtf CR-1.gtf CR-2.gtf CR-3.gtf Cr-1.gtf Cr-2.gtf Cr-3.gtf Nr-1.gtf Nr-2.gtf Nr-3.gtf & for (( i = 0; i < 4; i++ )); do stringtie Cr-${i}.map.bam -G merged.gtf -p 8 -b ${A}${i}\"_out\" -e -o Cr-${i}ss.gtf & stringtie Nr-${i}.map.bam -G merged.gtf -p 8 -b ${B}${i}\"_out\" -e -o Nr-${i}ss.gtf & stringtie CR-${i}.map.bam -G merged.gtf -p 8 -b ${C}${i}\"_out\" -e -o CR-${i}ss.gtf & done \u53c2\u6570\u8bb2\u89e3\uff1a -G \u53c2\u8003\u57fa\u56e0\u7ec4\u6ce8\u91ca\u6587\u4ef6 \uff08\u6211\u4f7f\u7528 gtf\u683c\u5f0f\u7684\u6ce8\u91ca\uff0c\u5230\u7b2c\u4e09\u6b21\u4f1a\u51fa\u9519\uff0c\u6240\u4ee5\u4f7f\u7528\u7684\u662fgff3\u7684\u6ce8\u91ca\uff09 -p 8\u4e2a\u8fdb\u7a0b -o \u8f93\u51fa\u6ce8\u91ca\u6587\u4ef6\u540d -b \u8f93\u51fa\u5176\u4ed6\u6587\u4ef6\u7684\u8def\u5f84\uff08\u4f1a\u540c\u65f6\u751f\u6210\u591a\u4e2a\u6587\u4ef6\uff0c \u4e00\u5b9a\u8981\u8f93\u51fa\u5728\u4e0d\u540c\u7684\u8def\u5f84\u4e2d\uff0c\u4e0d\u7136\u540e\u9762\u7684\u8f93\u51fa\u4f1a\u8986\u76d6\u524d\u9762\u7684\u8f93\u51fa\u3002 \uff09 5.1 stringtie\u7684\u5176\u4ed6\u529f\u80fd\u2014\u2014 gffcompare \u548c gffread \u751f\u4fe1\u6280\u80fd\u6811\u53c2\u8003 \u5b98\u65b9\u5730\u5740 6.\u683c\u5f0f\u8f6c\u6362\uff0c\u6570\u636e\u6574\u5408\u3002 \u4f7f\u7528\u7684\u662fpython\u7684\u811a\u672c\u3002 \u4e0b\u8f7d\u5730\u5740 python2.7 /disks/backup/chaim/soft/prepDE.py -i gtf2 #\u6ce8\u610f\u6b64\u5904\u7684prepDE.py\u7684python\u7248\u672c\u662fpython2.7\uff0c\u4e00\u5b9a\u8981\u6307\u5b9a\u7248\u672c\u53f7\u3002\u5426\u5219\u4f1a\u62a5\u9519\u3002 gtf2\u6587\u4ef6\u5185\u5bb9\u662f\u5bf9\u5e94\u7684\u6bd4\u5bf9\u540e\u6587\u4ef6\u540d\u548c\u6587\u4ef6\u7684\u4f4d\u7f6e\u3002 Cr1-st ./Cr1-st.gtf Cr2-st ./Cr2-st.gtf Cr3-st ./Cr3-st.gtf CR1-st ./CR1-st.gtf CR2-st ./CR2-st.gtf CR3-st ./CR3-st.gtf Nr3-st ./Nr3-st.gtf Nr1-st ./Nr1-st.gtf Nr2-st ./Nr2-st.gtf \u8f93\u51fa\u6587\u4ef6\u4e3a \u8f6c\u5f55\u672c\u8f93\u51fa\u77e9\u9635 transcript_count_matrix.csv \u57fa\u56e0\u8f93\u51fa\u77e9\u9635 gene_count_matrix.csv perpDE.py\u53c2\u6570 -i \u8f93\u5165\u6587\u4ef6 -g gene\u8f93\u51fa\u77e9\u9635\u4f4d\u7f6e -t \u8f6c\u5f55\u672c\u8f93\u51fa\u77e9\u9635\u4f4d\u7f6e Deseq2\u5b9a\u91cf\u5206\u6790 \u53c2\u8003\u5730\u5740 ~~\u5b89\u88c5\u5728\u672c\u5730Ubuntu\u73af\u5883~~ ~~\u4f7f\u7528conda\u5b89\u88c5~~ ~~>conda install biocpnductor-deseq2~~ \u5b89\u88c5\u5230\u670d\u52a1\u5668\u7aef source(\"[http://bioconductor.org/biocLite.R](http://bioconductor.org/biocLite.R)\") biocLite(\"DESeq2\", dependencies=T) \u4f7f\u7528DESeq2 library(\"DESeq2\") countData <- as.matrix(read.csv(\"gene_count_matrix.csv\",row.names = \"gene_id\")) head(countData,10) # CR1.st CR2.st CR3.st Cr1.st Cr2.st Cr3.st Nr1.st Nr2.st Nr3.st #MSTRG.28369 0 0 0 0 0 68 0 0 0 #Zm00001d015574 8 12 0 0 4 0 8 0 0 #Zm00001d015575 0 0 5 7 0 0 0 9 0 #Zm00001d007250 0 0 0 0 0 0 0 0 0 #Zm00001d007257 0 0 12 0 0 0 0 0 0 #Zm00001d015572 0 0 17 0 0 0 0 9 12 #Zm00001d015573 0 0 0 0 0 0 0 0 0 #Zm00001d015578 0 0 13 0 0 58 0 0 0 #Zm00001d015579 0 4 23 39 0 10 0 0 5 condition <- factor(c(rep(\"CR\",3),rep(\"Cr\",3),rep(\"Nr\",3)),levels=c(\"CR\",\"Cr\",\"Nr\")) ###\u6b64\u5904\u7684levels\u5411\u91cf\uff0cCR\u76f8\u5f53\u4e8econtrol\uff0c\u5176\u4ed6\u7684\u662f\u4ee5CR\u4e3a\u57fa\u51c6\u6bd4\u8f83\u4e0a\u8c03\u6216\u4e0b\u8c03\u3002deseq2\u9ed8\u8ba4\u7684levels\u662fc(\"\u672a\u5904\u7406\",\"\u5904\u7406\")\u4e00\u5b9a\u8981\u6ce8\u610f\u8fd9\u4e2a\u987a\u5e8f\u3002\u4e0d\u7136\u53ef\u80fd\u4f1a\u4ea7\u751f\u76f8\u53cd\u7684\u4e0a\u5347\u548c\u4e0b\u964d\u503c\u3002 colData <- data.frame(row.names = colnames(countData),condition) head(colData,20) # condition #CR1.st CR #CR2.st CR #CR3.st CR #Cr1.st Cr #Cr2.st Cr #Cr3.st Cr #Nr1.st Nr #Nr2.st Nr #Nr3.st Nr ##\u4e0a\u9762\u6784\u5efacolData\u548ccountData,\u5e94\u6839\u636e\u81ea\u5df1\u5b9e\u9645\u6837\u672c\u6570\u7565\u4f5c\u8c03\u6574\u3002\u4f46\u5e94\u59cb\u7ec8\u4fdd\u6301countData\u7684\u7b2c\u4e00\u884c\u548ccolData\u7684\u7b2c\u4e00\u5217\u5b8c\u5168\u4e00\u81f4\uff0c\u4e0d\u5305\u62eccountData\u7684\u7b2c\u4e00\u4e2a\u7a7a\u683c\u3002 dds <- DESeqDataSetFromMatrix(countData = countData,colData = colData, design = ~ condition) dds <- DESeq(dds) dds #class: DESeqDataSet #dim: 56862 9 #metadata(1): version #assays(4): counts mu H cooks #rownames(56862): MSTRG.28369 Zm00001d015574 ... #Zm00001d050294 # Zm00001d005327 #rowData names(26): baseMean baseVar ... deviance maxCooks #colnames(9): CR1.st CR2.st ... Nr2.st Nr3.st #colData names(2): condition sizeFactor res = results(dds) res = res[order(res$pvalue),] head(res) #log2 fold change (MLE): condition Nr vs CR #Wald test p-value: condition Nr vs CR #DataFrame with 6 rows and 6 columns # baseMean log2FoldChange lfcSE # <numeric> <numeric> <numeric> #MSTRG.14834 813.537803375226 5.92709649671671 0.505759997283559 #MSTRG.39476 1429.58827897959 9.72303418884463 0.897070409158461 #MSTRG.14858 5517.88559178615 7.13535760976146 0.676567107148184 #MSTRG.14860 634.902462467296 8.24781803490373 0.955826315936781 #MSTRG.14664 1638.94705588096 7.01525377811048 0.823766922503449 #MSTRG.15005 1570.64339845137 9.18561797686647 1.12651942455926 # stat pvalue padj # <numeric> <numeric> <numeric> #MSTRG.14834 11.7191880112132 1.01641526263862e-31 3.71276167136634e-27 #MSTRG.39476 10.8386522279403 2.25772589986083e-27 4.12351058350581e-23 #MSTRG.14858 10.5464151809536 5.27723078445638e-26 6.42555620315409e-22 #MSTRG.14860 8.62899241984173 6.18947935284045e-18 5.6522325450139e-14 #MSTRG.14664 8.51606636109028 1.65064269019706e-17 1.20589352375036e-13 #MSTRG.15005 8.15398099367908 3.52136235857403e-16 1.92177691104112e-12 \u51fa\u73b0\u4e00MSTRG \u5f00\u5934\u7684\u57fa\u56e0\u7f16\u53f7\uff0c\u5b83\u4e3b\u8981\u662f\u56e0\u7232\u6211\u4e4b\u524d\u5728\u7528hisat2\u505amapping \u6642\u7528\u7684\u57fa\u56e0\u7d44\u6ce8\u91cb\u6587\u4ef6\u548c\u57fa\u56e0\u7d44index\u7528\u7684genome\u4e0d\u4e00\u81f4\u5c0e\u81f4\u7684\uff0c\u6211\u7528\u81ea\u5df1\u4e0b\u8f09\u7684\u57fa\u56e0\u7d44\u505a\u4e86\u4e00\u908aindex\u5f8c\u554f\u984c\u5c31\u89e3\u6c7a\u4e86\u3002 summary(res) #out of 46687 with nonzero total read count #adjusted p-value < 0.1 #LFC > 0 (up) : 169, 0.36% #LFC < 0 (down) : 20, 0.043% #outliers [1] : 3020, 6.5% #low counts [2] : 7139, 15% #(mean count < 5) #[1] see 'cooksCutoff' argument of ?results #[2] see 'independentFiltering' argument of ?results ##\u8bf4\u660e\u4e0a\u8ff0\u6709169\u4e2a\u57fa\u56e0\u4e0a\u8c03\uff0c20\u4e2a\u57fa\u56e0\u4e0b\u8c03 write.csv(res,file=\"All_results.csv\") table(res$padj<0.05) #FALSE TRUE #36366 162 ##\u8bf4\u660e\u6709padj<0.05\u7684\u6709162\u4e2a\u3002 \u63d0\u53d6\u5dee\u5f02\u8868\u8fbegenes(DEGs)\u5e76\u8fdb\u884cgene symbol\u6ce8\u91ca \u83b7\u53d6padj<0.05,\u8868\u8fbe\u500d\u6570\u53d6log2\u7684\u5bf9\u6570\u540e>1\u6216\u8005<-1\u7684\u5dee\u5f02\u8868\u8fbe\u57fa\u56e0\u3002 diff_gene_deseq2 <- subset(res,padj < 0.05 & abs(log2FoldChange)>1) dim(diff_gene_deseq2) head(diff_gene_deseq2) write.csv(diff_gene_deseq2,file=\"DEG_treat_vs_control.csv\") 6.2 \u5bf9\u5dee\u5f02\u8868\u8fbe\u57fa\u56e0\u8fdb\u884c\u6ce8\u91ca #(resOrdered <- res[order(res$padj), ]) #browseVignettes(\"DESeq2\") GO,KEGG,GSEA\u53c2\u6570 7.GO/KEGG\u5206\u6790\u53caGSEA( \u53c2\u8003\u5730\u5740 ) 7.1\u5b89\u88c5Y \u53d4\u7684R\u5305clusterProfiler\u5305\uff0c gitHub clusterProfiler\u662f\u4e00\u4e2a\u795e\u5668\u7684\u5305 Y\u53d4\u7684 clusterProfiler\u5305\u7684\u5f15\u7528 G Yu , LG Wang, Y Han, QY He. clusterProfiler: an R package for comparing biological themes among gene clusters. OMICS: A Journal of Integrative Biology 2012, 16(5):284-287. doi:[10.1089/omi.2011.0118](http://dx.doi.org/10.1089/omi.2011.0118) source(\"https://bioconductor.org/biocLite.R\") biocLite(\"clusterProfiler\") biocLite(\"BiocUpgrade\") library(clusterProfiler) biocLite(\"DOSE\") require(DOSE) library(DO.db) 7.2\u5b89\u88c5\u6784\u5efa\u81ea\u5df1\u7684\u57fa\u56e0\u7ec4\u6ce8\u91ca\u6570\u636e Biocouductor\u5b98\u7f51 \u670919\u4e2a\u7269\u79cd\uff0c \u4f8b\u5982:\u8f7d\u5165\u4eba\u7c7b\u7684\u6570\u636e biocLite(\"org.Hs.eg.db\") library(org.Hs.eg.db) \u4f46\u662f\u6728\u6709\u6211\u8981\u7684\u3002\u81ea\u5df1AnnotationHub\u6784\u5efa\u81ea\u5df1\u7684OrgDb\u3002\u5f88\u5de7\u5408\uff0cY\u53d4\u5199\u7684\u6709\u6211\u7684\u7269\u79cd\u7684\u4e00\u7bc7\u63a8\u9001 \u4f20\u9001\u95e8 \u53e6\u4e00\u7bc7 \u53c2\u8003\u5730\u5740 \u3002 \u5fc5\u987b\u63d0\u7684\u51c6\u786e\u6027\u95ee\u9898\u3002\u5f90\u5dde\u66f4\u63d0\u5230\u7684AnnotationHub\u7684\u7269\u79cd\u6ce8\u91ca\u5305\u7684\u53ef\u9760\u6027\u95ee\u9898 \u8be6\u7ec6\u5730\u5740 library(AnnotationHub) hub <- AnnotationHUb() query(hub,\"Zea mays\") s1 <- hub[[\"\"]] 7.3 GO\u5206\u6790 [Y\u53d4\u5b98\u65b9\u6587\u6863]((https://guangchuangyu.github.io/2016/01/go-analysis-using-clusterprofiler/) ID\u8f6c\u6362\uff0c\u5e38\u89c1\u7684ENSEMBL\uff0cENTREZID\u3002ENTREZID=kegg=ncbi-geneid ID\u8f6c\u6362\u51fd\u6570 keytypes() gene <- row.names() 7.4 GSEA\u5206\u6790 \u57fa\u56e0\u96c6\u5bcc\u96c6\u5206\u6790 (Gene Set Enrichment Analysis, GSEA) \u7684\u57fa\u672c\u601d\u60f3\u662f\u4f7f\u7528 \u9884\u5b9a\u4e49\u7684\u57fa\u56e0\u96c6 \uff08\u901a\u5e38\u6765\u81ea\u529f\u80fd\u6ce8\u91ca\u6216\u5148\u524d\u5b9e\u9a8c\u7684\u7ed3\u679c\uff09\uff0c\u5c06\u57fa\u56e0\u6309\u7167\u5728\u4e24\u7c7b\u6837\u672c\u4e2d\u7684\u5dee\u5f02\u8868\u8fbe\u7a0b\u5ea6\u6392\u5e8f\uff0c\u7136\u540e\u68c0\u9a8c\u9884\u5148\u8bbe\u5b9a\u7684\u57fa\u56e0\u96c6\u5408\u662f\u5426\u5728\u8fd9\u4e2a\u6392\u5e8f\u8868\u7684\u9876\u7aef\u6216\u8005\u5e95\u7aef\u5bcc\u96c6\u3002\u57fa\u56e0\u96c6\u5408\u5bcc\u96c6\u5206\u6790 \u68c0\u6d4b\u57fa\u56e0\u96c6\u5408\u800c\u4e0d\u662f\u5355\u4e2a\u57fa\u56e0 \u7684\u8868\u8fbe\u53d8\u5316\uff0c\u56e0\u6b64\u53ef\u4ee5\u5305\u542b\u8fd9\u4e9b\u7ec6\u5fae\u7684\u8868\u8fbe\u53d8\u5316\uff0c\u9884\u671f\u5f97\u5230\u66f4\u4e3a\u7406\u60f3\u7684\u7ed3\u679c\u3002 \u53c2\u8003\u8d44\u6599\uff1a GSEA\u5206\u6790\u662f\u4ec0\u4e48\u9b3c(\u4e0a) \u548c GSEA\u5206\u6790\u662f\u4ec0\u4e48\u9b3c(\u4e0b) \u3002 \u4f5c\u8005\uff1alxmic \u94fe\u63a5\uff1ahttps://www.jianshu.com/p/4910d7cec5c8 #Gene Set Enrichment Analysis (GSEA) 7.5 KEGG(pathway)\u5206\u6790 KEGG\u5c06\u57fa\u56e0\u7ec4\u4fe1\u606f\u548c\u9ad8\u4e00\u7ea7\u7684\u529f\u80fd\u4fe1\u606f\u6709\u673a\u5730\u7ed3\u5408\u8d77\u6765\uff0c\u901a\u8fc7\u5bf9\u7ec6\u80de\u5185\u5df2\u77e5\u751f\u7269\u5b66\u8fc7\u7a0b\u7684\u8ba1\u7b97\u673a\u5316\u5904\u7406\u548c\u5c06\u73b0\u6709\u7684\u57fa\u56e0\u529f\u80fd\u89e3\u91ca\u6807\u51c6\u5316\uff0c\u5bf9\u57fa\u56e0\u7684\u529f\u80fd\u8fdb\u884c\u7cfb\u7edf\u5316\u7684\u5206\u6790\u3002 KEGG\u7684\u53e6\u4e00\u4e2a\u4efb\u52a1\u662f\u4e00\u4e2a\u5c06\u57fa\u56e0\u7ec4\u4e2d\u7684\u4e00\u7cfb\u5217\u57fa\u56e0\u7528\u4e00\u4e2a\u7ec6\u80de\u5185\u7684\u5206\u5b50\u76f8\u4e92\u4f5c\u7528\u7684\u7f51\u7edc\u8fde\u63a5\u8d77\u6765\u7684\u8fc7\u7a0b\uff0c\u5982\u4e00\u4e2a\u901a\u8def\u6216\u662f\u4e00\u4e2a\u590d\u5408\u7269\uff0c\u901a\u8fc7\u5b83\u4eec\u6765\u5c55\u73b0\u66f4\u9ad8\u4e00\u7ea7\u7684\u751f\u7269\u5b66\u529f\u80fd\u3002 \u53c2\u8003\u6587\u7ae0\uff1a http://blog.sciencenet.cn/blog-364884-779116.html KEGG\u7269\u79cd\u7f29\u5199\uff1a http://www.genome.jp/kegg/catalog/org_list.html GO\u548cKEGG\u8f93\u51fa\u6587\u4ef6\u89e3\u8bfb\uff1a http://www.bio-info-trainee.com/370.html \u53c2\u8003\u5730\u5740\u540c\u4e0a\u3002 \u4e0a\u8ff0\u662f\u5728\u57fa\u56e0\u6c34\u5e73\u4e0a\u7684\u5dee\u5f02 \u4e0b\u9762\u627e\u7684\u662f\u5728\u8f6c\u5f55\u672c\u6c34\u5e73\u4e0a\u7684\u5dee\u5f02 Cufflinks \u6574\u4e2a\u5b9e\u9a8c\u7684\u5927\u6982\u811a\u672c\u60c5\u51b5 #!/bin/bash #\u6279\u91cf\u5faa\u73af\uff0c\u521b\u9020\u51fa\u6587\u4ef6\u540d\uff0c\u5e76\u4e14\u590d\u5236\u6587\u4ef6\u3002 #mkdir 102 A=\"CR\" B=\"Cr\" C=\"Nr\" tit[0]=\"_L8_I313.\" #CR-1 tit[1]=\"L8_I314.\" #CR-2 tit[2]=\"_L2_I301.\" #Cr-1 tit[3]=\"L2_I302.\" #Cr-2 tit[4]=\"_L2_I307.\" #Nr-1 tit[5]=\"L2_I308.\" #Nr-2 mid=\"-paired-\" end=\".fastq.gz\" R1=\"-R1.fastq.gz\" R2=\"-R2.fastq.gz\" bam1=\"map.bam\" for (( i = 1; i < 4; i++ )); do k=$i # echo ${A}${mid}${i}${R1} # echo ${A}${mid}${i}${R2} # echo ${B}${mid}${i}${R1} # echo ${B}${mid}${i}${R2} # echo ${C}${mid}${i}${R1} # echo ${C}${mid}${i}${R2} #\u7b2c1\u6b65\u8d28\u63a7\uff1atrimmomatic\uff08\u51719\u6761\uff0c\u66f4\u6539\u8f93\u5165\u8f93\u51fa\u6587\u4ef6\u540d\u5373\u53ef\uff09 #java -jar /home/guo/tool/Trimmomatic-0.38/trimmomatic-0.38.jar PE -threads 8 -phred33 Cr-zaoqian-1_L2_I301.R1.clean.fastq.gz Cr-zaoqian-1_L2_I301.R2.clean.fastq.gz Cr-paired-1-R1.fastq.gz Cr-unpaired-1-R1.fastq.gz Cr-paired-1-R2.fastq.gz Cr-unpaired-1-R2.fastq.gz ILLUMINACLIP:TruSeq3-PE.fa:2:30:10 LEADING:3 TRAILING:3 SLIDINGWINDOW:4:15 MINLEN:36 & #\u7b2c2\u6b65\u6bd4\u5bf9\uff1ahisat2(\u5171\u4e09\u6761) #hisat2 -x /home/guo/maize/zm437/Zea_mays.AGPv4.dna.toplevel -p 8 -1 ${A}${mid}${i}${R1} -2 ${A}${mid}${i}${R2} -S ${A}${i}\".map.sam\" --dta-cufflinks --novel-splicesite-outfile ${A}${i}\".nsplice\" & #hisat2 -x /home/guo/maize/zm437/Zea_mays.AGPv4.dna.toplevel -p 8 -1 ${B}${mid}${i}${R1} -2 ${B}${mid}${i}${R2} -S ${B}${i}\".map.sam\" --dta-cufflinks --novel-splicesite-outfile ${B}${i}\".nsplice\" & #hisat2 -x /home/guo/maize/zm437/Zea_mays.AGPv4.dna.toplevel -p 8 -1 ${C}${mid}${i}${R1} -2 ${C}${mid}${i}${R2} -S ${C}${i}\".map.sam\" --dta-cufflinks --novel-splicesite-outfile ${C}${i}\".nsplice\" & #\u7b2c3\u6b65\uff1a\u7528samtool\uff0c\u683c\u5f0f\u8f6c\u6362\uff0c\u5c06sam\u8f6c\u6362\u4e3abam\uff08\u5171\u4e09\u6761\uff09 # samtools sort -@ 8 -o ${A}${i}\".map.bam\" ${A}${i}\".map.sam\" & # samtools sort -@ 8 -o ${B}${i}\".map.bam\" ${B}${i}\".map.sam\" & # samtools sort -@ 8 -o ${C}${i}\".map.bam\" ${C}${i}\".map.sam\" & #\u7b2c4\u6b65\u88c5\u914d\uff1a\u7528stringtie\uff08\u5171\u4e09\u8f6e\uff09 #\u7b2c\u4e00\u8f6e\uff089\u4e2a\u5206\u522b\u6bd4\u5bf9\u5230\u57fa\u56e0\u7ec4\uff09 #stringtie ${A}${i}\".map.bam\" -G /home/guo/maize/zm437/Zea_mays.AGPv4.37.gtf -p 8 -o ${A}${i}\".gtf\" & #stringtie ${B}${i}\".map.bam\" -G /home/guo/maize/zm437/Zea_mays.AGPv4.37.gtf -p 8 -o ${B}${i}\".gtf\" & #stringtie ${C}${i}\".map.bam\" -G /home/guo/maize/zm437/Zea_mays.AGPv4.37.gtf -p 8 -o ${C}${i}\".gtf\" & #\u7b2c\u4e8c\u8f6e\uff08\u6574\u54089\u4e2a\u7684\u7ed3\u679c\u6210\u4e00\u4e2a\uff09 #stringtie --merge -G /home/guo/maize/zm437/Zea_mays.AGPv4.37.gtf -p 8 -o merged.gtf CR1.gtf CR2.gtf CR3.gtf Cr1.gtf Cr2.gtf Cr3.gtf Nr1.gtf Nr2.gtf Nr3.gtf & #\u7b2c\u4e09\u8f6e\uff08\u4ee5\u7b2c\u4e8c\u8f6e\u7684\u7ed3\u679c\u4f5c\u4e3a\u53c2\u8003\u5e8f\u5217\uff0c9\u4e2a\u5206\u522b\u6bd4\u5bf9\uff09 # mkdir ${A}${i}\"_out\" # mkdir ${B}${i}\"_out\" # mkdir ${C}${i}\"_out\" # stringtie ${A}${i}\".map.bam\" -G merged.gtf -p 8 -b ${A}${i}\"_out\" -e -o ${A}${i}\"-st.gtf\" & # stringtie ${B}${i}\".map.bam\" -G merged.gtf -p 8 -b ${B}${i}\"_out\" -e -o ${B}${i}\"-st.gtf\" & # stringtie ${C}${i}\".map.bam\" -G merged.gtf -p 8 -b ${C}${i}\"_out\" -e -o ${C}${i}\"-st.gtf\" & \u7b2c5\u6b65 \u751f\u6210CSV\u6587\u4ef6 #python\u8def\u5f84 python2.7 /disks/backup/chaim/soft/prepDE.py -i \u7b2c6\u6b65 deseq2\u8fdb\u884c\u5b9a\u91cf\u5206\u6790 done","title":"\u8f6c\u5f55\u7ec4\u5168\u65b0\u5b66\u4e60\u4e4b\u603b\u7bc7"},{"location":"RNA-seq/%E8%BD%AC%E5%BD%95%E7%BB%84%E5%85%A8%E6%96%B0%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%80%BB%E7%AF%87/#genesdegsgene-symbol","text":"","title":"\u63d0\u53d6\u5dee\u5f02\u8868\u8fbegenes(DEGs)\u5e76\u8fdb\u884cgene symbol\u6ce8\u91ca"},{"location":"RNA-seq/%E8%BD%AC%E5%BD%95%E7%BB%84%E5%85%A8%E6%96%B0%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%80%BB%E7%AF%87/#padj005log21-1","text":"diff_gene_deseq2 <- subset(res,padj < 0.05 & abs(log2FoldChange)>1) dim(diff_gene_deseq2) head(diff_gene_deseq2) write.csv(diff_gene_deseq2,file=\"DEG_treat_vs_control.csv\") 6.2 \u5bf9\u5dee\u5f02\u8868\u8fbe\u57fa\u56e0\u8fdb\u884c\u6ce8\u91ca #(resOrdered <- res[order(res$padj), ]) #browseVignettes(\"DESeq2\")","title":"\u83b7\u53d6padj&lt;0.05,\u8868\u8fbe\u500d\u6570\u53d6log2\u7684\u5bf9\u6570\u540e&gt;1\u6216\u8005&lt;-1\u7684\u5dee\u5f02\u8868\u8fbe\u57fa\u56e0\u3002"},{"location":"RNA-seq/%E8%BD%AC%E5%BD%95%E7%BB%84%E5%85%A8%E6%96%B0%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%80%BB%E7%AF%87/#gokegggsea","text":"7.GO/KEGG\u5206\u6790\u53caGSEA( \u53c2\u8003\u5730\u5740 ) 7.1\u5b89\u88c5Y \u53d4\u7684R\u5305clusterProfiler\u5305\uff0c gitHub clusterProfiler\u662f\u4e00\u4e2a\u795e\u5668\u7684\u5305 Y\u53d4\u7684 clusterProfiler\u5305\u7684\u5f15\u7528 G Yu , LG Wang, Y Han, QY He. clusterProfiler: an R package for comparing biological themes among gene clusters. OMICS: A Journal of Integrative Biology 2012, 16(5):284-287. doi:[10.1089/omi.2011.0118](http://dx.doi.org/10.1089/omi.2011.0118) source(\"https://bioconductor.org/biocLite.R\") biocLite(\"clusterProfiler\") biocLite(\"BiocUpgrade\") library(clusterProfiler) biocLite(\"DOSE\") require(DOSE) library(DO.db) 7.2\u5b89\u88c5\u6784\u5efa\u81ea\u5df1\u7684\u57fa\u56e0\u7ec4\u6ce8\u91ca\u6570\u636e Biocouductor\u5b98\u7f51 \u670919\u4e2a\u7269\u79cd\uff0c \u4f8b\u5982:\u8f7d\u5165\u4eba\u7c7b\u7684\u6570\u636e biocLite(\"org.Hs.eg.db\") library(org.Hs.eg.db) \u4f46\u662f\u6728\u6709\u6211\u8981\u7684\u3002\u81ea\u5df1AnnotationHub\u6784\u5efa\u81ea\u5df1\u7684OrgDb\u3002\u5f88\u5de7\u5408\uff0cY\u53d4\u5199\u7684\u6709\u6211\u7684\u7269\u79cd\u7684\u4e00\u7bc7\u63a8\u9001 \u4f20\u9001\u95e8 \u53e6\u4e00\u7bc7 \u53c2\u8003\u5730\u5740 \u3002","title":"GO,KEGG,GSEA\u53c2\u6570"},{"location":"RNA-seq/%E8%BD%AC%E5%BD%95%E7%BB%84%E5%85%A8%E6%96%B0%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%80%BB%E7%AF%87/#annotationhub","text":"library(AnnotationHub) hub <- AnnotationHUb() query(hub,\"Zea mays\") s1 <- hub[[\"\"]] 7.3 GO\u5206\u6790 [Y\u53d4\u5b98\u65b9\u6587\u6863]((https://guangchuangyu.github.io/2016/01/go-analysis-using-clusterprofiler/) ID\u8f6c\u6362\uff0c\u5e38\u89c1\u7684ENSEMBL\uff0cENTREZID\u3002ENTREZID=kegg=ncbi-geneid ID\u8f6c\u6362\u51fd\u6570 keytypes() gene <- row.names() 7.4 GSEA\u5206\u6790 \u57fa\u56e0\u96c6\u5bcc\u96c6\u5206\u6790 (Gene Set Enrichment Analysis, GSEA) \u7684\u57fa\u672c\u601d\u60f3\u662f\u4f7f\u7528 \u9884\u5b9a\u4e49\u7684\u57fa\u56e0\u96c6 \uff08\u901a\u5e38\u6765\u81ea\u529f\u80fd\u6ce8\u91ca\u6216\u5148\u524d\u5b9e\u9a8c\u7684\u7ed3\u679c\uff09\uff0c\u5c06\u57fa\u56e0\u6309\u7167\u5728\u4e24\u7c7b\u6837\u672c\u4e2d\u7684\u5dee\u5f02\u8868\u8fbe\u7a0b\u5ea6\u6392\u5e8f\uff0c\u7136\u540e\u68c0\u9a8c\u9884\u5148\u8bbe\u5b9a\u7684\u57fa\u56e0\u96c6\u5408\u662f\u5426\u5728\u8fd9\u4e2a\u6392\u5e8f\u8868\u7684\u9876\u7aef\u6216\u8005\u5e95\u7aef\u5bcc\u96c6\u3002\u57fa\u56e0\u96c6\u5408\u5bcc\u96c6\u5206\u6790 \u68c0\u6d4b\u57fa\u56e0\u96c6\u5408\u800c\u4e0d\u662f\u5355\u4e2a\u57fa\u56e0 \u7684\u8868\u8fbe\u53d8\u5316\uff0c\u56e0\u6b64\u53ef\u4ee5\u5305\u542b\u8fd9\u4e9b\u7ec6\u5fae\u7684\u8868\u8fbe\u53d8\u5316\uff0c\u9884\u671f\u5f97\u5230\u66f4\u4e3a\u7406\u60f3\u7684\u7ed3\u679c\u3002 \u53c2\u8003\u8d44\u6599\uff1a GSEA\u5206\u6790\u662f\u4ec0\u4e48\u9b3c(\u4e0a) \u548c GSEA\u5206\u6790\u662f\u4ec0\u4e48\u9b3c(\u4e0b) \u3002 \u4f5c\u8005\uff1alxmic \u94fe\u63a5\uff1ahttps://www.jianshu.com/p/4910d7cec5c8 #Gene Set Enrichment Analysis (GSEA) 7.5 KEGG(pathway)\u5206\u6790 KEGG\u5c06\u57fa\u56e0\u7ec4\u4fe1\u606f\u548c\u9ad8\u4e00\u7ea7\u7684\u529f\u80fd\u4fe1\u606f\u6709\u673a\u5730\u7ed3\u5408\u8d77\u6765\uff0c\u901a\u8fc7\u5bf9\u7ec6\u80de\u5185\u5df2\u77e5\u751f\u7269\u5b66\u8fc7\u7a0b\u7684\u8ba1\u7b97\u673a\u5316\u5904\u7406\u548c\u5c06\u73b0\u6709\u7684\u57fa\u56e0\u529f\u80fd\u89e3\u91ca\u6807\u51c6\u5316\uff0c\u5bf9\u57fa\u56e0\u7684\u529f\u80fd\u8fdb\u884c\u7cfb\u7edf\u5316\u7684\u5206\u6790\u3002 KEGG\u7684\u53e6\u4e00\u4e2a\u4efb\u52a1\u662f\u4e00\u4e2a\u5c06\u57fa\u56e0\u7ec4\u4e2d\u7684\u4e00\u7cfb\u5217\u57fa\u56e0\u7528\u4e00\u4e2a\u7ec6\u80de\u5185\u7684\u5206\u5b50\u76f8\u4e92\u4f5c\u7528\u7684\u7f51\u7edc\u8fde\u63a5\u8d77\u6765\u7684\u8fc7\u7a0b\uff0c\u5982\u4e00\u4e2a\u901a\u8def\u6216\u662f\u4e00\u4e2a\u590d\u5408\u7269\uff0c\u901a\u8fc7\u5b83\u4eec\u6765\u5c55\u73b0\u66f4\u9ad8\u4e00\u7ea7\u7684\u751f\u7269\u5b66\u529f\u80fd\u3002 \u53c2\u8003\u6587\u7ae0\uff1a http://blog.sciencenet.cn/blog-364884-779116.html KEGG\u7269\u79cd\u7f29\u5199\uff1a http://www.genome.jp/kegg/catalog/org_list.html GO\u548cKEGG\u8f93\u51fa\u6587\u4ef6\u89e3\u8bfb\uff1a http://www.bio-info-trainee.com/370.html \u53c2\u8003\u5730\u5740\u540c\u4e0a\u3002 \u4e0a\u8ff0\u662f\u5728\u57fa\u56e0\u6c34\u5e73\u4e0a\u7684\u5dee\u5f02 \u4e0b\u9762\u627e\u7684\u662f\u5728\u8f6c\u5f55\u672c\u6c34\u5e73\u4e0a\u7684\u5dee\u5f02 Cufflinks \u6574\u4e2a\u5b9e\u9a8c\u7684\u5927\u6982\u811a\u672c\u60c5\u51b5 #!/bin/bash #\u6279\u91cf\u5faa\u73af\uff0c\u521b\u9020\u51fa\u6587\u4ef6\u540d\uff0c\u5e76\u4e14\u590d\u5236\u6587\u4ef6\u3002 #mkdir 102 A=\"CR\" B=\"Cr\" C=\"Nr\" tit[0]=\"_L8_I313.\" #CR-1 tit[1]=\"L8_I314.\" #CR-2 tit[2]=\"_L2_I301.\" #Cr-1 tit[3]=\"L2_I302.\" #Cr-2 tit[4]=\"_L2_I307.\" #Nr-1 tit[5]=\"L2_I308.\" #Nr-2 mid=\"-paired-\" end=\".fastq.gz\" R1=\"-R1.fastq.gz\" R2=\"-R2.fastq.gz\" bam1=\"map.bam\" for (( i = 1; i < 4; i++ )); do k=$i # echo ${A}${mid}${i}${R1} # echo ${A}${mid}${i}${R2} # echo ${B}${mid}${i}${R1} # echo ${B}${mid}${i}${R2} # echo ${C}${mid}${i}${R1} # echo ${C}${mid}${i}${R2} #\u7b2c1\u6b65\u8d28\u63a7\uff1atrimmomatic\uff08\u51719\u6761\uff0c\u66f4\u6539\u8f93\u5165\u8f93\u51fa\u6587\u4ef6\u540d\u5373\u53ef\uff09 #java -jar /home/guo/tool/Trimmomatic-0.38/trimmomatic-0.38.jar PE -threads 8 -phred33 Cr-zaoqian-1_L2_I301.R1.clean.fastq.gz Cr-zaoqian-1_L2_I301.R2.clean.fastq.gz Cr-paired-1-R1.fastq.gz Cr-unpaired-1-R1.fastq.gz Cr-paired-1-R2.fastq.gz Cr-unpaired-1-R2.fastq.gz ILLUMINACLIP:TruSeq3-PE.fa:2:30:10 LEADING:3 TRAILING:3 SLIDINGWINDOW:4:15 MINLEN:36 & #\u7b2c2\u6b65\u6bd4\u5bf9\uff1ahisat2(\u5171\u4e09\u6761) #hisat2 -x /home/guo/maize/zm437/Zea_mays.AGPv4.dna.toplevel -p 8 -1 ${A}${mid}${i}${R1} -2 ${A}${mid}${i}${R2} -S ${A}${i}\".map.sam\" --dta-cufflinks --novel-splicesite-outfile ${A}${i}\".nsplice\" & #hisat2 -x /home/guo/maize/zm437/Zea_mays.AGPv4.dna.toplevel -p 8 -1 ${B}${mid}${i}${R1} -2 ${B}${mid}${i}${R2} -S ${B}${i}\".map.sam\" --dta-cufflinks --novel-splicesite-outfile ${B}${i}\".nsplice\" & #hisat2 -x /home/guo/maize/zm437/Zea_mays.AGPv4.dna.toplevel -p 8 -1 ${C}${mid}${i}${R1} -2 ${C}${mid}${i}${R2} -S ${C}${i}\".map.sam\" --dta-cufflinks --novel-splicesite-outfile ${C}${i}\".nsplice\" & #\u7b2c3\u6b65\uff1a\u7528samtool\uff0c\u683c\u5f0f\u8f6c\u6362\uff0c\u5c06sam\u8f6c\u6362\u4e3abam\uff08\u5171\u4e09\u6761\uff09 # samtools sort -@ 8 -o ${A}${i}\".map.bam\" ${A}${i}\".map.sam\" & # samtools sort -@ 8 -o ${B}${i}\".map.bam\" ${B}${i}\".map.sam\" & # samtools sort -@ 8 -o ${C}${i}\".map.bam\" ${C}${i}\".map.sam\" & #\u7b2c4\u6b65\u88c5\u914d\uff1a\u7528stringtie\uff08\u5171\u4e09\u8f6e\uff09 #\u7b2c\u4e00\u8f6e\uff089\u4e2a\u5206\u522b\u6bd4\u5bf9\u5230\u57fa\u56e0\u7ec4\uff09 #stringtie ${A}${i}\".map.bam\" -G /home/guo/maize/zm437/Zea_mays.AGPv4.37.gtf -p 8 -o ${A}${i}\".gtf\" & #stringtie ${B}${i}\".map.bam\" -G /home/guo/maize/zm437/Zea_mays.AGPv4.37.gtf -p 8 -o ${B}${i}\".gtf\" & #stringtie ${C}${i}\".map.bam\" -G /home/guo/maize/zm437/Zea_mays.AGPv4.37.gtf -p 8 -o ${C}${i}\".gtf\" & #\u7b2c\u4e8c\u8f6e\uff08\u6574\u54089\u4e2a\u7684\u7ed3\u679c\u6210\u4e00\u4e2a\uff09 #stringtie --merge -G /home/guo/maize/zm437/Zea_mays.AGPv4.37.gtf -p 8 -o merged.gtf CR1.gtf CR2.gtf CR3.gtf Cr1.gtf Cr2.gtf Cr3.gtf Nr1.gtf Nr2.gtf Nr3.gtf & #\u7b2c\u4e09\u8f6e\uff08\u4ee5\u7b2c\u4e8c\u8f6e\u7684\u7ed3\u679c\u4f5c\u4e3a\u53c2\u8003\u5e8f\u5217\uff0c9\u4e2a\u5206\u522b\u6bd4\u5bf9\uff09 # mkdir ${A}${i}\"_out\" # mkdir ${B}${i}\"_out\" # mkdir ${C}${i}\"_out\" # stringtie ${A}${i}\".map.bam\" -G merged.gtf -p 8 -b ${A}${i}\"_out\" -e -o ${A}${i}\"-st.gtf\" & # stringtie ${B}${i}\".map.bam\" -G merged.gtf -p 8 -b ${B}${i}\"_out\" -e -o ${B}${i}\"-st.gtf\" & # stringtie ${C}${i}\".map.bam\" -G merged.gtf -p 8 -b ${C}${i}\"_out\" -e -o ${C}${i}\"-st.gtf\" & \u7b2c5\u6b65 \u751f\u6210CSV\u6587\u4ef6 #python\u8def\u5f84 python2.7 /disks/backup/chaim/soft/prepDE.py -i \u7b2c6\u6b65 deseq2\u8fdb\u884c\u5b9a\u91cf\u5206\u6790 done","title":"\u5fc5\u987b\u63d0\u7684\u51c6\u786e\u6027\u95ee\u9898\u3002\u5f90\u5dde\u66f4\u63d0\u5230\u7684AnnotationHub\u7684\u7269\u79cd\u6ce8\u91ca\u5305\u7684\u53ef\u9760\u6027\u95ee\u9898\u8be6\u7ec6\u5730\u5740"},{"location":"RNA-seq/%E8%BD%AC%E5%BD%95%E7%BB%84%E5%B7%A5%E5%85%B7%E6%96%87%E7%8C%AE%E4%BB%8B%E7%BB%8D/","text":"\u58f0\u660e\uff1a\u4ee5\u4e0b\u5185\u5bb9\u8f6c\u8f7d\u81ea 360\u56fe\u4e66\u9986 \u3002 / >\u524d\u7aef\u5927\u6cd5\u597d\uff0c\u7f51\u9875\u5185\u5bb9\u968f\u610f\u590d\u5236< / \u4e00\u3001\u6bd4\u5bf9\u5de5\u5177 (Kim et al., 2015) HISAT : a fast spliced aligner with low memory requirements. Nature methods. Aligns RNA-seq reads to a reference genome using uncompressed suffix arrays. STAR has a potential for accurately aligning long (several kilobases) reads that are emerging from the third-generation sequencing technologies. (Dobin et al., 2013) STAR: ultrafast universal RNA-seq aligner. Bioinformatics. Self-training Algorithm for Splice Junction Detection using RNA-seq. (Li et al., 2013) TrueSight : a new algorithm for splice junction detection using RNA-seq. Nucleic acids research. A toolkit for processing next-gen sequencing data. These programs were also implemented in Bioconductor R package Rsubread. (Liao et al., 2013) The Subread aligner : fast, accurate and scalable read mapping by seed-and-vote. Nucleic acids research. (Rogers et al., 2012) SpliceGrapher : detecting patterns of alternative splicing from RNA-Seq data in the context of gene models and EST data. Genome biology. (Philippe et al., 2013) CRAC : an integrated approach to the analysis of RNA-seq reads. Genome biology. A fast splice junction mapper for RNA-Seq reads. TopHat aligns RNA-Seq reads to mammalian-sized genomes using the high-throughput short read aligner Bowtie , and then analyzes the mapping results to identify splice junctions between exons. (Kim et al., 2013) TopHat2 : accurate alignment of transcriptomes in the presence of insertions, deletions and gene fusions. Genome Biol. (Chu et al., 2015) SpliceJumper : a classification-based approach for calling splicing junctions from RNA-seq data. BMC bioinformatics. (Srivastava et al., 2016) RapMap : a rapid, sensitive and accurate tool for mapping RNA-seq reads to transcriptomes. Bioinformatics. A framework for genome-based transcript reconstruction and quantification. CIDANE is engineered to not only assembly RNA-seq reads ab initio, but to also make use of the growing annotation of known splice sites, transcription start and end sites, or even full-length transcripts, available for most model organisms. To some extent, CIDANE is able to recover splice junctions that are invisible to existing bioinformatics tools. (Canzar et al., 2016) CIDANE: comprehensive isoform discovery and abundance estimation. Genome biology. An open source tool for accurate genome-guided transcriptome assembly from RNA-seq reads based on the model of splice graph. An extension of our program CLASS, CLASS2 jointly optimizes read patterns and the number of supporting reads to score and prioritize transcripts, implemented in a novel, scalable and efficient dynamic programming algorithm. (Song et al., 2016) CLASS2 : accurate and efficient splice variant annotation from RNA-seq reads. Nucleic acids research. \u4e8c\u3001Read\u6570\u7edf\u8ba1 An RNA-seq read counting tool which builds upon the speed of featureCounts and implements the counting modes of HTSeq. VERSE is more than 30x faster than HTSeq when computing the same gene counts. VERSE also supports a hierarchical assignment scheme, which allows reads to be assigned uniquely and sequentially to different types of features according to user-defined priorities. It is built on top of featureCounts. (Zhu et al., 2016) VERSE : a versatile and efficient RNA-Seq read counting tool. bioRxiv. A tool for RNA-Seq data analysis that counts for each gene how many aligned reads overlap its exons. (Anders et al., 2013) Count-based differential expression analysis of RNA sequencing data using R and Bioconductor. Nature protocols. A package that provides efficient low-level and highly reusable S4 classes for storing ranges of integers, RLE vectors (Run-Length Encoding) and, more generally, data that can be organized sequentially (formally defined as Vector objects), as well as views on these Vector objects. IRanges provides also efficient list-like classes for storing big collections of instances of the basic classes. All classes in the package use consistent naming and share the same rich and consistent Vector API as much as possible. (Lawrence et al., 2013) Software for computing and annotating genomic ranges. PLoS computational biology. A read summarization program, which counts mapped reads for the genomic features such as genes and exons. (Liao et., 2013) featureCounts : an efficient general-purpose program for assigning sequence reads to genomic features. Bioinformatics \u4e09\u3001\u5b9a\u91cf A fast and highly efficient assembler of RNA-Seq alignments into potential transcripts. It is primarily a genome-guided transcriptome assembler, although it can borrow algorithmic techniques from de novo genome assembly to help with transcript assembly. Its input can include not only the spliced read alignments used by reference-based assemblers, but also longer contigs that were assembled de novo from unambiguous, non-branching parts of a transcript. (Pertea et al., 2015) StringTie enables improved reconstruction of a transcriptome from RNA-seq reads. Nature biotechnology. A computational approach that measures changes in mature RNA and pre-mRNA reads across different experimental conditions to quantify transcriptional and post-transcriptional regulation of gene expression. EISA reveals both transcriptional and post-transcriptional contributions to expression changes, increasing the amount of information that can be gained from RNA-seq data sets. (Gaidatzis et al., 2015) Analysis of intronic and exonic reads in RNA-seq data characterizes transcriptional and post-transcriptional regulation. Nature biotechnology. Assembles transcripts, estimates their abundances, and tests for differential expression and regulation in RNA-Seq samples. (Trapnell et al., 2010) Transcript assembly and quantification by RNA-Seq reveals unannotated transcripts and isoform switching during cell differentiation. Nature biotechnology. A method for transcriptome reconstruction that relies solely on RNA-Seq reads and an assembled genome to build a transcriptome ab initio. The statistical methods to estimate read coverage significance are also applicable to other sequencing data. Scripture also has modules for ChIP-Seq peak calling. (Guttman et al., 2010) Ab initio reconstruction of cell type-specific transcriptomes in mouse reveals the conserved multi-exonic structure of lincRNAs. Nature biotechnology Accurate quantification of transcriptome from RNA-Seq data by effective length normalization. (Lee et al., 2011) Accurate quantification of transcriptome from RNA-Seq data by effective length normalization. Nucleic acids research. An integrated alignment workflow and a simple counting-based approach to derive estimates for gene, exon and exon-exon junction expression. In contrast to previous counting-based approaches, EQP takes into account only reads whose alignment pattern agrees with the splicing pattern of the features of interest. This leads to improved gene expression estimates as well as to the generation of exon counts that allow disambiguating reads between overlapping exons. (Schuierer and Roma, 2016) The exon quantification pipeline (EQP) : a comprehensive approach to the quantification of gene, exon and junction expression from RNA-seq data. Nucleic acids research. It was designed as a user friendly solution to extract and annotate biologically important transcripts from next generation RNA sequencing data. (Forster et al., 2013) RNA-eXpress annotates novel transcript features in RNA-seq data. Bioinformatics. A versatile model to account for sequence specific bias that commonly occurs at the ends of fragments. Isolotar analyzes RNA-Seq experiments using a simple Bayesian hierarchical model. Combined with aggressive bias correction, it produces estimates that are simultaneously accurate and show high agreement between samples. Isolator is uniquely able to compute posterior probabilities corresponding to arbitrarily complex questions, within the confines of the model. (Jones et al., 2016) Isolator: accurate and stable analysis of isoform-level expression in RNA-Seq experiments. bioRxiv. \u56db\u3001\u6807\u51c6\u5316\u4e0e\u5dee\u5f02\u8868\u8fbe A method for differential analysis of count data, using shrinkage estimation for dispersions and fold changes to improve stability and interpretability of estimates. This enables a more quantitative analysis focused on the strength rather than the mere presence of differential expression. (Love et al., 2014) Moderated estimation of fold change and dispersion for RNA-seq data with DESeq2 . Genome biology A software package designed to facilitate flexible differential expression analysis of RNA-Seq data. Ballgown can also be used to visualize the transcript assembly on a gene-by-gene basis, extract abundance estimates for exons, introns, transcripts or genes, and perform linear model\u2013based differential expression analyses. (Frazee et al., 2015) Ballgown bridges the gap between transcriptome assembly and expression analysis. Nature biotechnology. A package to dampen the effect of outliers on count-based differential expression analyses. edgeR uses empirical Bayes estimation and exact tests based on the negative binomial distribution and is useful for differential signal analysis with other types of genome-scale count data. It requires a delicate tradeoff to maintain high power while at the same time achieving a decent resistance to the presence of outliers. In particular, it is difficult to know exactly what an outlier is and where the line should be drawn to identify it as such. (Zhou et al., 2014) Robustly detecting differential expression in RNA sequencing data using observation weights. Nucleic acids research A differential transcript expression (DTE) analysis algorithm. SDEAP estimates the number of conditions directly from the input samples using a Dirichlet mixture model and discovers alternative splicing events using a new graph modular decomposition algorithm. By taking advantage of the above technical improvement, SDEAP was able to outperform the other DTE analysis methods in extensive experiments on simulated data and real data with qPCR validation. The prediction of SDEAP also allows users to classify the samples of cancer subtypes and cell-cycle phases more accurately. (Yang and Jiang, 2016) SDEAP : a splice graph based differential transcript expression analysis tool for population data. Bioinformatics Enables rapid interpretation of complex gene expression studies as well as other high-throughput genomics assays. variancePartition is a statistical and visualization framework, used to prioritize drivers of variation based on a genome-wide summary, and identify genes that deviate from the genome-wide trend. This tool quantifies variation in each expression trait attributable to differences in disease status, sex, cell or tissue type, ancestry, genetic background, experimental stimulus, or technical variables. (Hoffman and Schadt, 2016) variancePartition : interpreting drivers of variation in complex gene expression studies. BMC BIoinformatics. A realistic framework to assess the impact of the key components of the statistical framework for differential analyses of RNA-seq data. This tool is based on real data sets and allows the exploration of various scenarios differing in the proportion of non-differentially expressed genes. Hence, it provides an evaluation of the key ingredients of the differential analysis, free of the biases associated with the simulation of data using parametric models. (Rigaill et al., 2016) Synthetic data sets for the identification of key ingredients for RNA-seq differential analysis. Briefings in Bioinformatics. Detects differentially expressed (DE) genes for RNA-seq data with high level of hetergeniety such as cancer RNA-seq data. ELTSeq is an empirical likelihood ratio test (ELT) with a mean-variance relationship constraint for the differential expression analysis of RNA sequencing (RNA-seq). As a distribution-free nonparametric model, ELTSeq handles individual heterogeneity by estimating an empirical probability for each observation without making any assumption about read-count distribution. It also incorporates a constraint for the read-count overdispersion, which is widely observed in RNA-seq data. ELTSeq demonstrates a significant improvement over existing methods such as edgeR, DESeq, t-tests, Wilcoxon tests and the classic empirical likelihood-ratio test when handling heterogeneous groups. It will significantly advance the transcriptomics studies of cancers and other complex disease (Xu and Chen, 2016) An empirical likelihood ratio test robust to individual heterogeneity for differential expression analysis of RNA-seq. Briefings in Bioinformatics. A package for detecting the differentially expressed (DE) genes in time course RNA-Seq data. The negative binomial mixed-effect model ( NBMM ) method is applied to gene expression data on a gene-by-gene basis. A parallel computing option is implemented in timeSeq package to speed up the computing process. We showed that our approach outperforms other currently available methods in both synthetic and real data. (Sun et al., 2016) Statistical inference for time course RNA-Seq data using a negative binomial mixed-effect model. BMC Bioinformatics. A method for facilitating DE analysis using RNA-seq read count data with multiple treatment conditions. The read count is assumed to follow a log-linear model incorporating two factors (i.e., condition and gene), where an interaction term is used to quantify the association between gene and condition. The number of the degrees of freedom is reduced to one through the first order decomposition of the interaction, leading to a dramatically power improvement in testing DE genes when the number of conditions is greater than two. (Kang et al., 2016) multiDE : a dimension reduced model based statistical method for differential expression analysis using RNA-sequencing data with multiple treatment conditions. BMC bioinformatics. (Jia et al., 2015) MetaDiff : differential isoform expression analysis using random-effects meta-regression. BMC bioinformatics. Provides a data-driven solution to test the assumptions of global normalization methods. Group level information about each sample (such as tumor/normal status) must be provided because the test assesses if there are global differences in the distributions between the user-defined groups. (Hicks and Irizarry, 2015) quantro : a data-driven approach to guide the choice of an appropriate normalization method. Genome biology. A Bayesian hierarchical approach to investigate within-sample and between-sample variations in RNA-Seq data. (Gu et al., 2014) BADGE : A novel Bayesian model for accurate abundance quantification and differential analysis of RNA-Seq data. BMC bioinformatics. An algorithm that estimates expression at transcript-level resolution and controls for variability evident across replicate libraries. (Trapnell et al., 2013) Differential analysis of gene regulation at transcript resolution with RNA-seq. Nature biotechnology. (Li et al., 2012) Normalization, testing, and false discovery rate estimation for RNA-sequencing data. Biostatistics. A package to identify differentially expressed genes or isoforms for RNA-seq data from different samples. DEGseq also encourage users to export gene expression values in a table format which could be directly processed by edgeR (Robinson, 2009), an R package implementing the method based on negative binominal distribution to model overdispersion relative to Poisson for digital gene expression data with small replicates (Robinson and Smyth, 2007) (Wang et al., 2010) DEGseq : an R package for identifying differentially expressed genes from RNA-seq data. Bioinformatics. \u4e94\u3001\u57fa\u56e0\u878d\u5408 An enhanced version with the ability to align reads across fusion points, which results from the breakage and re-joining of two different chromosomes, or from rearrangements within a chromosome. (Kim and Salzberg, 2011) TopHat-Fusion : an algorithm for discovery of novel fusion transcripts. Genome biology. A python package to annotate and visualize gene fusions. For a given gene fusion, AGFusion will predict the cDNA, CDS, and protein sequences resulting from fusion of all combinations of transcripts and save them to fasta files. AGFusion can also plot the protein domain architecture of the fusion transcripts. (Murphy and Elemento, 2016) AGFusion : annotate and visualize gene fusions. bioRxiv. A toolkit for fusion gene and chimeric transcript detection from RNA-seq data. InFusion is a computational method for the discovery of chimeric transcripts from RNA-seq data capable of detecting alternatively spliced chimeric transcripts and fusion genes involving non-coding regions. InFusion allows detection of fusions that involve intergenic regions, analyses and filters putative fusion events based on coverage depth, genomic context and strand specificity. (Okonechnikov et al., 2016) InFusion : Advancing Discovery of Fusion Genes and Chimeric Transcripts from Deep RNA-Sequencing Data. PLoS One. \u516d\u3001\u53ef\u53d8\u526a\u63a5 (Reuter et al., 2016) PreTIS : A Tool to Predict Non-canonical 5\u2019 UTR Translational Initiation Sites in Human and Mouse. Plos Computational Biology. (Afsari et al., 2016) Splice Expression Variation Analysis (SEVA) for Differential Gene Isoform Usage in Cancer. bioRxiv. The DEXseq method is implemented as an open Bioconductor package, which facilitates data visualization and exploration. It can detect with high sensitivity genes, and in many cases exons, that are subject to differential exon usage. (Anders et al., 2012) Detecting differential usage of exons from RNA-seq data. Genome research. (Liu et al., 2012) Detection, annotation and visualization of alternative splicing from RNA-Seq data with SplicingViewer . Genomics. (Ryan et al., 2012) SpliceSeq : a resource for analysis and visualization of RNA-Seq data on alternative splicing and its functional impacts. Bioinformatics. Alternative Splicing transcriptional landscape visualization tool. (Foissac and Sammeth, 2007) ASTALAVISTA : dynamic and flexible analysis of alternative splicing events in custom gene datasets. Nucleic acids research. \u516d\u3001\u7b49\u4f4d\u57fa\u56e0 (Deonovic et al., 2016) IDP-ASE : haplotyping and quantifying allele-specific expression at the gene and gene isoform level by hybrid sequencing. Nucleic Acids Research. (Soderlund et al., 2014) Allele workbench : transcriptome pipeline and interactive graphics for allele-specific expression. PloS one (Romanel et al., 2015) ASEQ : fast allele-specific studies from next-generation sequencing data. BMC medical genomics. (Nariai et al., 2015) A Bayesian approach for estimating allele-specific expression from RNA-Seq data with diploid genomes. BMC genomics.","title":"\u8f6c\u5f55\u7ec4\u5de5\u5177\u6587\u732e\u4ecb\u7ecd"},{"location":"Rust/Rust%E7%9A%84%E5%AE%89%E8%A3%85/","text":"Rust\u5728windows\u4e0a\u7684\u5b89\u88c5\u9700\u8981\u5b89\u88c5VS2013\u6216\u66f4\u9ad8\u7248\u672c\u3002","title":"Rust\u7684\u5b89\u88c5"},{"location":"Rust/Sublimetext4%E7%9A%84%E5%AE%89%E8%A3%85%E3%80%81%E6%B1%89%E5%8C%96%E3%80%81%E6%BF%80%E6%B4%BB/","text":"\u8f6c\u8f7d\u81eahttps://51.ruyo.net/17264.html 1.\u4e0b\u8f7d\u5b98\u65b9\u5b89\u88c5\u5305 https://www.sublimetext.com/download \u5efa\u8bae\u5b89\u88c5\u4fbf\u643a\u7248\uff0c\u8d70\u5230\u54ea\u91cc\u90fd\u53ef\u4ee5\u7528\u3002 \u9009\u62e9\u7248\u672c\u4e3a 4113 2.\u6fc0\u6d3b C3 C6 01 00 C3 \u66ff\u6362\u4e3a C3 C6 01 01 C3 51 31 C0 88 05 \u66ff\u6362\u4e3a 51 b0 01 88 05 \u4f7f\u7528 \u5728\u7ebf16\u8fdb\u5236\u7f16\u8f91\u5668 \u66ff\u6362\u6587\u4ef6 sublime_text.exe \u91cc\u9762\u7684\u4e24\u884c\u5b57\u7b26\u3002\u4fdd\u5b58\u540e\u66ff\u6362\u539f\u59cb\u7684\u6587\u4ef6\u5373\u53ef\u3002 3.\u5b89\u88c5\u6c49\u5316\u5305 \u70b9\u51fb Tools\u2014Install Package Control\uff0c \u5f39\u51fa\u7a97\u53e3\uff0c\u786e\u5b9a\u5373\u53ef\u3002 \u83dc\u5355\u70b9\u51fbPreferences \u2013 Package Control\uff0c\u9009\u62e9 Install Package \u8f93\u5165 ChineseLocalzations \u53ef\u89c1\u4e2d\u6587\u5305\uff01\u9009\u4e2d\u5373\u53ef\u5b89\u88c5\uff01 4.\u5b89\u88c5rust\u63d2\u4ef6 \u83dc\u5355\u70b9\u51fbPreferences \u2013 Package Control\uff0c\u9009\u62e9 Install Package \u8f93\u5165 Rust Enhanced \u9009\u4e2d\u5373\u53ef\u5b89\u88c5\uff01","title":"Sublimetext4\u7684\u5b89\u88c5\u3001\u6c49\u5316\u3001\u6fc0\u6d3b"},{"location":"bio-experience/RT-PCR-%E5%AE%9E%E9%AA%8C%E6%96%B9%E6%B3%95%E6%8A%80%E5%B7%A7/","text":"\u5b9a\u91cfpcr\u6709\u4e24\u79cd\uff1a 1. \u8367\u5149\uff0c\u901a\u8fc7\u67d3\u6599\u91cc\u7684\u8367\u5149\uff0c\u968f\u7740pcr\u4ea7\u7269\u7684\u589e\u591a\uff0c\u800c\u51fa\u73b0\u5149\u4fe1\u53f7\u7684\u5dee\u5f02\u3002\u901a\u8fc7\u6fc0\u53d1\u5149\u7684\u5dee\u5f02\uff0c\u6765\u5206\u6790\u6bcf\u4e2a\u5b54\u7684\u6837\u54c1\u7684\u4ea7\u7269\u7684\u91cf\u7684\u5dee\u5f02\u3002 \u4ee3\u8868\u67d3\u6599\uff1aTakara RR820A/B \u8bf4\u660e\u4e66\u4e0b\u8f7d\u5730\u5740 \u5bc6\u7801\uff1ahdum 2.\u63a2\u9488\u6cd5\uff1a \u4ee3\u8868\u67d3\u6599\uff1a\u767e\u6cf0\u514b\u7684\u67d3\u6599 \u6211\u4eec\u4e00\u822c\u4f7f\u7528\u7684\u662fTakara\u7684\u67d3\u6599\u300210ul\u4f53\u7cfb\u3002 \u6bcf\u5b54\u4f53\u7cfb\u5982\u4e0b\uff1a \u5f15\u7269F 0.3ul \u5f15\u7269R 0.3ul 2 TBGreenBuffer II 5ul \u7a00\u91ca10x\u540e\u7684cdna 2ul RNase ddH2O 2.4ul \u5efa\u8bae\u662f\u914d\u6210\u5927\u4f53\u7cfb\u540e\uff0c\u6bcf\u5b5410ul.\u603b\u4f53\u7cfb\uff0c\u6bcf10\u4e2a\u5b54\u591a\u914d\u4e00\u4e2a\u5b54\u3002\u5426\u5219\u6700\u540e\u4f53\u7cfb\u4f1a\u4e0d\u591f\u7528\u3002 \u7ecf\u9a8c\uff1a\u5f15\u7269\u7684\u7528\u91cf\u53ef\u4ee5\u51cf\u5c11\u52300.2ul \u4e2a\u4eba\u7ecf\u9a8c\uff1a\u914d\u7f6e\u597d\u6837\u54c1\u540e\uff0c\u57284\u5ea6\u51b0\u7bb1\u653e\u7f6e0.5-2h\uff0c\u4e4b\u540e\u7684\u5cf0\u56fe\u4f1a\u66f4\u52a0\u7a33\u5b9a\u53ef\u91cd\u590d\u6027\u4f1a\u66f4\u597d\u3002 * \u5b9a\u91cfpcr\u4eea\u662f\uff1a\u4f2f\u4e50\u7684CFX96 \u5b9a\u91cf\u8f6f\u4ef6\uff1aBio-rad CFX manager 3.1 \u6807\u51c6\u7684CQ\u503c\u8303\u56f4\uff1a18-28\u4e4b\u95f4 CQ\u503c\u4ee3\u8868\u7684\u662f\u5faa\u73af\u6570\uff0cCQ\u503c\u8d8a\u5927\uff0c\u8868\u8fbe\u91cf\u8d8a\u4f4e\u3002 \u6392\u677f\u7684\u65b9\u6cd5\uff1a 1.\u6a2a\u5411\u57fa\u56e0\u7eb5\u5411\u6837\u672c sample1_repeat1|sample1_repeat2|sample1_repeat3|\u5185\u53c2\u91cd\u590d1|\u5185\u53c2\u91cd\u590d2|\u5185\u53c2\u91cd\u590d3| -|-|-|-|-|-| \u6837\u672c1|\u6837\u672c1|\u6837\u672c1|\u6837\u672c1|\u6837\u672c1|\u6837\u672c1| \u6837\u672c2|\u6837\u672c2|\u6837\u672c2|\u6837\u672c2|\u6837\u672c2|\u6837\u672c2| \u6837\u672c3|\u6837\u672c3|\u6837\u672c3|\u6837\u672c3|\u6837\u672c3|\u6837\u672c3| \u6837\u672c4|\u6837\u672c4|\u6837\u672c4|\u6837\u672c4|\u6837\u672c4|\u6837\u672c4| \u6837\u672c5|\u6837\u672c5|\u6837\u672c5|\u6837\u672c5|\u6837\u672c5|\u6837\u672c5| \u6837\u672c6|\u6837\u672c6|\u6837\u672c6|\u6837\u672c6|\u6837\u672c6|\u6837\u672c6| \u6837\u672c7|\u6837\u672c7|\u6837\u672c7|\u6837\u672c7|\u6837\u672c7|\u6837\u672c7| \u6837\u672c8|\u6837\u672c8|\u6837\u672c8|\u6837\u672c8|\u6837\u672c8|\u6837\u672c8| \u6a2a\u5411\u6837\u672c\u7eb5\u5411\u57fa\u56e0 \u4e0a\u8868\u683c\u5f0f\u8f6c\u7f6e\u3002 pcr\u7a0b\u5e8f\u4e00\u822c\u91c7\u7528\u4e24\u6b65\u6cd5\uff1a \u5b9a\u91cf\u8f6f\u4ef6Bio-Rad CFX Manager3.1\u7684\u4f7f\u7528 1.\u5b89\u88c5\u8be5\u8f6f\u4ef6 \u4e0b\u8f7d\u5730\u5740 \u63d0\u53d6\u7801: ppa2 2. \u8fd0\u884c\u684c\u9762\u5feb\u6377\u65b9\u5f0f \u7136\u540e\u70b9\u51fb\u5f00\u76d6\uff0c\u81ea\u52a8\u6253\u5f00pcr\u4eea\u76d6\u5b50\uff0c\u653e\u516596\u5b54\u677f\uff0c\u70b9\u51fb\u5173\u76d6\u3002\u70b9\u51fbprotocol\u3002 \u4fee\u6539pcr\u53cd\u5e94\u65f6\u95f4\uff0c\u53cd\u5e94\u4f53\u7cfb\u4f53\u79ef10ul \u7136\u540e\u5c31\u662fnext-next-run \u70b9\u51fbrun,\u4e4b\u540e\u4f1a\u5f39\u51fa\u754c\u9762\u4fdd\u5b58\u8fd0\u884c\u6587\u4ef6\u7684\u4f4d\u7f6e\uff0c\u9009\u62e9\u4e00\u4e2a\u4f4d\u7f6e\uff0c\u547d\u540d\u597d\u5bf9\u5e94\u7684\u6837\u672c\u57fa\u56e0\u7f16\u53f7\u5c31\u53ef\u4ee5\u8fd0\u884c\u4e86\u3002 3. \u8fd0\u884c\u7ed3\u679c\u5bfc\u51fa \u7a0b\u5e8f\u8fd0\u884c\u5b8c\u6210\u540e\uff0c\u4f1a\u51fa\u73b0\u5982\u4e0b\u754c\u9762\uff1a \u70b9\u51fbExport->Export All data->Excel 2007 \u4f1a\u5f39\u51fa\u4fdd\u5b58\u5230\u6587\u4ef6\u5939\u5730\u5740\u7684\u6846 \u9009\u62e9\u4e4b\u524d\u9009\u62e9\u7684\u521b\u5efa\u6587\u4ef6\u65f6\u7684\u6587\u4ef6\u5939\u4fdd\u5b58\u3002\u4e4b\u540e\u4f1a\u5728\u8be5\u6587\u4ef6\u5939\u751f\u4ea7\u4e00\u7cfb\u5217\u6587\u4ef6\u3002 \u5176\u4e2dadmin_2019-03-12 09-56-20_\u7b2c\u4e09\u6279\u7b2c2\u677f - Quantification Cq Results.xlsx\u662f\u6211\u4eec\u8981\u7684\u5b9a\u91cf\u7684\u7ed3\u679c\u3002 \u8be5\u6587\u4ef6\u7684\u5185\u5bb9\u683c\u5f0f\u5982\u4e0b\uff1a Cq\u503c\u8fd9\u4e00\u5217\u662f\u6211\u4eec\u8981\u7684\u4e0b\u673a\u6570\u636e\u3002 \u5b9a\u91cf\u7ed3\u679c\u5206\u6790\uff1a \u4e00\u822c\u4f7f\u75282^(-\u306e\u306et)\u6cd5\uff1a Excel\u6a21\u677f\u7b97\u6cd5\u6a21\u677f \u5bc6\u7801\uff1ah068 R\u8bed\u8a00\u7b97\u6cd5 \u8bf4\u660e\uff1a\uff08\u4e8c\u9009\u4e00\u5373\u53ef\uff09 excel\u7b97\u6cd5\u662f\u81ea\u5df1\u6574\u7406\u6570\u636e\u5957\u6a21\u677f\u3002 R\u8bed\u8a00\u7b97\u6cd5\u662fR\u8ba1\u7b97\u7684\uff0c\u9700\u8981\u81ea\u5df1\u4fee\u6539\u90e8\u5206\u53c2\u6570\u3002 \u5efa\u8bae\u662f\u4f7f\u7528\u4e13\u4e1a\u5de5\u5177TBtools\uff0c\u8ba1\u7b97RT-PCR\u7684\u7ed3\u679c\u3002 TBtools\u53c2\u8003\u5730\u5740 TBtools\u4e0b\u8f7d\u5730\u5740","title":"RT PCR \u5b9e\u9a8c\u65b9\u6cd5\u6280\u5de7"},{"location":"bio-experience/RT-PCR-%E5%AE%9E%E9%AA%8C%E6%96%B9%E6%B3%95%E6%8A%80%E5%B7%A7/#bio-rad-cfx-manager31","text":"1.\u5b89\u88c5\u8be5\u8f6f\u4ef6 \u4e0b\u8f7d\u5730\u5740 \u63d0\u53d6\u7801: ppa2 2. \u8fd0\u884c\u684c\u9762\u5feb\u6377\u65b9\u5f0f \u7136\u540e\u70b9\u51fb\u5f00\u76d6\uff0c\u81ea\u52a8\u6253\u5f00pcr\u4eea\u76d6\u5b50\uff0c\u653e\u516596\u5b54\u677f\uff0c\u70b9\u51fb\u5173\u76d6\u3002\u70b9\u51fbprotocol\u3002 \u4fee\u6539pcr\u53cd\u5e94\u65f6\u95f4\uff0c\u53cd\u5e94\u4f53\u7cfb\u4f53\u79ef10ul \u7136\u540e\u5c31\u662fnext-next-run \u70b9\u51fbrun,\u4e4b\u540e\u4f1a\u5f39\u51fa\u754c\u9762\u4fdd\u5b58\u8fd0\u884c\u6587\u4ef6\u7684\u4f4d\u7f6e\uff0c\u9009\u62e9\u4e00\u4e2a\u4f4d\u7f6e\uff0c\u547d\u540d\u597d\u5bf9\u5e94\u7684\u6837\u672c\u57fa\u56e0\u7f16\u53f7\u5c31\u53ef\u4ee5\u8fd0\u884c\u4e86\u3002 3. \u8fd0\u884c\u7ed3\u679c\u5bfc\u51fa \u7a0b\u5e8f\u8fd0\u884c\u5b8c\u6210\u540e\uff0c\u4f1a\u51fa\u73b0\u5982\u4e0b\u754c\u9762\uff1a \u70b9\u51fbExport->Export All data->Excel 2007 \u4f1a\u5f39\u51fa\u4fdd\u5b58\u5230\u6587\u4ef6\u5939\u5730\u5740\u7684\u6846 \u9009\u62e9\u4e4b\u524d\u9009\u62e9\u7684\u521b\u5efa\u6587\u4ef6\u65f6\u7684\u6587\u4ef6\u5939\u4fdd\u5b58\u3002\u4e4b\u540e\u4f1a\u5728\u8be5\u6587\u4ef6\u5939\u751f\u4ea7\u4e00\u7cfb\u5217\u6587\u4ef6\u3002 \u5176\u4e2dadmin_2019-03-12 09-56-20_\u7b2c\u4e09\u6279\u7b2c2\u677f - Quantification Cq Results.xlsx\u662f\u6211\u4eec\u8981\u7684\u5b9a\u91cf\u7684\u7ed3\u679c\u3002 \u8be5\u6587\u4ef6\u7684\u5185\u5bb9\u683c\u5f0f\u5982\u4e0b\uff1a Cq\u503c\u8fd9\u4e00\u5217\u662f\u6211\u4eec\u8981\u7684\u4e0b\u673a\u6570\u636e\u3002","title":"\u5b9a\u91cf\u8f6f\u4ef6Bio-Rad CFX Manager3.1\u7684\u4f7f\u7528"},{"location":"bio-experience/RT-PCR-%E5%AE%9E%E9%AA%8C%E6%96%B9%E6%B3%95%E6%8A%80%E5%B7%A7/#_1","text":"\u4e00\u822c\u4f7f\u75282^(-\u306e\u306et)\u6cd5\uff1a Excel\u6a21\u677f\u7b97\u6cd5\u6a21\u677f \u5bc6\u7801\uff1ah068 R\u8bed\u8a00\u7b97\u6cd5","title":"\u5b9a\u91cf\u7ed3\u679c\u5206\u6790\uff1a"},{"location":"bio-experience/RT-PCR-%E5%AE%9E%E9%AA%8C%E6%96%B9%E6%B3%95%E6%8A%80%E5%B7%A7/#_2","text":"excel\u7b97\u6cd5\u662f\u81ea\u5df1\u6574\u7406\u6570\u636e\u5957\u6a21\u677f\u3002 R\u8bed\u8a00\u7b97\u6cd5\u662fR\u8ba1\u7b97\u7684\uff0c\u9700\u8981\u81ea\u5df1\u4fee\u6539\u90e8\u5206\u53c2\u6570\u3002","title":"\u8bf4\u660e\uff1a\uff08\u4e8c\u9009\u4e00\u5373\u53ef\uff09"},{"location":"bio-experience/RT-PCR-%E5%AE%9E%E9%AA%8C%E6%96%B9%E6%B3%95%E6%8A%80%E5%B7%A7/#tbtoolsrt-pcr","text":"TBtools\u53c2\u8003\u5730\u5740 TBtools\u4e0b\u8f7d\u5730\u5740","title":"\u5efa\u8bae\u662f\u4f7f\u7528\u4e13\u4e1a\u5de5\u5177TBtools\uff0c\u8ba1\u7b97RT-PCR\u7684\u7ed3\u679c\u3002"},{"location":"bio-experience/RT-qPCR%E7%BB%93%E6%9E%9C%E7%9A%84%E8%AE%A1%E7%AE%97/","text":"\u5e38\u7528\u7684\u65b9\u6cd5\u662f2^-\u25b3\u25b3Ct\u65b9\u6cd5\u8ba1\u7b97\u3002Cq=Ct,\u4e24\u8005\u662f\u4e00\u4e2a \u610f\u601d\u3002 \u672c\u6587\u4e3b\u8981\u8bb2\u8ff0\u5185\u5bb9\uff1a 1. 2^-\u25b3\u25b3Ct\u7684\u8ba1\u7b97\u65b9\u6cd5 \u53c2\u8003\u8d44\u6599: 1 \u6587\u732e 2^-\u25b3\u25b3Ct=2^-[(\u5904\u7406\u7ec4Cq-\u5185\u53c2cq)-(\u5bf9\u7167\u7ec4Cq-\u5185\u53c2Cq)] \u8be6\u7ec6\u516c\u5f0f\u539f\u7406\uff0c\u53ef\u4ee5\u770b\u53c2\u8003\u94fe\u63a5\u548c\u53c2\u8003\u6587\u732e\u3002 \u5f53\u5177\u6709\u591a\u4e2a\u751f\u7269\u5b66\u548c\u6280\u672f\u91cd\u590d\u65f6\uff0c\u5148\u5355\u72ec\u6c42\uff0c\u4e4b\u540e\u6c42\u5e73\u5747\u503c\u3002 2. 2^-\u25b3\u25b3Ct\u548cFoldChange\u3001Log2FoldChange\u7684\u5173\u7cfb FoldChange=2^-\u25b3\u25b3Ct Log2FoldChange=Log(FoldChange,2)","title":"RT qPCR\u7ed3\u679c\u7684\u8ba1\u7b97"},{"location":"bio-experience/SCI%E5%8F%91%E6%96%87%E5%89%8D%E5%BF%85%E9%A1%BB%E4%BA%86%E8%A7%A3%E7%9A%84%E6%95%B0%E6%8D%AE%E5%BA%93/","text":"NCBI \u7684 SRA\u6570\u636e\u5e93 : Bioproject ID \u4e00\u822c\u4e0a\u4f20\u91cd\u6d4b\u5e8f\uff0c\u8f6c\u5f55\u7ec4\uff0cHiC\u7684\u539f\u59cb\u6570\u636efastq\u6216\u8005bam\u6587\u4ef6\u548c\u57fa\u56e0\u7ec4\u6587\u4ef6\u3002 DDBJ\u6570\u636e\u5e93 \uff1a\u65b0\u7ec4\u88c5\u7684\u57fa\u56e0\u7ec4\u5e8f\u5217\uff0c\u57fa\u56e0\u7ec4\u6ce8\u91ca\uff0c\u86cb\u767d\u5e8f\u5217\uff0c\u8f6c\u5f55\u672c\u5e8f\u5217\u7b49 datadryad \u6536\u8d39\u7684\u6570\u636e\u4fdd\u5b58\u7f51\u7ad9\uff0c\u8d77\u6b65\u4ef7\uff1a120$. figshare \u63a5\u53d7\u7684\u6bd4\u8f83\u6742\uff0c\u8bba\u6587\uff0c\u9884\u5370\u672c\uff0c\u6587\u4e2d\u7684\u63d2\u56fe\u7684\u9ad8\u6e05\u7248\uff0c\u7ec4\u88c5\u7684\u57fa\u56e0\u7ec4\uff0c\u57fa\u56e0\u7ec4\u6ce8\u91ca\uff0c\u4e2d\u95f4\u6587\u4ef6\uff0c\u8fdb\u5316\u6811\u7684\u6587\u4ef6\uff0cSNP\u7684vcf\u6587\u4ef6\u90fd\u652f\u6301 \u5df2\u7ecf\u548c\u591a\u4e2a\u51fa\u7248\u96c6\u56e2\u5408\u4f5c \u6700\u5927\u514d\u8d39\u7a7a\u95f4\u4e3a20G,\u540e\u7eed\u4f1a\u6536\u8d39\u3002 SRA\u9700\u8981\u4e0b\u8f7d\u5de5\u5177\uff0c\u547d\u4ee4\u884c\u63d0\u4ea4\u4e0a\u4f20\u901f\u5ea6\u8f7b\u677e\u8fbe\u523050M/S,\u4e00\u822c\u8bbe\u7f6e\u4e3a100M\u5373\u53ef\uff0c\u5982\u679c\u4f60\u7684\u5e26\u5bbd\u8db3\u591f\u5bbd\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u4e3a300M,\u5982\u679c\u5e26\u5bbd\u4e0d\u591f\uff0c\u800c\u8bbe\u7f6e\u7684\u503c\u6bd4\u8f83\u5927\uff0c\u5219\u4f1a\u51fa\u73b0\u7ecf\u5e38\u6389\u7ebf\u7684\u95ee\u9898\u3002\u4e0d\u8fc7\u652f\u6301\u65ad\u70b9\u7eed\u4f20\uff0c\u4f1a\u81ea\u52a8\u68c0\u6d4b\u6587\u4ef6\u5939\u91cc\u7684\u6587\u4ef6\u7684\u4e0a\u4f20\u72b6\u6001\u3002 DDBJ\u9700\u8981\u4e0b\u8f7d\u6570\u636e\u68c0\u6d4b\u5de5\u5177 DDBJ\u63d0\u4ea4\u524d\uff0c\u5148\u586b\u5199\u6ce8\u518c\u8868\u4fe1\u606fhttps://www.ddbj.nig.ac.jp/ddbj/mss-form-e.html \u5927\u7684\u6570\u636e\u4f7f\u7528MSS \u6279\u91cf\u63d0\u4ea4\u5de5\u5177\u63d0\u4ea4 NCBI SRA\u6570\u636e\u5e93\u4e0a\u4f20\u7684\u65f6\u5019\uff0c\u4e00\u5b9a\u8981\u6ce8\u610f\u4e0a\u4f20\u7684\u65f6\u5019\u4f7f\u7528\u6587\u4ef6\u5939\uff0c\u800c\u4e14\u5728aspera\u7684ascp\u547d\u4ee4\u7684\u6700\u540e\u52a0\u4e0a\u4e00\u4e2a\u65b0\u7684\u6587\u4ef6\u540d\uff0c ascp -i /share/home/aspera.openssh -QT -l100m -k1 -d /share/home/upload_to_NCBI subasp@upload.ncbi.nlm.nih.gov:uploads/wangjing_gmail.com_XXXXX9/Pacbio \u4e0a\u9762\u7684\u793a\u4f8b\u4e2d\uff1a upload_to_NCBI \u6587\u4ef6\u5939\u91cc\u5e94\u8be5\u662f\u6240\u6709\u8981\u4e0a\u4f20\u7684\u6587\u4ef6 \u6700\u540e\u9762\u8ddf\u4e86 /Pacbio \u662f\u4e0a\u4f20\u5230\u8fd9\u4e2a\u76ee\u5f55\uff0c\u5982\u679c\u4e0d\u52a0\u6587\u4ef6\u5939\u540d\uff0c\u4e0a\u4f20\u540e\u662f\u627e\u4e0d\u5230\u6570\u636e\u7684\u3002 NCBI\u6570\u636e\u4e0a\u4f20\u9519\u8bef\u7684\u5904\u7406 \u6781\u5c11\u7684\u60c5\u51b5\u4f1a\u9047\u5230\u4f60\u4e0a\u4f20\u4e86\u6240\u6709\u7684\u6587\u4ef6\uff0c\u5230NCBI\u5ba1\u6838\u7684\u65f6\u5019\uff0c\u6570\u636e\u4e0d\u5b8c\u6574\u3002\u6240\u6709\u4e0a\u4f20\u5230NCBI\u7684\u6570\u636e\u90fd\u4e0d\u4f1a\u88ab\u5220\u9664\uff0c\u6240\u4ee5\u8981\u614e\u91cd\u4e0a\u4f20\u3002\u6211\u5c31\u9047\u5230\u4e86\u4e0a\u4f20\u4e0a\u53bb\u7684\u6587\u4ef6\u548c\u6211\u672c\u5730\u7684\u6587\u4ef6\u4e0d\u4e00\u81f4\u7684\u95ee\u9898\uff08MD5\u503c\u4e0d\u4e00\u6837\uff09\u3002\u6709\u95ee\u9898\u5c31\u53d1\u90ae\u4ef6\u7ed9 sra@ncbi.nlm.nih.gov \u5bfb\u6c42\u5e2e\u52a9\uff0c\u4ed6\u4eec\u56de\u90ae\u4ef6\u7684\u901f\u5ea6\u6bd4\u8f83\u5feb\uff082\u5929\u4e4b\u5185\u7ed9\u7b54\u590d\uff0c\u56e0\u4e3a\u6709\u65f6\u5dee\uff0c\u5317\u4eac\u65f6\u95f4\u6bd4NCBI\u65e98h\uff09\u3002\u6211\u5f97\u5230\u56de\u590d\u662f\uff0c\u8ba9\u4f7f\u7528ftp\u4e0a\u4f20\u5230 ftp-private.ncbi.nlm.nih.gov ,\u7ed9\u4e86\u8d26\u6237\u548c\u5bc6\u7801\uff0c\u4e0a\u4f20\u5b8c\u6210\u540e\uff0c\u53d1\u90ae\u4ef6\u56de\u590d\u7ed9NCBI\u90a3\u8fb9\u3002","title":"SCI\u53d1\u6587\u524d\u5fc5\u987b\u4e86\u89e3\u7684\u6570\u636e\u5e93"},{"location":"bio-experience/SCI%E5%8F%91%E6%96%87%E5%89%8D%E5%BF%85%E9%A1%BB%E4%BA%86%E8%A7%A3%E7%9A%84%E6%95%B0%E6%8D%AE%E5%BA%93/#ncbi","text":"\u6781\u5c11\u7684\u60c5\u51b5\u4f1a\u9047\u5230\u4f60\u4e0a\u4f20\u4e86\u6240\u6709\u7684\u6587\u4ef6\uff0c\u5230NCBI\u5ba1\u6838\u7684\u65f6\u5019\uff0c\u6570\u636e\u4e0d\u5b8c\u6574\u3002\u6240\u6709\u4e0a\u4f20\u5230NCBI\u7684\u6570\u636e\u90fd\u4e0d\u4f1a\u88ab\u5220\u9664\uff0c\u6240\u4ee5\u8981\u614e\u91cd\u4e0a\u4f20\u3002\u6211\u5c31\u9047\u5230\u4e86\u4e0a\u4f20\u4e0a\u53bb\u7684\u6587\u4ef6\u548c\u6211\u672c\u5730\u7684\u6587\u4ef6\u4e0d\u4e00\u81f4\u7684\u95ee\u9898\uff08MD5\u503c\u4e0d\u4e00\u6837\uff09\u3002\u6709\u95ee\u9898\u5c31\u53d1\u90ae\u4ef6\u7ed9 sra@ncbi.nlm.nih.gov \u5bfb\u6c42\u5e2e\u52a9\uff0c\u4ed6\u4eec\u56de\u90ae\u4ef6\u7684\u901f\u5ea6\u6bd4\u8f83\u5feb\uff082\u5929\u4e4b\u5185\u7ed9\u7b54\u590d\uff0c\u56e0\u4e3a\u6709\u65f6\u5dee\uff0c\u5317\u4eac\u65f6\u95f4\u6bd4NCBI\u65e98h\uff09\u3002\u6211\u5f97\u5230\u56de\u590d\u662f\uff0c\u8ba9\u4f7f\u7528ftp\u4e0a\u4f20\u5230 ftp-private.ncbi.nlm.nih.gov ,\u7ed9\u4e86\u8d26\u6237\u548c\u5bc6\u7801\uff0c\u4e0a\u4f20\u5b8c\u6210\u540e\uff0c\u53d1\u90ae\u4ef6\u56de\u590d\u7ed9NCBI\u90a3\u8fb9\u3002","title":"NCBI\u6570\u636e\u4e0a\u4f20\u9519\u8bef\u7684\u5904\u7406"},{"location":"bio-experience/bioman-%E5%9C%A8%E7%BA%BF%E7%94%9F%E7%89%A9%E5%AD%A6%E6%95%99%E5%AD%A6%E6%B8%B8%E6%88%8F%E7%BD%91%E7%AB%99/","text":"bioman \u57fa\u4e8ehtml5\u7684canvas\u7684\u7279\u6027\uff0c\u8bbe\u8ba1\u7684\u5728\u7ebf\u4e92\u52a8\u5f0f\u6559\u5b66\u7684\u751f\u7269\u5b66\u6559\u5b66\u7f51\u7ad9\u3002","title":"Bioman \u5728\u7ebf\u751f\u7269\u5b66\u6559\u5b66\u6e38\u620f\u7f51\u7ad9"},{"location":"bio-experience/%E5%81%9A%E7%94%9F%E7%89%A9%E5%BF%85%E9%A1%BB%E8%A6%81%E6%B3%A8%E6%84%8F%E7%9A%84Excel%E7%9A%84%E5%9D%91/","text":"Excel\u4f1a\u81ea\u52a8\u8bc6\u522b\u7528\u6237\u7684\u6587\u672c\u5185\u5bb9\uff0c\u6765\u5224\u65ad\u6587\u672c\u7684\u6570\u636e\u7c7b\u578b\uff0c\u7136\u540e\u4f1a\u81ea\u52a8\u53d8\u66f4\u4e3a\u5bf9\u5e94\u7684\u6570\u636e\u7c7b\u578b\u3002 \u4f8b\u5982\uff1a |\u8f93\u5165\u7684\u6587\u672c|\u81ea\u52a8\u8f6c\u6362\u540e\u7684\u6587\u672c| |---|--| |9/1|2021/9/1| |9-1|2021/9/1| |-3/-5|0.6| |Aug-5|2021/8/5| \u5728\u8fdb\u884c\u6570\u636e\u5206\u6790\u7684\u65f6\u5019\uff0c\u5bfc\u51fa\u6570\u636e\u683c\u5f0f\u4e00\u822c\u4e3a csv , tsv , xls .\u5982\u679c\u4f7f\u7528\u6587\u672c\u7f16\u8f91\u5668\u6253\u5f00\uff0c\u6570\u636e\u4e0d\u4f1a\u53d1\u751f\u4efb\u4f55\u53d8\u5316\uff0c\u4f46\u662f\u5982\u679c\u76f4\u63a5\u7528excel\u6253\u5f00\uff0c\u7136\u540e\u6570\u636e\u5c31\u4f1a\u81ea\u52a8\u53d1\u751f\u4e0a\u9762\u7684\u8f6c\u6362\uff0c\u57fa\u56e0\u540d\u79f0\u6216\u8868\u8fbe\u91cf\u53ef\u80fd\u5c31\u4f1a\u88ab\u81ea\u52a8\u6539\u7684\u9762\u76ee\u5168\u975e\u3002\u5982\u679c\u6570\u636e\u76f4\u63a5\u662f\u5728excel\u91cc\u8f93\u5165\u7684\uff0c\u53ef\u4ee5\u5148\u8bbe\u7f6e\u6240\u6709\u5355\u5143\u683c\u683c\u5f0f\u4e3a\u6587\u672c\uff0c\u6765\u907f\u514d\u8fd9\u79cd\u9519\u8bef\u53d1\u751f\u3002\u4f46\u662f\u5982\u679c\u662fR\u6216python\u8f93\u51fa\u7684\u8868\u683c\uff0c\u7528excel\u6253\u5f00\u8981\u6ce8\u610f\u54ea\u4e9b\u53d1\u751f\u53d8\u5316\u4e86\u3002","title":"\u505a\u751f\u7269\u5fc5\u987b\u8981\u6ce8\u610f\u7684Excel\u7684\u5751"},{"location":"bio-experience/%E5%88%98%E8%80%80%E5%85%89%E5%9B%A2%E9%98%9F%E6%96%B0%E6%96%B9%E6%B3%95%EF%BC%9A%E6%89%A9%E5%A2%9E%E6%9C%AA%E7%9F%A5%E4%BE%A7%E7%BF%BC%E5%BA%8F%E5%88%97%E6%96%B0%E6%96%B9%E6%B3%95/","text":"\u539f\u6587\u94fe\u63a5 \u53c2\u8003\u94fe\u63a5 \u6838\u5fc3\u601d\u8def\u5206\u6790\uff1a \u70ed\u4e0d\u5bf9\u79f0PCR","title":"\u5218\u8000\u5149\u56e2\u961f\u65b0\u65b9\u6cd5\uff1a\u6269\u589e\u672a\u77e5\u4fa7\u7ffc\u5e8f\u5217\u65b0\u65b9\u6cd5"},{"location":"bio-experience/%E5%8F%B6%E7%BB%BF%E7%B4%A0%E5%90%AB%E9%87%8F%E6%B5%8B%E5%AE%9A/","text":"\u5e38\u7528\u53f6\u7eff\u7d20\u63d0\u53d6\u8bd5\u5242\uff1a \u4e19\u916e \u3001\u4e59\u9187\u3001 N\uff0cN-\u4e8c\u7532\u57fa\u7532\u9170\u80fa(DMF) \u63d0\u53d6\u65b9\u6cd5\uff1a\u7814\u78e8\u3001\u6d78\u6ce1 \u4e19\u916e\u6cd5\u6d4b\u5b9a\u53f6\u7eff\u7d20\u542b\u91cf \u4e59\u9187:\u4e19\u916e:H2O = 4.5:4.5:1 (\u4f53\u79ef\u6bd4) \u63d0\u53d6\u65b9\u6cd5\u5bf9\u6bd4\uff1a \u5e38\u89c4\u65b9\u6cd5\u662f\u7814\u78e8\u63d0\u53d6 \u6539\u8fdb\u65b9\u6cd5\u662f\u6d78\u6ce1\u63d0\u53d6 \u63d0\u53d6\u6ce8\u610f\u4e8b\u9879\uff1a 1. \u6574\u4e2a\u8fc7\u7a0b\u5c3d\u91cf\u907f\u5149\u64cd\u4f5c 2. \u79f0\u91cf\u6837\u54c1\u8981\u5feb\u901f\u51c6\u786e0.1g 3. \u6bcf\u4e2a\u6837\u54c1\u4e09\u4e2a\u6280\u672f\u91cd\u590d\uff0c\u6bcf\u4e2a\u5b9e\u9a8c\u4e09\u4e2a\u751f\u7269\u5b66\u91cd\u590d\u3002 \u5b9e\u9a8c\u6b65\u9aa4\uff1a 1.\u914d\u7f6ebuffer\u63d0\u53d6\u6db2\uff0c\u4e59\u9187\uff1a\u4e19\u916e\uff1a\u6c34=4.5:4.5:1\u621680%\u4e19\u916e 2.\u53d62.0ml\u7684\u79bb\u5fc3\u7ba1\uff0c\u52a0\u5165\u51c6\u786e\u79f0\u91cf\u540e\u526a\u788e\u7684\u6837\u54c1\uff0c\u52a0\u51652.0mlbuffer. 3. \u5c01\u53e3\u819c\u5c01\u53e3\uff0c4\u2103\u8fc7\u591c\uff0812h\uff09 \u907f\u5149\u4fdd\u5b58\u3002\u5f85\u53f6\u7247\u53d8\u767d\u8272\u540e\u3002\u5373\u5b8c\u6210\u62bd\u63d0\u3002\u82e5\u63d0\u53d6\u6db2\u4f53\u6d51\u6d4a\uff0c\u53ef\u77ed\u6682\u79bb\u5fc3\u540e\uff0c\u518d\u6d4b\u5438\u5149\u5ea6\u3002 4. \u4f7f\u7528buffer\u4f5c\u4e3a\u7a7a\u767d\u5bf9\u7167\uff0c\u6d4b\u91cf\u5438\u5149\u5ea6\u3002A663 A645 \u53f6\u7eff\u7d20a = (12.72A663-2.59A645) \u00d7 v/w \u00d7 1,000 \u53f6\u7eff\u7d20b = (22.88A645-4.67A663) \u00d7 v/w \u00d7 1,000 \u53f6\u7eff\u7d20\u603b\u542b\u91cf = (20.29A645+8.05A663) \u00d7 v/w \u00d7 1,000","title":"\u53f6\u7eff\u7d20\u542b\u91cf\u6d4b\u5b9a"},{"location":"bio-experience/%E5%9F%BA%E5%9B%A0%E7%BB%84%E7%BB%84%E8%A3%85%EF%BC%9Acontig%2Cscaffold-%EF%BC%8CChromosome/","text":"\u6700\u8fd1\u5728\u4f7f\u7528\u8001\u7248\u672c\u7684\u57fa\u56e0\u7ec4\u65f6\uff0c\u9700\u8981\u4eceV4\u8f6c\u5230V3,\u4f7f\u7528Picard\u7684Liftover\u51fd\u6570\u4e00\u76f4\u62a5\u9519\uff0c\u7ecf\u67e5\u8be2\u53ef\u80fd\u662f\u57fa\u56e0\u7ec4\u6587\u4ef6\u6709\u95ee\u9898\u3002\u5728\u7ecf\u5386\u591a\u6b21\u63a2\u7d22\uff0c\u53d1\u73b0\u57fa\u56e0\u7ec4\u6587\u4ef6\u4e0d\u6b63\u786e\u3002 \u57fa\u56e0\u7ec4\u6587\u4ef6\u683c\u5f0f\u4e00\u822c\u662f\uff1afasta\u6216\u8005\u662ffa.gz \u5728\u57fa\u56e0\u7ec4\u7ec4\u88c5\u65f6\uff0c\u662f\u4ececontig\u7ec4\u88c5\u6210scaffold\uff0c\u7136\u540e\u5728\u6839\u636e\u56fe\u8c31\uff0c\u7ec4\u88c5\u5230Chromosome\u67d3\u8272\u4f53\u4e0a\u3002 \u6211\u628aScaffold\u5f53\u4f5cChromosome\u683c\u5f0f\u4f7f\u7528\uff0c\u7a0b\u5e8f\u81ea\u7136\u4f1a\u62a5\u9519\u3002 \u76ee\u524d\u53ef\u4ee5\u4f7f\u7528\u4e09\u4ee3\u6d4b\u5e8f\u6570\u636e\u91cd\u65b0\u7ec4\u88c5\u57fa\u56e0\u7ec4\uff0c\u4ecescaffold\u5230chromosome\u6c34\u5e73\u3002 \u6700\u65b0\u7684\u5de5\u5177\uff1aRaGOO(\u57fa\u4e8eminimap2). github \u8bba\u6587 contig/scaffold \u548c N50/N90 \u628a\u6d4b\u5e8f\u7684reads\u62fc\u63a5\uff0c\u5982\u679c\u53ef\u4ee5\u5b8c\u5168\u62fc\u63a5\u8d77\u6765\uff0c\u4e2d\u95f4\u6ca1\u6709gap,\u5219\u662fcontig.\u5982\u679c\u4e2d\u95f4\u6709gap\uff0c\u4f46\u662f\u77e5\u9053gap\u7684\u957f\u5ea6\uff0c\u8fd9\u6837\u7684\u5e8f\u5217\u79f0\u4e3ascaffold. contig N50 \u548cscaffold N50 \u628acontig\u6216scaffold\u6309\u7167\u4ece\u5927\u5230\u5c0f\u7684\u987a\u5e8f\u6392\u5217\uff0c\u957f\u5ea6\u8fbe\u5230\u57fa\u56e0\u7ec4\u5927\u5c0f\uff08\u6240\u6709contig\u6216scaffold\u7684\u957f\u5ea6\uff09\u768450%\u65f6\uff0c\u90a3\u6761contig/scaffold\u7684\u957f\u5ea6\uff0c\u5373\u4e3acontig/scaffold N50. N50\u8d8a\u5927\uff0c\u8bf4\u660e\u57fa\u56e0\u7ec4\u7ec4\u88c5\u7684\u8d28\u91cf\u8d8a\u9ad8\u3002\u540c\u7406\u8fd8\u6709N90,\u5373\u8fbe\u5230\u57fa\u56e0\u7ec4\u5927\u5c0f90%\u65f6\u7684contig/scaffold\u7684\u957f\u5ea6\u3002","title":"\u57fa\u56e0\u7ec4\u7ec4\u88c5\uff1acontig,scaffold \uff0cChromosome"},{"location":"bio-experience/%E5%9F%BA%E5%9B%A0%E7%BB%84%E7%BB%84%E8%A3%85%EF%BC%9Acontig%2Cscaffold-%EF%BC%8CChromosome/#contigscaffold-n50n90","text":"\u628a\u6d4b\u5e8f\u7684reads\u62fc\u63a5\uff0c\u5982\u679c\u53ef\u4ee5\u5b8c\u5168\u62fc\u63a5\u8d77\u6765\uff0c\u4e2d\u95f4\u6ca1\u6709gap,\u5219\u662fcontig.\u5982\u679c\u4e2d\u95f4\u6709gap\uff0c\u4f46\u662f\u77e5\u9053gap\u7684\u957f\u5ea6\uff0c\u8fd9\u6837\u7684\u5e8f\u5217\u79f0\u4e3ascaffold. contig N50 \u548cscaffold N50 \u628acontig\u6216scaffold\u6309\u7167\u4ece\u5927\u5230\u5c0f\u7684\u987a\u5e8f\u6392\u5217\uff0c\u957f\u5ea6\u8fbe\u5230\u57fa\u56e0\u7ec4\u5927\u5c0f\uff08\u6240\u6709contig\u6216scaffold\u7684\u957f\u5ea6\uff09\u768450%\u65f6\uff0c\u90a3\u6761contig/scaffold\u7684\u957f\u5ea6\uff0c\u5373\u4e3acontig/scaffold N50. N50\u8d8a\u5927\uff0c\u8bf4\u660e\u57fa\u56e0\u7ec4\u7ec4\u88c5\u7684\u8d28\u91cf\u8d8a\u9ad8\u3002\u540c\u7406\u8fd8\u6709N90,\u5373\u8fbe\u5230\u57fa\u56e0\u7ec4\u5927\u5c0f90%\u65f6\u7684contig/scaffold\u7684\u957f\u5ea6\u3002","title":"contig/scaffold \u548c N50/N90"},{"location":"bio-experience/%E6%A0%B8%E9%85%B8%E6%B5%93%E5%BA%A6%E6%B5%8B%E5%AE%9A%EF%BC%9Ananodrop%E5%92%8CQubit/","text":"\u6838\u9178\u6d4b\u5b9a\u662f\u5bb6\u5e38\u4fbf\u996d\uff0c\u4f46\u662f\u6d4b\u5b9a\u7684\u4eea\u5668\u4e0d\u540c\uff0c\u6d53\u5ea6\u5dee\u522b\u5f88\u5927\u3002\u6700\u8fd1\u9001\u6837\u6d4b\u5e8f\uff0c\u81ea\u5df1\u7684nanodrop\u6d4b\u6d53\u5ea6\u975e\u5e38\u9ad8\u3002\u4f46\u662fQubit\u6d4b\u5b9a\u540e\u6d53\u5ea6\u7279\u522b\u4f4e\u3002 \u4ece\u539f\u7406\u5206\u6790\u4e24\u8005\uff1a nanodrop\u662f\u57fa\u4e8e\u5438\u5149\u503c\u6765\u8ba1\u7b97\u6838\u9178\u6d53\u5ea6\uff0c\u5f53\u6838\u9178\u91cc\u9762\u6709\u6c61\u67d3\u65f6\uff0c\u6d53\u5ea6\u5c31\u4f1a\u76f8\u5dee\u5f88\u5927\u3002 \u6bd4\u5982\uff1a\u6211\u9001\u7684DNA\u91cc\u9762\u6709RNA\u6c61\u67d3\uff0c\u7528nanodrop\u6d4b\u5e8f\u6d53\u5ea6\u662f\u90fd\u662f500ng/ul\u4ee5\u4e0a\uff0c\u4f46\u662f\u4f7f\u7528 Qubit\u6d4b\u5b9a\u540e\uff0c\u6d53\u5ea6\u4f4e\u523010\u4ee5\u4e0b\u3002 nanodrop\u5bf9\u4e8e\u4f4e\u4e8e20ng/ul\u7684\u6837\u54c1\u6d53\u5ea6\u6d4b\u5b9a\u975e\u5e38\u4e0d\u51c6\u786e\u3002 \u5e38\u89c1\u7684\u5207\u80f6\u56de\u6536\u7684\u6d53\u5ea6\u975e\u5e38\u4f4e\uff0cnanodrop\u6d4b\u5b9a\u7684\u4e00\u822c\u4e0d\u53ef\u9760\u3002 \u5728\u6837\u54c1\u91cc\u9762\u6838\u9178\u7eaf\u5ea6\u6bd4\u8f83\u9ad8\uff0c\u4e14\u6d53\u5ea6\u76f8\u5bf9\u8f83\u9ad8\u65f6\uff0cnanodrop\u548cQubit\u7684\u6d53\u5ea6\u5dee\u8ddd\u4e0d\u5927\u3002 \u4f7f\u7528\u8bd5\u5242\u76d2\u63d0\u53d6\u7684\u6838\u9178\u4e00\u822c\u7eaf\u5ea6\u8f83\u9ad8\u3002 nanodrop\u6d4b\u5b9a\u6838\u9178\u65f6\uff0c\u6839\u636e\u6eb6\u89e3\u7684\u6db2\u4f53pH\u503c\u4e0d\u540c\uff0cA260/A280\u6709\u6240\u5dee\u5f02 \u3002 \u5f53\u6eb6\u89e3\u5728ddH2O\u4e2d\u65f6\uff0c\u5448\u9178\u6027\uff0cA260/A280\u503c\u53ef\u80fd\u4f1a\u4f4e\u4e8e1.8\uff0c\u57281.5-1.8\uff0c\u8fd9\u4e5f\u662f\u6b63\u5e38\u60c5\u51b5\u3002 \u4f7f\u7528pH=8\u7684TE\u6eb6\u89e3\u65f6\uff0cA260/A280\u503c\u53ef\u80fd\u504f\u5927\u3002 Qubit\u662f\u57fa\u4e8e \u67d3\u6599\u6cd5\uff0c\u7ed3\u5408\u7279\u5f02\u7684\u6838\u9178\uff0c\u53ea\u7ed3\u5408DNA\u6216RNA,\u4f46\u662f\u5bf9\u6e29\u5ea6\u654f\u611f\uff0c\u9700\u8981\u6807\u6db2\u3002","title":"\u6838\u9178\u6d53\u5ea6\u6d4b\u5b9a\uff1ananodrop\u548cQubit"},{"location":"bio-experience/%E6%A4%8D%E7%89%A9%E7%A0%94%E7%A9%B6%E5%B8%B8%E7%94%A8%E7%9A%84%E6%95%B0%E6%8D%AE%E5%BA%93%E6%80%BB%E7%BB%93/","text":"1.\u57fa\u56e0\u7ec4\u7efc\u5408\u7814\u7a76\u6570\u636e\u5e93 \u6570\u636e\u5e93 \u690d\u7269 \u7f51\u5740 TAIR \u62df\u5357\u82a5 http://www.arabidopsis.org/ SIGnAL \u62df\u5357\u82a5 http://signal.salk.edu/ RARGE \u62df\u5357\u82a5 http://rarge.psc.riken.jp/ Rice Genome Annotation Project \u6c34\u7a3b http://rice.plantbiology.msu.edu/ RAP-DB \u6c34\u7a3b http://rapdb.dna.affrc.go.jp/ SOL genomics network \u8304\u79d1 http://solgenomics.net/ Gramene \u79be\u672c\u79d1 http://www.gramene.org/ GrainGenes \u9ea6\u7c7b\u4f5c\u7269 http://wheat.pw.usda.gov/GG2/index.shtml SoyBase \u5927\u8c46 http://www.soybase.org/ MazieGDB \u7389\u7c73 http://www.maizegdb.org/ CyanoBase \u84dd\u7ec6\u83cc http://genome.kazusa.or.jp/cyanobase/ GDR (Genome Database for Rosaceae) \u8537\u8587\u79d1 http://www.bioinfo.wsu.edu/gdr/ Brassica Genome Gateway \u82b8\u82d4 http://brassica.bbsrc.ac.uk/ Cucurbit Genomics Database \u846b\u82a6\u79d1 http://www.icugi.org/ Phytozome \u690d\u7269 (\u5168\u57fa\u56e0\u7ec4\u4fe1\u606f) http://www.phytozome.net/ PlantGDB \u690d\u7269(\u5168\u57fa\u56e0\u7ec4\u6216/\u5927\u89c4\u6a21 EST\u4fe1\u606f) http://www.plantgdb.org/ EnsemblPlants \u690d\u7269(\u5168\u57fa\u56e0\u7ec4\u4fe1\u606f) http://plants.ensembl.org/index.html ChloroplastDB \u690d\u7269(\u53f6\u7eff\u4f53\u57fa\u56e0\u7ec4) http://chloroplast.cbio.psu.edu/ KEGG PLANT \u690d\u7269(\u5168\u57fa\u56e0\u7ec4\u6216/\u5927\u89c4\u6a21 EST\u4fe1\u606f) http://www.genome.jp/kegg/plant/ #2.\u8f6c\u5f55\u56e0\u5b50\u6570\u636e\u5e93 Database URL Species --- --- --- RARTF http://rarge.gsc.riken.jp/rartf/ \u62df\u5357\u82a5 AGRIS, AtTFDB http://arabidopsis.med.ohio-state.edu/AtTFDB/ \u62df\u5357\u82a5 DATF http://datf.cbi.pku.edu.cn/ \u62df\u5357\u82a5 DRTF http://drtf.cbi.pku.edu.cn/ \u6c34\u7a3b DPTF http://dptf.cbi.pku.edu.cn/ \u767d\u6768 TOBFAC http://compsysbio.achs.virginia.edu/tobfac/ \u70df\u8349 SoybeanTFDB http://soybeantfdb.psc.riken.jp/ \u5927\u8c46 PlantTFDB http://planttfdb.cbi.pku.edu.cn/ 22\u79cd\u690d\u7269 PlnTFDB http://plntfdb.bio.uni-potsdam.de/v3.0/ 20\u79cd\u690d\u7269 GRASSIUS, GrassTFDB http://grassius.org/grasstfdb.html \u7389\u7c73\u3001\u6c34\u7a3b\u3001\u9ad8\u7cb1\u3001\u7518\u8517 LegumeTFDB http://legumetfdb.psc.riken.jp/ \u5927\u8c46\u3001\u767e\u8109\u6839\u3001\u84ba\u85dc\u82dc\u84ff DBD http://dbd.mrc-lmb.cam.ac.uk/DBD/index.cgi?Home \u591a\u4e8e700\u7269\u79cd \u8f6c\u8f7d\u81ea https://www.lifeomics.com/?p=24759 \u5728\u7ebf\u505aGO\u3001KEGG\u5bcc\u96c6\u5206\u6790\uff0c\u67e5\u627e\u540c\u6e90\u57fa\u56e0\u5de5\u5177\uff0c\uff08\u652f\u6301ensembl\u4e0a\u7684\u7269\u79cd\uff09","title":"\u690d\u7269\u7814\u7a76\u5e38\u7528\u7684\u6570\u636e\u5e93\u603b\u7ed3"},{"location":"bio-experience/%E6%A4%8D%E7%89%A9%E7%A0%94%E7%A9%B6%E5%B8%B8%E7%94%A8%E7%9A%84%E6%95%B0%E6%8D%AE%E5%BA%93%E6%80%BB%E7%BB%93/#1","text":"\u6570\u636e\u5e93 \u690d\u7269 \u7f51\u5740 TAIR \u62df\u5357\u82a5 http://www.arabidopsis.org/ SIGnAL \u62df\u5357\u82a5 http://signal.salk.edu/ RARGE \u62df\u5357\u82a5 http://rarge.psc.riken.jp/ Rice Genome Annotation Project \u6c34\u7a3b http://rice.plantbiology.msu.edu/ RAP-DB \u6c34\u7a3b http://rapdb.dna.affrc.go.jp/ SOL genomics network \u8304\u79d1 http://solgenomics.net/ Gramene \u79be\u672c\u79d1 http://www.gramene.org/ GrainGenes \u9ea6\u7c7b\u4f5c\u7269 http://wheat.pw.usda.gov/GG2/index.shtml SoyBase \u5927\u8c46 http://www.soybase.org/ MazieGDB \u7389\u7c73 http://www.maizegdb.org/ CyanoBase \u84dd\u7ec6\u83cc http://genome.kazusa.or.jp/cyanobase/ GDR (Genome Database for Rosaceae) \u8537\u8587\u79d1 http://www.bioinfo.wsu.edu/gdr/ Brassica Genome Gateway \u82b8\u82d4 http://brassica.bbsrc.ac.uk/ Cucurbit Genomics Database \u846b\u82a6\u79d1 http://www.icugi.org/ Phytozome \u690d\u7269 (\u5168\u57fa\u56e0\u7ec4\u4fe1\u606f) http://www.phytozome.net/ PlantGDB \u690d\u7269(\u5168\u57fa\u56e0\u7ec4\u6216/\u5927\u89c4\u6a21 EST\u4fe1\u606f) http://www.plantgdb.org/ EnsemblPlants \u690d\u7269(\u5168\u57fa\u56e0\u7ec4\u4fe1\u606f) http://plants.ensembl.org/index.html ChloroplastDB \u690d\u7269(\u53f6\u7eff\u4f53\u57fa\u56e0\u7ec4) http://chloroplast.cbio.psu.edu/ KEGG PLANT \u690d\u7269(\u5168\u57fa\u56e0\u7ec4\u6216/\u5927\u89c4\u6a21 EST\u4fe1\u606f) http://www.genome.jp/kegg/plant/ #2.\u8f6c\u5f55\u56e0\u5b50\u6570\u636e\u5e93 Database URL Species --- --- --- RARTF http://rarge.gsc.riken.jp/rartf/ \u62df\u5357\u82a5 AGRIS, AtTFDB http://arabidopsis.med.ohio-state.edu/AtTFDB/ \u62df\u5357\u82a5 DATF http://datf.cbi.pku.edu.cn/ \u62df\u5357\u82a5 DRTF http://drtf.cbi.pku.edu.cn/ \u6c34\u7a3b DPTF http://dptf.cbi.pku.edu.cn/ \u767d\u6768 TOBFAC http://compsysbio.achs.virginia.edu/tobfac/ \u70df\u8349 SoybeanTFDB http://soybeantfdb.psc.riken.jp/ \u5927\u8c46 PlantTFDB http://planttfdb.cbi.pku.edu.cn/ 22\u79cd\u690d\u7269 PlnTFDB http://plntfdb.bio.uni-potsdam.de/v3.0/ 20\u79cd\u690d\u7269 GRASSIUS, GrassTFDB http://grassius.org/grasstfdb.html \u7389\u7c73\u3001\u6c34\u7a3b\u3001\u9ad8\u7cb1\u3001\u7518\u8517 LegumeTFDB http://legumetfdb.psc.riken.jp/ \u5927\u8c46\u3001\u767e\u8109\u6839\u3001\u84ba\u85dc\u82dc\u84ff DBD http://dbd.mrc-lmb.cam.ac.uk/DBD/index.cgi?Home \u591a\u4e8e700\u7269\u79cd \u8f6c\u8f7d\u81ea https://www.lifeomics.com/?p=24759 \u5728\u7ebf\u505aGO\u3001KEGG\u5bcc\u96c6\u5206\u6790\uff0c\u67e5\u627e\u540c\u6e90\u57fa\u56e0\u5de5\u5177\uff0c\uff08\u652f\u6301ensembl\u4e0a\u7684\u7269\u79cd\uff09","title":"1.\u57fa\u56e0\u7ec4\u7efc\u5408\u7814\u7a76\u6570\u636e\u5e93"},{"location":"bio-experience/%E7%94%9F%E4%BF%A1%E5%88%86%E6%9E%90%EF%BC%9A%E5%B8%B8%E7%94%A8%E6%96%87%E4%BB%B6%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9C%B0%E5%9D%80%EF%BC%88GO%2Cuniref%EF%BC%89/","text":"GO\u6ce8\u91ca\u4e0b\u8f7d\u6570\u636e\u5e93\u6765\u6e90\uff1a 1. GO\u5b98\u7f51 \u683c\u5f0f\u662fGAF. \u53ea\u6709\u51e0\u79cd\u52a8\u7269\u548c\u6a21\u5f0f\u751f\u7269 2. EBI\u7684GOA\u9879\u76ee\u4e0b\u8f7d \u53ea\u6709\u51e0\u79cd\u5e38\u89c1\u52a8\u7269\u548c\u6a21\u5f0f\u751f\u7269 \uff0c\u683c\u5f0f\u662fGAF. 3. NCBI\u7684\u57fa\u56e0ftp\u6570\u636e\u5e93 \u5305\u542bgene2go,gene2ensembl,gene2pubmed\u7b49\uff0c\u6bcf\u5929\u6216\u6bcf\u5468\u66f4\u65b0\uff0c\u5305\u542b\u6240\u6709\u7269\u79cd\u7684\u4fe1\u606f 4. Bioconductor\u7684Annotationhub\u6570\u636e\u5e93 \u76f4\u63a5\u641c\u7d22\u81ea\u5df1\u6240\u7814\u7a76\u7684\u7269\u79cd\u7684\u62c9\u4e01\u5b66\u540d\uff0c\u5373\u53ef\u627e\u5230\u5bf9\u5e94\u7684sqlite\u6587\u4ef6\u3002 \u6b64\u6570\u636e\u5e93\u6765\u6e90\u4e8e3.NCBI\u7684\u57fa\u56e0\u6570\u636e\u5e93\uff0c\u9009\u62e9\u7684\u65f6\u5019\uff0c\u5c3d\u91cf\u4f7f\u7528\u6700\u65b0\u7248\u672c\u7684\u3002\u4e5f\u53ef\u4ee5\u81ea\u5df1\u4ece3.NCBI\u7684\u6570\u636e\u5e93\u4e0b\u8f7d\uff0c\u4e4b\u540e\u672c\u5730\u6784\u5efa\u6700\u65b0\u7248\u672c\u7684sqlite\u6587\u4ef6\u3002 \u4f8b\u5982\uff1a\u7389\u7c73\u662forg.Zea_mays.eg.sqlite sqlite\u6587\u4ef6\u4e3b\u8981\u7528\u4e8eR\u8bed\u8a00\u4e2d\u505a\u5bcc\u96c6\u5206\u6790\u4f7f\u7528\uff0c\u4f8b\u5982\uff1aclusterProfiler\u53ef\u4ee5\u4f7f\u7528\u8fd9\u4e2a\u6570\u636e\u5e93\u3002\u4e0b\u8f7d\u7684\u670d\u52a1\u5668( \u56fd\u5916 )\u662fs3.amazonaws.com\uff0c\u9ed8\u8ba415kb/s,\u9700\u8981\u81ea\u884c\u52a0\u901f\u4e0b\u8f7d\u3002 1\u548c2\u57fa\u672c\u662f\u76f8\u540c\u7684\uff0c3\u548c4\u662f\u76f8\u540c\u7684\u30024\u6765\u6e90\u4e8e3. uniref100,uniref90,uniref50\u662f\u86cb\u767d\u8d28\u6570\u636e\u5e93 uniref100\u662f\u5305\u542b\u6240\u6709\u7684\u5df2\u7ecf\u9a8c\u8bc1\u7684\u86cb\u767d\u8d28\u7684\u5e8f\u5217 UniRef90\u57fa\u4e8eUniRef100\u6784\u5efa\uff0c\u800cUniRef50\u57fa\u4e8eUniRef90\u6784\u5efa. UniRef90\u548cUniRef50\u5206\u522b\u4f7f\u6570\u636e\u5e93\u5927\u5c0f\u51cf\u5c11\u4e86\u7ea658\uff05\u548c79\uff05\uff0c\u4ece\u800c\u663e\u7740\u52a0\u5feb\u4e86\u5e8f\u5217\u76f8\u4f3c\u6027\u641c\u7d22. \u4e0b\u8f7d\u5730\u5740 uniref100 uniref90 uniref50 \u6570\u636e\u4e0b\u8f7d\u5de5\u5177axel \u547d\u4ee4\u884c\u5e38\u7528\u7684wget\u548ccurl\u662f\u5355\u7ebf\u7a0b\u4e0b\u8f7d\uff0c\u901f\u5ea6\u975e\u5e38\u6162\u3002 axel -n 24 ftp://ftp.uniprot.org/pub/databases/uniprot/uniref/uniref90/uniref90.fasta.gz \u4f7f\u752824\u4e2a\u4e0b\u8f7d\u7ebf\u7a0b\uff0c\u4e0b\u8f7d\u901f\u5ea6\u5927\u5927\u63d0\u9ad8\u3002","title":"\u751f\u4fe1\u5206\u6790\uff1a\u5e38\u7528\u6587\u4ef6\u6570\u636e\u5e93\u5730\u5740\uff08GO,uniref\uff09"},{"location":"bio-experience/%E7%94%9F%E4%BF%A1%E5%88%86%E6%9E%90%EF%BC%9A%E5%B8%B8%E7%94%A8%E6%96%87%E4%BB%B6%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9C%B0%E5%9D%80%EF%BC%88GO%2Cuniref%EF%BC%89/#axel","text":"\u547d\u4ee4\u884c\u5e38\u7528\u7684wget\u548ccurl\u662f\u5355\u7ebf\u7a0b\u4e0b\u8f7d\uff0c\u901f\u5ea6\u975e\u5e38\u6162\u3002 axel -n 24 ftp://ftp.uniprot.org/pub/databases/uniprot/uniref/uniref90/uniref90.fasta.gz \u4f7f\u752824\u4e2a\u4e0b\u8f7d\u7ebf\u7a0b\uff0c\u4e0b\u8f7d\u901f\u5ea6\u5927\u5927\u63d0\u9ad8\u3002","title":"\u6570\u636e\u4e0b\u8f7d\u5de5\u5177axel"},{"location":"bio-experience/%E7%BE%A4%E4%BD%93%E9%81%97%E4%BC%A0%E5%88%86%E6%9E%90%E6%96%B9%E6%B3%95%EF%BC%9ALD%2CFST%2CeQTL/","text":"LD(\u8fde\u9501\u4e0d\u5e73\u8861):\u8ba1\u7b97\u4f7f\u7528plink, FST(\u9057\u4f20\u5206\u5316\u6307\u6570):\u8ba1\u7b97\u4f7f\u7528vcftools,\u53ef\u89c6\u5316\u5206\u4e3a\u7bb1\u7ebf\u56fe\u548c\u6563\u70b9\u56fe\uff0c\u5355\u7ec4\u6bd4\u8f83\u4f7f\u7528\u5728\u67d3\u8272\u4f53\u4e0a\u7684\u6563\u70b9\u56fe\uff0c\u591a\u7ec4\u6bd4\u8f83\u4f7f\u7528\u7bb1\u7ebf\u56fe\u3002 FST\u7684\u539f\u7406\uff0c\u8ba1\u7b97\u65b9\u6cd5\uff0c\u53ef\u89c6\u5316\u7684\u65b9\u6cd5 https://www.jianshu.com/p/bb0beec0ed63 haploPS\u548cXP-EHH \u5e73\u5747\u6d4b\u5e8f\u6df1\u5ea6\uff1a \u7b49\u4f4d\u57fa\u56e0\u9891\u7387\uff1a vcftools\u4f7f\u7528\u8bf4\u660e\uff1a1. https://www.dazhuanlan.com/2020/03/04/5e5f850672ddf/ FST\u8ba1\u7b97\u65b9\u6cd5 Fst\u503c\u7684\u53d6\u503c\u8303\u56f4\u662f[0,1]\uff0c\u6700\u5927\u503c\u4e3a1\u8868\u660e\u4e24\u4e2a\u7fa4\u4f53\u5b8c\u5168\u5206\u5316\uff0c\u6700\u5c0f\u503c\u4e3a0\u8868\u660e\u7fa4\u4f53\u95f4\u65e0\u5206\u5316\u3002 \u5b9e\u9645\u4f7f\u7528FST<0--0.05,\u8868\u793a\u7fa4\u4f53\u5206\u5316\u5f88\u5c0f\uff1b0.05--0.15\uff0c\u4e2d\u7b49\u7a0b\u5ea6\u7684\u5206\u5316\uff1b0.15--0.25\uff0c\u8f83\u5927\u7684\u5206\u5316\uff1b0.25\u4ee5\u4e0a\uff0c\u5206\u5316\u5f88\u5927\u3002 \u5176\u5b9eFst\u5206\u6790\u5c31\u662f\u770b\u4e24\u4e2a\u7fa4\u4f53\u4e4b\u95f4\u5206\u5316\u7a0b\u5ea6\u7684\u4e00\u79cd\u65b9\u6cd5\uff0cFst\u503c\u8d8a\u5927\uff08\u8d8a\u63a5\u8fd11\uff09\u8868\u660e\u4e24\u4e2a\u7fa4\u4f53\u95f4\u5206\u5316\u7a0b\u5ea6\u8d8a\u9ad8\uff0c\u4eb2\u7f18\u5173\u7cfb\u8d8a\u8fdc\uff1bFst\u503c\u8d8a\u5c0f\uff08\u8d8a\u63a5\u8fd10\uff09\u8868\u660e\u7fa4\u4f53\u95f4\u5206\u5316\u7a0b\u5ea6\u8d8a\u4f4e\uff0c\u4eb2\u7f18\u5173\u7cfb\u8d8a\u8fd1\u3002 \u5206\u4e3a\u6309\u7167 SNP\u5355\u70b9\u8ba1\u7b97 \u548c \u6ed1\u52a8\u7a97\u53e3\u6a21\u5f0f\u8ba1\u7b97 \uff0c\u4e00\u822c\u4f7f\u7528\u7684\u662f\u6ed1\u52a8\u7a97\u6a21\u5f0f # SNP\u5355\u70b9\u8ba1\u7b97 vcftools --vcf sample.vcf --weir-fst-pop population_1.txt --weir-fst-pop population_2.txt --out sample_1_2 \u6ed1\u52a8\u7a97\u53e3\u6a21\u5f0f\u8ba1\u7b97 vcftools --vcf test.vcf --weir-fst-pop population_1.txt --weir-fst-pop population_2.txt --out P_1_2 --fst-window-size 500000 --fst-window-step 50000 \u53c2\u6570\u8bf4\u660e\uff1a --vcf \u8f93\u5165vcf\u6587\u4ef6 --weir-fst-pop \u8f93\u5165\u7fa4\u4f53\u7684\u7fa4\u4f53ID\u540d\uff0c\u8be5\u6587\u4ef6\u5fc5\u987b\u662ftxt\u683c\u5f0f\uff0c\u6bcf\u4e2aID\u5360\u4e00\u884c\u3002 --fst-window-size 500000 --fst-window-step 50000 \uff0c\u8fd9\u91cc\u7a97\u53e3\u8bbe\u7f6e\u4e3a500kb\uff0c\u6b65\u957f\u8bbe\u7f6e\u4e3a50kb\u3002\u6839\u636e\u60c5\u51b5\u8c03\u6574\u7a97\u53e3\u5927\u5c0f\u3002 \u8ba1\u7b97haploPS\u3001XP-EHH\u3001 Fst\uff0c\u6b63\u5411\u9009\u62e9\u5206\u6790\u65b9\u6cd5\u5bfb\u627e\u6027\u72b6\u76f8\u5173\u7684\u4f4d\u70b9\uff08\u62ff\u51e0\u4e2a\u7fa4\u4f53\u7684\u91cd\u6d4b\u5e8f\u6570\u636e\uff0c\u8f7b\u677e\u53d1\u6838\u5fc3\u4e2d\u6587\u6216\u8005<3\u7684SCIE\uff09 \u03c0\u7684\u8ba1\u7b97 \u03c0\uff0c\u6838\u82f7\u9178\u591a\u6837\u6027\uff0c\u8d8a\u5927\u8bf4\u660e\u6838\u82f7\u9178\u591a\u6837\u6027\u8d8a\u9ad8\uff0c\u8d8a\u4f4e\u8bf4\u660e\u4e24\u4e2a\u5ea7\u4f4dDNA\u5e8f\u5217\u5dee\u5f02\u8d8a\u5c0f\u3002 vcftools LD-blockde \u8ba1\u7b97 \u8ba1\u7b97\u548c\u53ef\u89c6\u5316\uff0c \u53c2\u8003 \u5206\u6790\u65b9\u6cd5 \u53c2\u8003\u6587\u732e\uff1a \u4e2d\u56fd\u519c\u4e1a\u79d1\u5b66 scientific reports \u627e\u5230\u91cd\u6d4b\u5e8f\u7684\u6570\u636e\uff0c\u57fa\u56e0\u5206\u578b\uff0c\u627e\u5230\u5355\u500d\u578b\uff0ccall SNP,\u8fc7\u6ee4\uff0c\u6ce8\u91casnp,\u53ef\u89c6\u5316\uff0c\u5206\u522b\u8ba1\u7b97haploPS,XP-EHH,Fst.\u6c42\u4ea4\u96c6\uff0c\u516c\u5171\u57fa\u56e0\u8fdb\u884c\u6ce8\u91ca\uff0c\u5bcc\u96c6\u5206\u6790\u3002 eQTL (\u8f6c\u5f55\u7ec4+snp)\uff1aMatrix eQTL R\u5305 http://www.bios.unc.edu/research/genomic_software/Matrix_eQTL/runit.html#inst https://www.jianshu.com/p/6e6d54d7483e \u7fa4\u4f53\u7ed3\u6784\u56fe\u5f62\u2014\u2014structure\u5806\u53e0\u56fe https://www.jianshu.com/p/c7a4fb935e42 https://www.genedenovo.com/news/364.html \u7fa4\u4f53\u9057\u4f20\u5b66\u4eb2\u7f18\u5173\u7cfb\u5206\u6790 https://www.jianshu.com/p/2677dc3b1383 \u7fa4\u4f53\u7ed3\u6784PCA https://www.jianshu.com/p/c99de8e5571a \u4eceGWAS\u6458\u8981\u7edf\u8ba1\u4fe1\u606f\u4f30\u7b97\u9057\u4f20\u529b\u548c\u9057\u4f20\u76f8\u5173\u6027 ldsc LDSC github LDSC\u7684\u5b89\u88c5\u4f7f\u7528 vcftools --vcf F2_3.vcf --plink --out F2_3 #\u628avcf\u683c\u5f0f\u8f6c\u4e3aplink\u683c\u5f0f","title":"\u7fa4\u4f53\u9057\u4f20\u5206\u6790\u65b9\u6cd5\uff1aLD,FST,eQTL"},{"location":"bio-experience/%E7%BE%A4%E4%BD%93%E9%81%97%E4%BC%A0%E5%88%86%E6%9E%90%E6%96%B9%E6%B3%95%EF%BC%9ALD%2CFST%2CeQTL/#fst","text":"Fst\u503c\u7684\u53d6\u503c\u8303\u56f4\u662f[0,1]\uff0c\u6700\u5927\u503c\u4e3a1\u8868\u660e\u4e24\u4e2a\u7fa4\u4f53\u5b8c\u5168\u5206\u5316\uff0c\u6700\u5c0f\u503c\u4e3a0\u8868\u660e\u7fa4\u4f53\u95f4\u65e0\u5206\u5316\u3002 \u5b9e\u9645\u4f7f\u7528FST<0--0.05,\u8868\u793a\u7fa4\u4f53\u5206\u5316\u5f88\u5c0f\uff1b0.05--0.15\uff0c\u4e2d\u7b49\u7a0b\u5ea6\u7684\u5206\u5316\uff1b0.15--0.25\uff0c\u8f83\u5927\u7684\u5206\u5316\uff1b0.25\u4ee5\u4e0a\uff0c\u5206\u5316\u5f88\u5927\u3002 \u5176\u5b9eFst\u5206\u6790\u5c31\u662f\u770b\u4e24\u4e2a\u7fa4\u4f53\u4e4b\u95f4\u5206\u5316\u7a0b\u5ea6\u7684\u4e00\u79cd\u65b9\u6cd5\uff0cFst\u503c\u8d8a\u5927\uff08\u8d8a\u63a5\u8fd11\uff09\u8868\u660e\u4e24\u4e2a\u7fa4\u4f53\u95f4\u5206\u5316\u7a0b\u5ea6\u8d8a\u9ad8\uff0c\u4eb2\u7f18\u5173\u7cfb\u8d8a\u8fdc\uff1bFst\u503c\u8d8a\u5c0f\uff08\u8d8a\u63a5\u8fd10\uff09\u8868\u660e\u7fa4\u4f53\u95f4\u5206\u5316\u7a0b\u5ea6\u8d8a\u4f4e\uff0c\u4eb2\u7f18\u5173\u7cfb\u8d8a\u8fd1\u3002 \u5206\u4e3a\u6309\u7167 SNP\u5355\u70b9\u8ba1\u7b97 \u548c \u6ed1\u52a8\u7a97\u53e3\u6a21\u5f0f\u8ba1\u7b97 \uff0c\u4e00\u822c\u4f7f\u7528\u7684\u662f\u6ed1\u52a8\u7a97\u6a21\u5f0f","title":"FST\u8ba1\u7b97\u65b9\u6cd5"},{"location":"bio-experience/%E7%BE%A4%E4%BD%93%E9%81%97%E4%BC%A0%E5%88%86%E6%9E%90%E6%96%B9%E6%B3%95%EF%BC%9ALD%2CFST%2CeQTL/#snp","text":"vcftools --vcf sample.vcf --weir-fst-pop population_1.txt --weir-fst-pop population_2.txt --out sample_1_2","title":"# SNP\u5355\u70b9\u8ba1\u7b97"},{"location":"bio-experience/%E7%BE%A4%E4%BD%93%E9%81%97%E4%BC%A0%E5%88%86%E6%9E%90%E6%96%B9%E6%B3%95%EF%BC%9ALD%2CFST%2CeQTL/#_1","text":"vcftools --vcf test.vcf --weir-fst-pop population_1.txt --weir-fst-pop population_2.txt --out P_1_2 --fst-window-size 500000 --fst-window-step 50000 \u53c2\u6570\u8bf4\u660e\uff1a --vcf \u8f93\u5165vcf\u6587\u4ef6 --weir-fst-pop \u8f93\u5165\u7fa4\u4f53\u7684\u7fa4\u4f53ID\u540d\uff0c\u8be5\u6587\u4ef6\u5fc5\u987b\u662ftxt\u683c\u5f0f\uff0c\u6bcf\u4e2aID\u5360\u4e00\u884c\u3002 --fst-window-size 500000 --fst-window-step 50000 \uff0c\u8fd9\u91cc\u7a97\u53e3\u8bbe\u7f6e\u4e3a500kb\uff0c\u6b65\u957f\u8bbe\u7f6e\u4e3a50kb\u3002\u6839\u636e\u60c5\u51b5\u8c03\u6574\u7a97\u53e3\u5927\u5c0f\u3002 \u8ba1\u7b97haploPS\u3001XP-EHH\u3001 Fst\uff0c\u6b63\u5411\u9009\u62e9\u5206\u6790\u65b9\u6cd5\u5bfb\u627e\u6027\u72b6\u76f8\u5173\u7684\u4f4d\u70b9\uff08\u62ff\u51e0\u4e2a\u7fa4\u4f53\u7684\u91cd\u6d4b\u5e8f\u6570\u636e\uff0c\u8f7b\u677e\u53d1\u6838\u5fc3\u4e2d\u6587\u6216\u8005<3\u7684SCIE\uff09","title":"\u6ed1\u52a8\u7a97\u53e3\u6a21\u5f0f\u8ba1\u7b97"},{"location":"bio-experience/%E7%BE%A4%E4%BD%93%E9%81%97%E4%BC%A0%E5%88%86%E6%9E%90%E6%96%B9%E6%B3%95%EF%BC%9ALD%2CFST%2CeQTL/#_2","text":"\u03c0\uff0c\u6838\u82f7\u9178\u591a\u6837\u6027\uff0c\u8d8a\u5927\u8bf4\u660e\u6838\u82f7\u9178\u591a\u6837\u6027\u8d8a\u9ad8\uff0c\u8d8a\u4f4e\u8bf4\u660e\u4e24\u4e2a\u5ea7\u4f4dDNA\u5e8f\u5217\u5dee\u5f02\u8d8a\u5c0f\u3002 vcftools","title":"\u03c0\u7684\u8ba1\u7b97"},{"location":"bio-experience/%E7%BE%A4%E4%BD%93%E9%81%97%E4%BC%A0%E5%88%86%E6%9E%90%E6%96%B9%E6%B3%95%EF%BC%9ALD%2CFST%2CeQTL/#ld-blockde","text":"\u8ba1\u7b97\u548c\u53ef\u89c6\u5316\uff0c \u53c2\u8003","title":"LD-blockde \u8ba1\u7b97"},{"location":"bio-experience/%E7%BE%A4%E4%BD%93%E9%81%97%E4%BC%A0%E5%88%86%E6%9E%90%E6%96%B9%E6%B3%95%EF%BC%9ALD%2CFST%2CeQTL/#scientific-reports","text":"\u627e\u5230\u91cd\u6d4b\u5e8f\u7684\u6570\u636e\uff0c\u57fa\u56e0\u5206\u578b\uff0c\u627e\u5230\u5355\u500d\u578b\uff0ccall SNP,\u8fc7\u6ee4\uff0c\u6ce8\u91casnp,\u53ef\u89c6\u5316\uff0c\u5206\u522b\u8ba1\u7b97haploPS,XP-EHH,Fst.\u6c42\u4ea4\u96c6\uff0c\u516c\u5171\u57fa\u56e0\u8fdb\u884c\u6ce8\u91ca\uff0c\u5bcc\u96c6\u5206\u6790\u3002","title":"\u5206\u6790\u65b9\u6cd5 \u53c2\u8003\u6587\u732e\uff1a\u4e2d\u56fd\u519c\u4e1a\u79d1\u5b66 scientific reports"},{"location":"bio-experience/%E7%BE%A4%E4%BD%93%E9%81%97%E4%BC%A0%E5%88%86%E6%9E%90%E6%96%B9%E6%B3%95%EF%BC%9ALD%2CFST%2CeQTL/#eqtl-snpmatrix-eqtl-r-httpwwwbiosunceduresearchgenomic_softwarematrix_eqtlrunithtmlinst","text":"https://www.jianshu.com/p/6e6d54d7483e","title":"eQTL (\u8f6c\u5f55\u7ec4+snp)\uff1aMatrix eQTL R\u5305 http://www.bios.unc.edu/research/genomic_software/Matrix_eQTL/runit.html#inst"},{"location":"bio-experience/%E7%BE%A4%E4%BD%93%E9%81%97%E4%BC%A0%E5%88%86%E6%9E%90%E6%96%B9%E6%B3%95%EF%BC%9ALD%2CFST%2CeQTL/#structure-httpswwwjianshucompc7a4fb935e42","text":"https://www.genedenovo.com/news/364.html","title":"\u7fa4\u4f53\u7ed3\u6784\u56fe\u5f62\u2014\u2014structure\u5806\u53e0\u56fe https://www.jianshu.com/p/c7a4fb935e42"},{"location":"bio-experience/%E7%BE%A4%E4%BD%93%E9%81%97%E4%BC%A0%E5%88%86%E6%9E%90%E6%96%B9%E6%B3%95%EF%BC%9ALD%2CFST%2CeQTL/#httpswwwjianshucomp2677dc3b1383","text":"","title":"\u7fa4\u4f53\u9057\u4f20\u5b66\u4eb2\u7f18\u5173\u7cfb\u5206\u6790 https://www.jianshu.com/p/2677dc3b1383"},{"location":"bio-experience/%E7%BE%A4%E4%BD%93%E9%81%97%E4%BC%A0%E5%88%86%E6%9E%90%E6%96%B9%E6%B3%95%EF%BC%9ALD%2CFST%2CeQTL/#pca-httpswwwjianshucompc99de8e5571a","text":"","title":"\u7fa4\u4f53\u7ed3\u6784PCA https://www.jianshu.com/p/c99de8e5571a"},{"location":"bio-experience/%E7%BE%A4%E4%BD%93%E9%81%97%E4%BC%A0%E5%88%86%E6%9E%90%E6%96%B9%E6%B3%95%EF%BC%9ALD%2CFST%2CeQTL/#gwasldsc-ldsc-github","text":"LDSC\u7684\u5b89\u88c5\u4f7f\u7528 vcftools --vcf F2_3.vcf --plink --out F2_3 #\u628avcf\u683c\u5f0f\u8f6c\u4e3aplink\u683c\u5f0f","title":"\u4eceGWAS\u6458\u8981\u7edf\u8ba1\u4fe1\u606f\u4f30\u7b97\u9057\u4f20\u529b\u548c\u9057\u4f20\u76f8\u5173\u6027ldsc LDSC github"},{"location":"book-list/%E5%BC%80%E6%BA%90%E7%89%88%E6%9D%83%E7%9A%84%E9%80%89%E6%8B%A9/","text":"\u4e0a\u8ff0\u663e\u793a\u4e86\u5f00\u6e90\u7248\u6743\u7684\u9009\u62e9\uff0c\u4e00\u822c\u5e38\u7528\u7684\u662fGPL\u6216MIT\u6216Apache. - GPL\u662f\u8981\u6c42\u65b0\u589e\u4ee3\u7801\u4e5f\u9700\u4fdd\u6301\u76f8\u540c\u7684\u8bb8\u53ef\u8bc1\uff0c\u800c\u4e14\u4e0d\u80fd\u95ed\u6e90\u3002 - MIT\u662f\u522b\u4eba\u53ef\u4ee5\u968f\u4fbf\u4f7f\u7528\u4f60\u7684\u4ee3\u7801\uff0c\u5e76\u4e14\u7528\u4f60\u7684\u540d\u5b57\u4fc3\u9500 githubs\u8fd1\u671fCopilot\u75af\u72c2\u5b66\u4e60\u5b58\u653e\u5728githubs\u4e0a\u7684\u4ee3\u7801\uff0c\u800c\u4e0d\u8bba\u7528\u6237\u8bbe\u7f6e\u7684\u7248\u6743\u8bb8\u53ef\u8bc1\u3002\u6240\u4ee5\uff0c\u5982\u679c\u4f60\u7684\u7a0b\u5e8f\u5982\u679c\u60f3\u95ed\u6e90\uff0c\u6700\u597d\u4e0d\u8981\u653e\u5728\u8fd9\u4e0a\u9762\uff0c\u5373\u4f7f\u662f\u79c1\u4eba\u4ed3\u5e93\uff0c\u4e5f\u4f1a\u88ab\u626b\u63cf\u590d\u5236\u3002","title":"\u5f00\u6e90\u7248\u6743\u7684\u9009\u62e9"},{"location":"book-list/%E8%AF%BB%E4%B9%A6%E6%B8%85%E5%8D%95%EF%BC%9A%E7%94%9F%E7%89%A9%E5%BA%8F%E5%88%97%E5%88%86%E6%9E%90-Biological-Sequence-Analysis/","text":"\u5c31\u8fd9\u672c\u4e66\u6765\u8bf4\uff0c\u7b2c\u56db\u3001\u516d\u3001\u4e03\u3001\u516b\u7ae0\u662f\u7eaf\u7cb9\u7684\u5ffd\u60a0\u3002\u7b2c\u4e00\u7ae0\u5fc5\u8bfb\uff0c\u53ef\u4ee5\u4e0e\u7b2c\u5341\u4e00\u7ae0\u7ed3\u5408\u8d77\u6765\u770b\uff0c\u8bb2\u7684\u662f\u57fa\u672c\u7684\u6982\u7387\u7edf\u8ba1\u6a21\u578b\uff0c\u6781\u5176\u6709\u7528\uff0c\u8fd9\u90e8\u5206\u4e0d\u770b\uff0c\u8fd9\u672c\u4e66\u4f60\u5c31\u522b\u770b\u4e86\u3002\u7b2c\u4e8c\u7ae0\u7684\u53cc\u5e8f\u5217\u6bd4\u8f83\u53ef\u4ee5\u770b\u770b\uff0c\u4f46\u6211\u89c9\u5f97\u4e0d\u5982\u6211\u4e0a\u8bfe\u8bb2\u7684\u6e05\u695a\u3002\u7b2c\u4e09\u7ae0\u9690\u9a6c\u6a21\u578b\u6709\u70b9\u513f\u96be\uff0c\u53ef\u770b\u53ef\u4e0d\u770b\uff1b\u7b2c\u56db\u7ae0\u7528HMM\u505a\u53cc\u5e8f\u5217\u6bd4\u5bf9\u53ef\u770b\u53ef\u4e0d\u770b\uff1b\u7b2c\u4e94\u7ae0\u8bb2\u7684\u5c31\u662fPfam\u7684\u601d\u60f3\uff0c\u8fd9\u4e2a\u5176\u5b9e\u53ef\u4ee5\u4e0d\u770b\uff1b\u7b2c\u516d\u7ae0\u591a\u5e8f\u5217\u6bd4\u5bf9\u3001\u7b2c\u4e03\u7ae0\u5206\u5b50\u8fdb\u5316\u5efa\u6811\u3001\u7b2c\u516b\u7ae0\u8fdb\u5316\u6811\u7684\u6982\u7387\u8bba\u65b9\u6cd5\u53ef\u770b\u53ef\u4e0d\u770b\uff1b\u7b2c\u4e5d\u3001\u5341\u7ae0\u8bb2RNA\u7684\u4e8c\u7ea7\u7ed3\u6784\u9884\u6d4b\uff0c\u76f8\u5f53\u7684\u96be\uff0c\u53ef\u4ee5\u7b80\u5355\u5730\u770b\u770b\u3002\u6240\u4ee5\uff0c\u8fd9\u672c\u4e66\u5176\u4ed6\u7ae0\u8282\u4f60\u770b\u4e0d\u770b\u5f71\u54cd\u4e0d\u592a\u5927\uff0c\u4f46\u7b2c\u4e00\u7ae0\u5fc5\u987b\u975e\u5e38\u975e\u5e38\u8ba4\u771f\u5730\u770b\u3002\u6211\u5f88\u8001\u5b9e\u7684\u627f\u8ba4\uff0c\u8fd9\u672c\u4e66\u505a\u5b66\u751f\u7684\u65f6\u5019\u6211\u8ba4\u771f\u770b\u7684\u4e5f\u5c31\u7b2c\u4e00\u7ae0\uff0c\u5f53\u65f6\u7406\u89e3\u8d77\u6765\u5f88\u56f0\u96be\u3002\u51e0\u5e74\u4e4b\u540e\u7ec8\u4e8e\u660e\u767d\u4e86\u7b2c\u4e00\u5f20\u7684\u5185\u5bb9\uff0c\u518d\u5f80\u540e\u770b\u5c31\u53d1\u73b0\u5176\u5b9e\u5e76\u6ca1\u6709\u90a3\u4e48\u590d\u6742\u3002\u5f53\u7136RNA\u7ed3\u6784\u9884\u6d4b\u90e8\u5206\u6211\u8fd8\u662f\u6ca1\u770b\u660e\u767d\u3002 ___\u5f15\u81ea \u859b\u5b87\u535a\u5ba2 \u91cd\u70b9\u7ae0\u8282\u63a8\u8350\uff1a\u7b2c1\u7ae0\uff0c\u7b2c11\u7ae0\u3002","title":"\u8bfb\u4e66\u6e05\u5355\uff1a\u751f\u7269\u5e8f\u5217\u5206\u6790 Biological Sequence Analysis"},{"location":"cancer/somatic%E5%92%8Cgermline%E7%AA%81%E5%8F%98/","text":"somatic\u7a81\u53d8\u662f\u4f53\u7ec6\u80de\u7a81\u53d8\u3002\u4e3b\u8981\u4fa7\u91cd\u6bd4\u8f83\u7684\u662f\u6b63\u5e38\u7ec4\u7ec7\u548c\u60a3\u75c5\u7ec4\u7ec7\u7684\u4f53\u7ec6\u80de\u7a81\u53d8\u3002\u4f53\u7ec6\u80de\u5728\u590d\u5236\u7684\u8fc7\u7a0b\u4e2d\uff0c\u53d1\u751f\u4e86\u7a81\u53d8\uff0c\u5bfc\u81f4\u8fd9\u79cd\u4f53\u7ec6\u80de\u7a81\u53d8\u3002\u66f4\u504f\u91cd\u4e8e\u5355\u4e2a\u60a3\u8005\u7684\u764c\u75c7\u5206\u578b\u548c\u53d1\u75c5\u673a\u7406\u7684\u7814\u7a76\u3002 germline\u7a81\u53d8\u662f\u53ef\u4ee5\u9057\u4f20\u7684\u751f\u6b96\u7ec6\u80de\u7a81\u53d8\u3002\u5176\u7a81\u53d8\u7684\u6982\u7387\u4e00\u822c\u662f\uff1a0\uff0c50%\uff0c1.\u5bf9\u5e94\u7684\u57fa\u56e0\u578b\u662f\u7236\u3001\u6bcd\u3001\u5b50\u4ee3\u3002\u53cc\u4eb2\u5747\u7a81\u53d8\uff0c\u5219\u662f1\uff0c\u5176\u4e2d\u4e00\u65b9\u7a81\u53d8\u662f0.5\uff0c\u90fd\u6ca1\u6709\u7a81\u53d8\u5c31\u662f0. \u4e00\u822c\u7814\u7a76\u8fd9\u79cd\u7a81\u53d8\u7684\u764c\u75c7\u65f6\u5019\uff0c\u9700\u8981\u6d4b\u53cc\u4eb2\u7684\u751f\u6b96\u7ec6\u80de\u3002 \u7814\u7a76\u6700\u5e7f\u6cdb\u7684\u9057\u4f20\u6027\u764c\u75c7\u5c31\u662f\u4e73\u817a\u764c\uff0c\u643a\u5e26BRCA1/2\u57fa\u56e0\u7684\u7a81\u53d8\u4f1a\u5bfc\u81f4\u60a3\u4e73\u817a\u764c\u3001\u5375\u5de2\u764c\u7684\u51e0\u7387\u589e\u52a0\u3002 \u5bf9\u4e8e\u9057\u4f20\u6027\u764c\u75c7\uff0c\u4e00\u822c\u5173\u6ce8germline\u7a81\u53d8\uff1b\u5bf9\u4e8e\u540e\u5929\u5bfc\u81f4\u7684\u764c\u75c7\uff0c\u4e00\u822c\u5173\u6ce8somatic\u7a81\u53d8\u3002 \u8f6c\u8f7d\u81ea https://www.zhihu.com/question/38765318","title":"Somatic\u548cgermline\u7a81\u53d8"},{"location":"cancer/%E4%BA%BA%E7%B1%BB%E5%9F%BA%E5%9B%A0%E7%BB%84%E7%9A%84%E4%B8%8B%E8%BD%BD/","text":"\u53c2\u8003\u5730\u57401 \u53c2\u8003\u5730\u57402 \u4eba\u7c7b\u57fa\u56e0\u7ec4\u548cGTF\u6587\u4ef6 NCBI\uff1a gff3 hg38 wget ftp://ftp.ncbi.nlm.nih.gov/genomes/Homo_sapiens/GFF/ref_GRCh38.p7_top_level.gff3.gz hg19 wget ftp://ftp.ncbi.nlm.nih.gov/genomes/Homo_sapiens/ARCHIVE/BUILD.37.3/GFF/ref_GRCh37.p5_top_level.gff3.gz ensembl\uff1a gtf wget ftp://ftp.ensembl.org/pub/current_gtf/homo_sapiens/Homo_sapiens.GRCh38.90.gtf.gz ## hg38 wget ftp://ftp.ensembl.org/pub/release-75/gtf/homo_sapiens/Homo_sapiens.GRCh37.75.gtf.gz ## hg19 \u53d8\u6362\u4e2d\u95f4\u7684release\u5c31\u53ef\u4ee5\u62ff\u5230\u6240\u6709\u7248\u672c\u4fe1\u606f\uff1aftp://ftp.ensembl.org/pub/ UCSC\u4e0b\u8f7dGTF\u6587\u4ef6 \u4e0b\u8f7d\u5730\u5740 \u4ece\u4e2d\u9009\u62e9\u9700\u8981\u7684\u4e0b\u8f7d\u3002 \u4e0d\u8981\u518d\u4ece http://genome.ucsc.edu/cgi-bin/hgTables \u9875\u9762\u624b\u52a8\u9009\u4e86\uff0c\u73b0\u5728\u5df2\u7ecf\u6574\u5408\u5230https://hgdownload.soe.ucsc.edu/goldenPath/hg38/bigZips/genes/\u8fd9\u4e2a\u5730\u5740\u4e0b\u9762\u4e86 \u57fa\u56e0\u7ec4\u4e0b\u8f7d UCSC\u91cc\u9762\u4e0b\u8f7d\uff1a wegt http://hgdownload.cse.ucsc.edu/goldenPath/hg19/bigZips/chromFa.tar.gz ##hg19 wget http://hgdownload.cse.ucsc.edu/goldenPath/hg38/bigZips/chromFa.tar.gz ##hg38 tar -zxvf chromFa.tar.gz cd chroms cat *.fa >hg19.fa NCBI\u4e0b\u8f7d ##hg19\uff1a for i in $(seq 1 22) X Y M; do wget ftp://ftp.ncbi.nlm.nih.gov/genomes/Homo_sapiens/ARCHIVE/BUILD.37.3/Assembled_chromosomes/seq/hs_ref_GRCh37.p5_chr${i}.fa.gz; gzip -d hs_ref_GRCh37.p5_chr${i}.fa.gz; cat hs_ref_GRCh37.p5_chr${i}.fa.gz >>hg19.fa; done; ##hg38\uff1a \u540c\u7406\uff0c\u53ea\u8981\u627e\u5230\u4e0b\u8f7d\u5730\u5740\uff0c\u6539\u52a8\u4e00\u4e0b\u5373\u53ef\u3002 ### ftp://ftp.ncbi.nlm.nih.gov/genomes/Homo_sapiens/Assembled_chromosomes/seq/hs_ref_GRCh38.p7_chr${i}.fa.gz ensembl\u4e2d\u9009\u62e9\u57fa\u56e0\u7ec4\u4e00\u822c\u9009\u62e9toplevel-sm\u7248\u672c\u7684\u3002 \u4fee\u6539\u5176\u4e2d\u7684release \u53f7\uff0c\u5c31\u80fd\u83b7\u5f97\u5bf9\u5e94\u7684\u7248\u672c ftp://ftp.ensembl.org/pub/release-100/fasta/homo_sapiens/dna/ \u5404\u79cd\u57fa\u56e0\u7ec4\u7248\u672c\u7684\u5dee\u5f02","title":"\u4eba\u7c7b\u57fa\u56e0\u7ec4\u7684\u4e0b\u8f7d"},{"location":"cancer/%E4%BA%BA%E7%B1%BB%E5%9F%BA%E5%9B%A0%E7%BB%84%E7%9A%84%E4%B8%8B%E8%BD%BD/#gtf","text":"NCBI\uff1a","title":"\u4eba\u7c7b\u57fa\u56e0\u7ec4\u548cGTF\u6587\u4ef6"},{"location":"cancer/%E4%BA%BA%E7%B1%BB%E5%9F%BA%E5%9B%A0%E7%BB%84%E7%9A%84%E4%B8%8B%E8%BD%BD/#gff3","text":"hg38 wget ftp://ftp.ncbi.nlm.nih.gov/genomes/Homo_sapiens/GFF/ref_GRCh38.p7_top_level.gff3.gz hg19 wget ftp://ftp.ncbi.nlm.nih.gov/genomes/Homo_sapiens/ARCHIVE/BUILD.37.3/GFF/ref_GRCh37.p5_top_level.gff3.gz ensembl\uff1a","title":"gff3"},{"location":"cancer/%E4%BA%BA%E7%B1%BB%E5%9F%BA%E5%9B%A0%E7%BB%84%E7%9A%84%E4%B8%8B%E8%BD%BD/#gtf_1","text":"wget ftp://ftp.ensembl.org/pub/current_gtf/homo_sapiens/Homo_sapiens.GRCh38.90.gtf.gz ## hg38 wget ftp://ftp.ensembl.org/pub/release-75/gtf/homo_sapiens/Homo_sapiens.GRCh37.75.gtf.gz ## hg19 \u53d8\u6362\u4e2d\u95f4\u7684release\u5c31\u53ef\u4ee5\u62ff\u5230\u6240\u6709\u7248\u672c\u4fe1\u606f\uff1aftp://ftp.ensembl.org/pub/","title":"gtf"},{"location":"cancer/%E4%BA%BA%E7%B1%BB%E5%9F%BA%E5%9B%A0%E7%BB%84%E7%9A%84%E4%B8%8B%E8%BD%BD/#ucscgtf","text":"\u4e0b\u8f7d\u5730\u5740 \u4ece\u4e2d\u9009\u62e9\u9700\u8981\u7684\u4e0b\u8f7d\u3002","title":"UCSC\u4e0b\u8f7dGTF\u6587\u4ef6"},{"location":"cancer/%E4%BA%BA%E7%B1%BB%E5%9F%BA%E5%9B%A0%E7%BB%84%E7%9A%84%E4%B8%8B%E8%BD%BD/#httpgenomeucsceducgi-binhgtableshttpshgdownloadsoeucscedugoldenpathhg38bigzipsgenes","text":"","title":"\u4e0d\u8981\u518d\u4ecehttp://genome.ucsc.edu/cgi-bin/hgTables\u9875\u9762\u624b\u52a8\u9009\u4e86\uff0c\u73b0\u5728\u5df2\u7ecf\u6574\u5408\u5230https://hgdownload.soe.ucsc.edu/goldenPath/hg38/bigZips/genes/\u8fd9\u4e2a\u5730\u5740\u4e0b\u9762\u4e86"},{"location":"cancer/%E4%BA%BA%E7%B1%BB%E5%9F%BA%E5%9B%A0%E7%BB%84%E7%9A%84%E4%B8%8B%E8%BD%BD/#_1","text":"UCSC\u91cc\u9762\u4e0b\u8f7d\uff1a wegt http://hgdownload.cse.ucsc.edu/goldenPath/hg19/bigZips/chromFa.tar.gz ##hg19 wget http://hgdownload.cse.ucsc.edu/goldenPath/hg38/bigZips/chromFa.tar.gz ##hg38 tar -zxvf chromFa.tar.gz cd chroms cat *.fa >hg19.fa","title":"\u57fa\u56e0\u7ec4\u4e0b\u8f7d"},{"location":"cancer/%E4%BA%BA%E7%B1%BB%E5%9F%BA%E5%9B%A0%E7%BB%84%E7%9A%84%E4%B8%8B%E8%BD%BD/#ncbi","text":"##hg19\uff1a for i in $(seq 1 22) X Y M; do wget ftp://ftp.ncbi.nlm.nih.gov/genomes/Homo_sapiens/ARCHIVE/BUILD.37.3/Assembled_chromosomes/seq/hs_ref_GRCh37.p5_chr${i}.fa.gz; gzip -d hs_ref_GRCh37.p5_chr${i}.fa.gz; cat hs_ref_GRCh37.p5_chr${i}.fa.gz >>hg19.fa; done; ##hg38\uff1a \u540c\u7406\uff0c\u53ea\u8981\u627e\u5230\u4e0b\u8f7d\u5730\u5740\uff0c\u6539\u52a8\u4e00\u4e0b\u5373\u53ef\u3002 ### ftp://ftp.ncbi.nlm.nih.gov/genomes/Homo_sapiens/Assembled_chromosomes/seq/hs_ref_GRCh38.p7_chr${i}.fa.gz ensembl\u4e2d\u9009\u62e9\u57fa\u56e0\u7ec4\u4e00\u822c\u9009\u62e9toplevel-sm\u7248\u672c\u7684\u3002 \u4fee\u6539\u5176\u4e2d\u7684release \u53f7\uff0c\u5c31\u80fd\u83b7\u5f97\u5bf9\u5e94\u7684\u7248\u672c ftp://ftp.ensembl.org/pub/release-100/fasta/homo_sapiens/dna/ \u5404\u79cd\u57fa\u56e0\u7ec4\u7248\u672c\u7684\u5dee\u5f02","title":"NCBI\u4e0b\u8f7d"},{"location":"cancer/%E4%BA%BA%E7%B1%BB%EF%BC%9A%E5%85%A8%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%85%B3%E8%81%94%E5%88%86%E6%9E%90%EF%BC%88GWAS%EF%BC%89%E5%8F%91%E7%8E%B0%E9%9D%9E%E7%BC%96%E7%A0%81%E5%8F%98%E5%BC%82%E4%BD%8D%E7%82%B9%E7%9A%84%E5%90%8E%E7%BB%AD%E5%88%86%E6%9E%90/","text":"\u8f6c\u8f7d\u81eahttps://mp.weixin.qq.com/s/ts7AD_r7gEXVuXSEx02Ohw \u5168\u57fa\u56e0\u7ec4\u5173\u8054\u5206\u6790\uff08GWAS\uff09\u53d1\u73b0\u7684\u53d8\u5f02\u4f4d\u70b9\u5982\u679c\u662f\u975e\u7f16\u7801\u7684\uff0c\u90a3\u4e48\u8fd9\u4e2a\u4f4d\u70b9\u9700\u8981\u8fdb\u884c\u4ee5\u4e0b\u5206\u6790\uff1a - 1\uff09\u662f\u5426\u8c03\u63a7\u57fa\u56e0\u8868\u8fbe\uff08eQTL\uff09; \u901a\u8fc7GTEx\uff08https://gtexportal.org/home/\uff09\u67e5\u8be2 - 2\uff09\u662f\u5426\u5f71\u54cd\u589e\u5f3a\u5b50\u6d3b\u6027; \u901a\u8fc7http://lcbb.swjtu.edu.cn/EnhancerDB/\u67e5\u8be2 - 3) \u662f\u5426\u5f71\u54cd\u8f6c\u5f55\u56e0\u5b50\uff08TF\uff09\u7ed3\u5408\u7279\u5f02\u6027;\u901a\u8fc7GVATdb\uff08http://renlab.sdsc.edu/GVATdb/search.html\uff09\u67e5\u8be2\u3002 \u5982\u679c\u4e0a\u9762\u90fd\u4e0d\u662f\uff0c\u90a3\u53ef\u80fd\u5c31\u6ca1\u6709\u4f5c\u7528\u3002","title":"\u4eba\u7c7b\uff1a\u5168\u57fa\u56e0\u7ec4\u5173\u8054\u5206\u6790\uff08GWAS\uff09\u53d1\u73b0\u975e\u7f16\u7801\u53d8\u5f02\u4f4d\u70b9\u7684\u540e\u7eed\u5206\u6790"},{"location":"cancer/%E7%99%8C%E7%97%87%E6%97%A9%E6%9C%9F%E7%AD%9B%E6%9F%A5/","text":"\u4e73\u817a\u764c \u5e74\u9f84\uff1a50-74\uff0c\u5973\u6027\uff0cX\u5149\u9020\u5f71\uff0c\u6838\u78c1\u5171\u632f\uff08MRI\uff09 \u6bcf2\u5e741\u6b21 \u5bab\u9888\u764c \u5e74\u9f84\uff1a21-65\uff0c\u5973\u6027\uff0c\u5bab\u9888\u6d82\u7247\u548cHPV\u68c0\u6d4b 21-29 \u5bab\u9888\u6d82\u7247/3\u5e74 30-65 \u5bab\u9888\u6d82\u7247/3\u5e74 \u6216\u8005 HPV\u68c0\u6d4b/5\u5e74 \u6216\u80055\u5e74\u8054\u5408\u68c0\u6d4b \u80ba\u764c \u4ecd\u5728\u5438\u70df\u3001\u8fc7\u53bb15\u5e74\u5185\u6212\u70df\u3001\u5e74\u9f8455-80 \u7ed3\u76f4\u80a0\u764c \u5e74\u9f84\uff1a50-75\uff0c\u80a0\u955c 10\u5e741\u6b21 \u764c\u75c7\u7b5b\u67e5\u9700\u8981\u6ce8\u610f\u7684\u8981\u70b9\uff1a \u4e3b\u8981\u7b5b\u67e5\u76ee\u524d\u80fd\u786e\u5207\u7b5b\u67e5\u7684\u51e0\u4e2a\u764c\u75c7\u3002\u5176\u4ed6\u7684\u5728\u7814\u7a76\u65b9\u6cd5\u7684\u9633\u6027\u7387\u8fbe\u5230\u4e4b\u524d\uff0c\u4e0d\u5efa\u8bae\u7b5b\u67e5\u3002 \u7b5b\u67e5\u9700\u8981\u7ed3\u5408\u5b9e\u9645\u60c5\u51b5\uff0c\u5982\uff1a\u80ba\u764c\u4e5f\u9700\u8981\u6ce8\u610f\u56fd\u5185\u73af\u5883\u6c61\u67d3\u5730\u533a\u3002\u5bab\u9888\u764c\uff1a\u662f\u8981\u6709\u6027\u751f\u6d3b\u4e4b\u540e\u3002\u80a0\u955c\u68c0\u6d4b\uff0c\u53ef\u80fd\u4f1a\u5f15\u8d77\u80a0\u58c1\u51fa\u8840\u7b49\u3002\u5b50\u5bab\u5207\u9664\u3001\u4e73\u817a\u5207\u9664\u7684\u5c31\u6ca1\u5fc5\u8981\u518d\u505a\u76f8\u5173\u7b5b\u67e5\u3002 \u7ed3\u5408\u5bb6\u65cf\u53d1\u75c5\u53f2\uff0c\u6709\u9009\u62e9\u7684\u5173\u6ce8\u91cd\u70b9\u3002 \u5728\u68c0\u6d4b\u51fa\u9633\u6027\u540e\uff0c\u8981\u591a\u79cd\u65b9\u6cd5\u591a\u4e2a\u533b\u9662\u7efc\u5408\u68c0\u6d4b\u3002\u51cf\u5c11\u5047\u9633\u6027\u548c\u8bef\u8bca\u6982\u7387\u3002 \u5728\u786e\u8bca\u540e\uff0c\u7ed3\u5408\u751f\u547d\u5468\u671f\u60c5\u51b5\uff0c\u6839\u636e\u5e74\u9f84\u3001\u8eab\u4f53\u72b6\u51b5\u3001\u7ecf\u6d4e\u72b6\u51b5\uff0c\u9009\u62e9\u5462\u5408\u9002\u7684\u5e94\u5bf9\u65b9\u9488\u3002","title":"\u764c\u75c7\u65e9\u671f\u7b5b\u67e5"},{"location":"cancer/%E7%99%8C%E7%97%87%E6%97%A9%E6%9C%9F%E7%AD%9B%E6%9F%A5/#_1","text":"\u4e3b\u8981\u7b5b\u67e5\u76ee\u524d\u80fd\u786e\u5207\u7b5b\u67e5\u7684\u51e0\u4e2a\u764c\u75c7\u3002\u5176\u4ed6\u7684\u5728\u7814\u7a76\u65b9\u6cd5\u7684\u9633\u6027\u7387\u8fbe\u5230\u4e4b\u524d\uff0c\u4e0d\u5efa\u8bae\u7b5b\u67e5\u3002 \u7b5b\u67e5\u9700\u8981\u7ed3\u5408\u5b9e\u9645\u60c5\u51b5\uff0c\u5982\uff1a\u80ba\u764c\u4e5f\u9700\u8981\u6ce8\u610f\u56fd\u5185\u73af\u5883\u6c61\u67d3\u5730\u533a\u3002\u5bab\u9888\u764c\uff1a\u662f\u8981\u6709\u6027\u751f\u6d3b\u4e4b\u540e\u3002\u80a0\u955c\u68c0\u6d4b\uff0c\u53ef\u80fd\u4f1a\u5f15\u8d77\u80a0\u58c1\u51fa\u8840\u7b49\u3002\u5b50\u5bab\u5207\u9664\u3001\u4e73\u817a\u5207\u9664\u7684\u5c31\u6ca1\u5fc5\u8981\u518d\u505a\u76f8\u5173\u7b5b\u67e5\u3002 \u7ed3\u5408\u5bb6\u65cf\u53d1\u75c5\u53f2\uff0c\u6709\u9009\u62e9\u7684\u5173\u6ce8\u91cd\u70b9\u3002 \u5728\u68c0\u6d4b\u51fa\u9633\u6027\u540e\uff0c\u8981\u591a\u79cd\u65b9\u6cd5\u591a\u4e2a\u533b\u9662\u7efc\u5408\u68c0\u6d4b\u3002\u51cf\u5c11\u5047\u9633\u6027\u548c\u8bef\u8bca\u6982\u7387\u3002 \u5728\u786e\u8bca\u540e\uff0c\u7ed3\u5408\u751f\u547d\u5468\u671f\u60c5\u51b5\uff0c\u6839\u636e\u5e74\u9f84\u3001\u8eab\u4f53\u72b6\u51b5\u3001\u7ecf\u6d4e\u72b6\u51b5\uff0c\u9009\u62e9\u5462\u5408\u9002\u7684\u5e94\u5bf9\u65b9\u9488\u3002","title":"\u764c\u75c7\u7b5b\u67e5\u9700\u8981\u6ce8\u610f\u7684\u8981\u70b9\uff1a"},{"location":"literature-Reading/JIPB-Combined-genome%E2%80%90wide-association-study-and-transcriptome-analysis/","text":"\u6587\u7ae0\u5730\u5740 \u65b9\u6cd5\u603b\u7ed3\uff1a 1.\u5927\u7fa4\u4f53309\u4efd\u6750\u65992\u5730\u79cd\u690d\uff0c\u8c03\u67e5\u6297\u75c5\u6027\uff0c\u5173\u8054\u5206\u6790\uff0c\u627e\u523034\u4e2asnp\u4e0a\u4e0b\u6e38100Kb,\u8303\u56f4\u5185\u53ef\u80fd\u53c2\u4e0e\u6297\u75c5\u7684\u57fa\u56e0\u3002 2.\u4ece\u4e2d\u9009\u62e9\u6781\u7aef\u6027\u72b6\u7684\u6750\u6599\uff0c\u8fdb\u884c\u8f6c\u5f55\u7ec4\u5206\u6790\uff0c\u53d1\u73b069\u4e2a\u57fa\u56e0\u4e2d\u670921\u4e2a\u5dee\u5f02\u8868\u8fbe\u3002\u5e38\u89c4\u7684\u8f6c\u5f55\u7ec4\u5206\u6790\u3002 \u53c2\u8003\u70b9\uff1a 1.snp\u7684\u4e0a\u4e0b\u6e38\u533a\u95f4\u5927\u5c0f\u7684\u9009\u62e9\uff08100Kb\uff09","title":"JIPB Combined genome\u2010wide association study and transcriptome analysis"},{"location":"literature-Reading/Plant-Cell-%EF%BC%9AIntegrated-Genome-Scale-Analysis-Identifies-Novel-Genes-an/","text":"2019\u5e746\u670825\u65e5\u53d1\u8868\u5728Plant cell\u4e0a\uff1a","title":"Plant Cell \uff1aIntegrated Genome Scale Analysis Identifies Novel Genes an"},{"location":"literature-Reading/RNA-sequencing-ten-years/","text":"statQuest\u7edf\u8ba1\u5b66\u8bfe\u7a0b\u7b14\u8bb0 RNA-seq10\u5e74\u56de\u987e\uff0c\u6c49\u8bed\u7ffb\u8bd1 statQuest\u7edf\u8ba1\u5b66\u8bfe\u7a0b\u5927\u7eb2 \u91cd\u70b9\u662fRNA sequencing 10 years: \u9605\u8bfb\u3001\u77e5\u8bc6\u6c47\u603b\u3002 \u6587\u7ae0\u7ed3\u6784\uff1a RNA-seq\u7684\u6280\u672f\u53d1\u5c55\u53f2\u3001\u539f\u7406 RNA-seq\u7684\u6700\u65b0\u7684\u6d4b\u5e8f\u65b9\u6cd5 RNA-seq\u7684\u5206\u6790\u65b9\u6cd5 \u91cd\u70b9\u5173\u6ce8\u5bf9\u8c61\uff1a \u6700\u65b0\u6d4b\u5e8f\u65b9\u6cd5\uff0c\u5e94\u7528 \u5206\u6790\u65b9\u6cd5\uff0c\u5404\u79cd\u5206\u6790\u7684\u6d41\u7a0b\uff0c\u5206\u6790\u5de5\u5177\u7684\u4f7f\u7528 \u7279\u522b\u5173\u6ce8\uff0c scRNA-seq/\u5355\u7ec6\u80deRNA\u6d4b\u5e8f scRNA-seq\uff1asingle cell RNA-seq scRNA-seq\u5305\uff0c\u516c\u5171scRNA-seq\u6570\u636e\u96c6\u96c6\u5408","title":"RNA sequencing ten years"},{"location":"literature-Reading/RNA-sequencing-ten-years/#_1","text":"RNA-seq\u7684\u6280\u672f\u53d1\u5c55\u53f2\u3001\u539f\u7406 RNA-seq\u7684\u6700\u65b0\u7684\u6d4b\u5e8f\u65b9\u6cd5 RNA-seq\u7684\u5206\u6790\u65b9\u6cd5","title":"\u6587\u7ae0\u7ed3\u6784\uff1a"},{"location":"literature-Reading/RNA-sequencing-ten-years/#_2","text":"\u6700\u65b0\u6d4b\u5e8f\u65b9\u6cd5\uff0c\u5e94\u7528 \u5206\u6790\u65b9\u6cd5\uff0c\u5404\u79cd\u5206\u6790\u7684\u6d41\u7a0b\uff0c\u5206\u6790\u5de5\u5177\u7684\u4f7f\u7528 \u7279\u522b\u5173\u6ce8\uff0c scRNA-seq/\u5355\u7ec6\u80deRNA\u6d4b\u5e8f scRNA-seq\uff1asingle cell RNA-seq scRNA-seq\u5305\uff0c\u516c\u5171scRNA-seq\u6570\u636e\u96c6\u96c6\u5408","title":"\u91cd\u70b9\u5173\u6ce8\u5bf9\u8c61\uff1a"},{"location":"literature-Reading/%E6%96%87%E7%8C%AE%E6%8E%A8%E9%80%81%E5%B7%A5%E5%85%B7%E6%8E%A8%E8%8D%90%EF%BC%9A%E6%96%87%E7%8C%AE%E9%B8%9F/","text":"\u901a\u8fc7\u8bbe\u7f6e\u5173\u952e\u8bcd\uff0c\u8bbe\u5b9a\u63a8\u9001\u9891\u7387\uff0c\u6587\u732e\u9e1f\u53ef\u4ee5\u7ed9\u4f60\u63a8\u9001\u4f60\u5173\u6ce8\u7684\u7814\u7a76\u65b9\u5411\u7684\u6587\u732e\u3002\u5b9a\u65f6\u53d1\u9001\u90ae\u4ef6\u5230\u4f60\u7684\u90ae\u7bb1\uff0c\u6700\u5173\u952e\u7684\u662f\u4f1a\u663e\u793a\u5f71\u54cd\u56e0\u5b50\u548c\u5206\u533a\u3002\u5bf9\u4e8e\u6211\u4eec\u8fd9\u79cd\u53ea\u613f\u610f\u770b\u9ad8\u5206\u7684\u6587\u7ae0\u7684\u4eba\u7b80\u76f4\u5c31\u662f\u798f\u97f3\u3002\u6bd5\u7adf\u4f4e\u5206\u7684\u7ed3\u679c\uff0c\u4e0d\u592a\u53ef\u9760\u3002 \u6587\u732e\u9e1f\u53ef\u4ee5\u5b9e\u73b0\u7684\u529f\u80fd\uff1a \u8bbe\u7f6e\u5173\u952e\u8bcd\uff08\u514d\u8d39\u6700\u591a5\u4e2a\uff09 \u8bbe\u7f6e\u63a8\u9001\u9891\u7387\uff08\u6bcf\u6708\uff0c\u6bcf\u5468\uff0c\u6bcf\u5929\uff09\u53ef\u4ee5\u5b9a\u65f6 \u76f4\u63a5\u53d1\u9001\u90ae\u4ef6\u5230\u4f60\u7684\u90ae\u7bb1 \u90ae\u4ef6\u5c55\u793aIF\u548c\u5206\u533a\uff0c\u70b9\u51fb\u6587\u7ae0\u94fe\u63a5\u8df3\u8f6c\u5230\u6587\u732e\u9e1f\uff0c\u4f1a\u7ed9\u51fa\u539f\u6587\u7684\u5730\u5740\u3002\u5305\u62ecpubmed\u548cdoi \u6587\u732e\u9e1f\u7684\u5730\u5740 https://www.storkapp.me/?ref=68715 \u4f7f\u7528\u65b9\u6cd5 \u90ae\u7bb1\u6ce8\u518c \u8bbe\u7f6e\u5173\u952e\u8bcd \u8bbe\u7f6e\u53d1\u9001\u9891\u7387 \u8fd9\u6837\u5c31\u53ef\u4ee5\u6536\u5230\u76f8\u5173\u6587\u732e\u7684\u63a8\u9001\u90ae\u4ef6\u4e86\uff0c\u5efa\u8bae\u6bcf\u5468\u63a8\u9001\u4e00\u6b21\u5373\u53ef\u3002","title":"\u6587\u732e\u63a8\u9001\u5de5\u5177\u63a8\u8350\uff1a\u6587\u732e\u9e1f"},{"location":"literature-Reading/%E6%96%87%E7%8C%AE%E6%8E%A8%E9%80%81%E5%B7%A5%E5%85%B7%E6%8E%A8%E8%8D%90%EF%BC%9A%E6%96%87%E7%8C%AE%E9%B8%9F/#_1","text":"\u8bbe\u7f6e\u5173\u952e\u8bcd\uff08\u514d\u8d39\u6700\u591a5\u4e2a\uff09 \u8bbe\u7f6e\u63a8\u9001\u9891\u7387\uff08\u6bcf\u6708\uff0c\u6bcf\u5468\uff0c\u6bcf\u5929\uff09\u53ef\u4ee5\u5b9a\u65f6 \u76f4\u63a5\u53d1\u9001\u90ae\u4ef6\u5230\u4f60\u7684\u90ae\u7bb1 \u90ae\u4ef6\u5c55\u793aIF\u548c\u5206\u533a\uff0c\u70b9\u51fb\u6587\u7ae0\u94fe\u63a5\u8df3\u8f6c\u5230\u6587\u732e\u9e1f\uff0c\u4f1a\u7ed9\u51fa\u539f\u6587\u7684\u5730\u5740\u3002\u5305\u62ecpubmed\u548cdoi \u6587\u732e\u9e1f\u7684\u5730\u5740 https://www.storkapp.me/?ref=68715","title":"\u6587\u732e\u9e1f\u53ef\u4ee5\u5b9e\u73b0\u7684\u529f\u80fd\uff1a"},{"location":"literature-Reading/%E6%96%87%E7%8C%AE%E6%8E%A8%E9%80%81%E5%B7%A5%E5%85%B7%E6%8E%A8%E8%8D%90%EF%BC%9A%E6%96%87%E7%8C%AE%E9%B8%9F/#_2","text":"\u90ae\u7bb1\u6ce8\u518c \u8bbe\u7f6e\u5173\u952e\u8bcd \u8bbe\u7f6e\u53d1\u9001\u9891\u7387 \u8fd9\u6837\u5c31\u53ef\u4ee5\u6536\u5230\u76f8\u5173\u6587\u732e\u7684\u63a8\u9001\u90ae\u4ef6\u4e86\uff0c\u5efa\u8bae\u6bcf\u5468\u63a8\u9001\u4e00\u6b21\u5373\u53ef\u3002","title":"\u4f7f\u7528\u65b9\u6cd5"},{"location":"literature-Reading/%E6%A4%8D%E7%89%A9%E8%A1%A8%E5%9E%8BCoverageTool/","text":"\u6587\u7ae0\u5730\u5740 \u516c\u4f17\u53f7\u4ecb\u7ecd \u690d\u7269\u6027\u72b6\u7684\u89c6\u89c9\u8868\u5f81\u548c\u91cf\u5316\u5f80\u5f80\u53d7\u9650\u4e8e\u5904\u7406\u7279\u5b9a\u73af\u5883\u800c\u5f00\u53d1\u7684\u5de5\u5177\u4ee5\u53ca\u8f6f\u4ef6\u3002 \u8f6f\u4ef6\u662fVS\u57fa\u7840\u4e0a\u5f00\u53d1\u7684win\u5e73\u53f0\u7684\u56fe\u50cf\u8bc6\u522b\u7684\u8f6f\u4ef6\u3002\u7528\u4e8e\u8bc6\u522b\u690d\u7269\u8868\u578b\u7684\u90e8\u5206\u6570\u636e\u3002","title":"\u690d\u7269\u8868\u578bCoverageTool"},{"location":"literature-Reading/%E7%94%9F%E7%89%A9%E4%BF%A1%E6%81%AF%E5%AD%A6%E7%AE%A1%E9%81%93%E5%B7%A5%E5%85%B7%E7%BB%BC%E8%BF%B0%EF%BC%9AA-review-of-bioinformatic-pipeline-frameworks/","text":"\u751f\u7269\u4fe1\u606f\u5b66\u6d41\u7a0b\u7684\u5f00\u53d1 https://academic.oup.com/bib/article/18/3/530/2562749 \u8f6c\u8f7d\u81eahttps://mp.weixin.qq.com/s?__biz=MzAxMDkxODM1Ng%3D%3D&mid=2247497665&idx=2&sn=f2fe49a26dfc78064da7da753bf6e395&scene=45#wechat_redirect \u6d41\u7a0b\u8981\u6c42\uff1a - \u5e76\u884c\u8fd0\u7b97 - \u4e32\u884c\u8fd0\u7b97 - \u4f9d\u5b58\u5173\u7cfb - \u53d8\u5316\u7684\u6570\u636e\u7c7b\u578b - \u56fa\u5b9a\u548c\u53ef\u81ea\u5b9a\u4e49\u7684\u53c2\u6570\u8bbe\u5b9a \u9ad8\u7ea7\u529f\u80fd \u53ef\u663e\u793a\u5206\u6790\u8fdb\u5ea6\u3001\u56fe\u5f62\u5316\u754c\u9762\u8c03\u6574\u53c2\u6570 \u7b2c\u4e00\u4e2a\u662f\u57fa\u4e8e\u901a\u914d\u7b26 \u6bd4\u5982Nextflow\u3001Snakemake\u7b49\u7b49\uff0c \u7b2c\u4e8c\u4e2a\u662f\u57fa\u4e8e\u6b65\u9aa4\u8854\u63a5 \u6bd4\u5982Ruffus\u548cbpipe\uff0c\u53c2\u8003\u300a\u751f\u4fe1\u83dc\u9e1f\u56e2\u300b\u7684\uff1a Bpipe | \u6559\u4f60\u8f7b\u677e\u642d\u5efa\u5206\u6790\u6d41\u7a0b \u5176\u5b9e\u5c31\u662f\u5728\u539f\u6709\u7684shell\u811a\u672c\u7684\u57fa\u7840\u4e0a\uff0c\u5c06\u6bcf\u4e2a\u5206\u6790\u6b65\u9aa4\u8fdb\u884c\u5305\u88c5\uff0c\u7136\u540e\u5229\u7528Bpipe\u7684\u8bed\u6cd5\u8fdb\u884c\u4e32\u8054\uff0c\u5c31\u80fd\u9ad8\u6548\u5730\u5229\u7528\u8ba1\u7b97\u673a\u8d44\u6e90\u4ee5\u53ca\u8fdb\u884c\u65ad\u70b9\u91cd\u65b0\u8fd0\u884c\u3002\u6bd4\u5982\u4e0b\u9762\u7684\u8fd9\u4e2abpipe\u6d41\u7a0b\uff0c\u4e0b\u8f7d\u5373\u53ef\u4f7f\u7528\u5b83\uff1a * https://github.com/fun-science-club-ntu/PET \u7b2c\u4e09\u4e2a\u662f\u57fa\u4e8e\u914d\u7f6e\u6587\u4ef6 \u914d\u7f6e\u6587\u4ef6\u7684\u683c\u5f0f\u662fXML\u3001YAML\u3001TOML\u7b49\uff0c\u7136\u540e\u7528\u5bf9\u5e94\u7684\u683c\u5f0f\u89e3\u91ca\u5668\u4ee5\u53ca\u6267\u884c\u6b65\u9aa4\u5c31\u80fd\u5b8c\u6210\u6d41\u7a0b\u7684\u5206\u6790\u3002\u5e38\u89c1\u7684\u6d41\u7a0b\u6709Galaxy\u7b49\u3002 \u7b2c\u56db\u4e2a\u662f\u57fa\u4e8e\u5c01\u88c5/\u6253\u5305 \u5dee\u4e0d\u591a\u662f\u81ea\u5df1\u9020\u8f6e\u5b50\u4e86\uff0c\u800c\u4e0d\u4ec5\u4ec5\u662f\u6d41\u7a0b\u4e32\u8d77\u6765\u5404\u79cd\u5404\u6837\u7684\u5de5\u5177\uff0c\u6bd4\u5982GATK\u7b49\u7b49\uff0c\u4e00\u4e2a\u8f6f\u4ef6\u5c31\u5305\u542b\u4e86\u5168\u90e8\u6d41\u7a0b\u7684\u5404\u4e2a\u6b65\u9aa4\u3002 \u5176\u5b9e\u66f4\u591a\u7684\u6d41\u7a0b\u6846\u67b6\u662f\u7b80\u5355\u7684shell\u811a\u672c shell\u3001python\u3001perl\u811a\u672c\u5bf9\u4e8e\u65ad\u70b9\u8fd0\u884c\u3001\u4f9d\u8d56\u9879\u4fee\u6539\u4e0d\u591f\u53cb\u597d\u3002\u8bb8\u591a\u65f6\u5019\uff0c\u4f1a\u51fa\u73b0\u7a0b\u5e8f\u5f02\u5e38\u4e2d\u6b62\u9700\u8981\u91cd\u65b0\u8fd0\u884c\uff0c\u6216\u8005\u662f\u8fd0\u884c\u540e\uff0c\u53c8\u6709\u65b0\u7684\u8f93\u5165\u6587\u4ef6\u9700\u8981\u4e00\u8d77\u5206\u6790\u3002 \u661f\u661f\u8d8a\u591a\uff0c\u4ee3\u8868\u8d8a\u5bb9\u6613\u5f00\u53d1\u3001\u4f7f\u7528\u3001\u5e76\u884c\u6548\u7387\u9ad8 \u76ee\u524d\u4f7f\u7528\u6bd4\u8f83\u591a\u7684\u6d41\u7a0b\u7f16\u5199\u5de5\u5177 snakemake(\u57fa\u4e8epython),bpipe,Ruffus,Nextflow\uff08 http://nextflow.io \uff09 bpipe\u7684\u4f7f\u7528\u6d41\u7a0b\uff1a \u4e0b\u8f7dbpipe wget https://github.com/ssadedin/bpipe/releases/download/0.9.9.9/bpipe-0.9.9.9.tar.gz tar -zxvf bpipe-0.9.9.9.tar.gz cd bpipe-0.9.9.9//bin ./pipe -h \u6ce8\u610f\uff1a\u65b0\u7248\u672c\u7684\u53ef\u80fd\u4e0d\u517c\u5bb9\u65e7\u7248\u672c\u7684\u547d\u4ee4\u3002\u7248\u672c\u4e4b\u95f4\u517c\u5bb9\u6027\u53ef\u80fd\u6709\u4e9b\u95ee\u9898\u3002 bpipe\u547d\u4ee4\u53c2\u8003https://mp.weixin.qq.com/s?__biz=MzUzMTEwODk0Ng==&mid=2247487816&idx=1&sn=c87971a6a506c24ac80bc0d988287d55&scene=21#wechat_redirect","title":"\u751f\u7269\u4fe1\u606f\u5b66\u7ba1\u9053\u5de5\u5177\u7efc\u8ff0\uff1aA review of bioinformatic pipeline frameworks"},{"location":"literature-Reading/%E7%94%9F%E7%89%A9%E4%BF%A1%E6%81%AF%E5%AD%A6%E7%AE%A1%E9%81%93%E5%B7%A5%E5%85%B7%E7%BB%BC%E8%BF%B0%EF%BC%9AA-review-of-bioinformatic-pipeline-frameworks/#_1","text":"\u53ef\u663e\u793a\u5206\u6790\u8fdb\u5ea6\u3001\u56fe\u5f62\u5316\u754c\u9762\u8c03\u6574\u53c2\u6570","title":"\u9ad8\u7ea7\u529f\u80fd"},{"location":"literature-Reading/%E7%94%9F%E7%89%A9%E4%BF%A1%E6%81%AF%E5%AD%A6%E7%AE%A1%E9%81%93%E5%B7%A5%E5%85%B7%E7%BB%BC%E8%BF%B0%EF%BC%9AA-review-of-bioinformatic-pipeline-frameworks/#_2","text":"\u6bd4\u5982Nextflow\u3001Snakemake\u7b49\u7b49\uff0c","title":"\u7b2c\u4e00\u4e2a\u662f\u57fa\u4e8e\u901a\u914d\u7b26"},{"location":"literature-Reading/%E7%94%9F%E7%89%A9%E4%BF%A1%E6%81%AF%E5%AD%A6%E7%AE%A1%E9%81%93%E5%B7%A5%E5%85%B7%E7%BB%BC%E8%BF%B0%EF%BC%9AA-review-of-bioinformatic-pipeline-frameworks/#_3","text":"\u6bd4\u5982Ruffus\u548cbpipe\uff0c\u53c2\u8003\u300a\u751f\u4fe1\u83dc\u9e1f\u56e2\u300b\u7684\uff1a Bpipe | \u6559\u4f60\u8f7b\u677e\u642d\u5efa\u5206\u6790\u6d41\u7a0b \u5176\u5b9e\u5c31\u662f\u5728\u539f\u6709\u7684shell\u811a\u672c\u7684\u57fa\u7840\u4e0a\uff0c\u5c06\u6bcf\u4e2a\u5206\u6790\u6b65\u9aa4\u8fdb\u884c\u5305\u88c5\uff0c\u7136\u540e\u5229\u7528Bpipe\u7684\u8bed\u6cd5\u8fdb\u884c\u4e32\u8054\uff0c\u5c31\u80fd\u9ad8\u6548\u5730\u5229\u7528\u8ba1\u7b97\u673a\u8d44\u6e90\u4ee5\u53ca\u8fdb\u884c\u65ad\u70b9\u91cd\u65b0\u8fd0\u884c\u3002\u6bd4\u5982\u4e0b\u9762\u7684\u8fd9\u4e2abpipe\u6d41\u7a0b\uff0c\u4e0b\u8f7d\u5373\u53ef\u4f7f\u7528\u5b83\uff1a * https://github.com/fun-science-club-ntu/PET","title":"\u7b2c\u4e8c\u4e2a\u662f\u57fa\u4e8e\u6b65\u9aa4\u8854\u63a5"},{"location":"literature-Reading/%E7%94%9F%E7%89%A9%E4%BF%A1%E6%81%AF%E5%AD%A6%E7%AE%A1%E9%81%93%E5%B7%A5%E5%85%B7%E7%BB%BC%E8%BF%B0%EF%BC%9AA-review-of-bioinformatic-pipeline-frameworks/#_4","text":"\u914d\u7f6e\u6587\u4ef6\u7684\u683c\u5f0f\u662fXML\u3001YAML\u3001TOML\u7b49\uff0c\u7136\u540e\u7528\u5bf9\u5e94\u7684\u683c\u5f0f\u89e3\u91ca\u5668\u4ee5\u53ca\u6267\u884c\u6b65\u9aa4\u5c31\u80fd\u5b8c\u6210\u6d41\u7a0b\u7684\u5206\u6790\u3002\u5e38\u89c1\u7684\u6d41\u7a0b\u6709Galaxy\u7b49\u3002","title":"\u7b2c\u4e09\u4e2a\u662f\u57fa\u4e8e\u914d\u7f6e\u6587\u4ef6"},{"location":"literature-Reading/%E7%94%9F%E7%89%A9%E4%BF%A1%E6%81%AF%E5%AD%A6%E7%AE%A1%E9%81%93%E5%B7%A5%E5%85%B7%E7%BB%BC%E8%BF%B0%EF%BC%9AA-review-of-bioinformatic-pipeline-frameworks/#_5","text":"\u5dee\u4e0d\u591a\u662f\u81ea\u5df1\u9020\u8f6e\u5b50\u4e86\uff0c\u800c\u4e0d\u4ec5\u4ec5\u662f\u6d41\u7a0b\u4e32\u8d77\u6765\u5404\u79cd\u5404\u6837\u7684\u5de5\u5177\uff0c\u6bd4\u5982GATK\u7b49\u7b49\uff0c\u4e00\u4e2a\u8f6f\u4ef6\u5c31\u5305\u542b\u4e86\u5168\u90e8\u6d41\u7a0b\u7684\u5404\u4e2a\u6b65\u9aa4\u3002","title":"\u7b2c\u56db\u4e2a\u662f\u57fa\u4e8e\u5c01\u88c5/\u6253\u5305"},{"location":"literature-Reading/%E7%94%9F%E7%89%A9%E4%BF%A1%E6%81%AF%E5%AD%A6%E7%AE%A1%E9%81%93%E5%B7%A5%E5%85%B7%E7%BB%BC%E8%BF%B0%EF%BC%9AA-review-of-bioinformatic-pipeline-frameworks/#shell","text":"shell\u3001python\u3001perl\u811a\u672c\u5bf9\u4e8e\u65ad\u70b9\u8fd0\u884c\u3001\u4f9d\u8d56\u9879\u4fee\u6539\u4e0d\u591f\u53cb\u597d\u3002\u8bb8\u591a\u65f6\u5019\uff0c\u4f1a\u51fa\u73b0\u7a0b\u5e8f\u5f02\u5e38\u4e2d\u6b62\u9700\u8981\u91cd\u65b0\u8fd0\u884c\uff0c\u6216\u8005\u662f\u8fd0\u884c\u540e\uff0c\u53c8\u6709\u65b0\u7684\u8f93\u5165\u6587\u4ef6\u9700\u8981\u4e00\u8d77\u5206\u6790\u3002 \u661f\u661f\u8d8a\u591a\uff0c\u4ee3\u8868\u8d8a\u5bb9\u6613\u5f00\u53d1\u3001\u4f7f\u7528\u3001\u5e76\u884c\u6548\u7387\u9ad8","title":"\u5176\u5b9e\u66f4\u591a\u7684\u6d41\u7a0b\u6846\u67b6\u662f\u7b80\u5355\u7684shell\u811a\u672c"},{"location":"literature-Reading/%E7%94%9F%E7%89%A9%E4%BF%A1%E6%81%AF%E5%AD%A6%E7%AE%A1%E9%81%93%E5%B7%A5%E5%85%B7%E7%BB%BC%E8%BF%B0%EF%BC%9AA-review-of-bioinformatic-pipeline-frameworks/#_6","text":"snakemake(\u57fa\u4e8epython),bpipe,Ruffus,Nextflow\uff08 http://nextflow.io \uff09 bpipe\u7684\u4f7f\u7528\u6d41\u7a0b\uff1a \u4e0b\u8f7dbpipe wget https://github.com/ssadedin/bpipe/releases/download/0.9.9.9/bpipe-0.9.9.9.tar.gz tar -zxvf bpipe-0.9.9.9.tar.gz cd bpipe-0.9.9.9//bin ./pipe -h","title":"\u76ee\u524d\u4f7f\u7528\u6bd4\u8f83\u591a\u7684\u6d41\u7a0b\u7f16\u5199\u5de5\u5177"},{"location":"literature-Reading/%E7%94%9F%E7%89%A9%E4%BF%A1%E6%81%AF%E5%AD%A6%E7%AE%A1%E9%81%93%E5%B7%A5%E5%85%B7%E7%BB%BC%E8%BF%B0%EF%BC%9AA-review-of-bioinformatic-pipeline-frameworks/#_7","text":"bpipe\u547d\u4ee4\u53c2\u8003https://mp.weixin.qq.com/s?__biz=MzUzMTEwODk0Ng==&mid=2247487816&idx=1&sn=c87971a6a506c24ac80bc0d988287d55&scene=21#wechat_redirect","title":"\u6ce8\u610f\uff1a\u65b0\u7248\u672c\u7684\u53ef\u80fd\u4e0d\u517c\u5bb9\u65e7\u7248\u672c\u7684\u547d\u4ee4\u3002\u7248\u672c\u4e4b\u95f4\u517c\u5bb9\u6027\u53ef\u80fd\u6709\u4e9b\u95ee\u9898\u3002"},{"location":"machine-learning/Autogluon-%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E6%A1%86%E6%9E%B6/","text":"how to prevent your link ban by the website.Use code module may be a good choice. \u5b66\u4e60 https://mp.weixin.qq.com/s/ZD6zaIy89p-Nd-ZeI_SbIQ autogluon github https://auto.gluon.ai/stable/index.html auto.gluon\u652f\u6301\u6587\u672c\u3001\u56fe\u7247\u3001\u8868\u683c\u6570\u636e\u7684\u673a\u5668\u5b66\u4e60 Autugluon\u8fd0\u884c\u4e8epython3.6, 3.7, or 3.8 (3.8 support is experimental) 1.\u5b89\u88c5AutoGluon python3 -m pip install -U pip python3 -m pip install -U setuptools wheel python3 -m pip install -U \"mxnet<2.0.0\" python3 -m pip install --pre autogluon 2.\u5feb\u901f\u4e0a\u624b \u4f7f\u7528Autogluon\u53c2\u52a0kaggle\u7ade\u8d5b pip install kaggle","title":"Autogluon \u673a\u5668\u5b66\u4e60\u6846\u67b6"},{"location":"machine-learning/Autogluon-%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E6%A1%86%E6%9E%B6/#1autogluon","text":"python3 -m pip install -U pip python3 -m pip install -U setuptools wheel python3 -m pip install -U \"mxnet<2.0.0\" python3 -m pip install --pre autogluon","title":"1.\u5b89\u88c5AutoGluon"},{"location":"machine-learning/Autogluon-%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E6%A1%86%E6%9E%B6/#2","text":"","title":"2.\u5feb\u901f\u4e0a\u624b"},{"location":"machine-learning/Autogluon-%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E6%A1%86%E6%9E%B6/#autogluonkaggle","text":"pip install kaggle","title":"\u4f7f\u7528Autogluon\u53c2\u52a0kaggle\u7ade\u8d5b"},{"location":"machine-learning/Kaggle-%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AB%9E%E6%8A%80%E5%9C%BA/","text":"","title":"Kaggle \u673a\u5668\u5b66\u4e60\u7ade\u6280\u573a"},{"location":"machine-learning/Pytorch-%E5%85%85%E5%88%86%E5%88%A9%E7%94%A8GPU%E7%9A%84%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%B7%A5%E5%85%B7/","text":"https://pytorch.org/get-started/locally/ pytorch \u7528python\u7f16\u5199\u3002 pytorch github","title":"Pytorch \u5145\u5206\u5229\u7528GPU\u7684\u673a\u5668\u5b66\u4e60\u5de5\u5177"},{"location":"machine-learning/%E4%BD%BF%E7%94%A8you-get%E5%91%BD%E4%BB%A4%E8%A1%8C%E4%B8%8B%E8%BD%BD%E4%B8%BB%E6%B5%81%E5%B9%B3%E5%8F%B0%E8%A7%86%E9%A2%91%E6%96%87%E4%BB%B6/","text":"\u81ea\u4ece\u77e5\u9053\u4e86ffmpeg\u5f3a\u5927\u7684\u529f\u80fd\u540e\uff0c\u5c31\u53ef\u4ee5\u9884\u6d4bLinux\u7aef\uff0c\u89c6\u9891\u5904\u7406\u5de5\u5177\u8fdf\u65e9\u4f1a\u6709\u4eba\u6dfb\u7816\u52a0\u74e6\u7684\u3002 \u57fa\u4e8effmpeg\u5f00\u53d1\u7684you-get\u6765\u4e86\uff0c\u5f3a\u5927\u7684\u5de5\u5177\u53ef\u4ee5\u4e0b\u8f7d\u56fd\u5185\u4e3b\u8981\u89c6\u9891\u7f51\u7ad9\u548c\u56fd\u5916\u4e3b\u6d41\u7f51\u7ad9\u7684\u89c6\u9891\u3001\u97f3\u9891\u3001\u5b57\u5e55\u3002 1.\u4e0b\u8f7d\u5b89\u88c5 \u4f9d\u8d56 ffmpeg>1.0 ,python>3.2, RTMPDump \u53ef\u9009 \u5b89\u88c5 pip3 install you-get \u66f4\u65b0 pip3 install --upgrade you-get 2.\u4f7f\u7528\u65b9\u6cd5 \u76f4\u63a5\u4e0b\u8f7d(\u9ed8\u8ba4\u4f1a\u9009\u62e9\u6700\u9ad8\u5206\u8fa8\u7387\u7684\u89c6\u9891\u7248\u672c) you-get https://www.bilibili.com/video/BV19E411q7Ym/?spm_id_from=333.788.b_7265636f5f6c697374.16 \u67e5\u770b\u6709\u54ea\u4e9b\u5206\u8fa8\u7387 you-get -i https://www.bilibili.com/video/BV19E411q7Ym/?spm_id_from=333.788.b_7265636f5f6c697374.16 \u4e0b\u8f7d720p\u6307\u5b9a\u7248\u672c you-get --format=flv720 https://www.bilibili.com/video/BV19E411q7Ym/?spm_id_from=333.788.b_7265636f5f6c697374.16 \u5728\u4e0b\u8f7d\u54d4\u54e9\u54d4\u54e9\u7684\u89c6\u9891\u7684\u65f6\u5019\uff0c\u9ed8\u8ba4\u4f1a\u628a\u5f39\u5e55\u4e5f\u4e0b\u8f7d\u4e0b\u6765\u3002 \u4e0a\u8ff0\u89c6\u9891\u6587\u4ef6\u7684\u5f39\u5e55\u6587\u4ef6\u4e3a \u53f2\u4e0a\u6700\u826f\u5fc3\u7684\u5355\u53cd\u4f7f\u7528\u6559\u7a0b\uff08\u4e0a\uff09.cmt.xml \u6709\u4e86\u5f39\u5e55\u6587\u4ef6\uff0cpython\u6216\u8005R\u90fd\u53ef\u6279\u5904\u7406,\u51e0\u884c\u4ee3\u7801\u65e2\u53ef\u4ee5\u5b9e\u73b0\uff0c\u5f39\u5e55\u7684\u8bcd\u4e91\u3002\u53ef\u4ee5\u5206\u6790\u5f39\u5e55\u7684\u5173\u952e\u8bcd\u3002 \u6279\u91cf\u4e0b\u8f7d\u91cd\u547d\u540d \u6bd4\u5982\u8981\u4e0b\u8f7d\u67d0\u4e2a\u7cfb\u5217\u7684\u8bfe\u7a0b\uff0c\u5982\u679c\u4f60\u80fd\u53d1\u73b0\u6bcf\u4e2a\u8bfe\u7a0b\u7684\u94fe\u63a5\u7684\u89c4\u5f8b\uff0c\u53ef\u4ee5\u76f4\u63a5\u5199\u4ee3\u7801\u6279\u91cf\u4e0b\u8f7d\u3002 \u4f8b\u5982\uff1a\u817e\u8baf\u89c6\u9891\u67d0\u7535\u89c6\u5267\u76841\uff0c2\uff0c3\uff0c4\u96c6\u64ad\u653e\u5730\u5740\u5982\u4e0b https://v.qq.com/x/cover/mzc00200db1ddbp.html https://v.qq.com/x/cover/mzc00200db1ddbp/s00342k08s5.html https://v.qq.com/x/cover/mzc00200db1ddbp/s00342nhx2w.html https://v.qq.com/x/cover/mzc00200db1ddbp/n00348ajvds.html \u53ef\u4ee5\u731c\u51fa\u4e0a\u8ff0\u5730\u5740\uff0c\u524d\u9762\u90fd\u4e00\u6837\uff0c\u6700\u540e\u9762\u662fhash\u503c\uff0c\u9488\u5bf9\u8fd9\u4e2a\u89c6\u9891\u731c\u6d4b\u5e94\u8be5\u662f\u5355\u5b57\u7b26+00342+hash\u503c\u3002 \u5b9e\u5728\u4e0d\u4f1a\u89e3\u5bc6\uff0c\u5c31\u624b\u52a8\u70b9\u51fb\uff0c\u628a\u4e0b\u8f7d\u94fe\u63a5\u4fdd\u5b58\u5230\u4e00\u4e2atxt\u6587\u4ef6\uff0c\u7136\u540e\u7528\u811a\u672c\u5c31\u53ef\u4ee5\u6279\u91cf\u4e0b\u8f7d\u3002\u6216\u8005\u662f\u76f4\u63a5\u7528\u722c\u866b\uff0c\u722c\u5b8c\u4e00\u90e8\u7535\u89c6\u5267\u7684\u94fe\u63a5\u3002\u5982\u679c\u6709\u65f6\u95f4\uff0c\u6211\u4f1a\u5199\u4e00\u4e2a\u811a\u672c\uff0c\u6279\u91cf\u4e0b\u8f7d\u4e00\u90e8\u7535\u89c6\u5267\u3002 \u56e0\u4e3a\u89c6\u9891\u7f51\u7ad9\u4f1a\u4e0d\u5b9a\u671f\u66f4\u65b0\u63a5\u53e3\u548c\u4f18\u5316\uff0c\u6240\u4ee5\u8bb8\u591a\u7f51\u7ad9\u4e00\u6bb5\u65f6\u95f4\u540e\uff0c\u53ef\u80fd\u4f1a\u5931\u6548\u3002you-get\u7a0b\u5e8f\u7684\u5b9e\u8d28\u5c31\u662f\u4e00\u4e2a\u7f51\u7edc\u722c\u866b\u3002\u6240\u4ee5\u8bb0\u5f97\u7ecf\u5e38\u66f4\u65b0\u8f6f\u4ef6\uff0c\u5982\u679c\u62a5\u9519\u53ca\u65f6\u67e5\u770bgithub\u7684wiki\u4fe1\u606f\u3002\u6bd4\u5982\uff1a\u76ee\u524d\u4e0d\u652f\u6301\u7f51\u6613\u4e91\u97f3\u4e50\u4e86\u3002 \u5df2\u7ecf\u6709\u4ebapull\u4e86\u5bf9p\u7ad9\u514d\u8d39\u89c6\u9891\u7684\u4e0b\u8f7d\u3002 you-get\u7684gitHub you-get\u652f\u6301\u7684\u7ad9\u70b9 \u7f51\u7ad9 \u7f51\u5740 \u5f71\u7247 \u56fe\u7247 \u97f3\u9891 YouTube https://www.youtube.com/ \u2713 \u63a8\u7279 https://twitter.com/ \u2713 \u2713 VK http://vk.com/ \u2713 \u2713 \u85e4\u8513 https://vine.co/ \u2713 Vimeo https://vimeo.com/ \u2713 \u5a01\u6b27 http://www.veoh.com/ \u2713 Tumblr https://www.tumblr.com/ \u2713 \u2713 \u2713 TED http://www.ted.com/ \u2713 \u58f0\u4e91 https://soundcloud.com/ \u2713 \u5c55\u5385 https://www.showroom-live.com/ \u2713 Pinterest https://www.pinterest.com/ \u2713 MTV81 http://www.mtv81.com/ \u2713 \u6df7\u5408\u4e91 https://www.mixcloud.com/ \u2713 \u5496\u5561\u9986 http://www.metacafe.com/ \u2713 Magisto http://www.magisto.com/ \u2713 \u53ef\u6c57\u5b66\u9662 https://www.khanacademy.org/ \u2713 \u4e92\u8054\u7f51\u6863\u6848\u9986 https://archive.org/ \u2713 Instagram https://instagram.com/ \u2713 \u2713 InfoQ http://www.infoq.com/presentations/ \u2713 \u4f0a\u59c6\u53e4\u5c14 http://imgur.com/ \u2713 \u91cd\u97f3\u4e50\u6863\u6848 http://www.heavy-music.ru/ \u2713 \u81ea\u7531\u58f0\u97f3 http://www.freesound.org/ \u2713 Flickr https://www.flickr.com/ \u2713 \u2713 FC2\u89c6\u9891 http://video.fc2.com/ \u2713 \u8138\u4e66 https://www.facebook.com/ \u2713 ehow http://www.ehow.com/ \u2713 Dailymotion http://www.dailymotion.com/ \u2713 coub http://coub.com/ \u2713 \u54e5\u4f26\u6bd4\u4e9a\u5e7f\u64ad\u516c\u53f8 http://www.cbs.com/ \u2713 \u4e50\u961f\u590f\u4ee4\u8425 http://bandcamp.com/ \u2713 \u6cf0\u56fd\u6d3b\u7740 http://alive.in.th/ \u2713 interest.me http://ch.interest.me/tvn \u2713 755\u30ca\u30ca\u30b4\u30fc\u30b4\u30fc http://7gogo.jp/ \u2713 \u2713 niconico \u30cb\u30b3\u30cb\u30b3\u52a8\u753b http://www.nicovideo.jp/ \u2713 163\u7f51\u6613\u89c6\u9891\u7f51\u6613\u4e91\u97f3\u4e50 http://v.163.com/ http://music.163.com/ \u2713 \u2713 56\u7f51 http://www.56.com/ \u2713 Acfun http://www.acfun.cn/ \u2713 \u767e\u5ea6\u767e\u5ea6\u8d34\u5427 http://tieba.baidu.com/ \u2713 \u2713 \u7206\u7c73\u82b1\u7f51 http://www.baomihua.com/ \u2713 bilibili\u54d4\u54e9\u54d4\u54e9\u54e9 http://www.bilibili.com/ \u2713 \u2713 \u2713 \u8c46\u74e3 http://www.douban.com/ \u2713 \u2713 \u6597\u9c7c http://www.douyutv.com/ \u2713 \u51e4\u51f0\u89c6\u9891 http://v.ifeng.com/ \u2713 \u98ce\u884c\u7f51 http://www.fun.tv/ \u2713 \u7231\u5947\u827a http://www.iqiyi.com/ \u2713 \u6fc0\u52a8\u7f51 http://www.joy.cn/ \u2713 \u91776\u7f51 http://www.ku6.com/ \u2713 \u9177\u72d7\u97f3\u4e50 http://www.kugou.com/ \u2713 \u9177\u6211\u97f3\u4e50 http://www.kuwo.cn/ \u2713 \u4e50\u89c6\u7f51 http://www.le.com/ \u2713 \u8354\u679dFM http://www.lizhi.fm/ \u2713 \u79d2\u62cd http://www.miaopai.com/ \u2713 MioMio\u5f39\u5e55\u7f51 http://www.miomio.tv/ \u2713 MissEvan\u732b\u8033FM http://www.missevan.com/ \u2713 \u75de\u5ba2\u90a6 https://www.pixnet.net/ \u2713 PPTV\u805a\u529b http://www.pptv.com/ \u2713 \u9f50\u9c81\u7f51 http://v.iqilu.com/ \u2713 QQ\u817e\u8baf\u89c6\u9891 http://v.qq.com/ \u2713 \u4f01\u9e45\u76f4\u64ad http://live.qq.com/ \u2713 \u65b0\u6d6a \u65b0\u6d6a\u89c6\u9891 \u5fae\u535a \u79d2\u62cd\u89c6\u9891 http://video.sina.com.cn/ http://video.weibo.com/ \u2713 \u641c\u72d0\u89c6\u9891 http://tv.sohu.com/ \u2713 \u571f\u8c46\u7f51 \u571f\u8c46 http://www.tudou.com/ \u2713 \u867e\u7c73 http://www.xiami.com/ \u2713 \u2713 \u9633\u5149\u536b\u89c6 http://www.isuntv.com/ \u2713 \u97f3\u60a6\u53f0 http://www.yinyuetai.com/ \u2713 \u4f18\u9177 http://www.youku.com/ \u2713 \u6218\u65d7\u7535\u89c6 http://www.zhanqi.tv/lives \u2713 \u592e\u89c6\u7f51 http://www.cntv.cn/ \u2713 Naver \ub124\uc774\ubc84 http://tvcast.naver.com/ \u2713 \u8292\u679cTV http://www.mgtv.com/ \u2713 \u706b\u732b\u7535\u89c6 http://www.huomao.com/ \u2713 \u9633\u5149\u5bbd\u9891\u7f51 http://www.365yg.com/ \u2713 \u897f\u74dc\u89c6\u9891 https://www.ixigua.com/ \u2713 \u65b0\u7247\u573a https://www.xinpianchang.com// \u2713 \u5feb\u624b https://www.kuaishou.com/ \u2713 \u2713 \u6296\u97f3 https://www.douyin.com/ \u2713 TikTok https://www.tiktok.com/ \u2713 \u4e2d\u56fd\u4f53\u80b2\uff08\u7535\u89c6\uff09 http://v.zhibo.tv/ http://video.zhibo.tv/ \u2713 \u77e5\u4e4e https://www.zhihu.com/ \u2713","title":"\u4f7f\u7528you get\u547d\u4ee4\u884c\u4e0b\u8f7d\u4e3b\u6d41\u5e73\u53f0\u89c6\u9891\u6587\u4ef6"},{"location":"machine-learning/%E4%BD%BF%E7%94%A8you-get%E5%91%BD%E4%BB%A4%E8%A1%8C%E4%B8%8B%E8%BD%BD%E4%B8%BB%E6%B5%81%E5%B9%B3%E5%8F%B0%E8%A7%86%E9%A2%91%E6%96%87%E4%BB%B6/#1","text":"\u4f9d\u8d56 ffmpeg>1.0 ,python>3.2, RTMPDump \u53ef\u9009 \u5b89\u88c5 pip3 install you-get \u66f4\u65b0 pip3 install --upgrade you-get","title":"1.\u4e0b\u8f7d\u5b89\u88c5"},{"location":"machine-learning/%E4%BD%BF%E7%94%A8you-get%E5%91%BD%E4%BB%A4%E8%A1%8C%E4%B8%8B%E8%BD%BD%E4%B8%BB%E6%B5%81%E5%B9%B3%E5%8F%B0%E8%A7%86%E9%A2%91%E6%96%87%E4%BB%B6/#2","text":"\u76f4\u63a5\u4e0b\u8f7d(\u9ed8\u8ba4\u4f1a\u9009\u62e9\u6700\u9ad8\u5206\u8fa8\u7387\u7684\u89c6\u9891\u7248\u672c) you-get https://www.bilibili.com/video/BV19E411q7Ym/?spm_id_from=333.788.b_7265636f5f6c697374.16 \u67e5\u770b\u6709\u54ea\u4e9b\u5206\u8fa8\u7387 you-get -i https://www.bilibili.com/video/BV19E411q7Ym/?spm_id_from=333.788.b_7265636f5f6c697374.16 \u4e0b\u8f7d720p\u6307\u5b9a\u7248\u672c you-get --format=flv720 https://www.bilibili.com/video/BV19E411q7Ym/?spm_id_from=333.788.b_7265636f5f6c697374.16","title":"2.\u4f7f\u7528\u65b9\u6cd5"},{"location":"machine-learning/%E4%BD%BF%E7%94%A8you-get%E5%91%BD%E4%BB%A4%E8%A1%8C%E4%B8%8B%E8%BD%BD%E4%B8%BB%E6%B5%81%E5%B9%B3%E5%8F%B0%E8%A7%86%E9%A2%91%E6%96%87%E4%BB%B6/#_1","text":"\u4e0a\u8ff0\u89c6\u9891\u6587\u4ef6\u7684\u5f39\u5e55\u6587\u4ef6\u4e3a \u53f2\u4e0a\u6700\u826f\u5fc3\u7684\u5355\u53cd\u4f7f\u7528\u6559\u7a0b\uff08\u4e0a\uff09.cmt.xml \u6709\u4e86\u5f39\u5e55\u6587\u4ef6\uff0cpython\u6216\u8005R\u90fd\u53ef\u6279\u5904\u7406,\u51e0\u884c\u4ee3\u7801\u65e2\u53ef\u4ee5\u5b9e\u73b0\uff0c\u5f39\u5e55\u7684\u8bcd\u4e91\u3002\u53ef\u4ee5\u5206\u6790\u5f39\u5e55\u7684\u5173\u952e\u8bcd\u3002","title":"\u5728\u4e0b\u8f7d\u54d4\u54e9\u54d4\u54e9\u7684\u89c6\u9891\u7684\u65f6\u5019\uff0c\u9ed8\u8ba4\u4f1a\u628a\u5f39\u5e55\u4e5f\u4e0b\u8f7d\u4e0b\u6765\u3002"},{"location":"machine-learning/%E4%BD%BF%E7%94%A8you-get%E5%91%BD%E4%BB%A4%E8%A1%8C%E4%B8%8B%E8%BD%BD%E4%B8%BB%E6%B5%81%E5%B9%B3%E5%8F%B0%E8%A7%86%E9%A2%91%E6%96%87%E4%BB%B6/#_2","text":"\u6bd4\u5982\u8981\u4e0b\u8f7d\u67d0\u4e2a\u7cfb\u5217\u7684\u8bfe\u7a0b\uff0c\u5982\u679c\u4f60\u80fd\u53d1\u73b0\u6bcf\u4e2a\u8bfe\u7a0b\u7684\u94fe\u63a5\u7684\u89c4\u5f8b\uff0c\u53ef\u4ee5\u76f4\u63a5\u5199\u4ee3\u7801\u6279\u91cf\u4e0b\u8f7d\u3002 \u4f8b\u5982\uff1a\u817e\u8baf\u89c6\u9891\u67d0\u7535\u89c6\u5267\u76841\uff0c2\uff0c3\uff0c4\u96c6\u64ad\u653e\u5730\u5740\u5982\u4e0b https://v.qq.com/x/cover/mzc00200db1ddbp.html https://v.qq.com/x/cover/mzc00200db1ddbp/s00342k08s5.html https://v.qq.com/x/cover/mzc00200db1ddbp/s00342nhx2w.html https://v.qq.com/x/cover/mzc00200db1ddbp/n00348ajvds.html \u53ef\u4ee5\u731c\u51fa\u4e0a\u8ff0\u5730\u5740\uff0c\u524d\u9762\u90fd\u4e00\u6837\uff0c\u6700\u540e\u9762\u662fhash\u503c\uff0c\u9488\u5bf9\u8fd9\u4e2a\u89c6\u9891\u731c\u6d4b\u5e94\u8be5\u662f\u5355\u5b57\u7b26+00342+hash\u503c\u3002 \u5b9e\u5728\u4e0d\u4f1a\u89e3\u5bc6\uff0c\u5c31\u624b\u52a8\u70b9\u51fb\uff0c\u628a\u4e0b\u8f7d\u94fe\u63a5\u4fdd\u5b58\u5230\u4e00\u4e2atxt\u6587\u4ef6\uff0c\u7136\u540e\u7528\u811a\u672c\u5c31\u53ef\u4ee5\u6279\u91cf\u4e0b\u8f7d\u3002\u6216\u8005\u662f\u76f4\u63a5\u7528\u722c\u866b\uff0c\u722c\u5b8c\u4e00\u90e8\u7535\u89c6\u5267\u7684\u94fe\u63a5\u3002\u5982\u679c\u6709\u65f6\u95f4\uff0c\u6211\u4f1a\u5199\u4e00\u4e2a\u811a\u672c\uff0c\u6279\u91cf\u4e0b\u8f7d\u4e00\u90e8\u7535\u89c6\u5267\u3002","title":"\u6279\u91cf\u4e0b\u8f7d\u91cd\u547d\u540d"},{"location":"machine-learning/%E4%BD%BF%E7%94%A8you-get%E5%91%BD%E4%BB%A4%E8%A1%8C%E4%B8%8B%E8%BD%BD%E4%B8%BB%E6%B5%81%E5%B9%B3%E5%8F%B0%E8%A7%86%E9%A2%91%E6%96%87%E4%BB%B6/#you-getgithubwiki","text":"\u5df2\u7ecf\u6709\u4ebapull\u4e86\u5bf9p\u7ad9\u514d\u8d39\u89c6\u9891\u7684\u4e0b\u8f7d\u3002 you-get\u7684gitHub","title":"\u56e0\u4e3a\u89c6\u9891\u7f51\u7ad9\u4f1a\u4e0d\u5b9a\u671f\u66f4\u65b0\u63a5\u53e3\u548c\u4f18\u5316\uff0c\u6240\u4ee5\u8bb8\u591a\u7f51\u7ad9\u4e00\u6bb5\u65f6\u95f4\u540e\uff0c\u53ef\u80fd\u4f1a\u5931\u6548\u3002you-get\u7a0b\u5e8f\u7684\u5b9e\u8d28\u5c31\u662f\u4e00\u4e2a\u7f51\u7edc\u722c\u866b\u3002\u6240\u4ee5\u8bb0\u5f97\u7ecf\u5e38\u66f4\u65b0\u8f6f\u4ef6\uff0c\u5982\u679c\u62a5\u9519\u53ca\u65f6\u67e5\u770bgithub\u7684wiki\u4fe1\u606f\u3002\u6bd4\u5982\uff1a\u76ee\u524d\u4e0d\u652f\u6301\u7f51\u6613\u4e91\u97f3\u4e50\u4e86\u3002"},{"location":"machine-learning/%E4%BD%BF%E7%94%A8you-get%E5%91%BD%E4%BB%A4%E8%A1%8C%E4%B8%8B%E8%BD%BD%E4%B8%BB%E6%B5%81%E5%B9%B3%E5%8F%B0%E8%A7%86%E9%A2%91%E6%96%87%E4%BB%B6/#you-get","text":"\u7f51\u7ad9 \u7f51\u5740 \u5f71\u7247 \u56fe\u7247 \u97f3\u9891 YouTube https://www.youtube.com/ \u2713 \u63a8\u7279 https://twitter.com/ \u2713 \u2713 VK http://vk.com/ \u2713 \u2713 \u85e4\u8513 https://vine.co/ \u2713 Vimeo https://vimeo.com/ \u2713 \u5a01\u6b27 http://www.veoh.com/ \u2713 Tumblr https://www.tumblr.com/ \u2713 \u2713 \u2713 TED http://www.ted.com/ \u2713 \u58f0\u4e91 https://soundcloud.com/ \u2713 \u5c55\u5385 https://www.showroom-live.com/ \u2713 Pinterest https://www.pinterest.com/ \u2713 MTV81 http://www.mtv81.com/ \u2713 \u6df7\u5408\u4e91 https://www.mixcloud.com/ \u2713 \u5496\u5561\u9986 http://www.metacafe.com/ \u2713 Magisto http://www.magisto.com/ \u2713 \u53ef\u6c57\u5b66\u9662 https://www.khanacademy.org/ \u2713 \u4e92\u8054\u7f51\u6863\u6848\u9986 https://archive.org/ \u2713 Instagram https://instagram.com/ \u2713 \u2713 InfoQ http://www.infoq.com/presentations/ \u2713 \u4f0a\u59c6\u53e4\u5c14 http://imgur.com/ \u2713 \u91cd\u97f3\u4e50\u6863\u6848 http://www.heavy-music.ru/ \u2713 \u81ea\u7531\u58f0\u97f3 http://www.freesound.org/ \u2713 Flickr https://www.flickr.com/ \u2713 \u2713 FC2\u89c6\u9891 http://video.fc2.com/ \u2713 \u8138\u4e66 https://www.facebook.com/ \u2713 ehow http://www.ehow.com/ \u2713 Dailymotion http://www.dailymotion.com/ \u2713 coub http://coub.com/ \u2713 \u54e5\u4f26\u6bd4\u4e9a\u5e7f\u64ad\u516c\u53f8 http://www.cbs.com/ \u2713 \u4e50\u961f\u590f\u4ee4\u8425 http://bandcamp.com/ \u2713 \u6cf0\u56fd\u6d3b\u7740 http://alive.in.th/ \u2713 interest.me http://ch.interest.me/tvn \u2713 755\u30ca\u30ca\u30b4\u30fc\u30b4\u30fc http://7gogo.jp/ \u2713 \u2713 niconico \u30cb\u30b3\u30cb\u30b3\u52a8\u753b http://www.nicovideo.jp/ \u2713 163\u7f51\u6613\u89c6\u9891\u7f51\u6613\u4e91\u97f3\u4e50 http://v.163.com/ http://music.163.com/ \u2713 \u2713 56\u7f51 http://www.56.com/ \u2713 Acfun http://www.acfun.cn/ \u2713 \u767e\u5ea6\u767e\u5ea6\u8d34\u5427 http://tieba.baidu.com/ \u2713 \u2713 \u7206\u7c73\u82b1\u7f51 http://www.baomihua.com/ \u2713 bilibili\u54d4\u54e9\u54d4\u54e9\u54e9 http://www.bilibili.com/ \u2713 \u2713 \u2713 \u8c46\u74e3 http://www.douban.com/ \u2713 \u2713 \u6597\u9c7c http://www.douyutv.com/ \u2713 \u51e4\u51f0\u89c6\u9891 http://v.ifeng.com/ \u2713 \u98ce\u884c\u7f51 http://www.fun.tv/ \u2713 \u7231\u5947\u827a http://www.iqiyi.com/ \u2713 \u6fc0\u52a8\u7f51 http://www.joy.cn/ \u2713 \u91776\u7f51 http://www.ku6.com/ \u2713 \u9177\u72d7\u97f3\u4e50 http://www.kugou.com/ \u2713 \u9177\u6211\u97f3\u4e50 http://www.kuwo.cn/ \u2713 \u4e50\u89c6\u7f51 http://www.le.com/ \u2713 \u8354\u679dFM http://www.lizhi.fm/ \u2713 \u79d2\u62cd http://www.miaopai.com/ \u2713 MioMio\u5f39\u5e55\u7f51 http://www.miomio.tv/ \u2713 MissEvan\u732b\u8033FM http://www.missevan.com/ \u2713 \u75de\u5ba2\u90a6 https://www.pixnet.net/ \u2713 PPTV\u805a\u529b http://www.pptv.com/ \u2713 \u9f50\u9c81\u7f51 http://v.iqilu.com/ \u2713 QQ\u817e\u8baf\u89c6\u9891 http://v.qq.com/ \u2713 \u4f01\u9e45\u76f4\u64ad http://live.qq.com/ \u2713 \u65b0\u6d6a \u65b0\u6d6a\u89c6\u9891 \u5fae\u535a \u79d2\u62cd\u89c6\u9891 http://video.sina.com.cn/ http://video.weibo.com/ \u2713 \u641c\u72d0\u89c6\u9891 http://tv.sohu.com/ \u2713 \u571f\u8c46\u7f51 \u571f\u8c46 http://www.tudou.com/ \u2713 \u867e\u7c73 http://www.xiami.com/ \u2713 \u2713 \u9633\u5149\u536b\u89c6 http://www.isuntv.com/ \u2713 \u97f3\u60a6\u53f0 http://www.yinyuetai.com/ \u2713 \u4f18\u9177 http://www.youku.com/ \u2713 \u6218\u65d7\u7535\u89c6 http://www.zhanqi.tv/lives \u2713 \u592e\u89c6\u7f51 http://www.cntv.cn/ \u2713 Naver \ub124\uc774\ubc84 http://tvcast.naver.com/ \u2713 \u8292\u679cTV http://www.mgtv.com/ \u2713 \u706b\u732b\u7535\u89c6 http://www.huomao.com/ \u2713 \u9633\u5149\u5bbd\u9891\u7f51 http://www.365yg.com/ \u2713 \u897f\u74dc\u89c6\u9891 https://www.ixigua.com/ \u2713 \u65b0\u7247\u573a https://www.xinpianchang.com// \u2713 \u5feb\u624b https://www.kuaishou.com/ \u2713 \u2713 \u6296\u97f3 https://www.douyin.com/ \u2713 TikTok https://www.tiktok.com/ \u2713 \u4e2d\u56fd\u4f53\u80b2\uff08\u7535\u89c6\uff09 http://v.zhibo.tv/ http://video.zhibo.tv/ \u2713 \u77e5\u4e4e https://www.zhihu.com/ \u2713","title":"you-get\u652f\u6301\u7684\u7ad9\u70b9"},{"location":"machine-learning/%E5%90%B4%E6%81%A9%E8%BE%BE%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E8%AF%BE%E7%A8%8B/","text":"\u8bfe\u7a0b\u5305\u62ec\u89c6\u9891\u548c\u7ec3\u4e60\u9898\u3002 github\u5730\u5740 \u516c\u4f17\u53f7\u4ecb\u7ecd\u76f8\u5173\u4fe1\u606f mp4\u683c\u5f0f\u89c6\u9891\u4e0b\u8f7d\u5730\u5740: \u767e\u5ea6\u4e91 https://pan.baidu.com/s/1h8QjqBlOm0Exh7orm9teMQ \u5bc6\u7801\uff1ad3we\uff0c\u4e0b\u8f7d\u540e\u89e3\u538b \u8bfe\u7a0b\u4e3b\u8981\u5185\u5bb9\uff1a \u4ece\u57fa\u7840\u5230\u6709\u76d1\u7763\u5b66\u4e60\u548c\u65e0\u76d1\u7763\u5b66\u4e60\u3002 \u7ec8\u6781\u76ee\u6807\uff1a \u9a8c\u8bc1\u7801\u8bc6\u522b PCA K-mean","title":"\u5434\u6069\u8fbe\u673a\u5668\u5b66\u4e60\u8bfe\u7a0b"},{"location":"machine-learning/%E5%90%B4%E6%81%A9%E8%BE%BE%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E8%AF%BE%E7%A8%8B/#mp4","text":"","title":"mp4\u683c\u5f0f\u89c6\u9891\u4e0b\u8f7d\u5730\u5740:"},{"location":"machine-learning/%E5%90%B4%E6%81%A9%E8%BE%BE%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E8%AF%BE%E7%A8%8B/#httpspanbaiducoms1h8qjqblom0exh7orm9temq-d3we","text":"\u8bfe\u7a0b\u4e3b\u8981\u5185\u5bb9\uff1a \u4ece\u57fa\u7840\u5230\u6709\u76d1\u7763\u5b66\u4e60\u548c\u65e0\u76d1\u7763\u5b66\u4e60\u3002 \u7ec8\u6781\u76ee\u6807\uff1a \u9a8c\u8bc1\u7801\u8bc6\u522b PCA K-mean","title":"\u767e\u5ea6\u4e91 https://pan.baidu.com/s/1h8QjqBlOm0Exh7orm9teMQ \u5bc6\u7801\uff1ad3we\uff0c\u4e0b\u8f7d\u540e\u89e3\u538b"},{"location":"machine-learning/%E8%A7%86%E9%A2%91%E5%A4%84%E7%90%86%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7-ffmpeg%E5%92%8C%E8%87%AA%E5%8A%A8%E5%AD%97%E5%B9%95%E7%94%9F%E6%88%90%E5%B7%A5%E5%85%B7/","text":"\u975e\u4e13\u4e1a\u89c6\u9891\u540e\u671f\u4eba\u5458\uff0c\u53ea\u7528\u5230\u89c6\u9891\u7684\u5f55\u5236\uff0c\u538b\u7f29\uff0c\u8f6c\u7801\u3002 \u683c\u5f0f\u5de5\u5382+\u4f1a\u58f0\u4f1a\u5f71\uff0c\u8fd9\u662f\u5e38\u7528\u7684\u5de5\u5177\u3002 \u4ecb\u7ecd\u4e00\u4e2a\u547d\u4ee4\u884c\u5de5\u5177\uff1affmpeg \u53c2\u80031 \u53c2\u80032 github \u5b98\u7f51 \u5177\u4f53\u4f7f\u7528\u4e0a\u624b\uff0c\u6709\u65f6\u95f4\u4e86\u518d\u4ecb\u7ecd\u3002 python\u5927\u6cd5\u771f\u7684\u597d\u3002\u5f00\u6e90\u793e\u533a\uff0c\u529f\u80fd\u771f\u7684\u5168\u9762\u5f3a\u5927\u3002 \u89c6\u9891\u5904\u7406\u5de5\u5177(\u526a\u8f91\u3001\u538b\u7f29\u3001\u7b49\u7b49) ffmpeg \u5b57\u5e55\u81ea\u52a8\u751f\u6210\u5de5\u5177\uff08\u81ea\u52a8\u751f\u6210\u5b57\u5e55\uff09 autosub\u7684github autosub\u914d\u5408ffmpeg\uff0c\u7edd\u4f73\u7684\u642d\u914d\u3002 \u6587\u5b57\u8f6c\u8bed\u97f3 \u4e2d\u79d1\u5927\u8baf\u98deInterphonic.5.0\u8bed\u97f3\u5408\u6210\u7cfb\u7edf deepfaker\uff08\u6362\u8138\uff09 github thingscoop\uff08\u573a\u666f\u8bc6\u522b\uff09 github spleeter\u58f0\u97f3\u5904\u7406 \u7528\u4e8e\u5206\u79bb\u58f0\u97f3\u4e2d\u7684\u4eba\u58f0\uff0c\u4f34\u594f\u3002 spleeter github \u7ed3\u5408\u4ee5\u4e0a\u5de5\u5177\uff0c\u53ef\u4ee5\u505a\u7684\u4e8b\u60c5\u5f88\u591a\u3002\u6bd4\u5982\uff1a\u89c6\u9891\u4fee\u6539\u3002 \u53ef\u4ee52\u6b21\u52a0\u5de5\uff0c\u6574\u5408\u51e0\u4e2a\u5de5\u5177\u3002\u505a\u6210\u4e00\u4e2a\u7efc\u5408\u6027\u7684\u53ef\u89c6\u5316\u7684\u89c6\u9891\u5904\u7406\u8f6f\u4ef6\u3002","title":"\u89c6\u9891\u5904\u7406\u547d\u4ee4\u884c\u5de5\u5177 ffmpeg\u548c\u81ea\u52a8\u5b57\u5e55\u751f\u6210\u5de5\u5177"},{"location":"machine-learning/%E8%A7%86%E9%A2%91%E5%A4%84%E7%90%86%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7-ffmpeg%E5%92%8C%E8%87%AA%E5%8A%A8%E5%AD%97%E5%B9%95%E7%94%9F%E6%88%90%E5%B7%A5%E5%85%B7/#_1","text":"ffmpeg","title":"\u89c6\u9891\u5904\u7406\u5de5\u5177(\u526a\u8f91\u3001\u538b\u7f29\u3001\u7b49\u7b49)"},{"location":"machine-learning/%E8%A7%86%E9%A2%91%E5%A4%84%E7%90%86%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7-ffmpeg%E5%92%8C%E8%87%AA%E5%8A%A8%E5%AD%97%E5%B9%95%E7%94%9F%E6%88%90%E5%B7%A5%E5%85%B7/#_2","text":"autosub\u7684github autosub\u914d\u5408ffmpeg\uff0c\u7edd\u4f73\u7684\u642d\u914d\u3002","title":"\u5b57\u5e55\u81ea\u52a8\u751f\u6210\u5de5\u5177\uff08\u81ea\u52a8\u751f\u6210\u5b57\u5e55\uff09"},{"location":"machine-learning/%E8%A7%86%E9%A2%91%E5%A4%84%E7%90%86%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7-ffmpeg%E5%92%8C%E8%87%AA%E5%8A%A8%E5%AD%97%E5%B9%95%E7%94%9F%E6%88%90%E5%B7%A5%E5%85%B7/#_3","text":"\u4e2d\u79d1\u5927\u8baf\u98deInterphonic.5.0\u8bed\u97f3\u5408\u6210\u7cfb\u7edf","title":"\u6587\u5b57\u8f6c\u8bed\u97f3"},{"location":"machine-learning/%E8%A7%86%E9%A2%91%E5%A4%84%E7%90%86%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7-ffmpeg%E5%92%8C%E8%87%AA%E5%8A%A8%E5%AD%97%E5%B9%95%E7%94%9F%E6%88%90%E5%B7%A5%E5%85%B7/#deepfaker","text":"github","title":"deepfaker\uff08\u6362\u8138\uff09"},{"location":"machine-learning/%E8%A7%86%E9%A2%91%E5%A4%84%E7%90%86%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7-ffmpeg%E5%92%8C%E8%87%AA%E5%8A%A8%E5%AD%97%E5%B9%95%E7%94%9F%E6%88%90%E5%B7%A5%E5%85%B7/#thingscoop","text":"github","title":"thingscoop\uff08\u573a\u666f\u8bc6\u522b\uff09"},{"location":"machine-learning/%E8%A7%86%E9%A2%91%E5%A4%84%E7%90%86%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7-ffmpeg%E5%92%8C%E8%87%AA%E5%8A%A8%E5%AD%97%E5%B9%95%E7%94%9F%E6%88%90%E5%B7%A5%E5%85%B7/#spleeter","text":"\u7528\u4e8e\u5206\u79bb\u58f0\u97f3\u4e2d\u7684\u4eba\u58f0\uff0c\u4f34\u594f\u3002 spleeter github \u7ed3\u5408\u4ee5\u4e0a\u5de5\u5177\uff0c\u53ef\u4ee5\u505a\u7684\u4e8b\u60c5\u5f88\u591a\u3002\u6bd4\u5982\uff1a\u89c6\u9891\u4fee\u6539\u3002 \u53ef\u4ee52\u6b21\u52a0\u5de5\uff0c\u6574\u5408\u51e0\u4e2a\u5de5\u5177\u3002\u505a\u6210\u4e00\u4e2a\u7efc\u5408\u6027\u7684\u53ef\u89c6\u5316\u7684\u89c6\u9891\u5904\u7406\u8f6f\u4ef6\u3002","title":"spleeter\u58f0\u97f3\u5904\u7406"},{"location":"miRNA-and-LncRNA-research/LncRNA%E7%9A%84%E9%89%B4%E5%AE%9A/","text":"\u957f\u975e\u7f16\u7801RNA\uff08lncRNA\uff09\u662f\u529f\u80fd\u6027\u975e\u7ffb\u8bd1\u5206\u5b50\uff0c\u957f\u5ea6\u8d85\u8fc7200\u4e2a\u6838\u82f7\u9178\uff0c\u5177\u6709\u591a\u79cd\u4f5c\u7528\uff0c\u4f8b\u5982\u67d3\u8272\u8d28\u4fee\u9970\uff0c\u8f6c\u5f55\u8c03\u63a7\u548c\u86cb\u767d\u8d28\u6784\u8c61\u53d8\u5316\u3002 \u5176\u5b9eLncRNA\u5e76\u975e\u4e25\u683c\u610f\u4e49\u7684\u975e\u7f16\u7801RNA,\u8d8a\u6765\u8d8a\u591a\u7684LncRNA\u88ab\u53d1\u73b0\u6709sORF,\u7f16\u7801\u5c11\u4e8e100\u4e2a\u6c28\u57fa\u9178\u7684\u5fae\u80bd\u3002 \u690d\u7269\u4e2d\u7684LncRNA\u6570\u636e\u5e93\u6709\uff1a GreeNC #\u5305\u542b\u5e38\u7528\u7684\u690d\u7269LncRNA\u7684fasta\u5e8f\u5217\uff0c\u53ef\u4ee5\u76f4\u63a5\u4e0b\u8f7d\u5230\u672c\u5730\u4f7f\u7528\u3002 [PlncRNADB][http://bis.zju.edu.cn/PlncRNADB/index.php] \u652f\u6301\u7269\u79cd\u5c11\uff0c\u62df\u5357\u82a5\u3001\u7389\u7c73\u3001\u6bdb\u679c\u6768 LncRNA\u9274\u5b9a\u5de5\u5177\u7684\u7efc\u8ff0 2020 LncRNA\u7684\u9884\u6d4b\uff1a \u690d\u7269LncRNA\u9274\u5b9a\u4e13\u7528\u5de5\u5177 RNAplonc T.C. Negri, W.A.L. Alves, P.H. Bugatti, P.T.M. Saito, D.S. Domingues, A.R. Paschoal Pattern recognition analysis on long noncoding RNAs: a tool for prediction in plants Briefings in Bioinformatics\u2019, 20 (2019), pp. 682-689 CREMA C.M.A. Simopoulos, E.A. Weretilnyk, G.B. Golding Prediction of plant lncRNA by ensemble machine learning classifiers BMC Genomics, 19 (2018), p. 316 PLIT S. Deshpande, J. Shuttleworth, J. Yang, S. Taramonli, M. England PLIT: An alignment-free computational tool for identification of long non-coding RNAs in plant transcriptomic datasets Comput Biol Med, 105 (2019), pp. 169-181 \u5176\u4ed6\u7684LncRNA\u9274\u5b9a\u5de5\u5177 LGC\uff082019\u5e74\u53d1\u8868\uff09 LGC\u7528\u4e8e\u9884\u6d4bLncRNA \u52a8\u690d\u7269\u90fd\u53ef\u4ee5\u4f7f\u7528 LGC\u7684\u6587\u7ae0 \u8868\u660eLGC\u7684\u9884\u6d4b\u7684\u9c81\u68d2\u6027\u548c\u51c6\u786e\u5ea6\u8981\u9ad8\u4e8e\u57fa\u4e8e\u6bd4\u5bf9\u7684\u7b97\u6cd5 LGC\u57fa\u4e8eORF\u957f\u5ea6\u548cGC\u542b\u91cf\u4e4b\u95f4\u7684\u7279\u5f81\u5173\u7cfb\uff0c\u4e0e\u86cb\u767d\u8d28\u7f16\u7801RNA\u76f8\u6bd4\uff0c\u6765\u9884\u6d4bLncRNA CPC Kong L. et al. (2007) CPC: assess the protein-coding potential of transcripts using sequence features and support vector machine. Nucleic Acids Res., 35, W345\u2013W349. (Web Server issue). COME Hu L. et al. (2017) COME: a robust coding potential calculation tool for lncRNA identification and characterization based on multiple features. Nucleic Acids Res., 45, e2. PhyloCSF Lin M.F. et al. (2011) PhyloCSF: a comparative genomics method to distinguish protein coding and non-coding regions. Bioinformatics, 27, i275\u2013i282. \u7b80\u5355\u7684LncRNA\u6d4b\u5e8f\u5206\u6790\u6587\u7ae0 2020\u300aBMC genomics\u300b LncRNA LncRNA\u548cmiRNA\u76f8\u4e92\u4f5c\u7528 \u7efc\u8ff0 Veneziano D., Marceca G.P., Di Bella S., Nigita G., Distefano R., Croce C.M. (2019) Investigating miRNA\u2013lncRNA Interactions: Computational Tools and Resources. In: Lagan\u00e0 A. (eds) MicroRNA Target Identification. Methods in Molecular Biology, vol 1970. Humana Press, New York, NY. https://doi.org/10.1007/978-1-4939-9207-2_14","title":"LncRNA\u7684\u9274\u5b9a"},{"location":"miRNA-and-LncRNA-research/LncRNA%E7%9A%84%E9%89%B4%E5%AE%9A/#lncrna","text":"GreeNC #\u5305\u542b\u5e38\u7528\u7684\u690d\u7269LncRNA\u7684fasta\u5e8f\u5217\uff0c\u53ef\u4ee5\u76f4\u63a5\u4e0b\u8f7d\u5230\u672c\u5730\u4f7f\u7528\u3002 [PlncRNADB][http://bis.zju.edu.cn/PlncRNADB/index.php] \u652f\u6301\u7269\u79cd\u5c11\uff0c\u62df\u5357\u82a5\u3001\u7389\u7c73\u3001\u6bdb\u679c\u6768","title":"\u690d\u7269\u4e2d\u7684LncRNA\u6570\u636e\u5e93\u6709\uff1a"},{"location":"miRNA-and-LncRNA-research/LncRNA%E7%9A%84%E9%89%B4%E5%AE%9A/#lncrna-2020","text":"","title":"LncRNA\u9274\u5b9a\u5de5\u5177\u7684\u7efc\u8ff0 2020"},{"location":"miRNA-and-LncRNA-research/LncRNA%E7%9A%84%E9%89%B4%E5%AE%9A/#lncrna_1","text":"","title":"LncRNA\u7684\u9884\u6d4b\uff1a"},{"location":"miRNA-and-LncRNA-research/LncRNA%E7%9A%84%E9%89%B4%E5%AE%9A/#lncrna_2","text":"RNAplonc T.C. Negri, W.A.L. Alves, P.H. Bugatti, P.T.M. Saito, D.S. Domingues, A.R. Paschoal Pattern recognition analysis on long noncoding RNAs: a tool for prediction in plants Briefings in Bioinformatics\u2019, 20 (2019), pp. 682-689 CREMA C.M.A. Simopoulos, E.A. Weretilnyk, G.B. Golding Prediction of plant lncRNA by ensemble machine learning classifiers BMC Genomics, 19 (2018), p. 316 PLIT S. Deshpande, J. Shuttleworth, J. Yang, S. Taramonli, M. England PLIT: An alignment-free computational tool for identification of long non-coding RNAs in plant transcriptomic datasets Comput Biol Med, 105 (2019), pp. 169-181","title":"\u690d\u7269LncRNA\u9274\u5b9a\u4e13\u7528\u5de5\u5177"},{"location":"miRNA-and-LncRNA-research/LncRNA%E7%9A%84%E9%89%B4%E5%AE%9A/#lncrna_3","text":"LGC\uff082019\u5e74\u53d1\u8868\uff09 LGC\u7528\u4e8e\u9884\u6d4bLncRNA \u52a8\u690d\u7269\u90fd\u53ef\u4ee5\u4f7f\u7528 LGC\u7684\u6587\u7ae0 \u8868\u660eLGC\u7684\u9884\u6d4b\u7684\u9c81\u68d2\u6027\u548c\u51c6\u786e\u5ea6\u8981\u9ad8\u4e8e\u57fa\u4e8e\u6bd4\u5bf9\u7684\u7b97\u6cd5 LGC\u57fa\u4e8eORF\u957f\u5ea6\u548cGC\u542b\u91cf\u4e4b\u95f4\u7684\u7279\u5f81\u5173\u7cfb\uff0c\u4e0e\u86cb\u767d\u8d28\u7f16\u7801RNA\u76f8\u6bd4\uff0c\u6765\u9884\u6d4bLncRNA CPC Kong L. et al. (2007) CPC: assess the protein-coding potential of transcripts using sequence features and support vector machine. Nucleic Acids Res., 35, W345\u2013W349. (Web Server issue). COME Hu L. et al. (2017) COME: a robust coding potential calculation tool for lncRNA identification and characterization based on multiple features. Nucleic Acids Res., 45, e2. PhyloCSF Lin M.F. et al. (2011) PhyloCSF: a comparative genomics method to distinguish protein coding and non-coding regions. Bioinformatics, 27, i275\u2013i282.","title":"\u5176\u4ed6\u7684LncRNA\u9274\u5b9a\u5de5\u5177"},{"location":"miRNA-and-LncRNA-research/LncRNA%E7%9A%84%E9%89%B4%E5%AE%9A/#lncrna_4","text":"2020\u300aBMC genomics\u300b LncRNA LncRNA\u548cmiRNA\u76f8\u4e92\u4f5c\u7528 \u7efc\u8ff0 Veneziano D., Marceca G.P., Di Bella S., Nigita G., Distefano R., Croce C.M. (2019) Investigating miRNA\u2013lncRNA Interactions: Computational Tools and Resources. In: Lagan\u00e0 A. (eds) MicroRNA Target Identification. Methods in Molecular Biology, vol 1970. Humana Press, New York, NY. https://doi.org/10.1007/978-1-4939-9207-2_14","title":"\u7b80\u5355\u7684LncRNA\u6d4b\u5e8f\u5206\u6790\u6587\u7ae0"},{"location":"miRNA-and-LncRNA-research/bowtie%E7%9A%84%E5%AE%89%E8%A3%85%EF%BC%9Abowtie%E5%92%8Cbowtie2%E7%9A%84%E5%B7%AE%E5%88%AB/","text":"\u8bf4\u4e00\u4e0bfastqc,\u662f\u4e00\u4e2a\u8d28\u63a7\u5de5\u5177\u3002\u4e0d\u8f93\u5165\u4efb\u4f55\u53c2\u6570\u7684\u60c5\u51b5\u4e0b\uff0c\u9ed8\u8ba4\u4f1a\u6253\u5f00GUI\u6a21\u5f0f\u3002\u663e\u7136\u5927\u90e8\u5206\u4eba\u6ca1\u6709\u670d\u52a1\u5668\u7684\u7ba1\u7406\u5458\u6743\u9650\uff0c\u6240\u4ee5\u4f1a\u51fa\u73b0\u4e0b\u9762\u7684\u9519\u8bef\uff1a \u4e24\u8005\u90fd\u662f\u6bd4\u5bf9\u8f6f\u4ef6\uff0c\u4e24\u8005\u4e0d\u662f\u7b80\u5355\u7684\u5347\u7ea7\u7248\u7684\u5dee\u522b\u3002 bowtie \u4e0b\u8f7d\u5730\u5740 bowtie2 bowtie\u9002\u540835bp\u7684\u77ed\u8bfb\u957f bowtie2\u9002\u540850bp-1000bp\u7684\u77ed\u8bfb \u5b89\u88c5bowtie \u4e0b\u8f7d-\u89e3\u538b\u7f29 \u5728bowtie1.2\u76ee\u5f55\u6709\u4e00\u4e2abowtie\uff0c\u76f4\u63a5\u5728\u76ee\u5f55\u4e0b ./bowtie \u5373\u53ef\u8fd0\u884c\u3002\u4f5c\u4e3a\u61d2\u4eba\uff0c\u4e0d\u60f3\u6bcf\u6b21\u90fd\u627e\u8f6f\u4ef6\u5b89\u88c5\u5730\u5740\uff0c\u5c31\u6dfb\u52a0\u73af\u5883\u53d8\u91cf\u5427\u3002 \u6211\u7684\u73af\u5883\u53d8\u91cf\u4e00\u822c\u6dfb\u52a0\u5728 ~/.bash_profile \u6587\u4ef6\u91cc\u3002\u8fd9\u4e2a\u6587\u4ef6\u66f4\u6539\u540e\uff0c\u9700\u8981\u91cd\u542f\u7ec8\u7aef\u624d\u80fd\u751f\u6548\u3002\u5982\u679c\u4f60\u7684\u670d\u52a1\u5668\u4e0d\u5b58\u5728\u8fd9\u4e2a\u6587\u4ef6\uff0c\u81ea\u5df1vim\u4e00\u4e2a\u5c31\u53ef\u4ee5\u5566\u3002 \u6dfb\u52a0\u4e0b\u9762\u8fd9\u6761\uff0c export PATH=/$HOME/disk/soft/bowtie:$PATH \u4fdd\u5b58\uff0c\u91cd\u542f\u7ec8\u7aef\uff0c\u8fd0\u884c bowtie \u5c31\u53ef\u4ee5\u4e86\u3002 \u6ce8\u610f\uff1a\u6b63\u5e38\u60c5\u51b5\u4e0b\u89e3\u538b\u540e\u7684\u76ee\u5f55\u662f\uff0cbowtie-1.2,\u6211\u66f4\u6539\u4e3abowtie,\u4fee\u6539\u73af\u5883\u53d8\u91cf\u65f6\u6839\u636e\u81ea\u5df1\u7684\u5177\u4f53\u6587\u4ef6\u5939\u76ee\u5f55\u8bbe\u7f6e\u3002","title":"Bowtie\u7684\u5b89\u88c5\uff1abowtie\u548cbowtie2\u7684\u5dee\u522b"},{"location":"miRNA-and-LncRNA-research/miRNA-seq%E5%88%86%E6%9E%90%E6%B5%81%E7%A8%8B/","text":"\u53c2\u80030 \u53c2\u80031 miRNA\u9884\u6d4b\u5de5\u5177miRDeep-P2\u7b80\u660e\u6559\u7a0b \u690d\u7269miRNA\u9776\u57fa\u56e0\u9884\u6d4b \u4e0b\u673a\u6570\u636e\u6574\u7406\u6c47\u603b find -name ./msj *.clean.fastq.gz |xargs -i cp {} ./msj/clean/ \u67e5\u627e\u6240\u6709\u7684\u8d28\u63a7\u8fc7\u7684\u6570\u636e\uff0c\u79fb\u52a8\u5230clean\u6587\u4ef6\u5939\u3002 \u6211\u7684\u662f\u6c34\u7a3b\u7684miRNA\u6570\u636e\u3002\u6240\u4ee5\u5148\u4e0b\u8f7d\u6c34\u7a3b\u7684\u5404\u79cd\u6587\u4ef6\u3002 \u4e0b\u8f7d\u5730\u5740 \u5305\u62ec\u57fa\u56e0\u7ec4\u5e8f\u5217\u3001\u57fa\u56e0\u7ec4\u6ce8\u91ca\u3001\u57fa\u56e0\u7ec4\u86cb\u767d\u8d28\u6ce8\u91ca\u3001\u57fa\u56e0\u7ec4cds\u5e8f\u5217\u3002 \u4e0b\u8f7d miRNA\u6570\u636e \u4e0b\u8f7d miRNA\u6ce8\u91ca\u6587\u4ef6 1. \u6d4b\u5e8f\u4e0b\u673a\u6570\u636e\u8d28\u63a7\u3001\u53bb\u63a5\u5934\u3001\u68c0\u6d4b\u5206\u5e03 1.1 \u8d28\u63a7fastqc fastqc -i ./clean/*.fastq.gz -t 4 #4\u4e2a\u8fdb\u7a0b\u540c\u65f6\u8fd0\u884c 1.2 \u53bb\u63a5\u5934 miRNA\u7684\u4e00\u822c\u7528cutadapt,\u540c\u65f6\u53bb\u6389reads\u4e2d\u7684adapter\uff0c\u4f4e\u8d28\u91cf\u7684reads\u4ee5\u53ca\u8fc7\u957f\u8fc7\u77ed\u7684reads\u3002 cutadapt \u4e0b\u8f7d\u5b89\u88c5\u914d\u7f6e\u73af\u5883\u53d8\u91cf\uff0c \u53c2\u8003\u5b98\u7f51 \u73af\u5883\u53d8\u91cf\u5728 ~/.bashsrc_profile \u53bb\u6389\u63a5\u5934\u3002 cutadapt -a AGATCGGAAGAG --quality-base 33 -m 10 -q 20 --discard-untrimmed -o $Co1.fa >cutadapt.info \u5177\u4f53\u7684\u63a5\u5934\u6587\u4ef6\uff0c\u5728fastqc\u7684\u8f93\u51fa\u6587\u4ef6\u4e2d\uff0c\u627eadapter\u53ef\u4ee5\u770b\u5230\u3002 1.3 \u68c0\u6d4b\u7247\u6bb5\u5206\u5e03 \u65b0\u5efalength-distribute.py python \u4ee3\u7801\u5982\u4e0b\uff1a #!/usr/bin/env/ python3 #Author:Frank import sys miRNA_len={} #\u6b64\u5904\u768460\u957f\u5ea6\u6839\u636e\u4f60\u7684\u6bcf\u884c\u6570\u636e\u7684\u6700\u957f\u957f\u5ea6\u8bbe\u7f6e\uff0c\u8fc7\u5c0f\u53ef\u80fd\u4f1a\u62a5\u9519\u3002 for i in range(0,60): miRNA_len[i]=0 for i in open(sys.argv[1]): if i.startswith('@') or i.startswith('+'): continue length=len(i)-1 miRNA_len[length] += 1 for i in miRNA_len: print(str(i)+\"\\t\"+str(miRNA_len[i]/2)) \u4f7f\u7528\u65b9\u6cd5\uff1a \u793a\u4f8b\uff1a python3 length-distribute.py ./merge/S168-Na-1_L1.fastq >S168-1.stat \u5b9e\u9645\u4f7f\u7528\u811a\u672c\u5faa\u73af\u6240\u6709\u6570\u636e\uff1a 2. \u62fc\u63a5 miRNA\u62fc\u63a5\u6700\u597d\u4f7f\u7528bowtie\uff0c\u800c\u4e0d\u662fbowtie2. \u8be6\u60c5\u5730\u5740 2.1 bowtie\u7684\u4f7f\u7528 -\u5efa\u7acb\u7d22\u5f15 bowtie-build -f genome.fasta genome.fa & bowtie-build -f miRNA.fa miRNA.fa & bowtie -q -v 2 -l 10 -k 15 genome.fa C01.fa -S c01.sam 2>mapping.info \u6b64\u5904\u6bd4\u5bf9\u6211\u5b9e\u9645\u4f7f\u7528\u7684\u811a\u672c\u5faa\u73af\uff0c\u56e0\u4e3a\u6837\u672c\u91cf\u592a\u591a\u4e86\u3002 name_array=(Co1 S168-Na STTM168 Co1-Na) for ((n=0;n<4;n++)); do for ((i=1;i<4;i++)); do read=\"./merge/\"${name_array[$n]}\"-\"$i\"_L1.fastq\" bowtie -q -v 2 -l 10 -k 15 genome.fa $read -S ${name_array[$n]}\"-\"$i\".sam\" 2>>mapping.info done done \u5728\u8f93\u51fa\u6587\u4ef6mapping.info\u4e2d\u53ef\u4ee5\u627e\u5230mapping\u5230\u7684\u6bd4\u7387\u3002 \u6574\u4f53\u572890%\u4ee5\u4e0a\uff0c\u6570\u636e\u6bd4\u8f83\u597d\u3002 \u5bf9\u4e8emiRNA\u6bd4\u5bf9\u4e00\u822c\u67092\u79cd\u65b9\u5f0f\uff0c\u4e00\u79cd\u662f\u6bd4\u5bf9\u5230\u57fa\u56e0\u7ec4\u4e0a\uff0c\u53e6\u4e00\u79cd\u662f\u6bd4\u5bf9\u5230\u5bf9\u5e94\u7269\u79cd\u7684miRNA\u6570\u636e\u5e93\u4e2d\u3002\u6b64\u5904\u7684genome.fa\u662f\u57fa\u56e0\u7ec4\u6587\u4ef6\u3002 -mi.fa \u662f\u628amiRNA.fa\u7684U\u78b1\u57fa\u8f6c\u6362\u6210T\u78b1\u57fa\u3002 -miRNA.fa \u662f\u539f\u59cb\u7684\u4ece mirbase \u4e0b\u8f7d\u7684\u830e\u73af\u7ed3\u6784\u7684\u6570\u636e\uff0c\u81ea\u5df1\u547d\u540d\u3002 bowtie\u5206\u522b\u6784\u5efa\u4e0a\u8ff0\u4e09\u4e2a\u57fa\u56e0\u7ec4\u7684\u7d22\u5f15\u6587\u4ef6\u3002 \u53c2\u8003 \u66fe\u5efa\u660e\u591a\u5e74\u524d\u7684 \u63d0\u95ee \uff0cmiRNA\u6bd4\u5bf9\u5230mirBase\u7684miRNA\u6570\u636e\u5e93\u65f6\uff0c\u662f\u9700\u8981\u628aU\u8f6c\u6362\u4e3aT\u7684\u3002 \u4f46\u662f\u4e8b\u5b9e\u4e0a\uff0c\u8f6c\u53d8\u78b1\u57fa\u4e4b\u540e\u7684\u6bd4\u5bf9\u6548\u679c\u4ecd\u7136\u5f88\u4f4e\uff080.1-0.2%\uff09\u3002\u4e0d\u77e5\u9053\u539f\u56e0\u3002\u6240\u4ee5\u6211\u6682\u65f6\u4f7f\u7528\u7684\u662f\u548c\u57fa\u56e0\u7ec4\u7684\u6bd4\u5bf9\u7ed3\u679c\u3002 3. \u5b89\u88c5\u4f7f\u7528HTSeq\uff08\u975eroot\u7528\u6237\uff09\uff08\u636e\u8bf4\u53ef\u4ee5\u4f7f\u7528featurecount\u66ff\u4ee3HTSeq\uff09 \u4f5c\u4e3a\u975eroot\u7528\u6237\uff0c\u5b89\u88c5\u8bb8\u591a\u8f6f\u4ef6\u975e\u5e38\u5934\u75bc\u3002\u603b\u662f\u6ca1\u6709\u6743\u9650\u3002 \u5148\u5728GitHub\u4e0b\u8f7dhtseq\u3002 \u4e0b\u8f7d\u5730\u5740 unzip htseq-master python setup.py build install --user \u5b89\u88c5\u5b8c\u6210\uff0c\u6dfb\u52a0\u73af\u5883\u53d8\u91cf\u3002 vim ~/.bash_profile export PATH=$HOME/chaim/.local/bin:$PATH \u91cd\u542f\u7ec8\u7aef\uff0c\u6d4b\u8bd5htseq\u3002 htseq-count -h \u4f1a\u51fa\u73b0\u76f8\u5e94\u7684\u5e2e\u52a9\u4fe1\u606f\u3002 HTSeq-count\u4f7f\u7528API htseq\u7edf\u8ba1counts\u7684\u811a\u672c #!/bin/bash name_array=(Co1 S168-Na STTM168 Co1-Na) for ((n=0;n<4;n++)); do for ((num=1;num<4;num++)); do htseq-count -s no -t miRNA -i ID -o ${name_array[$n]}\"-\"$num\".hc.sam\" ${name_array[$n]}\"-\"$num\".sam\" miRNA.gff3 | tee ${name_array[$n]}\"-\"$num\".count\" ls ${name_array[$n]}\"-\"$num\".count\" >> count.list #echo ${name_array[$n]}\"-\"$num\"count\" done done \u5410\u69fd\u4e00\u4e0b,\u6c34\u7a3b\u57fa\u56e0\u7ec4\u672c\u8eab\u662f\u67092\u79cd\u547d\u540d\u683c\u5f0f\u7684\uff0c\u57fa\u56e0\u6ce8\u91ca\u662f\u6709Chr1\u548cChr01\u7684\u683c\u5f0f\u7684\u3002\u6240\u4ee5\u4e00\u5b9a\u8981\u770b\u6e05\u695a\u81ea\u5df1\u7684\u6ce8\u91ca\u6587\u4ef6\u548cSam\u6587\u4ef6\u7684\u683c\u5f0f\u662f\u5426\u4e00\u81f4\uff0c\u5426\u5219\u4f1a\u51fa\u73b0counts=0. 4. \u8868\u8fbe\u91cf\u5dee\u5f02\u5206\u6790\uff08R\u8bed\u8a00\u4e2d\u64cd\u4f5c\uff09 \u65e0\u751f\u7269\u5b66\u91cd\u590d\u4f7f\u7528DEGseq\uff0c\u6709\u751f\u7269\u5b66\u91cd\u590d\u4f7f\u7528DESeq2 \u65e0\u751f\u7269\u5b66\u91cd\u590dDEGseq\uff08\u4ee5\u4e0b\u4ee3\u7801\u6458\u81ea\u5f15\u75281\uff0c\u672a\u7ecf\u8fc7\u5b9e\u8df5\u3002\uff09 library(\"DEGseq\") #BT_0_1 geneExpMatrix1<- readGeneExp(\"ht.genotype_data1.txt\", geneCol=1, valCol=3) geneExpMatrix2<- readGeneExp(\"ht.genotype_data2.txt\", geneCol=1, valCol=2) write.table(geneExpMatrix1[30:31,],row.names=FALSE) write.table(geneExpMatrix2[30:31,],row.names=FALSE) pdf(file=\"data1_2.pdf\") layout(matrix(c(1,2,3,4,5,6),3, 2, byrow=TRUE)) par(mar=c(2,2, 2, 2)) DEGexp(geneExpMatrix1=geneExpMatrix1,geneCol1=1, expCol1=2, groupLabel1=\"data1\",geneExpMatrix2=geneExpMatrix2,geneCol2=1, expCol2=2,groupLabel2=\"data2\",method=\"MARS\",outputDir=\"05DEmiRNA/DEGSeq\") dev.off() \u6709\u751f\u7269\u5b66\u91cd\u590dDESeq2 (RNA-seq\u4e5f\u53ef\u4ee5\u4f7f\u7528\u5b83\u8ba1\u7b97\u8868\u8fbe\u91cf) \u4f7f\u7528DESeq2\u4e4b\u524d\u5148\u751f\u6210\u77e9\u9635,\u4f7f\u7528 prepDE.py python2.7 /disks/backup/chaim/soft/prepDE.py -i gtf2 gtf2\u6587\u4ef6\u5185\u5bb9 library(\"DESeq\")data=read.table(\"ht.genotype_data.txt\",header=TRUE,row.names=1)pd=data.frame(row.names=colnames(data),condition=c(\"data3\",\"data3\",\"data4\",\"data4\"),libType=c(\"single-end\",\"single-end\",\"single-end\",\"single-end\"))ps=pd$libType==\"single-end\"ct=data[,ps]condition=pd$condition[ps]cds=newCountDataSet(ct,condition)cds= estimateSizeFactors(cds)sizeFactors(cds)cds= estimateDispersions(cds)res=nbinomTest(cds,\"data3\",\"data4\")write.table(res,file=\"data3_data4.xls\")quit() 5. miRNA\u6837\u672c\u914d\u5bf9mRNA\u8868\u8fbe\u91cf\u83b7\u53d6 \u53c2\u8003 \u5dee\u5f02\u8868\u8fbe\u5206\u6790 \u751f\u4fe1\u83dc\u9e1f\u56e2 weibo 6.miRNA-mRNA\u8868\u8fbe\u76f8\u5173\u4e0b\u6e38\u5206\u6790 >\u5f53\u524d\u8fdb\u5c55\uff0c\u8be5\u8bbe\u8ba1\u811a\u672c\u8dd1python\u7684\u6570\u636e\u5206\u6790\uff0c\u7b49\u5f85htseq\u7684\u8fd0\u884c\u7ed3\u679c\u3002\u56e0\u5fd9\u4e8e\u6bd5\u4e1a\u8003\u535a\u4e8b\u5b9c\uff0c\u6b64\u9879\u76ee\u505c\u66f4\u3002\u5f88\u62b1\u6b49\uff01<","title":"miRNA seq\u5206\u6790\u6d41\u7a0b"},{"location":"miRNA-and-LncRNA-research/miRNA-seq%E5%88%86%E6%9E%90%E6%B5%81%E7%A8%8B/#1","text":"1.1 \u8d28\u63a7fastqc fastqc -i ./clean/*.fastq.gz -t 4 #4\u4e2a\u8fdb\u7a0b\u540c\u65f6\u8fd0\u884c 1.2 \u53bb\u63a5\u5934 miRNA\u7684\u4e00\u822c\u7528cutadapt,\u540c\u65f6\u53bb\u6389reads\u4e2d\u7684adapter\uff0c\u4f4e\u8d28\u91cf\u7684reads\u4ee5\u53ca\u8fc7\u957f\u8fc7\u77ed\u7684reads\u3002 cutadapt \u4e0b\u8f7d\u5b89\u88c5\u914d\u7f6e\u73af\u5883\u53d8\u91cf\uff0c \u53c2\u8003\u5b98\u7f51 \u73af\u5883\u53d8\u91cf\u5728 ~/.bashsrc_profile \u53bb\u6389\u63a5\u5934\u3002 cutadapt -a AGATCGGAAGAG --quality-base 33 -m 10 -q 20 --discard-untrimmed -o $Co1.fa >cutadapt.info \u5177\u4f53\u7684\u63a5\u5934\u6587\u4ef6\uff0c\u5728fastqc\u7684\u8f93\u51fa\u6587\u4ef6\u4e2d\uff0c\u627eadapter\u53ef\u4ee5\u770b\u5230\u3002 1.3 \u68c0\u6d4b\u7247\u6bb5\u5206\u5e03 \u65b0\u5efalength-distribute.py python \u4ee3\u7801\u5982\u4e0b\uff1a #!/usr/bin/env/ python3 #Author:Frank import sys miRNA_len={} #\u6b64\u5904\u768460\u957f\u5ea6\u6839\u636e\u4f60\u7684\u6bcf\u884c\u6570\u636e\u7684\u6700\u957f\u957f\u5ea6\u8bbe\u7f6e\uff0c\u8fc7\u5c0f\u53ef\u80fd\u4f1a\u62a5\u9519\u3002 for i in range(0,60): miRNA_len[i]=0 for i in open(sys.argv[1]): if i.startswith('@') or i.startswith('+'): continue length=len(i)-1 miRNA_len[length] += 1 for i in miRNA_len: print(str(i)+\"\\t\"+str(miRNA_len[i]/2)) \u4f7f\u7528\u65b9\u6cd5\uff1a \u793a\u4f8b\uff1a python3 length-distribute.py ./merge/S168-Na-1_L1.fastq >S168-1.stat \u5b9e\u9645\u4f7f\u7528\u811a\u672c\u5faa\u73af\u6240\u6709\u6570\u636e\uff1a","title":"1. \u6d4b\u5e8f\u4e0b\u673a\u6570\u636e\u8d28\u63a7\u3001\u53bb\u63a5\u5934\u3001\u68c0\u6d4b\u5206\u5e03"},{"location":"miRNA-and-LncRNA-research/miRNA-seq%E5%88%86%E6%9E%90%E6%B5%81%E7%A8%8B/#2","text":"miRNA\u62fc\u63a5\u6700\u597d\u4f7f\u7528bowtie\uff0c\u800c\u4e0d\u662fbowtie2. \u8be6\u60c5\u5730\u5740 2.1 bowtie\u7684\u4f7f\u7528 -\u5efa\u7acb\u7d22\u5f15 bowtie-build -f genome.fasta genome.fa & bowtie-build -f miRNA.fa miRNA.fa & bowtie -q -v 2 -l 10 -k 15 genome.fa C01.fa -S c01.sam 2>mapping.info \u6b64\u5904\u6bd4\u5bf9\u6211\u5b9e\u9645\u4f7f\u7528\u7684\u811a\u672c\u5faa\u73af\uff0c\u56e0\u4e3a\u6837\u672c\u91cf\u592a\u591a\u4e86\u3002 name_array=(Co1 S168-Na STTM168 Co1-Na) for ((n=0;n<4;n++)); do for ((i=1;i<4;i++)); do read=\"./merge/\"${name_array[$n]}\"-\"$i\"_L1.fastq\" bowtie -q -v 2 -l 10 -k 15 genome.fa $read -S ${name_array[$n]}\"-\"$i\".sam\" 2>>mapping.info done done \u5728\u8f93\u51fa\u6587\u4ef6mapping.info\u4e2d\u53ef\u4ee5\u627e\u5230mapping\u5230\u7684\u6bd4\u7387\u3002 \u6574\u4f53\u572890%\u4ee5\u4e0a\uff0c\u6570\u636e\u6bd4\u8f83\u597d\u3002","title":"2. \u62fc\u63a5"},{"location":"miRNA-and-LncRNA-research/miRNA-seq%E5%88%86%E6%9E%90%E6%B5%81%E7%A8%8B/#mirna2mirnagenomefa","text":"-mi.fa \u662f\u628amiRNA.fa\u7684U\u78b1\u57fa\u8f6c\u6362\u6210T\u78b1\u57fa\u3002 -miRNA.fa \u662f\u539f\u59cb\u7684\u4ece mirbase \u4e0b\u8f7d\u7684\u830e\u73af\u7ed3\u6784\u7684\u6570\u636e\uff0c\u81ea\u5df1\u547d\u540d\u3002 bowtie\u5206\u522b\u6784\u5efa\u4e0a\u8ff0\u4e09\u4e2a\u57fa\u56e0\u7ec4\u7684\u7d22\u5f15\u6587\u4ef6\u3002 \u53c2\u8003 \u66fe\u5efa\u660e\u591a\u5e74\u524d\u7684 \u63d0\u95ee \uff0cmiRNA\u6bd4\u5bf9\u5230mirBase\u7684miRNA\u6570\u636e\u5e93\u65f6\uff0c\u662f\u9700\u8981\u628aU\u8f6c\u6362\u4e3aT\u7684\u3002 \u4f46\u662f\u4e8b\u5b9e\u4e0a\uff0c\u8f6c\u53d8\u78b1\u57fa\u4e4b\u540e\u7684\u6bd4\u5bf9\u6548\u679c\u4ecd\u7136\u5f88\u4f4e\uff080.1-0.2%\uff09\u3002\u4e0d\u77e5\u9053\u539f\u56e0\u3002\u6240\u4ee5\u6211\u6682\u65f6\u4f7f\u7528\u7684\u662f\u548c\u57fa\u56e0\u7ec4\u7684\u6bd4\u5bf9\u7ed3\u679c\u3002","title":"\u5bf9\u4e8emiRNA\u6bd4\u5bf9\u4e00\u822c\u67092\u79cd\u65b9\u5f0f\uff0c\u4e00\u79cd\u662f\u6bd4\u5bf9\u5230\u57fa\u56e0\u7ec4\u4e0a\uff0c\u53e6\u4e00\u79cd\u662f\u6bd4\u5bf9\u5230\u5bf9\u5e94\u7269\u79cd\u7684miRNA\u6570\u636e\u5e93\u4e2d\u3002\u6b64\u5904\u7684genome.fa\u662f\u57fa\u56e0\u7ec4\u6587\u4ef6\u3002"},{"location":"miRNA-and-LncRNA-research/miRNA-seq%E5%88%86%E6%9E%90%E6%B5%81%E7%A8%8B/#3-htseqrootfeaturecounthtseq","text":"\u4f5c\u4e3a\u975eroot\u7528\u6237\uff0c\u5b89\u88c5\u8bb8\u591a\u8f6f\u4ef6\u975e\u5e38\u5934\u75bc\u3002\u603b\u662f\u6ca1\u6709\u6743\u9650\u3002 \u5148\u5728GitHub\u4e0b\u8f7dhtseq\u3002 \u4e0b\u8f7d\u5730\u5740 unzip htseq-master python setup.py build install --user \u5b89\u88c5\u5b8c\u6210\uff0c\u6dfb\u52a0\u73af\u5883\u53d8\u91cf\u3002 vim ~/.bash_profile export PATH=$HOME/chaim/.local/bin:$PATH \u91cd\u542f\u7ec8\u7aef\uff0c\u6d4b\u8bd5htseq\u3002 htseq-count -h \u4f1a\u51fa\u73b0\u76f8\u5e94\u7684\u5e2e\u52a9\u4fe1\u606f\u3002 HTSeq-count\u4f7f\u7528API htseq\u7edf\u8ba1counts\u7684\u811a\u672c #!/bin/bash name_array=(Co1 S168-Na STTM168 Co1-Na) for ((n=0;n<4;n++)); do for ((num=1;num<4;num++)); do htseq-count -s no -t miRNA -i ID -o ${name_array[$n]}\"-\"$num\".hc.sam\" ${name_array[$n]}\"-\"$num\".sam\" miRNA.gff3 | tee ${name_array[$n]}\"-\"$num\".count\" ls ${name_array[$n]}\"-\"$num\".count\" >> count.list #echo ${name_array[$n]}\"-\"$num\"count\" done done \u5410\u69fd\u4e00\u4e0b,\u6c34\u7a3b\u57fa\u56e0\u7ec4\u672c\u8eab\u662f\u67092\u79cd\u547d\u540d\u683c\u5f0f\u7684\uff0c\u57fa\u56e0\u6ce8\u91ca\u662f\u6709Chr1\u548cChr01\u7684\u683c\u5f0f\u7684\u3002\u6240\u4ee5\u4e00\u5b9a\u8981\u770b\u6e05\u695a\u81ea\u5df1\u7684\u6ce8\u91ca\u6587\u4ef6\u548cSam\u6587\u4ef6\u7684\u683c\u5f0f\u662f\u5426\u4e00\u81f4\uff0c\u5426\u5219\u4f1a\u51fa\u73b0counts=0.","title":"3. \u5b89\u88c5\u4f7f\u7528HTSeq\uff08\u975eroot\u7528\u6237\uff09\uff08\u636e\u8bf4\u53ef\u4ee5\u4f7f\u7528featurecount\u66ff\u4ee3HTSeq\uff09"},{"location":"miRNA-and-LncRNA-research/miRNA-seq%E5%88%86%E6%9E%90%E6%B5%81%E7%A8%8B/#4-r","text":"\u65e0\u751f\u7269\u5b66\u91cd\u590d\u4f7f\u7528DEGseq\uff0c\u6709\u751f\u7269\u5b66\u91cd\u590d\u4f7f\u7528DESeq2 \u65e0\u751f\u7269\u5b66\u91cd\u590dDEGseq\uff08\u4ee5\u4e0b\u4ee3\u7801\u6458\u81ea\u5f15\u75281\uff0c\u672a\u7ecf\u8fc7\u5b9e\u8df5\u3002\uff09 library(\"DEGseq\") #BT_0_1 geneExpMatrix1<- readGeneExp(\"ht.genotype_data1.txt\", geneCol=1, valCol=3) geneExpMatrix2<- readGeneExp(\"ht.genotype_data2.txt\", geneCol=1, valCol=2) write.table(geneExpMatrix1[30:31,],row.names=FALSE) write.table(geneExpMatrix2[30:31,],row.names=FALSE) pdf(file=\"data1_2.pdf\") layout(matrix(c(1,2,3,4,5,6),3, 2, byrow=TRUE)) par(mar=c(2,2, 2, 2)) DEGexp(geneExpMatrix1=geneExpMatrix1,geneCol1=1, expCol1=2, groupLabel1=\"data1\",geneExpMatrix2=geneExpMatrix2,geneCol2=1, expCol2=2,groupLabel2=\"data2\",method=\"MARS\",outputDir=\"05DEmiRNA/DEGSeq\") dev.off() \u6709\u751f\u7269\u5b66\u91cd\u590dDESeq2 (RNA-seq\u4e5f\u53ef\u4ee5\u4f7f\u7528\u5b83\u8ba1\u7b97\u8868\u8fbe\u91cf) \u4f7f\u7528DESeq2\u4e4b\u524d\u5148\u751f\u6210\u77e9\u9635,\u4f7f\u7528 prepDE.py python2.7 /disks/backup/chaim/soft/prepDE.py -i gtf2 gtf2\u6587\u4ef6\u5185\u5bb9 library(\"DESeq\")data=read.table(\"ht.genotype_data.txt\",header=TRUE,row.names=1)pd=data.frame(row.names=colnames(data),condition=c(\"data3\",\"data3\",\"data4\",\"data4\"),libType=c(\"single-end\",\"single-end\",\"single-end\",\"single-end\"))ps=pd$libType==\"single-end\"ct=data[,ps]condition=pd$condition[ps]cds=newCountDataSet(ct,condition)cds= estimateSizeFactors(cds)sizeFactors(cds)cds= estimateDispersions(cds)res=nbinomTest(cds,\"data3\",\"data4\")write.table(res,file=\"data3_data4.xls\")quit()","title":"4. \u8868\u8fbe\u91cf\u5dee\u5f02\u5206\u6790\uff08R\u8bed\u8a00\u4e2d\u64cd\u4f5c\uff09"},{"location":"miRNA-and-LncRNA-research/miRNA-seq%E5%88%86%E6%9E%90%E6%B5%81%E7%A8%8B/#5-mirnamrna","text":"\u53c2\u8003 \u5dee\u5f02\u8868\u8fbe\u5206\u6790 \u751f\u4fe1\u83dc\u9e1f\u56e2 weibo","title":"5. miRNA\u6837\u672c\u914d\u5bf9mRNA\u8868\u8fbe\u91cf\u83b7\u53d6"},{"location":"miRNA-and-LncRNA-research/miRNA-seq%E5%88%86%E6%9E%90%E6%B5%81%E7%A8%8B/#6mirna-mrna","text":"","title":"6.miRNA-mRNA\u8868\u8fbe\u76f8\u5173\u4e0b\u6e38\u5206\u6790"},{"location":"miRNA-and-LncRNA-research/miRNA-seq%E5%88%86%E6%9E%90%E6%B5%81%E7%A8%8B/#pythonhtseq","text":"","title":"&gt;\u5f53\u524d\u8fdb\u5c55\uff0c\u8be5\u8bbe\u8ba1\u811a\u672c\u8dd1python\u7684\u6570\u636e\u5206\u6790\uff0c\u7b49\u5f85htseq\u7684\u8fd0\u884c\u7ed3\u679c\u3002\u56e0\u5fd9\u4e8e\u6bd5\u4e1a\u8003\u535a\u4e8b\u5b9c\uff0c\u6b64\u9879\u76ee\u505c\u66f4\u3002\u5f88\u62b1\u6b49\uff01&lt;"},{"location":"miRNA-and-LncRNA-research/miRNA-seq%E5%92%8CmRNA%E8%81%94%E5%90%88%E5%88%86%E6%9E%90%EF%BC%9AmiARmaSeq/","text":"miARmaSeq\u53ef\u7528\u4e8emiRNA\uff0cmRNA\u7684\u8054\u5408\u5206\u6790 \u5b98\u7f51","title":"miARmaSeq\u53ef\u7528\u4e8emiRNA\uff0cmRNA\u7684\u8054\u5408\u5206\u6790"},{"location":"miRNA-and-LncRNA-research/miRNA-seq%E5%92%8CmRNA%E8%81%94%E5%90%88%E5%88%86%E6%9E%90%EF%BC%9AmiARmaSeq/#miarmaseqmirnamrna","text":"\u5b98\u7f51","title":"miARmaSeq\u53ef\u7528\u4e8emiRNA\uff0cmRNA\u7684\u8054\u5408\u5206\u6790"},{"location":"miRNA-and-LncRNA-research/miRNA%E5%B8%B8%E7%94%A8%E7%9A%84%E5%A5%97%E8%B7%AF/","text":"\u6240\u6709\u7684\u5b9e\u9a8c\u65b9\u6cd5\uff0c\u6570\u636e\u5206\u6790\u6d41\u7a0b\u90fd\u53ef\u4ee5\u5728\u5927\u7684\u751f\u7269\u6d4b\u5e8f\u516c\u53f8\u7684\u7f51\u7ad9\u7684\u6280\u672f\u670d\u52a1\u680f\u91cc\u627e\u5230\u76f8\u5f53\u901a\u4fd7\u6613\u61c2\u8bb2\u89e3\u3002 http://www.srnaworld.com/miRDP2/index.html \u7701\u5fc3\u7701\u4e8b\u505a\u690d\u7269miRNA","title":"miRNA\u5e38\u7528\u7684\u5957\u8def"},{"location":"miRNA-and-LncRNA-research/miRNA%E7%A0%94%E7%A9%B6%E4%B9%8B%E5%B8%B8%E7%94%A8%E6%95%B0%E6%8D%AE%E5%BA%93/","text":"\u53c2\u8003\u5730\u5740 1 2 miRNA\u7684\u5e38\u7528\u6570\u636e\u5e93 miRBase TargetScan (\u65e0\u690d\u7269\uff09 microRNA.org (\u6682\u65f6\u65e0\u6cd5\u8bbf\u95ee) PITA \uff08\u65e0\u6cd5\u8bbf\u95ee\uff09 miRTarBase (\u8bb0\u5f55\u7684\u90fd\u662f\u7ecf\u8fc7\u5b9e\u9a8c\u9a8c\u8bc1\u7684miRNA) starBase V2.0 \uff08\u4e2d\u5c71\u5927\u5b66\u5efa\u7acb\u7684\uff0c\u652f\u6301\u7f16\u7a0b\u8bbf\u95ee\u6570\u636e\u5e93\uff0cAPI\u6269\u5c55\uff09 \u690d\u7269\u4e13\u7528\u7684miRNA\u6570\u636e\u5e93(\u53c2\u8003)[https://cloud.tencent.com/developer/news/47358] plantgrn PMRD\u4e2d\u56fd\u519c\u5927 \u5317\u4eac\u519c\u4e1a\u751f\u7269\u6280\u672f\u7814\u7a76\u4e2d\u5fc3 \u690d\u7269miRNA\u6570\u636e\u5e93\u767e\u79d1\u5168\u4e66 microRNA\uff08miRNA\uff09\u5c5e\u4e8encRNA\u3002\u4e4b\u524d\u5bf9miRNA\u7684\u9776\u57fa\u56e0mRNA\u7684\u7814\u7a76\u6bd4\u8f83\u591a\u3002\u5bf9\u4e8eLncRNA\u548cmiRNA\u7684\u4f5c\u7528\u7814\u7a76\u4e0d\u591a\u3002 endogenous target mimics (eTMs) :\u4f5c\u4e3a\u4e00\u79cdlncRNAs\u7684\uff0c\u690d\u7269\u7684\u5185\u6e90\u6027\u9776\u6a21\u62df\u7269\uff08eTMS\uff09\u53ef\u4ee5\u8870\u51cfmiRNA\u7684\u8c03\u8282\u4f5c\u7528. eTMs\u9884\u6d4b\u6570\u636e\u5e93","title":"miRNA\u7814\u7a76\u4e4b\u5e38\u7528\u6570\u636e\u5e93"},{"location":"miRNA-and-LncRNA-research/miRNA%E9%9D%B6%E5%9F%BA%E5%9B%A0%E9%A2%84%E6%B5%8B%EF%BC%9ApsRoBot/","text":"\u4e0b\u8f7dpsRoBot http://omicslab.genetics.ac.cn/psRobot/downloads.php psRoBot\u7684\u529f\u80fd\u4ecb\u7ecd psRobot_map\uff1a\u5c06miRNAs mapping\u5230\u53c2\u8003\u57fa\u56e0\u7ec4\u3002 psRobot_mir\uff1a\u57fa\u4e8e\u6d4b\u5e8f\u7684small RNA\u548c\u53c2\u8003\u57fa\u56e0\u7ec4\uff0c\u9884\u6d4b\u65b0\u7684miRNA\u3002 psRobot_tar\uff1a\u9884\u6d4b\u5c0fRNAs\u5728\u8f6c\u5f55\u672c\u4e2d\u7684\u9776\u4f4d\u70b9\u3002 psRobot_deg\uff1a\u964d\u89e3\u7ec4\u5206\u6790\uff0c\u5bf9\u9884\u6d4b\u9776\u4f4d\u70b9\u7684\u8fdb\u4e00\u6b65\u5b9e\u9a8c\u9a8c\u8bc1\u3002 \u9884\u6d4bmiRNA\u7684\u9776\u57fa\u56e0 psRobot_tar -s novel.fa -t mRNA.fasta -o novel_miRNA_mRNA.gTP -p 32 -s novel.fa #\u9700\u8981\u9884\u6d4bmiRNA\u5e8f\u5217\uff0c\u5e8f\u5217\u683c\u5f0f\u4e00\u5b9a\u8981\u662f\u5927\u5199 -t mRNA.fasta #\u57fa\u56e0\u7ec4\u7684cDNA\u5e8f\u5217 -o \u6307\u5b9a\u8f93\u51fa\u6587\u4ef6 -p 32 \u4f7f\u752832\u4e2a\u8fdb\u7a0b \u8f93\u51fa\u6587\u4ef6 novel_miRNA_mRNA.gTP \u683c\u5f0f >miR156 Score: 1.0 ZLEO3C002807 Query: 1 TTCGGACCAGGCTTCATTCCC 21 |:|||||||||||||||*||| Sbjct: 1400 AGGCCTGGTCCGAAGTA-GGG 1381 cat novel_miRNA_mRNA.gTP|grep \"^>\" |cut -f 1,3 \u5373\u53ef\u8f93\u51fa\u9776\u57fa\u56e0\u5bf9\u7684miRNA-mRNA\u3002","title":"miRNA\u9776\u57fa\u56e0\u9884\u6d4b\uff1apsRoBot"},{"location":"miRNA-and-LncRNA-research/sORF%E7%9A%84%E9%89%B4%E5%AE%9A%E3%80%81%E7%BB%BC%E8%BF%B0%E3%80%81%E6%95%B0%E6%8D%AE%E5%BA%93/","text":"sORF\u7684\u9274\u5b9a \u534e\u79d1\u5218\u4e16\u52c7\u5f00\u53d1\u7684 CPPred-sORF \uff0c\u53ef\u7528\u4e8e\u9274\u5b9a\u690d\u7269\u7684LncRNA\u548csORF. CPPred-sORF: Coding Potential Prediction of sORF based on non-AUG .Xiaoxue Tong, Xu Hong, Juan Xie, Shiyong Liu.bioRxiv 2020.03.31.017525; doi: https://doi.org/10.1101/2020.03.31.017525 sORF\u7684\u7efc\u8ff0 Schlesinger, D. and Els\u00e4sser, S.J. (2021), Revisiting sORFs: overcoming challenges to identify and characterize functional microproteins. FEBS J. https://doi.org/10.1111/febs.15769 \u7efc\u8ff0\u91cc\u8bb2\u4e86sORF\u7684\u529f\u80fd\u548csORF\u7684\u9274\u5b9a\u5de5\u5177\u3002 \u690d\u7269sORF\u6570\u636e\u5e93 sORF\u4e3b\u8981\u6765\u6e90\u4e8eLncRNA\u548cUTR\u533a\u3002\u5206\u4e3a - uORF\uff0cmORF\u4e0a\u6e38\u7684\u5c0f\u578bORF(\u4e3b\u8981\u4ecb\u5bfc\u8c03\u63a7\u540e\u9762\u7684mORF) - uoORF\uff0c\u8de85'UTR\u548cmORF\u7684\u5c0fORF - dORF\uff0cmORF\u4e0b\u6e38\u7684\u5c0fORF - doORF\uff0c\u8de8mORF\u548c3'UTR\u7684\u5c0fORF - sORF\uff0c\u57fa\u56e0\u7ec4\u4e2d\u7684\u5176\u4ed6\u5c0fORF mORF\u6307\u7684\u662fmRNA\u7684ORF. \u5206\u7c7b\u65b9\u6cd5\u6765\u81ea Chen, Y., Li, D., Fan, W., Zheng, X., Zhou, Y., Ye, H., Liang, X., Du, W., Zhou, Y. and Wang, K. (2020) PsORF: a database of small ORFs in plants. Plant Biotechnol J. , https://doi.org/10.1111/pbi.13389","title":"sORF\u7684\u9274\u5b9a"},{"location":"miRNA-and-LncRNA-research/sORF%E7%9A%84%E9%89%B4%E5%AE%9A%E3%80%81%E7%BB%BC%E8%BF%B0%E3%80%81%E6%95%B0%E6%8D%AE%E5%BA%93/#sorf","text":"\u534e\u79d1\u5218\u4e16\u52c7\u5f00\u53d1\u7684 CPPred-sORF \uff0c\u53ef\u7528\u4e8e\u9274\u5b9a\u690d\u7269\u7684LncRNA\u548csORF. CPPred-sORF: Coding Potential Prediction of sORF based on non-AUG .Xiaoxue Tong, Xu Hong, Juan Xie, Shiyong Liu.bioRxiv 2020.03.31.017525; doi: https://doi.org/10.1101/2020.03.31.017525","title":"sORF\u7684\u9274\u5b9a"},{"location":"miRNA-and-LncRNA-research/sORF%E7%9A%84%E9%89%B4%E5%AE%9A%E3%80%81%E7%BB%BC%E8%BF%B0%E3%80%81%E6%95%B0%E6%8D%AE%E5%BA%93/#sorf_1","text":"Schlesinger, D. and Els\u00e4sser, S.J. (2021), Revisiting sORFs: overcoming challenges to identify and characterize functional microproteins. FEBS J. https://doi.org/10.1111/febs.15769 \u7efc\u8ff0\u91cc\u8bb2\u4e86sORF\u7684\u529f\u80fd\u548csORF\u7684\u9274\u5b9a\u5de5\u5177\u3002 \u690d\u7269sORF\u6570\u636e\u5e93 sORF\u4e3b\u8981\u6765\u6e90\u4e8eLncRNA\u548cUTR\u533a\u3002\u5206\u4e3a - uORF\uff0cmORF\u4e0a\u6e38\u7684\u5c0f\u578bORF(\u4e3b\u8981\u4ecb\u5bfc\u8c03\u63a7\u540e\u9762\u7684mORF) - uoORF\uff0c\u8de85'UTR\u548cmORF\u7684\u5c0fORF - dORF\uff0cmORF\u4e0b\u6e38\u7684\u5c0fORF - doORF\uff0c\u8de8mORF\u548c3'UTR\u7684\u5c0fORF - sORF\uff0c\u57fa\u56e0\u7ec4\u4e2d\u7684\u5176\u4ed6\u5c0fORF mORF\u6307\u7684\u662fmRNA\u7684ORF. \u5206\u7c7b\u65b9\u6cd5\u6765\u81ea Chen, Y., Li, D., Fan, W., Zheng, X., Zhou, Y., Ye, H., Liang, X., Du, W., Zhou, Y. and Wang, K. (2020) PsORF: a database of small ORFs in plants. Plant Biotechnol J. , https://doi.org/10.1111/pbi.13389","title":"sORF\u7684\u7efc\u8ff0"},{"location":"nanopore-analysis/nanopore-%E5%88%86%E6%9E%90%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E7%9B%AE%E5%BD%95/","text":"|\u8f6f\u4ef6\u540d|\u529f\u80fd|\u5b98\u65b9\u7f51\u5740| |----|----|----| |bioconda|bioconda\u5546\u5e97|http://bioconda.github.io/| |sratoolkit|SRA\u6570\u636e\u7ba1\u7406|https://www.ncbi.nlm.nih.gov/sra/docs/toolkitsoft| |flappie|\u78b1\u57fa\u8bc6\u522b|https://github.com/nanoporetech/flappie| |albacore|\u78b1\u57fa\u8bc6\u522b|https://github.com/Albacore/albacore| |guppy|\u78b1\u57fa\u8bc6\u522b|nanopore\u793e\u533a| |MINKNOW|\u6d4b\u5e8f\u64cd\u63a7\u8f6f\u4ef6|nanopore\u793e\u533a| |hdfview|\u67e5\u770bfast5|https://www.hdfgroup.org/downloads/hdfview/| |ont_fast5_api|\u62c6\u5206\u5408\u5e76fast5|https://github.com/nanoporetech/ont_fast5_api| |pomoxis|\u7efc\u5408\u5206\u6790|https://github.com/nanoporetech/pomoxis| |minion_qc|\u8d28\u63a7\u7ed8\u56fe|https://github.com/roblanf/minion_qc| |Filtlong|\u8fc7\u6ee4|https://github.com/rrwick/Filtlong| |seqkit|\u5e8f\u5217\u5904\u7406\u5de5\u5177\u5305|https://bioinf.shenwei.me/seqkit/| |nanopack|\u6570\u636e\u8d28\u63a7\u987e\u8651\u5305|https://github.com/wdecoster/nanopack| |NanoPlot|\u8d28\u63a7\u7ed8\u56fe|https://github.com/wdecoster/NanoPlot| |Porechop|\u8fc7\u6ee4|https://github.com/rrwick/Porechop| |MaSuRCA|\u62fc\u63a5|https://github.com/alekseyzimin/masurca| |Tulip|\u62fc\u63a5|https://github.com/Generade-nl/TULIP| |spades|\u62fc\u63a5|https://github.com/ablab/spades| |canu|\u62fc\u63a5|https://github.com/marbl/canu| |NextDenovo|\u62fc\u63a5|https://github.com/Nextomics/NextDenovo| |RaGOO|\u53c2\u8003\u5f15\u5bfc|https://github.com/malonge/RaGOO| |Unicycler|\u62fc\u63a5|https://github.com/rrwick/Unicycler| |MECAT|\u62fc\u63a5|https://github.com/xiaochuanle/MECAT| |NECAT|\u62fc\u63a5|https://github.com/xiaochuanle/NECAT| |miniasm|\u62fc\u63a5|https://github.com/lh3/miniasm| |WTDBG2|\u62fc\u63a5|?https://github.com/ruanjue/wtdbg2| |SMARTdenovo|\u62fc\u63a5|https://github.com/ruanjue/smartdenovo| |RA|\u62fc\u63a5|https://github.com/rvaser/ra| |gfatools|gfa\u6587\u4ef6\u5904\u7406|https://github.com/lh3/gfatools| |medaka|\u7ea0\u9519|https://github.com/nanoporetech/medaka| |pilon|\u7ea0\u9519|https://github.com/broadinstitute/pilon/wiki| |racon|\u7ea0\u9519|https://github.com/lbcb-sci/racon| |NextPolish|\u7ea0\u9519|https://github.com/Nextomics/NextPolish| |quast|\u62fc\u63a5\u8bc4\u4f30|http://bioinf.spbau.ru/quast| |busco|\u62fc\u63a5\u8bc4\u4f30|https://gitlab.com/ezlab/busco| |bwa|\u77ed\u5e8f\u5217\u6bd4\u5bf9|https://github.com/lh3/bwa| |samtools|sam\u683c\u5f0f\u5904\u7406|https://github.com/lh3/samtools| |minimap2|\u6bd4\u5bf9|https://github.com/lh3/minimap2| |NGMLR|\u6bd4\u5bf9|https://github.com/philres/ngmlr| |last|\u6bd4\u5bf9|http://last.cbrc.jp/| |GraphMap|\u6bd4\u5bf9|https://github.com/isovic/graphmap| |MarginAlign|\u6bd4\u5bf9|https://github.com/benedictpaten/marginAlign| |MUMMER|\u5168\u5c40\u6bd4\u5bf9|http://mummer.sourceforge.net/| |megan|\u7269\u79cd\u9274\u5b9a|http://ab.inf.uni-tuebingen.de/software/megan6/download/| |diamond|blast\u6bd4\u5bf9|https://github.com/bbuchfink/diamond| |seqtk|\u5e8f\u5217\u5904\u7406\u5de5\u5177|https://github.com/lh3/seqtk| |taxonkit|\u7269\u79cd\u5206\u7c7b\u9274\u5b9a|https://bioinf.shenwei.me/taxonkit/| |Centrifuge|\u7269\u79cd\u5206\u7c7b|https://github.com/DaehwanKimLab/centrifuge| |Nanopolish|\u7efc\u5408\u5206\u6790|https://github.com/nanoporetech/nanopolish| |NanoSV|\u53d8\u5f02\u68c0\u6d4b|https://github.com/mroosmalen/nanosv| |Sniffles|\u53d8\u5f02\u68c0\u6d4b|https://github.com/fritzsedlazeck/Sniffles| |NanoVar|\u53d8\u5f02\u68c0\u6d4b|https://github.com/benoukraflab/NanoVar| |tombo|\u7532\u57fa\u5316|https://github.com/nanoporetech/tombo| |bcftools|vcf\u683c\u5f0f\u5904\u7406|https://github.com/samtools/bcftools| |Truvari|\u53d8\u5f02\u68c0\u6d4b|https://github.com/spiralgenetics/truvari/| |Pinfish|\u5f02\u6784\u4f53\u9274\u522b|https://github.com/nanoporetech/pinfish| |pychopper|\u5f02\u6784\u4f53\u9274\u522b|https://github.com/nanoporetech/pychopper| |tablet|\u53ef\u89c6\u5316|https://ics.hutton.ac.uk/tablet/| |IGV|\u53ef\u89c6\u5316|http://software.broadinstitute.org/software/igv/|","title":"Nanopore \u5206\u6790\u5e38\u7528\u8f6f\u4ef6\u76ee\u5f55"},{"location":"nanopore-analysis/nanopore-%E5%88%86%E6%9E%90%E6%B5%81%E7%A8%8B/","text":"\u672c\u6587\u8f6c\u8f7d\u81ea\u77e5\u4e4e nanopor\u6280\u672f\u4e13\u680f \uff0c\u4fee\u6539\u4e86\u5176\u4e2d\u90e8\u5206\u4ee3\u7801\u3002 \u5355\u5206\u5b50\u7eb3\u7c73\u5b54\u6d4b\u5e8f https://poretools.readthedocs.io/en/latest/index.html# \u4e09\u4ee3\u6d4b\u5e8f\u6280\u672f \u6d4b\u5e8f\u6280\u672f 2019\u5e748\u6708\u7efc\u8ff0 \u7eb3\u7c73\u5b54\u6d4b\u5e8f \u6db2\u4f53\u6d3b\u68c0\u7684\u7eb3\u7c73\u5b54\u6d4b\u5e8f\uff1a\u80ba\u764c\u60a3\u8005\u65e0\u7ec6\u80deDNA\u62f7\u8d1d\u6570\u53d8\u5f02\u7684\u5206\u6790 \u7eb3\u7c73\u5b54\u6d4b\u5e8f\u53ca\u5176\u4e34\u5e8a\u5e94\u7528 \u4e00\u4e2a\u4eba\u7684\u5168\u57fa\u56e0\u5206\u6790\u6d41\u7a0b \u4f7f\u7528\u7684\u8f6f\u4ef6 \u4f7f\u7528HDFView \u67e5\u770bFast5\u6587\u4ef6\u683c\u5f0f\u3002 https://www.hdfgroup.org/downloads/hdfview/ \u4f7f\u7528ont_fast5_api\u8f6f\u4ef6\u5bf9fast5\u6587\u4ef6\u8fdb\u884c\u62c6\u5206\u4e0e\u5408\u5e76 ont_fast5_api \u7f51\u5740 https://github.com/nanoporetech/ont_fast5_api \u5b89\u88c5 \u76f4\u63a5\u4f7f\u7528pip\u5b89\u88c5 pip install ont-fast5-api \u81ea\u884c\u7f16\u8bd1\u5b89\u88c5 git clone https://github.com/nanoporetech/ont_fast5_api cd ont_fast5_api python3 setup.py install \u4f7f\u7528\u6848\u4f8b \u591a\u6761\u5408\u5e76\u4e3a\u4e00\u4e2a\u6587\u4ef6 single_to_multi_fast5 -i fast5_files/ -s multi -n 4000 --recursive \u4e00\u4e2a\u6587\u4ef6\u62c6\u5206\u4e3a\u591a\u6761 multi_to_single_fast5 -i multi/ -s single --recursive -t 6 1.\u78b1\u57fa\u8bc6\u522b\u5de5\u5177 DeepNano poretools \u5b98\u7f51 poretools\u5b89\u88c5 2.\u5e8f\u5217\u6bd4\u5bf9\u5de5\u5177 GraphMap MarginAlign 3.\u4ece\u5934\u7ec4\u88c5\u5de5\u5177 nanocorrect\uff0c\u9996\u5148\u5229\u7528graph- based\uff0cgreedy partial order aligner\u65b9\u6cd5\u8fdb\u884c\u7ea0\u9519\uff0c\u7136\u540e\u5229\u7528Celera Assembler\u5c06\u7ea0\u9519\u540e\u7684reads\u8fdb\u884c\u7ec4\u88c5\uff0c\u6700\u540e\u5229\u7528nanopolish\u5bf9\u7ec4\u88c5\u7ed3\u679c\u8fdb\u884c\u8fdb\u4e00\u6b65\u63d0\u5347 4\u3001\u5355\u6838\u82f7\u9178\u53d8\u5f02\u68c0\u6d4b\u5de5\u5177 PoreSeq \u4f4e\u901a\u91cf\u4e0b\uff0c\u4ecd\u7136\u6709\u9ad8\u51c6\u786e\u7387 Nanopolish MarginAlign\u4e2d\u7684marginCaller\u6a21\u5757 5\u3001\u5171\u6709\u5e8f\u5217\u7684\u6d4b\u5e8f\uff08consensus sequencing\uff09\u65b9\u6cd5 \u5b9e\u6218 1.\u8f6f\u4ef6\u5b89\u88c5 \u6bd4\u5bf9 minimap2 github \u62fc\u63a5 miniasm gfatools ngmlr graphmap \u62fc\u63a5 last MarginAlign \u8fc7\u6ee4 filtlong \u62fc\u63a5 canu github \u62fc\u63a5 Smartdenovo \u62fc\u63a5 wtdbg2 \u62fc\u63a5 NextDenovo \u7ea0\u9519\u3001\u6821\u6b63 NextPolish \u62fc\u63a5 flye \u57fa\u56e0\u7ec4\u88c5\u914d \u7684\u8d28\u91cf\u8bc4\u4f30\u5de5\u5177 quast \u6bd4\u5bf9 mummer 4 nanopack pip install nanopack \u57fa\u56e0\u7ec4\u53ef\u89c6\u5316 win+unix tablet \u8f6f\u4ef6\u7ed9\u51fa\u5b98\u65b9\u5730\u5740\uff0c\u7b80\u5355\u7684\u81ea\u884c\u5b89\u88c5\u3002\u6bd4\u8f83\u590d\u6742\u7684\u4f1a\u5199\u51fa\u8be6\u7ec6\u5b89\u88c5\u8fc7\u7a0b 2. \u8d28\u63a7 mkdir nanoQC #\u68c0\u6d4b\u6d4b\u5e8f\u8d28\u91cf nanoQC ../2.rawdata/minion/all..fastq.gz -o nanoQC #\u7edf\u8ba1\u8d28\u91cf\u4fe1\u606f NanoStat --fastq ../2.rawdata/minion/all.sra.fastq.gz --outdir statreports 2.1 \u8d28\u63a7 NanoPlot --fastq ../2.rawdata/minion/all..fastq.gz -t 16 --maxlength 40000 --plots hex dot pauvre kde -o nanoplot Nanoplot --summary sequencing_summary.txt --loglength -o summary \u9009\u9879\u53c2\u6570\uff1a -t\uff1a\u7ebf\u7a0b\u6570\u76ee -o, --outdir\uff1a\u8f93\u51fa\u7ed3\u679c\u76ee\u5f55 -p, --prefix\uff1a\u8f93\u51fa\u7ed3\u679c\u524d\u7f00 --color\uff1a\u70b9\u7684\u989c\u8272 --N50 \u8868\u793a\u5728\u5e8f\u5217\u8bfb\u957f\u7684\u76f4\u65b9\u56fe\u4e2d\u663e\u793aN50\u7684\u6807\u8bc6 --title\uff1a\u6807\u9898 --downsample \uff1a\u5728\u8f93\u5165\u6587\u4ef6\u4e2d\u968f\u673a\u62bd\u53d6n\u6761\u5e8f\u5217\u8fdb\u884c\u5904\u7406 --minlength\uff1a\u5ffd\u7565nbp\u4ee5\u4e0b\u7684reads -- fastq\uff1a\u8f93\u5165fastq\u683c\u5f0f\u6587\u4ef6 -f\uff1a\u56fe\u7247\u7c7b\u578b --plots\uff1a\u7ed8\u56fe\u7c7b\u578b\uff0ckde,hex,dot,pauvre 2.2 \u8fc7\u6ee4\uff08nanofilt\u548cfiltlong\u4e8c\u9009\u4e00\u5373\u53ef\uff09 \u4f7f\u7528nanofilt\u8fc7\u6ee4\uff0cnanofilt\u65e0\u6cd5\u8bc6\u522b\u538b\u7f29\u6587\u4ef6\uff0c\u9700\u8981\u5148\u89e3\u538b\u3002 gunzip -c ../2.rawdata/minion/all.fastq.gz | NanoFilt -q 7 -l 1000 --headcrop 50 --tailcrop 50| gzip > clean.NanoFilt.fastq.gz \u9009\u9879\u53c2\u6570\uff1a -l ,--length :\u8fc7\u6ee4\u6389\u5c0f\u4e8e\u6b64\u957f\u5ea6\u7684\u5e8f\u5217 --maxlength \uff1a\u8fc7\u6ee4\u6389\u8d85\u8fc7\u6b64\u957f\u5ea6\u7684\u5e8f\u5217 -q , --quality \uff1a\u8fc7\u6ee4\u6389\u4f4e\u8d28\u91cf\u5e8f\u5217 --minGC\uff1a\u8fc7\u6ee4\u6389GC\u542b\u91cf\u5c0f\u4e8e\u6b64\u767e\u5206\u6bd4\u7684\u5e8f\u5217 --maxGC\uff1a\u8fc7\u6ee4\u6389GC\u542b\u91cf\u5927\u4e8e\u6b64\u767e\u5206\u6bd4\u7684\u5e8f\u5217 --headcrop\uff1a\u4ece\u5934\u90e8\u5207\u6389n bp --tailcrop\uff1a\u5c3e\u90e8\u5207\u6389n bp \u7ed3\u679c\u89e3\u8bfb \u8f93\u5165\u4e00\u4e2a\u538b\u7f29\u683c\u5f0f\u7684fastq\u6587\u4ef6\uff0c\u7ed3\u679c\u8f6f\u4ef6\u5904\u7406\uff0c\u5df2\u7ecf\u5c06\u957f\u5ea6\u5c0f\u4e8e1000\uff0c\u540c\u65f6\u6574\u6761\u5e8f\u5217\u5e73\u5747\u8d28\u91cf\u503c\u5c0f\u4e8eQ7\u7684\u8fc7\u6ee4\u6389\uff0c\u540c\u65f6\u5c06\u6bcf\u6761\u5e8f\u5217\u9996\u4f4d\u5404\u526a\u638950bp\u3002\u8fd9\u4e9b\u5269\u4f59\u7684\u5e8f\u5217\u5219\u4e3a\u201cclean data\u201d\u3002\u53ef\u4ee5\u4f7f\u7528NanoPlot\u91cd\u65b0\u8fdb\u884c\u4e00\u4e0b\u8d28\u63a7\u3002 \u4f7f\u7528filtlong\u8fc7\u6ee4 filtlong --min_length 1000 --min_mean_q 7 ../2.rawdata/minion/all.fastq.gz | gzip >clean.filtlong.fq.gz filtlong\u8fd8\u53ef\u4ee5\u4ee5\u4e8c\u4ee3\u7684\u6570\u636e\u4e3a\u53c2\u8003\u8fdb\u884c\u8fc7\u6ee4\u3002 \u9009\u9879\u53c2\u6570\uff1a --min_length \uff1a\u6700\u77ed\u957f\u5ea6 --min_mean_q\uff1a\u5e73\u5747Q\u503c --keep_percent\uff1a\u4fdd\u7559\u6700\u597d\u6570\u636e\u7684\u767e\u5206\u6bd4\uff0c80%\uff0c\u76f4\u63a5\u519980\uff0c\u4e0d\u80fd\u51990.8 --target_bases\uff1a\u4fdd\u7559\u591a\u5c11\u6570\u636e\uff0c\u5355\u4f4d\u4e3abp 2.3 \u6bd4\u5bf9 2.3.1 \u4f7f\u7528minimap2\u8fdb\u884c\u6bd4\u5bf9 \u6784\u5efa\u57fa\u56e0\u7ec4\u7684\u7d22\u5f15\u6587\u4ef6 minimap2 -d ref.mmi ref.fa \uff03\u7d22\u5f15 \u6bd4\u5bf9 minimap2 -a ref.mmi reads.fq > alignment.sam \uff03\u5bf9\u9f50 #\u7b49\u4ef7\u4e8e minimap2 -ax map-ont ref.mmi reads.fq >alignment.sam \u5e38\u7528\u9009\u9879\u53c2\u6570 \u4e3b\u8981\u5206\u6210\u4e94\u5927\u7c7b\uff0c\u7d22\u5f15\uff08Indexing\uff09\uff0c\u56de\u5e16\uff08Mapping\uff09\uff0c\u6bd4\u5bf9(Alignment),\u8f93\u5165/\u8f93\u51fa\uff08Input/Output\uff09,\u9884\u8bbe\u503c\uff08Preset\uff09\u3002 -x \uff1a\u975e\u5e38\u4e2d\u8981\u7684\u4e00\u4e2a\u9009\u9879\uff0c\u8f6f\u4ef6\u9884\u6d4b\u7684\u4e00\u4e9b\u503c\uff0c\u9488\u5bf9\u4e0d\u540c\u7684\u6570\u636e\u9009\u62e9\u4e0d\u540c\u7684\u503c map-pb/map-ont: pb\u6216\u8005ont\u6570\u636e\u4e0e\u53c2\u8003\u5e8f\u5217\u6bd4\u5bf9\uff1b ava-pb/ava-ont: \u5bfb\u627epd\u6570\u636e\u6216\u8005ont\u6570\u636e\u4e4b\u95f4\u7684overlap\u5173\u7cfb\uff1b asm5/asm10/asm20: \u62fc\u63a5\u7ed3\u679c\u4e0e\u53c2\u8003\u5e8f\u5217\u8fdb\u884c\u6bd4\u5bf9\uff0c\u9002\u5408~0.1/1/5% \u5e8f\u5217\u5206\u6b67\u5ea6\uff1b splice: \u957freads\u7684\u5207\u5272\u6bd4\u5bf9 sr: \u77edreads\u6bd4\u5bf9 -d :\u521b\u5efa\u7d22\u5f15\u6587\u4ef6\u540d -a \uff1a\u6307\u5b9a\u8f93\u51fa\u683c\u5f0f\u4e3asa\u683c\u5f0f\uff0c\u9ed8\u8ba4\u4e3aPAF -Q \uff1asam\u6587\u4ef6\u4e2d\u4e0d\u8f93\u51fa\u78b1\u57fa\u8d28\u91cf -R \uff1areads Group\u4fe1\u606f\uff0c\u4e0ebwa\u6bd4\u5bf9\u4e2d\u7684-R\u4e00\u81f4 -t\uff1a\u7ebf\u7a0b\u6570\uff0c\u9ed8\u8ba4\u4e3a3 2.3.2 2.4 sam\u8f6cbam,\u6392\u5e8f #samtools\u5904\u7406 samtools sort -@ 8 -o bam -o s0137.sorted.bam s1037.sam samtools index s0137.sorted.bam samtools faidx ref.fq 2.5tablet\u53ef\u89c6\u5316\u57fa\u56e0\u7ec4 tablet\u652f\u6301Windows\uff0clinux. \u4e0b\u9762\u662fWindows\u4e0a\u7684\u64cd\u4f5c 2.5.1 \u5c06\u51c6\u5907\u597d\u7684\u6587\u4ef6\uff0c\u81f3\u5c11\u56db\u4e2a\uff0c\u53c2\u8003\u5e8f\u5217fasta\u683c\u5f0f\u53ca\u7d22\u5f15fai\u6587\u4ef6\uff0c\u6bd4\u5bf9\u5e76\u6392\u5e8f\u540e\u7684bam\u6587\u4ef6\u53ca\u7d22\u5f15bai\u6587\u4ef6\uff1b ref.fq ref.fai ref.gff s1037.sorted.bam s1037.sorted.bam.bai 2.5.2\u3001\u6253\u5f00tablet\uff0c\u9996\u5148\u5bfc\u5165bam\u6587\u4ef6\uff0c\u7136\u540e\u5bfc\u5165fasta\u6587\u4ef6\uff0c\u7d22\u5f15\u6587\u4ef6\u65e0\u9700\u5bfc\u5165\uff0c\u4f46\u5fc5\u987b\u4e0e\u5bf9\u5e94\u6587\u4ef6\u5728\u540c\u4e00\u76ee\u5f55\u4e0b\uff0c\uff08tablet\u5bf9\u4e2d\u6587\u652f\u6301\u4e0d\u597d,\u8def\u5f84\u4e0d\u8981\u6709\u4e2d\u6587\uff09\uff1b 2.5.3 \u3001\u53ef\u4ee5\u901a\u8fc7\u9f20\u6807\u8c03\u6574\u663e\u793a\u6a21\u5f0f\uff1b 2.5.4\u3001tablet\u8fd8\u652f\u6301\u5bfc\u5165gff\u683c\u5f0f\u7ed3\u679c\uff0c\u65b9\u4fbf\u67e5\u770b\u56fa\u5b9a\u533a\u57df 2.6 \u91cd\u65b0\u62fc\u63a5\u57fa\u56e0\u7ec4\uff08\u591a\u4e2a\u8f6f\u4ef6\u5206\u522b\u62fc\u63a5\u540e\uff0c\u518d\u4ece\u4e2d\u9009\u62e9\u6700\u4f18\u7684\uff09 2.6.1 canu \u8f6f\u4ef6\u5b89\u88c5\u4e00\u5b9a\u8981\u5b89\u88c5github\u7684\u7248\u672c\u3002 canu -d canu -p canu genomeSize=3g maxThreads=96 -nanopore-raw ../4.filter/clean.filtlong.fq.gz >canu.log \u9009\u9879\u53c2\u6570\uff1a -p\uff1a\u8f93\u51fa\u524d\u7f00 -d\uff1a\u8f93\u51fa\u7ed3\u679c\u76ee\u5f55 -nanopore-raw\uff1a\u8f93\u5165\u7684\u4e3a\u6ca1\u6709\u7ea0\u9519\u8fc7\u5f97nanopore\u6570\u636e -num_threads\uff1aCPU\u7ebf\u7a0b\u6570 genomeSize\uff1a\u8bbe\u7f6e\u9884\u4f30\u7684\u57fa\u56e0\u7ec4\u5927\u5c0f\uff0c\u8fd9\u7528\u4e8e\u8ba9Canu\u4f30\u8ba1\u6d4b\u5e8f\u6df1\u5ea6\uff1b maxThreads\uff1a\u8bbe\u7f6e\u8fd0\u884c\u7684\u6700\u5927\u7ebf\u7a0b\u6570\uff1b rawErrorRate\uff1a\u7528\u6765\u8bbe\u7f6e\u4e24\u4e2a\u672a\u7ea0\u9519read\u4e4b\u95f4\u6700\u5927\u671f\u671b\u5dee\u5f02\u78b1\u57fa\u6570\uff1b correctedErrorRate\uff1a\u5219\u662f\u8bbe\u7f6e\u7ea0\u9519\u540eread\u4e4b\u95f4\u6700\u5927\u671f\u671b\u5dee\u5f02\u78b1\u57fa\u6570\uff0c\u8fd9\u4e2a\u53c2\u6570\u9700\u8981\u5728 \u7ec4\u88c5 \u65f6\u591a\u6b21\u8c03\u6574\uff1b minReadLength\uff1a\u8868\u793a\u53ea\u4f7f\u7528\u5927\u4e8e\u9608\u503c\u7684\u5e8f\u5217 minOverlapLength\uff1a\u8868\u793aOverlap\u7684\u6700\u5c0f\u957f\u5ea6\u3002\u63d0\u9ad8minReadLength\u53ef\u4ee5\u63d0\u9ad8\u8fd0\u884c\u901f\u5ea6\uff0c\u589e\u52a0minOverlapLength\u53ef\u4ee5\u964d\u4f4e\u5047\u9633\u6027\u7684overlap\u3002 \u603b\u7ed3 1\u3001\u6709\u7ea0\u9519\u6b65\u9aa4\uff1b 2\u3001\u90e8\u5206\u57fa\u56e0\u7ec4\u62fc\u63a5\u6548\u679c\u6bd4\u8f83\u597d\uff1b 3\u3001\u9ed8\u8ba4\u4f1a\u5360\u7528\u6240\u6709CPU\uff0c \u975e\u5e38\u8017\u65f6\uff0c\u614e\u91cd\u4f7f\u7528 \uff1b 4\u3001\u6709\u4e9b\u6570\u636e\u65e0\u6cd5\u62fc\u63a5\u51fa\u7ed3\u679c\u3002 2.6.2 miniasm\u62fc\u63a5\uff0cgfatools\u8f6c\u6362\u683c\u5f0f \u4f7f\u7528miniasm\u62fc\u63a5\u9996\u5148\u9700\u8981\u4f7f\u7528minim2\u5c06\u6d4b\u5e8f\u6570\u636e\u8fdb\u884c\u81ea\u8eab\u6bd4\u5bf9\uff0c\u67e5\u627e\u5171\u6709\u533a\u57df\uff0c\u751f\u6210paf\u683c\u5f0f\u6587\u4ef6\u3002\u6ce8\u610f\u4f7f\u7528minimap2\u6bd4\u5bf9\u7684\u65f6\u5019\u4e00\u5b9a\u8981\u6b63\u786e\u8bbe\u7f6e\u597d-x\u9009\u9879\uff0cnanopore\u62fc\u63a5\u9700\u8981\u4f7f\u7528ava-ont\u9009\u9879\u3002\u7136\u540e\u4f7f\u7528miniasm\u8fdb\u884c\u62fc\u63a5\uff0cminiasm\u62fc\u63a5\u4e0d\u4f1a\u76f4\u63a5\u751f\u6210fasta\u5e8f\u5217\uff0c\u800c\u662f\u4f1a\u751f\u6210gfa\u683c\u5f0f\u6587\u4ef6\u3002\u6700\u540e\u4f7f\u7528gfatools\u63d0\u51fa\u62fc\u63a5\u597d\u7684\u5e8f\u5217\u3002 minimap2 -x ava-ont -t 12 ../4.filter/clean.filtlong.fq.gz ../4.filter/clean.filtlong.fq.gz | gzip -1 > reads.paf.gz miniasm -f ../4.filter/clean.filtlong.fq.gz reads.paf.gz >reads.gfa gfatools gfa2fa reads.gfa >miniasm.fa \u6ce8\u610f\uff1a\u7b2c\u4e00\u6b65\uff0c\u662f\u7528minimap2\u5bf9\u6d4b\u5e8f\u7684\u6587\u4ef6\u81ea\u8eab\u8fdb\u884c\u6bd4\u5bf9\u3002\u548c\u524d\u9762\u7684\u6bd4\u5bf9\u5230\u57fa\u56e0\u7ec4\u4e0a\u4e0d\u4e00\u6837\u3002 \u603b\u7ed3 1\u3001\u9996\u5148\u5229\u7528minimap2\u6bd4\u5bf9\uff0c\u8fd0\u884c\u901f\u5ea6\u975e\u5e38\u5feb\uff1b 2\u3001\u8f6f\u4ef6\u4e0d\u80fd\u76f4\u63a5\u751f\u6210fasta\u683c\u5f0f\uff0c\u9700\u8981\u4f7f\u7528gfatools\u751f\u6210\uff1b 3\u3001\u6ca1\u6709\u7ea0\u9519\u8fc7\u7a0b\uff0c\u78b1\u57fa\u9519\u8bef\u7387\u8f83\u9ad8\uff0c\u9700\u8981\u540e\u7eed\u8fdb\u884c\u7ea0\u9519\uff1b 4\u3001\u62fc\u51fa\u6765\u7684\u57fa\u56e0\u7ec4\u53ef\u80fd\u6bd4\u771f\u5b9e\u57fa\u56e0\u7ec4\u8981\u5c0f\uff0c\u6709\u65f6\u5019\u5c0f\u5f88\u591a\uff0c\u9700\u8981\u6ce8\u610f\u3002 2.6.3 Smartdenovo\u62fc\u63a5\uff08\u962e\u73cf \u51fa\u54c1\uff09 # \u751f\u6210\u811a\u672c smartdenovo.pl -c 1 -t 8 -J 500 -k 16 -p smartdenovo ../4.filter/clean.filtlong.fq.gz >smartdenovo.mak #\u8fd0\u884c\u811a\u672c make -f smartdenovo.mak \u9009\u9879\u53c2\u6570\uff1a -p STR \u8f93\u51fa\u7ed3\u679c\u524d\u7f00\uff0c\u9ed8\u8ba4wtasm -e STR overlap\u65b9\u6cd5\uff0czmo\u6216\u8005dmo -t INT \u7ebf\u7a0b\u6570\uff0c\u9ed8\u8ba4\u4e3a8 -k INT overlap\u8fde\u63a5kmer\u5927\u5c0f -J INT \u6700\u5c0fread\u957f\u5ea6 -c INT \u662f\u5426\u751f\u6210\u4e00\u81f4\u6027\u5e8f\u5217 2.6.4 wtdbg2\u62fc\u63a5 \uff08\u962e\u73cf \u51fa\u54c1\uff09 \u5feb\u901f\u8fd0\u884c\u6a21\u5f0f\uff0c\u76f4\u63a5\u4f7f\u7528wtdbg2.pl\u811a\u672c wtdbg2.pl -t 96 -x ont -g 3g -o wtdbg2 reads.fa.gz \u9009\u9879\u53c2\u6570\uff1a -t \u7ebf\u7a0b\u6570\u91cf -x \u6570\u636e\u6a21\u5f0f\uff08nanopore\u7684\u6570\u636e\u9009\u62e9ont\uff09 -g \u57fa\u56e0\u7ec4\u5927\u5c0f\uff08\u6839\u636e\u5b9e\u9645\u7269\u79cd\u51b3\u5b9a\uff09 -o \u8f93\u51fa\u76ee\u5f55 \u603b\u7ed3\uff1a 1\u3001\u5bf9\u4e8enanopore\u6570\u636e\uff0cwtdbg2\u53ef\u80fd\u4f1a\u4ea7\u751f\u6bd4\u771f\u5b9e\u57fa\u56e0\u7ec4\u5c0f\u7684\u96c6\u5408\u3002 2\u3001\u5f53\u8f93\u5165fasta\u548cfastq\u683c\u5f0f\u7684\u591a\u4e2a\u6587\u4ef6\u65f6\uff0c\u8bf7\u5148\u8f93\u5165fastq\uff0c\u7136\u540e\u518d\u8f93\u5165fasta\u3002\u5426\u5219\uff0c\u7a0b\u5e8f\u5c06\u65e0\u6cd5\u5728fastq\u4e2d\u627e\u5230'>'\uff0c\u5e76\u5728\u4e00\u6b21\u8bfb\u53d6\u540e\u9644\u52a0\u6240\u6709fastq\u3002 2.6.5 NextDenovo\u62fc\u63a5\u57fa\u56e0\u7ec4 \u652f\u6301py2\u548cpy3 \u5148\u7528pip\u5b89\u88c5\u4f9d\u8d56\u5305 Psutil \u548c Drmaa (Only required by running under non-local system) #\u751f\u6210\u4e00\u4e2a\u914d\u7f6e\u6587\u4ef6\uff0c\u53ef\u4ee5\u76f4\u63a5\u4ece\u8f6f\u4ef6\u5b89\u88c5\u76ee\u5f55\u4e0b\u62f7\u8d1d cp /ifs1/Software/biosoft/NextDenovo/doc/run.cfg ./ #\u751f\u6210\u4e00\u4e2areads\u5217\u8868\uff0c\u540d\u4e3ainput.fofn ls ../../filter/clean.filtlong.fq.gz > input.fofn #\u5c06input.fofn\u6dfb\u52a0\u5230\u914d\u7f6e\u6587\u4ef6run.cfg\u7684input_fofn\u5173\u952e\u5b57\u540e\u9762\uff0c\u9ed8\u8ba4\u4e0d\u7528\u4fee\u6539 input_fofn = ./input.fofn #\u8fd0\u884c\u8f6f\u4ef6 nohup time nextDenovo run.cfg & \u62fc\u63a5\u7ed3\u675f\u4e4b\u540e\uff0c\u6700\u7ec8\u7ed3\u679c\u9690\u85cf\u7684\u6bd4\u8f83\u6df1\uff0c\u5728\u4ee5\u4e0b\u76ee\u5f55\u4e2d\uff0c\u53ef\u4ee5\u914d\u5408nextpolish\u8fdb\u884c\u7ea0\u9519\uff0c\u5f97\u5230\u66f4\u4f18\u7684\u7ed3\u679c\u3002 01_rundir/03.ctg_graph/01.ctg_graph.sh.work/ctg_graph00/nextgraph.assembly.contig.fasta 2.6.6 flye\u62fc\u63a5\u57fa\u56e0\u7ec4 flye --nano-raw ../4.filter/clean.filtlong.fq.gz -g 3g -o output -t 48 -i 3 \u5e38\u7528\u9009\u9879\u53c2\u6570\uff1a\uff08\u4e0d\u4e60\u60ef\u957f\u9009\u9879\u7684\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u77ed\u9009\u9879\uff09 --pacbio-raw \uff1a\u8f93\u5165\u539f\u59cbpacbio\u6570\u636e --pacbio-corr \uff1a\u8f93\u5165\u7ea0\u9519\u540e\u7684pacbio\u6570\u636e --nano-raw\uff1a\u8f93\u5165\u539f\u59cbnanopore\u6570\u636e --nano-corr \uff1a\u8f93\u5165\u7ea0\u9519\u540e\u7684nanopore\u6570\u636e --genome-size\uff1a\u9884\u4f30\u57fa\u56e0\u7ec4\u5927\u5c0f\uff0c\u7528\u4e8e\u8bc4\u4f30\u8986\u76d6\u6df1\u5ea6 --out-dir\uff1a\u8f93\u51fa\u7ed3\u679c\u6587\u4ef6\u8def\u5f84 --threads\uff1acpu\u7ebf\u7a0b\u6570\u636e --iterations\uff1a\u7ea0\u9519\u8fed\u4ee3\u6b21\u6570 --min-overlap\uff1a\u6700\u5c0foverlap\u8fde\u63a5\u5927\u5c0f --meta: \u62fc\u63a5\u5b8f\u57fa\u56e0\u7ec4\u6570\u636e --plasmids: \u62fc\u63a5\u8d28\u7c92\u6570\u636e \u8f93\u51fa\u7ed3\u679c \u6700\u540e\u7ed3\u679c\u76ee\u5f55\u4e2d\u6709\u4e09\u4e2a\u6587\u4ef6\u6bd4\u8f83\u91cd\u8981\u3002 1\u3001assembly.fasta \uff1a\u6700\u7ec8\u62fc\u63a5\u5f97\u5230\u7684\u57fa\u56e0\u7ec4\u5e8f\u5217\uff0cfasta\u683c\u5f0f\u3002 2\u3001assembly_graph.{gfa|gv} \uff1a\u62fc\u63a5\u8fc7\u7a0b\u4e2d\u7528\u5230\u7684repeat graph\u3002 3\u3001assembly_info.txt\uff1a\u62fc\u63a5\u7ed3\u679c\u7edf\u8ba1\u4fe1\u606f\uff0c\u4e5f\u53ef\u4ee5\u81ea\u5df1\u5355\u72ec\u4f7f\u7528seqkit\u5de5\u5177\u7edf\u8ba1\u3002 2.7\u7528quast\u8bc4\u4f30\u591a\u4e2a\u62fc\u63a5\u7ed3\u679c quast\u8bc4\u4f30\u6848\u4f8b \u8f6f\u4ef6\u9002\u5408\u4ee5\u4e0b\u5e94\u7528\u573a\u666f\uff1a 1\u3001\u5f97\u5230\u4e0d\u540c\u8f6f\u4ef6\u62fc\u63a5\u7684\u57fa\u56e0\u7ec4\u5e8f\u5217\uff0c\u60f3\u6bd4\u8f83\u4e00\u4e0b\u54ea\u4e2a\u8f6f\u4ef6\u62fc\u63a5\u6548\u679c\u66f4\u597d\uff1b 2\u3001\u540c\u4e00\u8f6f\u4ef6\uff0c\u6bd4\u8f83\u4e0d\u540c\u9009\u9879\u53c2\u6570\u62fc\u63a5\u7684\u7ed3\u679c\uff0c\u54ea\u4e2a\u66f4\u597d\uff1b 3\u3001\u6bd4\u8f83\u62fc\u63a5\u5f97\u5230\u7684\u57fa\u56e0\u7ec4\uff0c\u4e0e\u53c2\u8003\u5e8f\u5217\u7684\u76f8\u4f3c\u6027\u3002 quast.py -r ref.fa canu.fa miniasm.fa wtdbg2.cns.fa smartdenovo.fa -o quast \u53c2\u6570\u8be6\u60c5 -o --output-dir \u8f93\u51fa\u7ed3\u679c\u76ee\u5f55 -r \u53c2\u8003\u5e8f\u5217\u6587\u4ef6 -g --genes \u53c2\u8003\u5e8f\u5217\u57fa\u56e0\u5750\u6807\uff0c\u4e00\u822cBED\u6216\u8005GFF\u683c\u5f0f\u6587\u4ef6 -m --min-contig \u6700\u5c0fcontig\u957f\u5ea6\uff0c\u4e5f\u5c31\u662f\u5c0f\u4e8e\u8fd9\u4e2a\u9608\u503c\u7684\u4e0d\u53c2\u4e0e\u8ba1\u7b97 -t --threads \u4f7f\u7528\u7ebf\u7a0b\u6570\u76ee\uff0c\u9ed8\u8ba4\u4f7f\u7528\u56db\u5206\u4e4b\u4e00\u7684cpu --help \u5217\u51fa\u5168\u90e8\u9009\u9879\u53c2\u6570\uff0c\u5927\u90e8\u5206\u60c5\u51b5\u4e0b\uff0c\u9ed8\u8ba4\u8fd9\u4e9b\u9009\u9879\u5373\u53ef 2.8 \u7ec4\u88c5\u7ed3\u679c\u4f18\u5316\uff08polish\uff09 2.8.0 \u7ec4\u88c5\u4f18\u5316\u524d\u540e\u5bf9\u6bd4 \u4f7f\u7528Mummer\u8f6f\u4ef6\u5305\u4e2ddnadiff\u5de5\u5177\u5c06\u7ea0\u9519\u524d\u540e\u7684\u5e8f\u5217\u8fdb\u884c\u57fa\u56e0\u7ec4\u7684\u6bd4\u5bf9\u3002dnadiff\u4f1a\u76f4\u63a5\u7ed9\u51fa\u4e00\u4e2a\u7edf\u8ba1\u62a5\u544a\uff0c\u91cc\u9762\u4f1a\u5217\u51fa\u4e24\u6761\u5e8f\u5217\u4e4b\u95f4\u5dee\u5f02\u7684\u90e8\u5206\uff0c\u7136\u540e\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528mummerplot\u5de5\u5177\u5bf9\u7edf\u8ba1\u8fdb\u884c\u8fdb\u884c\u7c97\u7565\u7684\u53ef\u89c6\u5316\u3002 #\u62fc\u63a5\u7ed3\u679c\u4f18\u5316\u524d\u540e\u6bd4\u8f83 dnadiff ../before.fasta after.fasta mummerplot --filter --png -p all out.delta gnuplot all.gp -i \u8f93\u5165\u6d4b\u5e8freads -d \u9700\u8981\u7ea0\u9519\u7684\u62fc\u63a5\u7ed3\u679c -o \u8f93\u51fa\u7ed3\u679c\u6587\u4ef6 -m \u82af\u7247\u7c7b\u578b -t \u5e76\u884c\u8ba1\u7b97 2.8.1 \u5229\u7528medaka\u7ec4\u88c5\u7ed3\u679c\u7ea0\u9519 \u5b89\u88c5\u65b9\u5f0f pip install medaka medaka_consensus -i ../4.filter/clean.filtlong.fq.gz -d ../6.quast/miniasm.fa -o medaka_output -m r941_min_high -t 4 >medaka.log -i \u8f93\u5165\u6d4b\u5e8freads -d \u9700\u8981\u7ea0\u9519\u7684\u62fc\u63a5\u7ed3\u679c -o \u8f93\u51fa\u7ed3\u679c\u6587\u4ef6 -m \u82af\u7247\u7c7b\u578b -t \u5e76\u884c\u8ba1\u7b97 \u6700\u7ec8\u751f\u6210\u7684 consensus.fasta\u5219\u4e3a\u7ea0\u9519\u540e\u7684\u7ed3\u679c\u3002 calls_to_draft.bam calls_to_draft.bam.bai consensus.fasta consensus.fasta.split/ consensus_probs.hdf \u4f18\u5316\u524d\u540e\u6bd4\u8f83 dnadiff ../6.quast/miniasm.fa medaka/consensus.fasta mummerplot --filter --png -p all out.delta gnuplot all.gp 2.8.2 pilon\u7ea0\u9519 \u4e0b\u8f7d wget https://github.com/broadinstitute/pilon/releases/download/v1.23/pilon-1.23.jar \uff0c\u76f4\u63a5\u662f\u4e8c\u8fdb\u5236\u6587\u4ef6\u3002 #minimap2\u6bd4\u5bf9 minimap2 -d miniasm.fa.min miniasm.fa minimap2 -ax map-ont miniasm.fa.min ../4.filter/clean.filtlong.fq.gz >miniasm.sam #\u5bf9bam\u8fdb\u884c\u5904\u7406 samtools sort -@ 4 -O bam -o miniasm.sorted.bam miniasm.sam samtools index miniasm.sorted.bam #\u5229\u7528pilon\u8fdb\u884c\u7ea0\u9519 java -Xmx32G -jar /share/softwares/pilon/pilon-1.23.jar --genome miniasm.fa --fix all --changes --bam miniasm.sorted.bam --output all_pillon --outdir all_pillon --threads 6 --vcf 2> pilon.log \u53c2\u6570\u8be6\u60c5 \u5e38\u7528\u9009\u9879\u53c2\u6570\uff1a --genome\u63d0\u4f9b\u8f93\u5165\u53c2\u8003\u57fa\u56e0\u7ec4 --frags \u8868\u793a\u8f93\u5165 < 1kb \u7684\u6587\u5e93BAM --jumps \u8f93\u5165 > 1kb \u7684\u6587\u5e93BAM -unpaired \u8f93\u5165\u975e\u914d\u5bf9\u7684BAM\u3002 --output\u8868\u793a\u8f93\u51fa\u7684\u524d\u7f00 --outdir\u8868\u793a\u8f93\u51fa\u6587\u4ef6\u5939 --changes \u5217\u51fa\u53d1\u751f\u53d8\u5316\u7684\u90e8\u5206,\u4ee5FASTA\u5f62\u5f0f\u4fdd\u5b58 --vcf \u4ee5VCF\u5f62\u5f0f\u4fdd\u5b58\u3002 --fix \u58f0\u660e\u5bf9\u53c2\u8003\u57fa\u56e0\u7ec4\u505a\u54ea\u65b9\u9762\u7684\u6539\u8fdb\uff0c\u5305\u62ec\u201csnps\u201d,\u201dindels\u201d,\u201dgaps\u201d,\u201dlocal\u201d, \u9ed8\u8ba4\u662f\u201dall\u201d \u5229\u7528\u4e8c\u4ee3\u6570\u636e\u8fdb\u884c\u7ea0\u9519 #\u5bf9\u62fc\u63a5\u7ed3\u679c\u5efa\u7acb\u7d22\u5f15 bwa index draft.fasta #illumina\u6bd4\u5bf9\u6392\u5e8f\u5efa\u7d22\u5f15 bwa mem -t 2 draft.fasta ../0.rawdata/SRX5341420_1.fastq.gz ../0.rawdata/SRX5341420_2.fastq.gz | samtools view - -Sb | samtools sort - -@ 14 -o illumina.sorted.bam samtools index illumina.sorted.bam #\u5229\u7528pilon\u8fdb\u884c\u7ea0\u9519 java -Xmx32G -jar /share/softwares/pilon/pilon-1.23.jar --genome draft.fasta --fix all --changes --frag --genome draft.fasta --fix all --changes --frags illumina.sorted.bam --output assembly_pillon --outdir assembly_pillon --threads 6 --vcf 2> pillon.log \u7ed3\u679c\u89e3\u6790 \u53ef\u80fd\u662f\u56e0\u4e3ajava\u5199\u7684\u7a0b\u5e8f\u7684\u7f18\u6545\uff08\u4e0d\u592a\u786e\u5b9a\uff09\uff0cpilon\u7684\u8fd0\u884c\u901f\u5ea6\u6bd4\u8f83\u6162\u3002\u6700\u7ec8\u4f1a\u751f\u6210 _pillon.changes\uff1a\u5c55\u793a\u54ea\u4e9b\u4f4d\u70b9\u7ecf\u8fc7\u4e86\u7ea0\u9519\uff1b _pillon.fasta \uff1a\u6700\u7ec8\u7ea0\u9519\u5f97\u5230\u7684\u7ed3\u679c\uff1b _pillon.vcf \uff1avcf\u683c\u5f0f\u5c55\u793a\u7ea0\u9519\u7684\u4f4d\u70b9\u3002 2.8.3 \u5229\u7528racon\u7ea0\u9519","title":"Nanopore \u5206\u6790\u6d41\u7a0b"},{"location":"nanopore-analysis/nanopore-%E5%88%86%E6%9E%90%E6%B5%81%E7%A8%8B/#nanopor","text":"","title":"\u672c\u6587\u8f6c\u8f7d\u81ea\u77e5\u4e4e nanopor\u6280\u672f\u4e13\u680f\uff0c\u4fee\u6539\u4e86\u5176\u4e2d\u90e8\u5206\u4ee3\u7801\u3002"},{"location":"nanopore-analysis/nanopore-%E5%88%86%E6%9E%90%E6%B5%81%E7%A8%8B/#_1","text":"https://poretools.readthedocs.io/en/latest/index.html# \u4e09\u4ee3\u6d4b\u5e8f\u6280\u672f \u6d4b\u5e8f\u6280\u672f 2019\u5e748\u6708\u7efc\u8ff0 \u7eb3\u7c73\u5b54\u6d4b\u5e8f \u6db2\u4f53\u6d3b\u68c0\u7684\u7eb3\u7c73\u5b54\u6d4b\u5e8f\uff1a\u80ba\u764c\u60a3\u8005\u65e0\u7ec6\u80deDNA\u62f7\u8d1d\u6570\u53d8\u5f02\u7684\u5206\u6790 \u7eb3\u7c73\u5b54\u6d4b\u5e8f\u53ca\u5176\u4e34\u5e8a\u5e94\u7528 \u4e00\u4e2a\u4eba\u7684\u5168\u57fa\u56e0\u5206\u6790\u6d41\u7a0b \u4f7f\u7528\u7684\u8f6f\u4ef6 \u4f7f\u7528HDFView \u67e5\u770bFast5\u6587\u4ef6\u683c\u5f0f\u3002 https://www.hdfgroup.org/downloads/hdfview/ \u4f7f\u7528ont_fast5_api\u8f6f\u4ef6\u5bf9fast5\u6587\u4ef6\u8fdb\u884c\u62c6\u5206\u4e0e\u5408\u5e76","title":"\u5355\u5206\u5b50\u7eb3\u7c73\u5b54\u6d4b\u5e8f"},{"location":"nanopore-analysis/nanopore-%E5%88%86%E6%9E%90%E6%B5%81%E7%A8%8B/#ont_fast5_api","text":"","title":"ont_fast5_api \u7f51\u5740"},{"location":"nanopore-analysis/nanopore-%E5%88%86%E6%9E%90%E6%B5%81%E7%A8%8B/#httpsgithubcomnanoporetechont_fast5_api","text":"","title":"https://github.com/nanoporetech/ont_fast5_api"},{"location":"nanopore-analysis/nanopore-%E5%88%86%E6%9E%90%E6%B5%81%E7%A8%8B/#_2","text":"","title":"\u5b89\u88c5"},{"location":"nanopore-analysis/nanopore-%E5%88%86%E6%9E%90%E6%B5%81%E7%A8%8B/#pip","text":"pip install ont-fast5-api","title":"\u76f4\u63a5\u4f7f\u7528pip\u5b89\u88c5"},{"location":"nanopore-analysis/nanopore-%E5%88%86%E6%9E%90%E6%B5%81%E7%A8%8B/#_3","text":"git clone https://github.com/nanoporetech/ont_fast5_api cd ont_fast5_api python3 setup.py install \u4f7f\u7528\u6848\u4f8b","title":"\u81ea\u884c\u7f16\u8bd1\u5b89\u88c5"},{"location":"nanopore-analysis/nanopore-%E5%88%86%E6%9E%90%E6%B5%81%E7%A8%8B/#_4","text":"single_to_multi_fast5 -i fast5_files/ -s multi -n 4000 --recursive","title":"\u591a\u6761\u5408\u5e76\u4e3a\u4e00\u4e2a\u6587\u4ef6"},{"location":"nanopore-analysis/nanopore-%E5%88%86%E6%9E%90%E6%B5%81%E7%A8%8B/#_5","text":"multi_to_single_fast5 -i multi/ -s single --recursive -t 6 1.\u78b1\u57fa\u8bc6\u522b\u5de5\u5177 DeepNano poretools \u5b98\u7f51 poretools\u5b89\u88c5 2.\u5e8f\u5217\u6bd4\u5bf9\u5de5\u5177 GraphMap MarginAlign 3.\u4ece\u5934\u7ec4\u88c5\u5de5\u5177 nanocorrect\uff0c\u9996\u5148\u5229\u7528graph- based\uff0cgreedy partial order aligner\u65b9\u6cd5\u8fdb\u884c\u7ea0\u9519\uff0c\u7136\u540e\u5229\u7528Celera Assembler\u5c06\u7ea0\u9519\u540e\u7684reads\u8fdb\u884c\u7ec4\u88c5\uff0c\u6700\u540e\u5229\u7528nanopolish\u5bf9\u7ec4\u88c5\u7ed3\u679c\u8fdb\u884c\u8fdb\u4e00\u6b65\u63d0\u5347 4\u3001\u5355\u6838\u82f7\u9178\u53d8\u5f02\u68c0\u6d4b\u5de5\u5177 PoreSeq \u4f4e\u901a\u91cf\u4e0b\uff0c\u4ecd\u7136\u6709\u9ad8\u51c6\u786e\u7387 Nanopolish MarginAlign\u4e2d\u7684marginCaller\u6a21\u5757 5\u3001\u5171\u6709\u5e8f\u5217\u7684\u6d4b\u5e8f\uff08consensus sequencing\uff09\u65b9\u6cd5","title":"\u4e00\u4e2a\u6587\u4ef6\u62c6\u5206\u4e3a\u591a\u6761"},{"location":"nanopore-analysis/nanopore-%E5%88%86%E6%9E%90%E6%B5%81%E7%A8%8B/#_6","text":"","title":"\u5b9e\u6218"},{"location":"nanopore-analysis/nanopore-%E5%88%86%E6%9E%90%E6%B5%81%E7%A8%8B/#1","text":"\u6bd4\u5bf9 minimap2 github \u62fc\u63a5 miniasm gfatools ngmlr graphmap \u62fc\u63a5 last MarginAlign \u8fc7\u6ee4 filtlong \u62fc\u63a5 canu github \u62fc\u63a5 Smartdenovo \u62fc\u63a5 wtdbg2 \u62fc\u63a5 NextDenovo \u7ea0\u9519\u3001\u6821\u6b63 NextPolish \u62fc\u63a5 flye \u57fa\u56e0\u7ec4\u88c5\u914d \u7684\u8d28\u91cf\u8bc4\u4f30\u5de5\u5177 quast \u6bd4\u5bf9 mummer 4 nanopack pip install nanopack \u57fa\u56e0\u7ec4\u53ef\u89c6\u5316 win+unix tablet \u8f6f\u4ef6\u7ed9\u51fa\u5b98\u65b9\u5730\u5740\uff0c\u7b80\u5355\u7684\u81ea\u884c\u5b89\u88c5\u3002\u6bd4\u8f83\u590d\u6742\u7684\u4f1a\u5199\u51fa\u8be6\u7ec6\u5b89\u88c5\u8fc7\u7a0b","title":"1.\u8f6f\u4ef6\u5b89\u88c5"},{"location":"nanopore-analysis/nanopore-%E5%88%86%E6%9E%90%E6%B5%81%E7%A8%8B/#2","text":"mkdir nanoQC #\u68c0\u6d4b\u6d4b\u5e8f\u8d28\u91cf nanoQC ../2.rawdata/minion/all..fastq.gz -o nanoQC #\u7edf\u8ba1\u8d28\u91cf\u4fe1\u606f NanoStat --fastq ../2.rawdata/minion/all.sra.fastq.gz --outdir statreports","title":"2. \u8d28\u63a7"},{"location":"nanopore-analysis/nanopore-%E5%88%86%E6%9E%90%E6%B5%81%E7%A8%8B/#21","text":"NanoPlot --fastq ../2.rawdata/minion/all..fastq.gz -t 16 --maxlength 40000 --plots hex dot pauvre kde -o nanoplot Nanoplot --summary sequencing_summary.txt --loglength -o summary \u9009\u9879\u53c2\u6570\uff1a -t\uff1a\u7ebf\u7a0b\u6570\u76ee -o, --outdir\uff1a\u8f93\u51fa\u7ed3\u679c\u76ee\u5f55 -p, --prefix\uff1a\u8f93\u51fa\u7ed3\u679c\u524d\u7f00 --color\uff1a\u70b9\u7684\u989c\u8272 --N50 \u8868\u793a\u5728\u5e8f\u5217\u8bfb\u957f\u7684\u76f4\u65b9\u56fe\u4e2d\u663e\u793aN50\u7684\u6807\u8bc6 --title\uff1a\u6807\u9898 --downsample \uff1a\u5728\u8f93\u5165\u6587\u4ef6\u4e2d\u968f\u673a\u62bd\u53d6n\u6761\u5e8f\u5217\u8fdb\u884c\u5904\u7406 --minlength\uff1a\u5ffd\u7565nbp\u4ee5\u4e0b\u7684reads -- fastq\uff1a\u8f93\u5165fastq\u683c\u5f0f\u6587\u4ef6 -f\uff1a\u56fe\u7247\u7c7b\u578b --plots\uff1a\u7ed8\u56fe\u7c7b\u578b\uff0ckde,hex,dot,pauvre","title":"2.1 \u8d28\u63a7"},{"location":"nanopore-analysis/nanopore-%E5%88%86%E6%9E%90%E6%B5%81%E7%A8%8B/#22-nanofiltfiltlong","text":"","title":"2.2 \u8fc7\u6ee4\uff08nanofilt\u548cfiltlong\u4e8c\u9009\u4e00\u5373\u53ef\uff09"},{"location":"nanopore-analysis/nanopore-%E5%88%86%E6%9E%90%E6%B5%81%E7%A8%8B/#nanofiltnanofilt","text":"gunzip -c ../2.rawdata/minion/all.fastq.gz | NanoFilt -q 7 -l 1000 --headcrop 50 --tailcrop 50| gzip > clean.NanoFilt.fastq.gz \u9009\u9879\u53c2\u6570\uff1a -l ,--length :\u8fc7\u6ee4\u6389\u5c0f\u4e8e\u6b64\u957f\u5ea6\u7684\u5e8f\u5217 --maxlength \uff1a\u8fc7\u6ee4\u6389\u8d85\u8fc7\u6b64\u957f\u5ea6\u7684\u5e8f\u5217 -q , --quality \uff1a\u8fc7\u6ee4\u6389\u4f4e\u8d28\u91cf\u5e8f\u5217 --minGC\uff1a\u8fc7\u6ee4\u6389GC\u542b\u91cf\u5c0f\u4e8e\u6b64\u767e\u5206\u6bd4\u7684\u5e8f\u5217 --maxGC\uff1a\u8fc7\u6ee4\u6389GC\u542b\u91cf\u5927\u4e8e\u6b64\u767e\u5206\u6bd4\u7684\u5e8f\u5217 --headcrop\uff1a\u4ece\u5934\u90e8\u5207\u6389n bp --tailcrop\uff1a\u5c3e\u90e8\u5207\u6389n bp \u7ed3\u679c\u89e3\u8bfb \u8f93\u5165\u4e00\u4e2a\u538b\u7f29\u683c\u5f0f\u7684fastq\u6587\u4ef6\uff0c\u7ed3\u679c\u8f6f\u4ef6\u5904\u7406\uff0c\u5df2\u7ecf\u5c06\u957f\u5ea6\u5c0f\u4e8e1000\uff0c\u540c\u65f6\u6574\u6761\u5e8f\u5217\u5e73\u5747\u8d28\u91cf\u503c\u5c0f\u4e8eQ7\u7684\u8fc7\u6ee4\u6389\uff0c\u540c\u65f6\u5c06\u6bcf\u6761\u5e8f\u5217\u9996\u4f4d\u5404\u526a\u638950bp\u3002\u8fd9\u4e9b\u5269\u4f59\u7684\u5e8f\u5217\u5219\u4e3a\u201cclean data\u201d\u3002\u53ef\u4ee5\u4f7f\u7528NanoPlot\u91cd\u65b0\u8fdb\u884c\u4e00\u4e0b\u8d28\u63a7\u3002","title":"\u4f7f\u7528nanofilt\u8fc7\u6ee4\uff0cnanofilt\u65e0\u6cd5\u8bc6\u522b\u538b\u7f29\u6587\u4ef6\uff0c\u9700\u8981\u5148\u89e3\u538b\u3002"},{"location":"nanopore-analysis/nanopore-%E5%88%86%E6%9E%90%E6%B5%81%E7%A8%8B/#filtlong","text":"filtlong --min_length 1000 --min_mean_q 7 ../2.rawdata/minion/all.fastq.gz | gzip >clean.filtlong.fq.gz filtlong\u8fd8\u53ef\u4ee5\u4ee5\u4e8c\u4ee3\u7684\u6570\u636e\u4e3a\u53c2\u8003\u8fdb\u884c\u8fc7\u6ee4\u3002 \u9009\u9879\u53c2\u6570\uff1a --min_length \uff1a\u6700\u77ed\u957f\u5ea6 --min_mean_q\uff1a\u5e73\u5747Q\u503c --keep_percent\uff1a\u4fdd\u7559\u6700\u597d\u6570\u636e\u7684\u767e\u5206\u6bd4\uff0c80%\uff0c\u76f4\u63a5\u519980\uff0c\u4e0d\u80fd\u51990.8 --target_bases\uff1a\u4fdd\u7559\u591a\u5c11\u6570\u636e\uff0c\u5355\u4f4d\u4e3abp","title":"\u4f7f\u7528filtlong\u8fc7\u6ee4"},{"location":"nanopore-analysis/nanopore-%E5%88%86%E6%9E%90%E6%B5%81%E7%A8%8B/#23","text":"","title":"2.3 \u6bd4\u5bf9"},{"location":"nanopore-analysis/nanopore-%E5%88%86%E6%9E%90%E6%B5%81%E7%A8%8B/#231-minimap2","text":"\u6784\u5efa\u57fa\u56e0\u7ec4\u7684\u7d22\u5f15\u6587\u4ef6 minimap2 -d ref.mmi ref.fa \uff03\u7d22\u5f15 \u6bd4\u5bf9 minimap2 -a ref.mmi reads.fq > alignment.sam \uff03\u5bf9\u9f50 #\u7b49\u4ef7\u4e8e minimap2 -ax map-ont ref.mmi reads.fq >alignment.sam \u5e38\u7528\u9009\u9879\u53c2\u6570 \u4e3b\u8981\u5206\u6210\u4e94\u5927\u7c7b\uff0c\u7d22\u5f15\uff08Indexing\uff09\uff0c\u56de\u5e16\uff08Mapping\uff09\uff0c\u6bd4\u5bf9(Alignment),\u8f93\u5165/\u8f93\u51fa\uff08Input/Output\uff09,\u9884\u8bbe\u503c\uff08Preset\uff09\u3002 -x \uff1a\u975e\u5e38\u4e2d\u8981\u7684\u4e00\u4e2a\u9009\u9879\uff0c\u8f6f\u4ef6\u9884\u6d4b\u7684\u4e00\u4e9b\u503c\uff0c\u9488\u5bf9\u4e0d\u540c\u7684\u6570\u636e\u9009\u62e9\u4e0d\u540c\u7684\u503c map-pb/map-ont: pb\u6216\u8005ont\u6570\u636e\u4e0e\u53c2\u8003\u5e8f\u5217\u6bd4\u5bf9\uff1b ava-pb/ava-ont: \u5bfb\u627epd\u6570\u636e\u6216\u8005ont\u6570\u636e\u4e4b\u95f4\u7684overlap\u5173\u7cfb\uff1b asm5/asm10/asm20: \u62fc\u63a5\u7ed3\u679c\u4e0e\u53c2\u8003\u5e8f\u5217\u8fdb\u884c\u6bd4\u5bf9\uff0c\u9002\u5408~0.1/1/5% \u5e8f\u5217\u5206\u6b67\u5ea6\uff1b splice: \u957freads\u7684\u5207\u5272\u6bd4\u5bf9 sr: \u77edreads\u6bd4\u5bf9 -d :\u521b\u5efa\u7d22\u5f15\u6587\u4ef6\u540d -a \uff1a\u6307\u5b9a\u8f93\u51fa\u683c\u5f0f\u4e3asa\u683c\u5f0f\uff0c\u9ed8\u8ba4\u4e3aPAF -Q \uff1asam\u6587\u4ef6\u4e2d\u4e0d\u8f93\u51fa\u78b1\u57fa\u8d28\u91cf -R \uff1areads Group\u4fe1\u606f\uff0c\u4e0ebwa\u6bd4\u5bf9\u4e2d\u7684-R\u4e00\u81f4 -t\uff1a\u7ebf\u7a0b\u6570\uff0c\u9ed8\u8ba4\u4e3a3","title":"2.3.1 \u4f7f\u7528minimap2\u8fdb\u884c\u6bd4\u5bf9"},{"location":"nanopore-analysis/nanopore-%E5%88%86%E6%9E%90%E6%B5%81%E7%A8%8B/#232","text":"","title":"2.3.2"},{"location":"nanopore-analysis/nanopore-%E5%88%86%E6%9E%90%E6%B5%81%E7%A8%8B/#24-sambam","text":"#samtools\u5904\u7406 samtools sort -@ 8 -o bam -o s0137.sorted.bam s1037.sam samtools index s0137.sorted.bam samtools faidx ref.fq","title":"2.4 sam\u8f6cbam,\u6392\u5e8f"},{"location":"nanopore-analysis/nanopore-%E5%88%86%E6%9E%90%E6%B5%81%E7%A8%8B/#25tablet","text":"tablet\u652f\u6301Windows\uff0clinux. \u4e0b\u9762\u662fWindows\u4e0a\u7684\u64cd\u4f5c 2.5.1 \u5c06\u51c6\u5907\u597d\u7684\u6587\u4ef6\uff0c\u81f3\u5c11\u56db\u4e2a\uff0c\u53c2\u8003\u5e8f\u5217fasta\u683c\u5f0f\u53ca\u7d22\u5f15fai\u6587\u4ef6\uff0c\u6bd4\u5bf9\u5e76\u6392\u5e8f\u540e\u7684bam\u6587\u4ef6\u53ca\u7d22\u5f15bai\u6587\u4ef6\uff1b ref.fq ref.fai ref.gff s1037.sorted.bam s1037.sorted.bam.bai 2.5.2\u3001\u6253\u5f00tablet\uff0c\u9996\u5148\u5bfc\u5165bam\u6587\u4ef6\uff0c\u7136\u540e\u5bfc\u5165fasta\u6587\u4ef6\uff0c\u7d22\u5f15\u6587\u4ef6\u65e0\u9700\u5bfc\u5165\uff0c\u4f46\u5fc5\u987b\u4e0e\u5bf9\u5e94\u6587\u4ef6\u5728\u540c\u4e00\u76ee\u5f55\u4e0b\uff0c\uff08tablet\u5bf9\u4e2d\u6587\u652f\u6301\u4e0d\u597d,\u8def\u5f84\u4e0d\u8981\u6709\u4e2d\u6587\uff09\uff1b 2.5.3 \u3001\u53ef\u4ee5\u901a\u8fc7\u9f20\u6807\u8c03\u6574\u663e\u793a\u6a21\u5f0f\uff1b 2.5.4\u3001tablet\u8fd8\u652f\u6301\u5bfc\u5165gff\u683c\u5f0f\u7ed3\u679c\uff0c\u65b9\u4fbf\u67e5\u770b\u56fa\u5b9a\u533a\u57df","title":"2.5tablet\u53ef\u89c6\u5316\u57fa\u56e0\u7ec4"},{"location":"nanopore-analysis/nanopore-%E5%88%86%E6%9E%90%E6%B5%81%E7%A8%8B/#26","text":"","title":"2.6 \u91cd\u65b0\u62fc\u63a5\u57fa\u56e0\u7ec4\uff08\u591a\u4e2a\u8f6f\u4ef6\u5206\u522b\u62fc\u63a5\u540e\uff0c\u518d\u4ece\u4e2d\u9009\u62e9\u6700\u4f18\u7684\uff09"},{"location":"nanopore-analysis/nanopore-%E5%88%86%E6%9E%90%E6%B5%81%E7%A8%8B/#261-canu","text":"\u8f6f\u4ef6\u5b89\u88c5\u4e00\u5b9a\u8981\u5b89\u88c5github\u7684\u7248\u672c\u3002 canu -d canu -p canu genomeSize=3g maxThreads=96 -nanopore-raw ../4.filter/clean.filtlong.fq.gz >canu.log \u9009\u9879\u53c2\u6570\uff1a -p\uff1a\u8f93\u51fa\u524d\u7f00 -d\uff1a\u8f93\u51fa\u7ed3\u679c\u76ee\u5f55 -nanopore-raw\uff1a\u8f93\u5165\u7684\u4e3a\u6ca1\u6709\u7ea0\u9519\u8fc7\u5f97nanopore\u6570\u636e -num_threads\uff1aCPU\u7ebf\u7a0b\u6570 genomeSize\uff1a\u8bbe\u7f6e\u9884\u4f30\u7684\u57fa\u56e0\u7ec4\u5927\u5c0f\uff0c\u8fd9\u7528\u4e8e\u8ba9Canu\u4f30\u8ba1\u6d4b\u5e8f\u6df1\u5ea6\uff1b maxThreads\uff1a\u8bbe\u7f6e\u8fd0\u884c\u7684\u6700\u5927\u7ebf\u7a0b\u6570\uff1b rawErrorRate\uff1a\u7528\u6765\u8bbe\u7f6e\u4e24\u4e2a\u672a\u7ea0\u9519read\u4e4b\u95f4\u6700\u5927\u671f\u671b\u5dee\u5f02\u78b1\u57fa\u6570\uff1b correctedErrorRate\uff1a\u5219\u662f\u8bbe\u7f6e\u7ea0\u9519\u540eread\u4e4b\u95f4\u6700\u5927\u671f\u671b\u5dee\u5f02\u78b1\u57fa\u6570\uff0c\u8fd9\u4e2a\u53c2\u6570\u9700\u8981\u5728 \u7ec4\u88c5 \u65f6\u591a\u6b21\u8c03\u6574\uff1b minReadLength\uff1a\u8868\u793a\u53ea\u4f7f\u7528\u5927\u4e8e\u9608\u503c\u7684\u5e8f\u5217 minOverlapLength\uff1a\u8868\u793aOverlap\u7684\u6700\u5c0f\u957f\u5ea6\u3002\u63d0\u9ad8minReadLength\u53ef\u4ee5\u63d0\u9ad8\u8fd0\u884c\u901f\u5ea6\uff0c\u589e\u52a0minOverlapLength\u53ef\u4ee5\u964d\u4f4e\u5047\u9633\u6027\u7684overlap\u3002 \u603b\u7ed3 1\u3001\u6709\u7ea0\u9519\u6b65\u9aa4\uff1b 2\u3001\u90e8\u5206\u57fa\u56e0\u7ec4\u62fc\u63a5\u6548\u679c\u6bd4\u8f83\u597d\uff1b 3\u3001\u9ed8\u8ba4\u4f1a\u5360\u7528\u6240\u6709CPU\uff0c \u975e\u5e38\u8017\u65f6\uff0c\u614e\u91cd\u4f7f\u7528 \uff1b 4\u3001\u6709\u4e9b\u6570\u636e\u65e0\u6cd5\u62fc\u63a5\u51fa\u7ed3\u679c\u3002","title":"2.6.1 canu"},{"location":"nanopore-analysis/nanopore-%E5%88%86%E6%9E%90%E6%B5%81%E7%A8%8B/#262-miniasmgfatools","text":"\u4f7f\u7528miniasm\u62fc\u63a5\u9996\u5148\u9700\u8981\u4f7f\u7528minim2\u5c06\u6d4b\u5e8f\u6570\u636e\u8fdb\u884c\u81ea\u8eab\u6bd4\u5bf9\uff0c\u67e5\u627e\u5171\u6709\u533a\u57df\uff0c\u751f\u6210paf\u683c\u5f0f\u6587\u4ef6\u3002\u6ce8\u610f\u4f7f\u7528minimap2\u6bd4\u5bf9\u7684\u65f6\u5019\u4e00\u5b9a\u8981\u6b63\u786e\u8bbe\u7f6e\u597d-x\u9009\u9879\uff0cnanopore\u62fc\u63a5\u9700\u8981\u4f7f\u7528ava-ont\u9009\u9879\u3002\u7136\u540e\u4f7f\u7528miniasm\u8fdb\u884c\u62fc\u63a5\uff0cminiasm\u62fc\u63a5\u4e0d\u4f1a\u76f4\u63a5\u751f\u6210fasta\u5e8f\u5217\uff0c\u800c\u662f\u4f1a\u751f\u6210gfa\u683c\u5f0f\u6587\u4ef6\u3002\u6700\u540e\u4f7f\u7528gfatools\u63d0\u51fa\u62fc\u63a5\u597d\u7684\u5e8f\u5217\u3002 minimap2 -x ava-ont -t 12 ../4.filter/clean.filtlong.fq.gz ../4.filter/clean.filtlong.fq.gz | gzip -1 > reads.paf.gz miniasm -f ../4.filter/clean.filtlong.fq.gz reads.paf.gz >reads.gfa gfatools gfa2fa reads.gfa >miniasm.fa","title":"2.6.2 miniasm\u62fc\u63a5\uff0cgfatools\u8f6c\u6362\u683c\u5f0f"},{"location":"nanopore-analysis/nanopore-%E5%88%86%E6%9E%90%E6%B5%81%E7%A8%8B/#minimap2","text":"\u603b\u7ed3 1\u3001\u9996\u5148\u5229\u7528minimap2\u6bd4\u5bf9\uff0c\u8fd0\u884c\u901f\u5ea6\u975e\u5e38\u5feb\uff1b 2\u3001\u8f6f\u4ef6\u4e0d\u80fd\u76f4\u63a5\u751f\u6210fasta\u683c\u5f0f\uff0c\u9700\u8981\u4f7f\u7528gfatools\u751f\u6210\uff1b 3\u3001\u6ca1\u6709\u7ea0\u9519\u8fc7\u7a0b\uff0c\u78b1\u57fa\u9519\u8bef\u7387\u8f83\u9ad8\uff0c\u9700\u8981\u540e\u7eed\u8fdb\u884c\u7ea0\u9519\uff1b 4\u3001\u62fc\u51fa\u6765\u7684\u57fa\u56e0\u7ec4\u53ef\u80fd\u6bd4\u771f\u5b9e\u57fa\u56e0\u7ec4\u8981\u5c0f\uff0c\u6709\u65f6\u5019\u5c0f\u5f88\u591a\uff0c\u9700\u8981\u6ce8\u610f\u3002","title":"\u6ce8\u610f\uff1a\u7b2c\u4e00\u6b65\uff0c\u662f\u7528minimap2\u5bf9\u6d4b\u5e8f\u7684\u6587\u4ef6\u81ea\u8eab\u8fdb\u884c\u6bd4\u5bf9\u3002\u548c\u524d\u9762\u7684\u6bd4\u5bf9\u5230\u57fa\u56e0\u7ec4\u4e0a\u4e0d\u4e00\u6837\u3002"},{"location":"nanopore-analysis/nanopore-%E5%88%86%E6%9E%90%E6%B5%81%E7%A8%8B/#263-smartdenovo","text":"# \u751f\u6210\u811a\u672c smartdenovo.pl -c 1 -t 8 -J 500 -k 16 -p smartdenovo ../4.filter/clean.filtlong.fq.gz >smartdenovo.mak #\u8fd0\u884c\u811a\u672c make -f smartdenovo.mak \u9009\u9879\u53c2\u6570\uff1a -p STR \u8f93\u51fa\u7ed3\u679c\u524d\u7f00\uff0c\u9ed8\u8ba4wtasm -e STR overlap\u65b9\u6cd5\uff0czmo\u6216\u8005dmo -t INT \u7ebf\u7a0b\u6570\uff0c\u9ed8\u8ba4\u4e3a8 -k INT overlap\u8fde\u63a5kmer\u5927\u5c0f -J INT \u6700\u5c0fread\u957f\u5ea6 -c INT \u662f\u5426\u751f\u6210\u4e00\u81f4\u6027\u5e8f\u5217","title":"2.6.3 Smartdenovo\u62fc\u63a5\uff08\u962e\u73cf \u51fa\u54c1\uff09"},{"location":"nanopore-analysis/nanopore-%E5%88%86%E6%9E%90%E6%B5%81%E7%A8%8B/#264-wtdbg2","text":"\u5feb\u901f\u8fd0\u884c\u6a21\u5f0f\uff0c\u76f4\u63a5\u4f7f\u7528wtdbg2.pl\u811a\u672c wtdbg2.pl -t 96 -x ont -g 3g -o wtdbg2 reads.fa.gz \u9009\u9879\u53c2\u6570\uff1a -t \u7ebf\u7a0b\u6570\u91cf -x \u6570\u636e\u6a21\u5f0f\uff08nanopore\u7684\u6570\u636e\u9009\u62e9ont\uff09 -g \u57fa\u56e0\u7ec4\u5927\u5c0f\uff08\u6839\u636e\u5b9e\u9645\u7269\u79cd\u51b3\u5b9a\uff09 -o \u8f93\u51fa\u76ee\u5f55 \u603b\u7ed3\uff1a 1\u3001\u5bf9\u4e8enanopore\u6570\u636e\uff0cwtdbg2\u53ef\u80fd\u4f1a\u4ea7\u751f\u6bd4\u771f\u5b9e\u57fa\u56e0\u7ec4\u5c0f\u7684\u96c6\u5408\u3002 2\u3001\u5f53\u8f93\u5165fasta\u548cfastq\u683c\u5f0f\u7684\u591a\u4e2a\u6587\u4ef6\u65f6\uff0c\u8bf7\u5148\u8f93\u5165fastq\uff0c\u7136\u540e\u518d\u8f93\u5165fasta\u3002\u5426\u5219\uff0c\u7a0b\u5e8f\u5c06\u65e0\u6cd5\u5728fastq\u4e2d\u627e\u5230'>'\uff0c\u5e76\u5728\u4e00\u6b21\u8bfb\u53d6\u540e\u9644\u52a0\u6240\u6709fastq\u3002","title":"2.6.4 wtdbg2\u62fc\u63a5 \uff08\u962e\u73cf \u51fa\u54c1\uff09"},{"location":"nanopore-analysis/nanopore-%E5%88%86%E6%9E%90%E6%B5%81%E7%A8%8B/#265-nextdenovo","text":"\u652f\u6301py2\u548cpy3 \u5148\u7528pip\u5b89\u88c5\u4f9d\u8d56\u5305 Psutil \u548c Drmaa (Only required by running under non-local system) #\u751f\u6210\u4e00\u4e2a\u914d\u7f6e\u6587\u4ef6\uff0c\u53ef\u4ee5\u76f4\u63a5\u4ece\u8f6f\u4ef6\u5b89\u88c5\u76ee\u5f55\u4e0b\u62f7\u8d1d cp /ifs1/Software/biosoft/NextDenovo/doc/run.cfg ./ #\u751f\u6210\u4e00\u4e2areads\u5217\u8868\uff0c\u540d\u4e3ainput.fofn ls ../../filter/clean.filtlong.fq.gz > input.fofn #\u5c06input.fofn\u6dfb\u52a0\u5230\u914d\u7f6e\u6587\u4ef6run.cfg\u7684input_fofn\u5173\u952e\u5b57\u540e\u9762\uff0c\u9ed8\u8ba4\u4e0d\u7528\u4fee\u6539 input_fofn = ./input.fofn #\u8fd0\u884c\u8f6f\u4ef6 nohup time nextDenovo run.cfg & \u62fc\u63a5\u7ed3\u675f\u4e4b\u540e\uff0c\u6700\u7ec8\u7ed3\u679c\u9690\u85cf\u7684\u6bd4\u8f83\u6df1\uff0c\u5728\u4ee5\u4e0b\u76ee\u5f55\u4e2d\uff0c\u53ef\u4ee5\u914d\u5408nextpolish\u8fdb\u884c\u7ea0\u9519\uff0c\u5f97\u5230\u66f4\u4f18\u7684\u7ed3\u679c\u3002 01_rundir/03.ctg_graph/01.ctg_graph.sh.work/ctg_graph00/nextgraph.assembly.contig.fasta","title":"2.6.5 NextDenovo\u62fc\u63a5\u57fa\u56e0\u7ec4"},{"location":"nanopore-analysis/nanopore-%E5%88%86%E6%9E%90%E6%B5%81%E7%A8%8B/#266-flye","text":"flye --nano-raw ../4.filter/clean.filtlong.fq.gz -g 3g -o output -t 48 -i 3 \u5e38\u7528\u9009\u9879\u53c2\u6570\uff1a\uff08\u4e0d\u4e60\u60ef\u957f\u9009\u9879\u7684\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u77ed\u9009\u9879\uff09 --pacbio-raw \uff1a\u8f93\u5165\u539f\u59cbpacbio\u6570\u636e --pacbio-corr \uff1a\u8f93\u5165\u7ea0\u9519\u540e\u7684pacbio\u6570\u636e --nano-raw\uff1a\u8f93\u5165\u539f\u59cbnanopore\u6570\u636e --nano-corr \uff1a\u8f93\u5165\u7ea0\u9519\u540e\u7684nanopore\u6570\u636e --genome-size\uff1a\u9884\u4f30\u57fa\u56e0\u7ec4\u5927\u5c0f\uff0c\u7528\u4e8e\u8bc4\u4f30\u8986\u76d6\u6df1\u5ea6 --out-dir\uff1a\u8f93\u51fa\u7ed3\u679c\u6587\u4ef6\u8def\u5f84 --threads\uff1acpu\u7ebf\u7a0b\u6570\u636e --iterations\uff1a\u7ea0\u9519\u8fed\u4ee3\u6b21\u6570 --min-overlap\uff1a\u6700\u5c0foverlap\u8fde\u63a5\u5927\u5c0f --meta: \u62fc\u63a5\u5b8f\u57fa\u56e0\u7ec4\u6570\u636e --plasmids: \u62fc\u63a5\u8d28\u7c92\u6570\u636e \u8f93\u51fa\u7ed3\u679c \u6700\u540e\u7ed3\u679c\u76ee\u5f55\u4e2d\u6709\u4e09\u4e2a\u6587\u4ef6\u6bd4\u8f83\u91cd\u8981\u3002 1\u3001assembly.fasta \uff1a\u6700\u7ec8\u62fc\u63a5\u5f97\u5230\u7684\u57fa\u56e0\u7ec4\u5e8f\u5217\uff0cfasta\u683c\u5f0f\u3002 2\u3001assembly_graph.{gfa|gv} \uff1a\u62fc\u63a5\u8fc7\u7a0b\u4e2d\u7528\u5230\u7684repeat graph\u3002 3\u3001assembly_info.txt\uff1a\u62fc\u63a5\u7ed3\u679c\u7edf\u8ba1\u4fe1\u606f\uff0c\u4e5f\u53ef\u4ee5\u81ea\u5df1\u5355\u72ec\u4f7f\u7528seqkit\u5de5\u5177\u7edf\u8ba1\u3002","title":"2.6.6 flye\u62fc\u63a5\u57fa\u56e0\u7ec4"},{"location":"nanopore-analysis/nanopore-%E5%88%86%E6%9E%90%E6%B5%81%E7%A8%8B/#27quast","text":"quast\u8bc4\u4f30\u6848\u4f8b \u8f6f\u4ef6\u9002\u5408\u4ee5\u4e0b\u5e94\u7528\u573a\u666f\uff1a 1\u3001\u5f97\u5230\u4e0d\u540c\u8f6f\u4ef6\u62fc\u63a5\u7684\u57fa\u56e0\u7ec4\u5e8f\u5217\uff0c\u60f3\u6bd4\u8f83\u4e00\u4e0b\u54ea\u4e2a\u8f6f\u4ef6\u62fc\u63a5\u6548\u679c\u66f4\u597d\uff1b 2\u3001\u540c\u4e00\u8f6f\u4ef6\uff0c\u6bd4\u8f83\u4e0d\u540c\u9009\u9879\u53c2\u6570\u62fc\u63a5\u7684\u7ed3\u679c\uff0c\u54ea\u4e2a\u66f4\u597d\uff1b 3\u3001\u6bd4\u8f83\u62fc\u63a5\u5f97\u5230\u7684\u57fa\u56e0\u7ec4\uff0c\u4e0e\u53c2\u8003\u5e8f\u5217\u7684\u76f8\u4f3c\u6027\u3002 quast.py -r ref.fa canu.fa miniasm.fa wtdbg2.cns.fa smartdenovo.fa -o quast","title":"2.7\u7528quast\u8bc4\u4f30\u591a\u4e2a\u62fc\u63a5\u7ed3\u679c"},{"location":"nanopore-analysis/nanopore-%E5%88%86%E6%9E%90%E6%B5%81%E7%A8%8B/#_7","text":"-o --output-dir \u8f93\u51fa\u7ed3\u679c\u76ee\u5f55 -r \u53c2\u8003\u5e8f\u5217\u6587\u4ef6 -g --genes \u53c2\u8003\u5e8f\u5217\u57fa\u56e0\u5750\u6807\uff0c\u4e00\u822cBED\u6216\u8005GFF\u683c\u5f0f\u6587\u4ef6 -m --min-contig \u6700\u5c0fcontig\u957f\u5ea6\uff0c\u4e5f\u5c31\u662f\u5c0f\u4e8e\u8fd9\u4e2a\u9608\u503c\u7684\u4e0d\u53c2\u4e0e\u8ba1\u7b97 -t --threads \u4f7f\u7528\u7ebf\u7a0b\u6570\u76ee\uff0c\u9ed8\u8ba4\u4f7f\u7528\u56db\u5206\u4e4b\u4e00\u7684cpu --help \u5217\u51fa\u5168\u90e8\u9009\u9879\u53c2\u6570\uff0c\u5927\u90e8\u5206\u60c5\u51b5\u4e0b\uff0c\u9ed8\u8ba4\u8fd9\u4e9b\u9009\u9879\u5373\u53ef","title":"\u53c2\u6570\u8be6\u60c5"},{"location":"nanopore-analysis/nanopore-%E5%88%86%E6%9E%90%E6%B5%81%E7%A8%8B/#28-polish","text":"","title":"2.8 \u7ec4\u88c5\u7ed3\u679c\u4f18\u5316\uff08polish\uff09"},{"location":"nanopore-analysis/nanopore-%E5%88%86%E6%9E%90%E6%B5%81%E7%A8%8B/#280","text":"\u4f7f\u7528Mummer\u8f6f\u4ef6\u5305\u4e2ddnadiff\u5de5\u5177\u5c06\u7ea0\u9519\u524d\u540e\u7684\u5e8f\u5217\u8fdb\u884c\u57fa\u56e0\u7ec4\u7684\u6bd4\u5bf9\u3002dnadiff\u4f1a\u76f4\u63a5\u7ed9\u51fa\u4e00\u4e2a\u7edf\u8ba1\u62a5\u544a\uff0c\u91cc\u9762\u4f1a\u5217\u51fa\u4e24\u6761\u5e8f\u5217\u4e4b\u95f4\u5dee\u5f02\u7684\u90e8\u5206\uff0c\u7136\u540e\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528mummerplot\u5de5\u5177\u5bf9\u7edf\u8ba1\u8fdb\u884c\u8fdb\u884c\u7c97\u7565\u7684\u53ef\u89c6\u5316\u3002 #\u62fc\u63a5\u7ed3\u679c\u4f18\u5316\u524d\u540e\u6bd4\u8f83 dnadiff ../before.fasta after.fasta mummerplot --filter --png -p all out.delta gnuplot all.gp -i \u8f93\u5165\u6d4b\u5e8freads -d \u9700\u8981\u7ea0\u9519\u7684\u62fc\u63a5\u7ed3\u679c -o \u8f93\u51fa\u7ed3\u679c\u6587\u4ef6 -m \u82af\u7247\u7c7b\u578b -t \u5e76\u884c\u8ba1\u7b97","title":"2.8.0 \u7ec4\u88c5\u4f18\u5316\u524d\u540e\u5bf9\u6bd4"},{"location":"nanopore-analysis/nanopore-%E5%88%86%E6%9E%90%E6%B5%81%E7%A8%8B/#281-medaka","text":"\u5b89\u88c5\u65b9\u5f0f pip install medaka medaka_consensus -i ../4.filter/clean.filtlong.fq.gz -d ../6.quast/miniasm.fa -o medaka_output -m r941_min_high -t 4 >medaka.log -i \u8f93\u5165\u6d4b\u5e8freads -d \u9700\u8981\u7ea0\u9519\u7684\u62fc\u63a5\u7ed3\u679c -o \u8f93\u51fa\u7ed3\u679c\u6587\u4ef6 -m \u82af\u7247\u7c7b\u578b -t \u5e76\u884c\u8ba1\u7b97 \u6700\u7ec8\u751f\u6210\u7684 consensus.fasta\u5219\u4e3a\u7ea0\u9519\u540e\u7684\u7ed3\u679c\u3002 calls_to_draft.bam calls_to_draft.bam.bai consensus.fasta consensus.fasta.split/ consensus_probs.hdf \u4f18\u5316\u524d\u540e\u6bd4\u8f83 dnadiff ../6.quast/miniasm.fa medaka/consensus.fasta mummerplot --filter --png -p all out.delta gnuplot all.gp","title":"2.8.1 \u5229\u7528medaka\u7ec4\u88c5\u7ed3\u679c\u7ea0\u9519"},{"location":"nanopore-analysis/nanopore-%E5%88%86%E6%9E%90%E6%B5%81%E7%A8%8B/#282-pilon","text":"\u4e0b\u8f7d wget https://github.com/broadinstitute/pilon/releases/download/v1.23/pilon-1.23.jar \uff0c\u76f4\u63a5\u662f\u4e8c\u8fdb\u5236\u6587\u4ef6\u3002 #minimap2\u6bd4\u5bf9 minimap2 -d miniasm.fa.min miniasm.fa minimap2 -ax map-ont miniasm.fa.min ../4.filter/clean.filtlong.fq.gz >miniasm.sam #\u5bf9bam\u8fdb\u884c\u5904\u7406 samtools sort -@ 4 -O bam -o miniasm.sorted.bam miniasm.sam samtools index miniasm.sorted.bam #\u5229\u7528pilon\u8fdb\u884c\u7ea0\u9519 java -Xmx32G -jar /share/softwares/pilon/pilon-1.23.jar --genome miniasm.fa --fix all --changes --bam miniasm.sorted.bam --output all_pillon --outdir all_pillon --threads 6 --vcf 2> pilon.log \u53c2\u6570\u8be6\u60c5 \u5e38\u7528\u9009\u9879\u53c2\u6570\uff1a --genome\u63d0\u4f9b\u8f93\u5165\u53c2\u8003\u57fa\u56e0\u7ec4 --frags \u8868\u793a\u8f93\u5165 < 1kb \u7684\u6587\u5e93BAM --jumps \u8f93\u5165 > 1kb \u7684\u6587\u5e93BAM -unpaired \u8f93\u5165\u975e\u914d\u5bf9\u7684BAM\u3002 --output\u8868\u793a\u8f93\u51fa\u7684\u524d\u7f00 --outdir\u8868\u793a\u8f93\u51fa\u6587\u4ef6\u5939 --changes \u5217\u51fa\u53d1\u751f\u53d8\u5316\u7684\u90e8\u5206,\u4ee5FASTA\u5f62\u5f0f\u4fdd\u5b58 --vcf \u4ee5VCF\u5f62\u5f0f\u4fdd\u5b58\u3002 --fix \u58f0\u660e\u5bf9\u53c2\u8003\u57fa\u56e0\u7ec4\u505a\u54ea\u65b9\u9762\u7684\u6539\u8fdb\uff0c\u5305\u62ec\u201csnps\u201d,\u201dindels\u201d,\u201dgaps\u201d,\u201dlocal\u201d, \u9ed8\u8ba4\u662f\u201dall\u201d \u5229\u7528\u4e8c\u4ee3\u6570\u636e\u8fdb\u884c\u7ea0\u9519 #\u5bf9\u62fc\u63a5\u7ed3\u679c\u5efa\u7acb\u7d22\u5f15 bwa index draft.fasta #illumina\u6bd4\u5bf9\u6392\u5e8f\u5efa\u7d22\u5f15 bwa mem -t 2 draft.fasta ../0.rawdata/SRX5341420_1.fastq.gz ../0.rawdata/SRX5341420_2.fastq.gz | samtools view - -Sb | samtools sort - -@ 14 -o illumina.sorted.bam samtools index illumina.sorted.bam #\u5229\u7528pilon\u8fdb\u884c\u7ea0\u9519 java -Xmx32G -jar /share/softwares/pilon/pilon-1.23.jar --genome draft.fasta --fix all --changes --frag --genome draft.fasta --fix all --changes --frags illumina.sorted.bam --output assembly_pillon --outdir assembly_pillon --threads 6 --vcf 2> pillon.log \u7ed3\u679c\u89e3\u6790 \u53ef\u80fd\u662f\u56e0\u4e3ajava\u5199\u7684\u7a0b\u5e8f\u7684\u7f18\u6545\uff08\u4e0d\u592a\u786e\u5b9a\uff09\uff0cpilon\u7684\u8fd0\u884c\u901f\u5ea6\u6bd4\u8f83\u6162\u3002\u6700\u7ec8\u4f1a\u751f\u6210 _pillon.changes\uff1a\u5c55\u793a\u54ea\u4e9b\u4f4d\u70b9\u7ecf\u8fc7\u4e86\u7ea0\u9519\uff1b _pillon.fasta \uff1a\u6700\u7ec8\u7ea0\u9519\u5f97\u5230\u7684\u7ed3\u679c\uff1b _pillon.vcf \uff1avcf\u683c\u5f0f\u5c55\u793a\u7ea0\u9519\u7684\u4f4d\u70b9\u3002","title":"2.8.2 pilon\u7ea0\u9519"},{"location":"nanopore-analysis/nanopore-%E5%88%86%E6%9E%90%E6%B5%81%E7%A8%8B/#283-racon","text":"","title":"2.8.3 \u5229\u7528racon\u7ea0\u9519"},{"location":"nanopore-analysis/%E7%BB%93%E6%9E%84%E5%8F%98%E5%BC%82vcf%E8%A7%A3%E6%9E%90/","text":"vcf\u683c\u5f0f\u89e3\u6790\u6e90\u6587\u4ef6pdf \u7ed3\u6784\u53d8\u5f02\u4e2d\uff0c\u5728INFO\u5217\u53ef\u4ee5\u770b\u5230\u53d8\u5f02\u7c7b\u578b SVTYPE=BND 5.4 Specifying complex rearrangements with breakends An arbitrary rearrangement event can be summarized as a set of novel adjacencies. Each adjacency ties together 2 breakends. The two breakends at either end of a novel adjacency are called mates. There is one line of VCF (i.e. one record) for each of the two breakends in a novel adjacency. A breakend record is identified with the tag \u201cSYTYPE=BND\u201d in the INFO field. The REF field of a breakend record indicates a base or sequence s of bases beginning at position POS, as in all VCF records. The ALT field of a breakend record indicates a replacement for s. This \u201cbreakend replacement\u201d has three parts: 1. The string t that replaces places s. The string t may be an extended version of s if some novel bases are inserted during the formation of the novel adjacency. 2. The position p of the mate breakend, indicated by a string of the form \u201cchr:pos\u201d. This is the location of the first mapped base in the piece being joined at this novel adjacency. 3. The direction that the joined sequence continues in, starting from p. This is indicated by the orientation of square brackets surrounding p. These 3 elements are combined in 4 possible ways to create the ALT. In each of the 4 cases, the assertion is that s is replaced with t, and then some piece starting at position p is joined to t. The cases are: REF ALT Meaning s t[p[ piece extending to the right of p is joined after t s t]p] reverse comp piece extending left of p is joined after t s ]p]t piece extending to the left of p is joined before t s [p[t reverse comp piece extending right of p is joined before t The example in Figure 1 shows a 3-break operation involving 6 breakends. It exemplifies all possible orientations of breakends in adjacencies. Notice how the ALT field expresses the orientation of the breakends. CHROM POS ID REF ALT QUAL FILTER INFO 2 321681 bnd W G G]17:198982] 6 PASS SVTYPE=BND 2 321682 bnd V T ]13:123456]T 6 PASS SVTYPE=BND 13 123456 bnd U C C[2:321682[ 6 PASS SVTYPE=BND 13 123457 bnd X A [17:198983[A 6 PASS SVTYPE=BND 17 198982 bnd Y A A]2:321681] 6 PASS SVTYPE=BND 17 198983 bnd Z C [13:123457[C 6 PASS SVTYPE=BND","title":"\u7ed3\u6784\u53d8\u5f02vcf\u89e3\u6790"},{"location":"nanopore-analysis/%E7%BB%93%E6%9E%84%E5%8F%98%E5%BC%82vcf%E8%A7%A3%E6%9E%90/#chrom-pos-id-ref-alt-qual-filter-info","text":"2 321681 bnd W G G]17:198982] 6 PASS SVTYPE=BND 2 321682 bnd V T ]13:123456]T 6 PASS SVTYPE=BND 13 123456 bnd U C C[2:321682[ 6 PASS SVTYPE=BND 13 123457 bnd X A [17:198983[A 6 PASS SVTYPE=BND 17 198982 bnd Y A A]2:321681] 6 PASS SVTYPE=BND 17 198983 bnd Z C [13:123457[C 6 PASS SVTYPE=BND","title":"CHROM POS ID REF ALT QUAL FILTER INFO"},{"location":"perl/perl%E5%8C%85%E7%9A%84%E5%AE%89%E8%A3%85/","text":"\u6ca1\u6709\u5b66\u4e60\u8fc7perl\u8bed\u8a00\uff0c\u4f46\u662f\u67d0\u4e9b\u7a0b\u5e8f\u9700\u8981\u4f7f\u7528perl,\u5c31\u603b\u7ed3perl\u7684\u4e00\u4e9b\u5305\u7684\u5b89\u88c5\u65b9\u6cd5 \u5728cpan https://metacpan.org/ \u641c\u7d22\u5bf9\u5e94\u7684\u5305\u7684\u540d\u79f0 \u9009\u62e9\u6709\u9ec4\u8272\u65b9\u6846\u94fe\u63a5\u3002 \u5728\u5de6\u8fb9\u627e\u5230Download\u4e0b\u8f7d\u6e90\u7801 \u4e0b\u8f7d\u5b8c\u6210\u540e\u3002 tar -zxvf DBI-1.643.tar.gz cd DBI-1.643 perl Makefile.PL make make test make install \u975eroot\u6298\u78e8\u6b7b\u4eba\uff0c\u4e5f\u5b89\u88c5\u4e0d\u4e0amakemaker,\u4e0b\u8f7d\u7684\u5305\u7f16\u8bd1\u9700\u8981\u4e00\u5806\u4f9d\u8d56\u3002\u51b3\u5b9a\u81ea\u5df1\u7f16\u8bd1\u4e00\u4e2aperl \u5728\u81ea\u5df1\u76ee\u5f55\u5b89\u88c5perl,\u6ce8\u610fconfigure\u65f6\u5019\uff0c -Dusethreads -Uinstalluserbinperl \u4e00\u5b9a\u8981\u52a0\u4e0a\uff0c\u7528\u4e8e\u5f00\u542f\u591a\u7ebf\u7a0b\u3002\u5426\u5219\uff0c\u53ef\u80fd\u9700\u8981\u91cd\u65b0\u7f16\u8bd1\u3002 cd ~/soft/perl wget -4 http://www.cpan.org/src/5.0/perl-5.26.1.tar.gz tar -zxvf perl-5.26.1.tar.gz cd perl-5.26.1 ./Configure -des -Dprefix=$HOME/soft/perl/perl-5.26.1 -Dusethreads -Uinstalluserbinperl make -j8 make -j8 test make -j8 install echo 'export PATH=$HOME/soft/perl/perl-5.26.1:$PATH' >>~/.bashrc source ~/.bashrc \u8bf7\u4e00\u5b9a\u4e0d\u8981\u81ea\u5df1\u5b89\u88c5perl\u7684\u6a21\u5757\u5e76\u914d\u7f6e\u5230\u73af\u5883\u53d8\u91cf\uff0c\u4e00\u5b9a\u8981\u7528cpan\u6216cpanm\u5b89\u88c5 \uff0c\u5426\u5219\u662f\u540e\u60a3\u65e0\u7a77\u3002\u4f60\u518d\u7528capnm\u5b89\u88c5\u5176\u4ed6\u6a21\u5757\u65f6\u5019\uff0c\u4f1a\u62a5\u9519\u7684\u3002 \u5982\u679c\u662f\u975eroot\u6743\u9650\uff0c\u9700\u8981\u6307\u5b9a\u76ee\u5f55\u3002 pecify the installation into ~/perl5 cd perl-module/ perl Makefile.PL PREFIX=~/perl5 make make test make install echo 'export PERL5LIB=\"$HOME/perl5/:$PERL5LIB\" '>>~/.bashrc \u66f4\u591a\u975eroot\u5b89\u88c5perl\u5305\u7684\u65b9\u6cd5\uff0c\u89c1 \u53c2\u8003 \u5982\u679c\u662fUbuntu\uff0c\u4e14\u662froot\uff0c\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528apt\u5b89\u88c5 apt-get install libswitch-perl \u975eroot\u5b89\u88c5rpm\u5305 rpm\u5305\u67e5\u627e\u5730\u5740 https://pkgs.org/download/perl(ExtUtils::MakeMaker) \u9009\u62e9\u5bf9\u5e94\u7684\u7cfb\u7edf\uff0c\u5bf9\u5e94\u7684\u7248\u672c\u8f6f\u4ef6\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6 wget http://mirror.centos.org/centos/7/os/x86_64/Packages/perl-ExtUtils-MakeMaker-6.68-3.el7.noarch.rpm #\u89e3\u538b\u7f29\u5230\u672c\u5730\u76ee\u5f55\uff0c\u751f\u6210`usr`\u6587\u4ef6 rpm2cpio perl-ExtUtils-MakeMaker-6.68-3.el7.noarch.rpm|cpio -idvm mv usr perl-ExtUtils-MakeMaker echo 'export PATH=/share/softwares/LWP/perl/perl-ExtUtils-MakeMaker/bin:$PATH' >>~/.bashrc \u66f4\u591a\u4fe1\u606f\u53c2\u8003\u5730\u5740 https://www.jianshu.com/p/9e90b3524fe2 \uff0c\u6309\u7167\u8fd9\u4e2a\u53ef\u4ee5\u6b63\u786e\u5b89\u88c5\u3002 \u5148\u5b89\u88c5local-lib wget https://cpan.metacpan.org/authors/id/H/HA/HAARG/local-lib-2.000024.tar.gz tar xf local-lib-2.000024.tar.gz cd local-lib-2.000024 perl Makefile.PL --bootstrap=~/opt make test && make install echo 'eval \"$(perl -I$HOME/opt/lib/perl5 -Mlocal::lib=$HOME/opt)\"' >> ~/.bashrc \u91cd\u542f\u7ec8\u7aef wget https://cpan.metacpan.org/authors/id/M/MI/MIYAGAWA/App-cpanminus-1.7043.tar.gz tar xf App-cpanminus-1.7043.tar.gz cd App-cpanminus-1.7043 perl Makefile.PL make test && make install \u6dfb\u52a0\u56fd\u5185\u955c\u50cf echo 'alias cpanm=\"cpanm --mirror http://mirrors.163.com/cpan --mirror-only\"' >>~/.bashrc source ~/.bashrc \u53ea\u6709\u5728\u5b89\u88c5 cpanm\u540e\uff0c\u9700\u8981\u81ea\u5df1\u5728 ~/ .cpanm \u76ee\u5f55\u4e0b\u521b\u5efa\u4e00\u4e2a\u6587\u4ef6\u624d\u53ef\u4ee5\u7528\u3002 mkdir ~/ .cpanm/CPAN cd ~/ .cpanm/CPAN touch MyConfig.pm \u628a\u4e0b\u9762\u5185\u5bb9\u5199\u5165MyConfig.pm\u6587\u4ef6\u3002 \\$CPAN::Config = { 'auto_commit' => q[0], 'build_cache' => q[10], 'build_dir' => q[\\$ENV{HOME}/.cpan/build], 'cache_metadata' => q[1], 'commandnumber_in_prompt' => q[1], 'cpan_home' => q[\\$ENV{HOME}/.cpan], 'dontload_hash' => { }, 'ftp' => q[/usr/bin/ftp], 'ftp_passive' => q[1], 'ftp_proxy' => q[], 'getcwd' => q[cwd], 'gpg' => q[/usr/bin/gpg], 'gzip' => q[/bin/gzip], 'histfile' => q[\\$ENV{HOME}/.cpan/histfile], 'histsize' => q[100], 'http_proxy' => q[], 'inactivity_timeout' => q[0], 'index_expire' => q[1], 'inhibit_startup_message' => q[0], 'keep_source_where' => q[\\$ENV{HOME}/.cpan/sources], 'lynx' => q[/usr/bin/lynx], 'make' => q[/usr/bin/make], 'make_arg' => q[], 'make_install_arg' => q[], 'make_install_make_command' => q[/usr/bin/make], 'makepl_arg' => q[PREFIX=\\$ENV{HOME}/perlmods], 'mbuild_arg' => q[], 'mbuild_install_arg' => q[], 'mbuild_install_build_command' => q[./Build], 'mbuildpl_arg' => q[], 'ncftpget' => q[/usr/bin/ncftpget], 'no_proxy' => q[], 'pager' => q[less], 'prerequisites_policy' => q[follow], 'scan_cache' => q[atstart], 'shell' => q[/bin/bash], 'tar' => q[/bin/tar], 'term_is_latin' => q[0], 'term_ornaments' => q[1], 'unzip' => q[/usr/bin/unzip], 'urllist' => [q[ftp://cpan.cse.msu.edu/], q[ftp://cpan-du.viaverio.com/pub/CPAN/], q[ftp://cpan.mirrors.redwire.net/pub/CPAN/], q[ftp://cpan.hostrack.net/pub/CPAN]], 'use_sqlite' => q[0], 'wget' => q[/usr/bin/wget], }; 1; __END__ \u6bcf\u6b21\u4fee\u6539\u5b8c\u73af\u5883\u53d8\u91cf\u540e\uff0c\u6700\u597d\u91cd\u542f\u7ec8\u7aef\u3002\u6211\u6700\u5f00\u59cb\u4e00\u76f4\u63d0\u793a\u662f\u7f3a\u5c11makemaker\u5305\uff0c\u901a\u8fc7\u5728\u81ea\u5df1\u76ee\u5f55\u5b89\u88c5\u65b0\u7248\u672c\u7684perl\u89e3\u51b3\u4e86\u8fd9\u4e2a\u95ee\u9898\u3002 \u4f7f\u7528cpanm\u5b89\u88c5perl\u5305 #\u5b89\u88c5bioperl(\u6a21\u5757\u6bd4\u8f83\u591a\uff0c\u5b89\u88c5\u65f6\u95f4\u6bd4\u8f83\u957f) cpanm Bio::Perl #\u5b89\u88c5DBI cpanm DBI #\u5b89\u88c5LWP cpanm LWP #\u5b89\u88c5Switch.pm cpanm Switch cpanm\u8fd8\u53ef\u4ee5\u6307\u5b9a\u5b89\u88c5\u7684\u955c\u50cf\u5730\u5740\u6216\u8005\u4ece\u672c\u5730\u5b89\u88c5 wget https://cpan.metacpan.org/authors/id/H/HA/HAARG/Catalyst-Devel-1.42.tar.gz #\u4e0b\u8f7d\u5b8c\u6210\u540e\uff0c\u76f4\u63a5\u4ece\u672c\u5730\u5b89\u88c5 cpanm ./Catalyst-Devel-1.42.tar.gz \u67e5\u770b\u5df2\u7ecf\u5b89\u88c5\u6709\u90a3\u4e9bperl\u7684\u6a21\u5757\u6216\u5305\u3002 \u590d\u5236\u4e0b\u9762\u8fd9\u6bb5\u547d\u4ee4\u5230\u4e00\u4e2a\u65b0\u7684\u6587\u4ef6\uff0c\u547d\u540d\u4e3acheck.pl. #!/usr/bin/perl use strict; use ExtUtils::Installed; my $inst= ExtUtils::Installed->new(); my @modules = $inst->modules(); foreach(@modules) { my $ver = $inst->version($_) || \"???\"; printf(\"%-12s -- %s\\n\", $_, $ver); } exit ; \u8fd0\u884c\u8fd9\u4e2a\u65b0\u7684\u68c0\u67e5\u811a\u672c\uff0c perl check.pl \u5373\u53ef\u8f93\u51fa\u6240\u6709\u7684\u5305\u548c\u7248\u672c\u53f7\u3002 \u6709\u65f6\u5019cpanm\u5b89\u88c5\u5305\u7684\u65f6\u5019\u4f1a\u63d0\u793a\u5b89\u88c5\u6210\u529f\u4e86\uff0c\u4e00\u5b9a\u8981\u68c0\u6d4b\u4e00\u4e0b\u5b89\u88c5\u7684\u7248\u672c\u53f7\u662f\u5426\u6b63\u786e\u3002\u6709\u65f6\u5019\u5b9e\u9645\u5e76\u6ca1\u6709\u5b89\u88c5\u6210\u529f\u3002 \u5206\u522b\u67e5\u770bDBI\u5305\u548cGD\u5305\u7684\u7248\u672c\u53f7\u3002 perl -MDBI -E 'say DBI->VERSION' perl -MGD -E 'say GD->VERSION'","title":"Perl\u5305\u7684\u5b89\u88c5"},{"location":"perl/perl%E5%8C%85%E7%9A%84%E5%AE%89%E8%A3%85/#perlcpancpanmcapnm","text":"\u5982\u679c\u662f\u975eroot\u6743\u9650\uff0c\u9700\u8981\u6307\u5b9a\u76ee\u5f55\u3002 pecify the installation into ~/perl5 cd perl-module/ perl Makefile.PL PREFIX=~/perl5 make make test make install echo 'export PERL5LIB=\"$HOME/perl5/:$PERL5LIB\" '>>~/.bashrc \u66f4\u591a\u975eroot\u5b89\u88c5perl\u5305\u7684\u65b9\u6cd5\uff0c\u89c1 \u53c2\u8003 \u5982\u679c\u662fUbuntu\uff0c\u4e14\u662froot\uff0c\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528apt\u5b89\u88c5 apt-get install libswitch-perl \u975eroot\u5b89\u88c5rpm\u5305 rpm\u5305\u67e5\u627e\u5730\u5740 https://pkgs.org/download/perl(ExtUtils::MakeMaker) \u9009\u62e9\u5bf9\u5e94\u7684\u7cfb\u7edf\uff0c\u5bf9\u5e94\u7684\u7248\u672c\u8f6f\u4ef6\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6 wget http://mirror.centos.org/centos/7/os/x86_64/Packages/perl-ExtUtils-MakeMaker-6.68-3.el7.noarch.rpm #\u89e3\u538b\u7f29\u5230\u672c\u5730\u76ee\u5f55\uff0c\u751f\u6210`usr`\u6587\u4ef6 rpm2cpio perl-ExtUtils-MakeMaker-6.68-3.el7.noarch.rpm|cpio -idvm mv usr perl-ExtUtils-MakeMaker echo 'export PATH=/share/softwares/LWP/perl/perl-ExtUtils-MakeMaker/bin:$PATH' >>~/.bashrc \u66f4\u591a\u4fe1\u606f\u53c2\u8003\u5730\u5740 https://www.jianshu.com/p/9e90b3524fe2 \uff0c\u6309\u7167\u8fd9\u4e2a\u53ef\u4ee5\u6b63\u786e\u5b89\u88c5\u3002 \u5148\u5b89\u88c5local-lib wget https://cpan.metacpan.org/authors/id/H/HA/HAARG/local-lib-2.000024.tar.gz tar xf local-lib-2.000024.tar.gz cd local-lib-2.000024 perl Makefile.PL --bootstrap=~/opt make test && make install echo 'eval \"$(perl -I$HOME/opt/lib/perl5 -Mlocal::lib=$HOME/opt)\"' >> ~/.bashrc \u91cd\u542f\u7ec8\u7aef wget https://cpan.metacpan.org/authors/id/M/MI/MIYAGAWA/App-cpanminus-1.7043.tar.gz tar xf App-cpanminus-1.7043.tar.gz cd App-cpanminus-1.7043 perl Makefile.PL make test && make install \u6dfb\u52a0\u56fd\u5185\u955c\u50cf echo 'alias cpanm=\"cpanm --mirror http://mirrors.163.com/cpan --mirror-only\"' >>~/.bashrc source ~/.bashrc \u53ea\u6709\u5728\u5b89\u88c5 cpanm\u540e\uff0c\u9700\u8981\u81ea\u5df1\u5728 ~/ .cpanm \u76ee\u5f55\u4e0b\u521b\u5efa\u4e00\u4e2a\u6587\u4ef6\u624d\u53ef\u4ee5\u7528\u3002 mkdir ~/ .cpanm/CPAN cd ~/ .cpanm/CPAN touch MyConfig.pm \u628a\u4e0b\u9762\u5185\u5bb9\u5199\u5165MyConfig.pm\u6587\u4ef6\u3002 \\$CPAN::Config = { 'auto_commit' => q[0], 'build_cache' => q[10], 'build_dir' => q[\\$ENV{HOME}/.cpan/build], 'cache_metadata' => q[1], 'commandnumber_in_prompt' => q[1], 'cpan_home' => q[\\$ENV{HOME}/.cpan], 'dontload_hash' => { }, 'ftp' => q[/usr/bin/ftp], 'ftp_passive' => q[1], 'ftp_proxy' => q[], 'getcwd' => q[cwd], 'gpg' => q[/usr/bin/gpg], 'gzip' => q[/bin/gzip], 'histfile' => q[\\$ENV{HOME}/.cpan/histfile], 'histsize' => q[100], 'http_proxy' => q[], 'inactivity_timeout' => q[0], 'index_expire' => q[1], 'inhibit_startup_message' => q[0], 'keep_source_where' => q[\\$ENV{HOME}/.cpan/sources], 'lynx' => q[/usr/bin/lynx], 'make' => q[/usr/bin/make], 'make_arg' => q[], 'make_install_arg' => q[], 'make_install_make_command' => q[/usr/bin/make], 'makepl_arg' => q[PREFIX=\\$ENV{HOME}/perlmods], 'mbuild_arg' => q[], 'mbuild_install_arg' => q[], 'mbuild_install_build_command' => q[./Build], 'mbuildpl_arg' => q[], 'ncftpget' => q[/usr/bin/ncftpget], 'no_proxy' => q[], 'pager' => q[less], 'prerequisites_policy' => q[follow], 'scan_cache' => q[atstart], 'shell' => q[/bin/bash], 'tar' => q[/bin/tar], 'term_is_latin' => q[0], 'term_ornaments' => q[1], 'unzip' => q[/usr/bin/unzip], 'urllist' => [q[ftp://cpan.cse.msu.edu/], q[ftp://cpan-du.viaverio.com/pub/CPAN/], q[ftp://cpan.mirrors.redwire.net/pub/CPAN/], q[ftp://cpan.hostrack.net/pub/CPAN]], 'use_sqlite' => q[0], 'wget' => q[/usr/bin/wget], }; 1; __END__ \u6bcf\u6b21\u4fee\u6539\u5b8c\u73af\u5883\u53d8\u91cf\u540e\uff0c\u6700\u597d\u91cd\u542f\u7ec8\u7aef\u3002\u6211\u6700\u5f00\u59cb\u4e00\u76f4\u63d0\u793a\u662f\u7f3a\u5c11makemaker\u5305\uff0c\u901a\u8fc7\u5728\u81ea\u5df1\u76ee\u5f55\u5b89\u88c5\u65b0\u7248\u672c\u7684perl\u89e3\u51b3\u4e86\u8fd9\u4e2a\u95ee\u9898\u3002","title":"\u8bf7\u4e00\u5b9a\u4e0d\u8981\u81ea\u5df1\u5b89\u88c5perl\u7684\u6a21\u5757\u5e76\u914d\u7f6e\u5230\u73af\u5883\u53d8\u91cf\uff0c\u4e00\u5b9a\u8981\u7528cpan\u6216cpanm\u5b89\u88c5\uff0c\u5426\u5219\u662f\u540e\u60a3\u65e0\u7a77\u3002\u4f60\u518d\u7528capnm\u5b89\u88c5\u5176\u4ed6\u6a21\u5757\u65f6\u5019\uff0c\u4f1a\u62a5\u9519\u7684\u3002"},{"location":"perl/perl%E5%8C%85%E7%9A%84%E5%AE%89%E8%A3%85/#cpanmperl","text":"#\u5b89\u88c5bioperl(\u6a21\u5757\u6bd4\u8f83\u591a\uff0c\u5b89\u88c5\u65f6\u95f4\u6bd4\u8f83\u957f) cpanm Bio::Perl #\u5b89\u88c5DBI cpanm DBI #\u5b89\u88c5LWP cpanm LWP #\u5b89\u88c5Switch.pm cpanm Switch cpanm\u8fd8\u53ef\u4ee5\u6307\u5b9a\u5b89\u88c5\u7684\u955c\u50cf\u5730\u5740\u6216\u8005\u4ece\u672c\u5730\u5b89\u88c5 wget https://cpan.metacpan.org/authors/id/H/HA/HAARG/Catalyst-Devel-1.42.tar.gz #\u4e0b\u8f7d\u5b8c\u6210\u540e\uff0c\u76f4\u63a5\u4ece\u672c\u5730\u5b89\u88c5 cpanm ./Catalyst-Devel-1.42.tar.gz","title":"\u4f7f\u7528cpanm\u5b89\u88c5perl\u5305"},{"location":"perl/perl%E5%8C%85%E7%9A%84%E5%AE%89%E8%A3%85/#perl","text":"\u590d\u5236\u4e0b\u9762\u8fd9\u6bb5\u547d\u4ee4\u5230\u4e00\u4e2a\u65b0\u7684\u6587\u4ef6\uff0c\u547d\u540d\u4e3acheck.pl. #!/usr/bin/perl use strict; use ExtUtils::Installed; my $inst= ExtUtils::Installed->new(); my @modules = $inst->modules(); foreach(@modules) { my $ver = $inst->version($_) || \"???\"; printf(\"%-12s -- %s\\n\", $_, $ver); } exit ; \u8fd0\u884c\u8fd9\u4e2a\u65b0\u7684\u68c0\u67e5\u811a\u672c\uff0c perl check.pl \u5373\u53ef\u8f93\u51fa\u6240\u6709\u7684\u5305\u548c\u7248\u672c\u53f7\u3002 \u6709\u65f6\u5019cpanm\u5b89\u88c5\u5305\u7684\u65f6\u5019\u4f1a\u63d0\u793a\u5b89\u88c5\u6210\u529f\u4e86\uff0c\u4e00\u5b9a\u8981\u68c0\u6d4b\u4e00\u4e0b\u5b89\u88c5\u7684\u7248\u672c\u53f7\u662f\u5426\u6b63\u786e\u3002\u6709\u65f6\u5019\u5b9e\u9645\u5e76\u6ca1\u6709\u5b89\u88c5\u6210\u529f\u3002","title":"\u67e5\u770b\u5df2\u7ecf\u5b89\u88c5\u6709\u90a3\u4e9bperl\u7684\u6a21\u5757\u6216\u5305\u3002"},{"location":"perl/perl%E5%8C%85%E7%9A%84%E5%AE%89%E8%A3%85/#dbigd","text":"perl -MDBI -E 'say DBI->VERSION' perl -MGD -E 'say GD->VERSION'","title":"\u5206\u522b\u67e5\u770bDBI\u5305\u548cGD\u5305\u7684\u7248\u672c\u53f7\u3002"},{"location":"perl/%E4%BD%BF%E7%94%A8perlbrew%E7%AE%A1%E7%90%86%E5%A4%9A%E4%B8%AA%E7%89%88%E6%9C%AC%E7%9A%84perl/","text":"\u8be6\u7ec6\u4fe1\u606f\u5730\u5740 \u975eroot\u7528\u6237\u7ba1\u7406\u591a\u4e2aperl Installation curl -L [https://install.perlbrew.pl](https://install.perlbrew.pl/) | bash \u5982\u679c\u4e0b\u8f7d\u5931\u8d25\uff0c\u4ece\u8fd9\u4e2a\u5730\u5740\u4e0b\u8f7dhttps://raw.githubusercontent.com/gugod/App-perlbrew/master/perlbrew\uff0c\u76f4\u63a5\u4fdd\u5b58\u4e3a perlbrew \u5373\u53ef. chmod 757 perlbrew \u6dfb\u52a0\u5230\u73af\u5883\u53d8\u91cf\u5373\u53ef\u3002 Initialize \u521d\u59cb\u5316 perlbrew init See what is available \u67e5\u770b\u6709\u54ea\u4e9b\u7248\u672c\u7684perl\u53ef\u4ee5\u5b89\u88c5 perlbrew available Install some Perls \u5b89\u88c5\u4e00\u4e9bperl perlbrew install 5.32.1 perlbrew install perl-5.28.3 perlbrew install perl-5.33.6 See what were installed \u67e5\u770b\u5df2\u5b89\u88c5\u7684perl perlbrew list Swith to an installation and set it as default perlbrew switch perl-5.32.1 Temporarily use another version only in current shell. perlbrew use [perl](https://metacpan.org/pod/perl)-5.28.3 perl -v Turn it off and go back to the system perl. perlbrew off` Turn it back on with 'switch', or 'use' perlbrew switch perl-5.32.1 perlbrew use [perl](https://metacpan.org/pod/perl)-5.32.1 Exec something with all perlbrew-ed perls perlbrew exec -- perl -E 'say $]'","title":"\u4f7f\u7528perlbrew\u7ba1\u7406\u591a\u4e2a\u7248\u672c\u7684perl"},{"location":"perl/%E4%BD%BF%E7%94%A8perlbrew%E7%AE%A1%E7%90%86%E5%A4%9A%E4%B8%AA%E7%89%88%E6%9C%AC%E7%9A%84perl/#installation","text":"curl -L [https://install.perlbrew.pl](https://install.perlbrew.pl/) | bash \u5982\u679c\u4e0b\u8f7d\u5931\u8d25\uff0c\u4ece\u8fd9\u4e2a\u5730\u5740\u4e0b\u8f7dhttps://raw.githubusercontent.com/gugod/App-perlbrew/master/perlbrew\uff0c\u76f4\u63a5\u4fdd\u5b58\u4e3a perlbrew \u5373\u53ef. chmod 757 perlbrew \u6dfb\u52a0\u5230\u73af\u5883\u53d8\u91cf\u5373\u53ef\u3002","title":"Installation"},{"location":"perl/%E4%BD%BF%E7%94%A8perlbrew%E7%AE%A1%E7%90%86%E5%A4%9A%E4%B8%AA%E7%89%88%E6%9C%AC%E7%9A%84perl/#initialize","text":"perlbrew init","title":"Initialize \u521d\u59cb\u5316"},{"location":"perl/%E4%BD%BF%E7%94%A8perlbrew%E7%AE%A1%E7%90%86%E5%A4%9A%E4%B8%AA%E7%89%88%E6%9C%AC%E7%9A%84perl/#see-what-is-available-perl","text":"perlbrew available","title":"See what is available \u67e5\u770b\u6709\u54ea\u4e9b\u7248\u672c\u7684perl\u53ef\u4ee5\u5b89\u88c5"},{"location":"perl/%E4%BD%BF%E7%94%A8perlbrew%E7%AE%A1%E7%90%86%E5%A4%9A%E4%B8%AA%E7%89%88%E6%9C%AC%E7%9A%84perl/#install-some-perls-perl","text":"perlbrew install 5.32.1 perlbrew install perl-5.28.3 perlbrew install perl-5.33.6","title":"Install some Perls \u5b89\u88c5\u4e00\u4e9bperl"},{"location":"perl/%E4%BD%BF%E7%94%A8perlbrew%E7%AE%A1%E7%90%86%E5%A4%9A%E4%B8%AA%E7%89%88%E6%9C%AC%E7%9A%84perl/#see-what-were-installed-perl","text":"perlbrew list","title":"See what were installed \u67e5\u770b\u5df2\u5b89\u88c5\u7684perl"},{"location":"perl/%E4%BD%BF%E7%94%A8perlbrew%E7%AE%A1%E7%90%86%E5%A4%9A%E4%B8%AA%E7%89%88%E6%9C%AC%E7%9A%84perl/#swith-to-an-installation-and-set-it-as-default","text":"perlbrew switch perl-5.32.1","title":"Swith to an installation and set it as default"},{"location":"perl/%E4%BD%BF%E7%94%A8perlbrew%E7%AE%A1%E7%90%86%E5%A4%9A%E4%B8%AA%E7%89%88%E6%9C%AC%E7%9A%84perl/#temporarily-use-another-version-only-in-current-shell","text":"perlbrew use [perl](https://metacpan.org/pod/perl)-5.28.3 perl -v","title":"Temporarily use another version only in current shell."},{"location":"perl/%E4%BD%BF%E7%94%A8perlbrew%E7%AE%A1%E7%90%86%E5%A4%9A%E4%B8%AA%E7%89%88%E6%9C%AC%E7%9A%84perl/#turn-it-off-and-go-back-to-the-system-perl","text":"perlbrew off`","title":"Turn it off and go back to the system perl."},{"location":"perl/%E4%BD%BF%E7%94%A8perlbrew%E7%AE%A1%E7%90%86%E5%A4%9A%E4%B8%AA%E7%89%88%E6%9C%AC%E7%9A%84perl/#turn-it-back-on-with-switch-or-use","text":"perlbrew switch perl-5.32.1 perlbrew use [perl](https://metacpan.org/pod/perl)-5.32.1","title":"Turn it back on with 'switch', or 'use'"},{"location":"perl/%E4%BD%BF%E7%94%A8perlbrew%E7%AE%A1%E7%90%86%E5%A4%9A%E4%B8%AA%E7%89%88%E6%9C%AC%E7%9A%84perl/#exec-something-with-all-perlbrew-ed-perls","text":"perlbrew exec -- perl -E 'say $]'","title":"Exec something with all perlbrew-ed perls"},{"location":"perl/%E5%AE%89%E8%A3%85DB_File%E9%94%99%E8%AF%AF%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/","text":"\u5b89\u88c5 DB_File github \u63d0\u793a\u672a\u627e\u5230db.h,\u662f\u9700\u8981\u5b89\u88c5BerkeleyDB \u5b89\u88c5BerkeleyDB wget [http://download.oracle.com/berkeley-db/db-4.6.18.tar.gz](http://download.oracle.com/berkeley-db/db-4.6.18.tar.gz) tar -zxvf db-4.6.18.tar.gz cd db-4.6.18 cd dist/brew mkdir BerkeleyDB4.6.18 ../dist/configure --prefix=/share/software/sift4g/DB_file/BerkeleyDB4.6.18 make make install \u6ce8\u610f\uff1a\u4e00\u5b9a\u8981\u5728dist\u76ee\u5f55\u7684\u4e8c\u7ea7\u76ee\u5f55\u91cc\u7f16\u8bd1\u3002 \u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u8fd8\u9700\u8981\u4fee\u6539DB_file\u5b89\u88c5\u6587\u4ef6\u91cc\u7684 config.in \u6587\u4ef6\u91cc\u5173\u4e8elibdb\u548cdb.h\u7684\u8def\u5f84\u3002 INCLUDE = /share/software/sift4g/DB_file/BerkeleyDB4.6.18/include LIB = /share/software/sift4g/DB_file/BerkeleyDB4.6.18/lib \u4fee\u6539\u5b8c\u6210\u540e\uff0c\u91cd\u65b0\u7f16\u8bd1DB_File\u7684\u6587\u4ef6\uff0c\u5373\u53ef\u6b63\u5e38\u5b89\u88c5\u3002 DB_file\u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u4f7f\u7528\u4e0b\u9762\u547d\u4ee4\u68c0\u6d4b\u662f\u5426\u6210\u529f\u5b89\u88c5 perl -e 'use DB_File; print qq{DB_File ver $DB_File::VERSION\\n}' DB_File\u548cBerkeleyDB\u5b89\u88c5\u7684\u9519\u8bef\u4fe1\u606f\uff0c\u5206\u522b\u5728\u5bf9\u5e94\u7684github https://github.com/pmqs/DB_File\u53ef\u4ee5\u627e\u5230\u89e3\u51b3\u529e\u6cd5\u3002 \u5b89\u88c5\u5b8c\u6210DB_File\u4e4b\u540e\uff0c\u4f7f\u7528cpanm\u5b89\u88c5Bio::DB::Fasta cpanm Bio::DB::Fasta","title":"\u5b89\u88c5DB File\u9519\u8bef\u89e3\u51b3\u65b9\u6cd5"},{"location":"perl/%E5%AE%89%E8%A3%85DB_File%E9%94%99%E8%AF%AF%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/#dist","text":"\u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u8fd8\u9700\u8981\u4fee\u6539DB_file\u5b89\u88c5\u6587\u4ef6\u91cc\u7684 config.in \u6587\u4ef6\u91cc\u5173\u4e8elibdb\u548cdb.h\u7684\u8def\u5f84\u3002 INCLUDE = /share/software/sift4g/DB_file/BerkeleyDB4.6.18/include LIB = /share/software/sift4g/DB_file/BerkeleyDB4.6.18/lib \u4fee\u6539\u5b8c\u6210\u540e\uff0c\u91cd\u65b0\u7f16\u8bd1DB_File\u7684\u6587\u4ef6\uff0c\u5373\u53ef\u6b63\u5e38\u5b89\u88c5\u3002 DB_file\u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u4f7f\u7528\u4e0b\u9762\u547d\u4ee4\u68c0\u6d4b\u662f\u5426\u6210\u529f\u5b89\u88c5 perl -e 'use DB_File; print qq{DB_File ver $DB_File::VERSION\\n}' DB_File\u548cBerkeleyDB\u5b89\u88c5\u7684\u9519\u8bef\u4fe1\u606f\uff0c\u5206\u522b\u5728\u5bf9\u5e94\u7684github https://github.com/pmqs/DB_File\u53ef\u4ee5\u627e\u5230\u89e3\u51b3\u529e\u6cd5\u3002 \u5b89\u88c5\u5b8c\u6210DB_File\u4e4b\u540e\uff0c\u4f7f\u7528cpanm\u5b89\u88c5Bio::DB::Fasta cpanm Bio::DB::Fasta","title":"\u6ce8\u610f\uff1a\u4e00\u5b9a\u8981\u5728dist\u76ee\u5f55\u7684\u4e8c\u7ea7\u76ee\u5f55\u91cc\u7f16\u8bd1\u3002"},{"location":"perl/%E6%9C%AC%E5%9C%B0%E5%8C%96ensembl-rest%E6%9C%8D%E5%8A%A1%E5%99%A8/","text":"Ensemble rest\u670d\u52a1\u5668\u63d0\u4f9b\u67e5\u8be2\u63a5\u53e3\uff0c\u4f46\u662f\u8bbf\u95ee\u901f\u5ea6\u592a\u6162\uff0c\u800c\u4e14\u7ecf\u5e38\u63a5\u53e3503\u6216500\u9519\u8bef\uff0c\u6240\u4ee5\u9700\u8981\u672c\u5730\u5316\u8be5\u670d\u52a1\u5668\u3002 \u6309\u7167 github wiki \u5b89\u88c5\u3002 ensembl\u4e0a\u7684 \u5b89\u88c5\u5730\u5740 \u4e24\u8005\u7565\u6709\u5dee\u522b\uff0c\u5efa\u8bae\u6309\u7167github\u7684\u5b89\u88c5\u3002 \u9996\u5148\u5b89\u88c5\u5404\u79cd\u4f9d\u8d56\uff0c\u6700\u597d\u662f\u4f7f\u7528cpanm\u5b89\u88c5\u3002 \u5b89\u88c5DBD::mysql\u62a5\u9519\uff0c\u9700\u8981\u5148\u5b89\u88c5mysql-devel wget http://mirror.centos.org/centos/7/os/x86_64/Packages/mariadb-devel-5.5.65-1.el7.x86_64.rpm #\u89e3\u538b\u7f29\u5230\u672c\u5730\u76ee\u5f55\uff0c\u751f\u6210`usr`\u6587\u4ef6 rpm2cpio mariadb-devel-5.5.65-1.el7.x86_64.rpm|cpio -idvm mv usr mariadb-devel echo 'export PATH=/share/softwares/mariadb-devel/bin:$PATH' >>~/.bashrc source ~/.bashrc \u7136\u540e\u5b89\u88c5mysql-server wget https://cdn.mysql.com//Downloads/MySQL-8.0/mysql-community-server-8.0.22-1.el8.x86_64.rpm ##\u5b89\u88c5\u4e0a\u9762\u4e00\u6837\u7684\u5957\u8def\uff0c\u89e3\u538b\uff0c\u91cd\u547d\u540d\uff0c\u6dfb\u52a0\u73af\u5883\u53d8\u91cf\u3002 \u7136\u540e\u7ee7\u7eed\u62a5\u9519\uff0cCan't link/include C library 'mysqlclient'\u3002\u90a3\u5c31\u7ee7\u7eed\u5b89\u88c5","title":"\u672c\u5730\u5316ensembl rest\u670d\u52a1\u5668"},{"location":"perl/%E9%9D%9Eroot%E5%AE%89%E8%A3%85autoconf%E5%92%8Cautomake/","text":"\u4f9d\u8d56perl,\u5982\u679c\u6ca1\u6709\u5b89\u88c5perl\uff0c\u9700\u8981\u5148\u5b89\u88c5perl. 1.\u5b89\u88c5m4 wget http://mirrors.kernel.org/gnu/m4/m4-1.4.18.tar.gz tar -xzvf m4-1.4.18.tar.gz cd m4-1.4.18 ./configure --prefix=${PWD} make -j8 && make install echo \"export PTAH=${PWD}/bin:\\$PATH\" >>~/.bashrc source ~/.bashrc m4 --version 2.\u5b89\u88c5autoconf \u6ce8\u610f\u4e00\u5b9a\u8981\u5b89\u88c5\u5728\u4e0d\u662f\u89e3\u538b\u540e\u7684\u76ee\u5f55\uff08\u5373configure\u540e\u7684\u8def\u5f84\uff0c\u4e00\u5b9a\u8981\u662f\u5176\u4ed6\u6587\u4ef6\u5939\uff09\uff0c\u5426\u5219\u7f16\u8bd1\u4f1a\u5931\u8d25\u3002\u56e0\u4e3a\u89e3\u538b\u540e\u7684\u6587\u4ef6\u548c\u7f16\u8bd1\u751f\u6210\u7684\u6587\u4ef6\u6709\u91cd\u540d\u7684\uff0c\u4f1a\u51b2\u7a81\u3002 wget http://mirrors.kernel.org/gnu/autoconf/autoconf-2.69.tar.gz tar -xzvf autoconf-2.69.tar.gz mkdir autoconf cd autoconf-2.69 ./configure --prefix=${PWD}/../autoconf make -j8 && make install echo \"export PTAH=${PWD}/../autoconf/bin:\\$PATH\" >>~/.bashrc source ~/.bashrc autoconf --version 3.\u5b89\u88c5automake wget -c https://ftp.gnu.org/gnu/automake/automake-1.16.1.tar.gz tar -zxvf automake-1.16.1.tar.gz mkdir automake cd automake-1.16.1 ./configure --prefix=${PWD}/../automake make -j8 && make install echo \"export PTAH=${PWD}/../automake/bin:\\$PATH\" >>~/.bashrc source ~/.bashrc automake --version \u8f6c\u8f7d\u81eahttps://www.codenong.com/cs106479200/\uff0c\u589e\u5220\u4e86\u90e8\u5206\u5185\u5bb9\u3002","title":"\u975eroot\u5b89\u88c5autoconf\u548cautomake"},{"location":"python-learn/Biopython-%E4%B8%BA%E7%94%9F%E7%89%A9%E4%BF%A1%E6%81%AF%E8%80%8C%E8%AE%BE%E8%AE%A1%E7%9A%84python/","text":"Biopython\u6587\u6863\u4e2d\u6587\u7248 https://biopython-cn.readthedocs.io/zh_CN/latest/cn/chr02.html biopython\u5b89\u88c5 pip3 install biopython \u5f15\u5165Bio\u6a21\u5757 import Bio from Bio.Seq import Seq \u65b0\u5efa\u5e8f\u5217 seq1 = Seq(\"ATTCCGTTTGACTGCGTGTTGAAAAACCTGGGGCCCATGCTGCATGGC\") GC\u542b\u91cf from Bio.SeqUtils import GC GC(seq1) \u5e8f\u5217\u5904\u7406 \u6ce8\u610f\uff1a\u4e0b\u8868\u662f\u4ece0\u5f00\u59cb\uff0c\u533a\u95f4\u662f\u5de6\u95ed\u53f3\u5f00\u3002 seq1[0:10:1] #\u83b7\u53d6\u7b2c1\u523010\u4e2a\u5e8f\u5217\uff0cstep\u662f1. \u53cd\u5411 seq1.complement() \u53cd\u5411\u4e92\u8865 seq1.reverse_complement() \u8f6c\u5f55DNA\u6210mRNA mRNA_seq1 = seq1.reverse_complement().transcribe() \u8f6c\u5f55\u7ffb\u8bd1DNA\u6210\u86cb\u767d\u5e8f\u5217 protein_seq1 = seq1.translate() #\u9ed8\u8ba4\u662f\u5e38\u7528table id 1 biopython\u7684\u7ffb\u8bd1\u8868\u662f\u57fa\u4e8e NCBI .\u53ef\u4ee5\u6839\u636e\u5b9e\u9645\u8bbe\u5b9atable protein_seq1 = seq1.translate(table=2,to_stop=True) #\u8bbe\u7f6e\u4e3a\u7ebf\u7c92\u4f53\u6a21\u5f0f\uff0c\u9047\u5230\u7ec8\u6b62\u5bc6\u7801\u5b50\u5219\u505c\u6b62 protein_seq1 = seq1.translate(to_stop=True) #\u9047\u5230\u7ec8\u6b62\u5bc6\u7801\u5b50\u5219\u505c\u6b62 protein_seq1 = seq1.translate(cds=True) #\u8bf4\u660e\u4f60\u8f93\u5165\u7684\u662f\u5b8c\u6574\u7684cds\u5e8f\u5217\uff0c\u4e0d\u542b\u4e2d\u6b62\u5bc6\u7801\u5b50\uff0c\u5982\u679c\u51fa\u73b0\u7ec8\u6b62\u5bc6\u7801\u5b50\u5219\u4f1a\u629b\u51fa\u5f02\u5e38 \u7ffb\u8bd1\u8868 from Bio.Data import CodonTable standard_table = CodonTable.unambiguous_dna_by_name[\"Standard\"] print(standard_table) MutableSeq\u5bf9\u8c61 Seq\u5bf9\u8c61\u7684\u5e8f\u5217\u662f\u53ea\u8bfb\u7684\u3002\u4f7f\u7528MutableSeq\u53ef\u4ee5\u8f6c\u6362\u6210\u53ef\u53d8\u7684\u5e8f\u5217 from Bio.Seq import MutableSeq mutable_seq = MutableSeq(\"GCCATTGTAATGGGCCGCTGGCCATTTGCCCGACCATTGTAATGGGCCGCTGAAAGGGTGCCCGAGAAAGGGTGCCCGA\") mutable_seq[5] = \"G\" mutable_seq.remove(\"T\") \u5f53\u7f16\u8f91\u5b8c\u6210\u65f6\uff0c\u53ef\u4ee5\u7528toseq()\u8f6c\u53d8\u4e3aSeq\u5e8f\u5217\u3002 new_Seq = mutable_seq.toseq() UnknownSeq\u5bf9\u8c61 \u4f7f\u7528UnknownSeq\u53ef\u4ee5\u8282\u7701\u5185\u5b58 from Bio.Seq import UnknownSeq unk1 = UnknownSeq(20) #20\u4e2a\u672a\u77e5\u5e8f\u5217\uff0c\u9ed8\u8ba4\u662f\u7528\uff1f unk2 = UnknownSeq(30,character=\"N\") #\u6307\u5b9a\u5b57\u7b26\u4e3aN \u7b2c4\u7ae0 \u5e8f\u5217\u6ce8\u91ca\u5bf9\u8c61 from Bio.SeqRecord import SeqRecord \u7b2c5\u7ae0 \u5e8f\u5217\u8f93\u5165\u548c\u8f93\u51fa \u8bfb\u53d6\u5355\u6761\u5e8f\u5217 from Bio import SeqIO single_seq_record = Bio.SeqIO.read(\"single.fa\",\"fasta\") \u8bfb\u53d6\u591a\u6761\u5e8f\u5217 from Bio import SeqIO for seq_record in SeqIO.parse(\"Sua.5LTR3.fa\",\"fasta\"): print(seq_record.id) print(repr(seq_record.seq)) print(len(seq_record)) \u628a\u7ed3\u679c\u8bfb\u53d6\u5230list records = list(SeqIO.parse(\"unknown.lib.fa\",\"fasta\")) \u4f7f\u7528\u6587\u4ef6\u53e5\u67c4 with open(\"test.fa\") as handle: print(sum(len(r) for r in SeqIO.parse(handle,\"fasta\"))) \u6253\u5f00gzip\u538b\u7f29\u6587\u4ef6 import gzip from Bio import SeqIO with gzip.open(\"chr.fa.gz\",\"rt\") as handle: print(sum(len(r) for r in SeqIO.Parse(handle,\"fasta\"))) \u6253\u5f00bzip2\u538b\u7f29\u6587\u4ef6 import bz2 from Bio import SeqIO with bz2.open(\"cha.fa.bz2\",\"rt\") as handle: print(sum(len(r) for r in SeqIO.Parse(handle,\"fasta\"))) \u5199\u5165\u5e8f\u5217\u6587\u4ef6 from Bio.Seq import Seq from Bio.SeqRecord import SeqRecord from Bio import SeqIO SeqIO.write(proteins,\"translations.fasta\",\"fasta\") \u6a21\u5757\u53161\uff1a\u628aDNA\u5e8f\u5217\u8f6c\u6362\u4e3a\u86cb\u767d\u8d28\u5e8f\u5217 \u4fee\u6539\u6700\u540e\u4e00\u884c\u7684\u8f93\u5165\u6587\u4ef6\u548c\u8f93\u51fa\u6587\u4ef6\u5373\u53ef\u8fd0\u884c #\u8f6c\u6362DNA\u5e8f\u5217\u4e3aprotein\u5e8f\u5217 def dna2protein(in_fasta,out_fasta,table=1): ##\u5b9a\u4e49\u8f6c\u6362\u51fd\u6570 from Bio.SeqRecord import SeqRecord def make_protein_record(dna_record): \"\"\"return a new SeqRecord with the translate sequence\"\"\" return SeqRecord(seq = dna_record.seq.translate(table=table),id = dna_record.id,description = \"translation of protein \") ##\u8bfb\u53d6fasta\u5e8f\u5217 from Bio import SeqIO proteins = (make_protein_record(dna_record) for dna_record in SeqIO.parse(in_fasta,\"fasta\")) SeqIO.write(proteins,out_fasta,\"fasta\") dna2protein(\"unknown.fa\",\"unknown.protein.fa\") \u6a21\u5757\u53162\uff1a\u8f6c\u6362\u5904\u7406fasta\u6587\u4ef6\u7684id farename.py \u811a\u672c\u4ee3\u7801\u5982\u4e0b\uff0c\u9700\u8981\u6839\u636e\u5b9e\u9645\u4fee\u6539split_head\u51fd\u6570\u91cc\u7684\u547d\u4ee4 #!/usr/bin/env python3 # -*- coding: utf-8 -*- \"\"\" \u7528\u4e8e\u4fee\u6539fasta\u6587\u4ef6\u7684\u5934\u90e8\uff0c\u4f7f\u7528\u524d\u5148\u6839\u636e\u5b9e\u9645\u4fee\u6539split_str\u51fd\u6570\u7684\u5207\u5272\u547d\u4ee4 \"\"\" __version__ = \"0.1\" __date__ = \"2021-02-26\" import sys import os import gzip import Bio #\u8bfb\u53d6\u7528\u6237\u7684\u8f93\u5165 args = sys.argv #\u5b9a\u4e49\u5bf9description\u5207\u7247\u7684\u8bed\u6cd5\uff08\u6bcf\u6b21\u8fd0\u884c\u524d\uff0c\u5148\u6839\u636e\u5b9e\u9645\u4fee\u6539\u5207\u7247\u8bed\u6cd5\uff09 def split_head(description): #\u6307\u5b9adescription\u7684\u7b2c4\u4e2a\uff0c\u7528=\u5206\u52721\u6b21\uff0c\u53d6\u7b2c1\u4e2a split_str=description.split()[3].split(\"=\",1)[1] return split_str #\u8bfb\u53d6\u666e\u901afasta\u6587\u4ef6\uff0c\u4fee\u6539\u6587\u4ef6\u5934\u90e8 def re_header(): ''' #\u8bfb\u53d6fasta,\u5e76\u66f4\u6539header ''' from Bio import SeqIO #\u8bfb\u53d6fasta for seq_record in SeqIO.parse(InputFa,\"fasta\"): #print(seq_record.id)\u539f\u59cb\u7684fasta\u7684id #print(seq_record.seq) #print(len(seq_record)) #print(seq_record.description) \u539f\u59cb\u7684fasta\u7684id\u540e\u7684\u5185\u5bb9 #\u6307\u5b9adescription\u7684\u7b2c4\u4e2a\uff0c\u7528=\u5206\u52721\u6b21\uff0c\u53d6\u7b2c1\u4e2a #\u6b64\u5904\u7684\u5206\u5272\u9700\u8981\u6839\u636e\u5b9e\u9645\u8fdb\u884c\u4fee\u6539 description_id=split_head(seq_record.description) liststr= ['>',description_id] new_id= ''.join(liststr) print(new_id) print(seq_record.seq) #\u8bfb\u53d6fasta.gz\u7684\u6587\u4ef6,\u4fee\u6539\u6587\u4ef6\u5934\u90e8 def re_gz_header(): ''' read file.fasta.gz ''' from Bio import SeqIO with gzip.open(InputFa, \"rt\") as handle: for seq_record in SeqIO.parse(handle, \"fasta\"): #print(seq_record.id) #print(seq_record.seq) #print(len(seq_record)) #\u6307\u5b9adescription\u7684\u7b2c4\u4e2a\uff0c\u7528=\u5206\u52721\u6b21\uff0c\u53d6\u7b2c1\u4e2a #\u6b64\u5904\u7684\u5206\u5272\u9700\u8981\u6839\u636e\u5b9e\u9645\u8fdb\u884c\u4fee\u6539 description_id=split_head(seq_record.description) liststr= ['>',description_id] new_id= ''.join(liststr) print(new_id) print(seq_record.seq) #\u5224\u65ad\u7528\u6237\u8f93\u5165\u7684\u662ffasta\u8fd8\u662ffasta.gz def judge_Input(): if InputFa.endswith(\".gz\"): re_gz_header() else: re_header() #\u5224\u65ad\u7528\u6237\u8f93\u5165 if len(args) >1: if args[1] == \"-h\" or args[1] == \"--help\": print(\"Usage:(\u8f93\u5165\u6587\u4ef6\u652f\u6301fasta\u6216fasta.gz)\\n\" \"\u7528\u4e8e\u4fee\u6539fasta\u6587\u4ef6\u7684\u5934\u90e8\\n\" \"python3 farename.py test.fa #\u4f7f\u7528\u5207\u7247\u8f93\u51fa\u65b0\u7684fasta.\\n\" \"python3 farename.py test.fa.gz #\u4f7f\u7528\u5207\u7247\u8f93\u51fa\u65b0\u7684fasta.\\n\" \"Notes:\u5207\u7247\u524d\u5148\u68c0\u6d4b\u4f60\u7684fasta\u6587\u4ef6\u7684\u5934\u90e8\u7684\u683c\u5f0f\uff0c\u4e4b\u540e\u4fee\u6539\u51fd\u6570split_head\u91cc\u7684\u5207\u7247\u53c2\u6570\") elif len(args) == 2: InputFa = args[1] judge_Input() else: print(\"\u8f93\u5165\u53c2\u6570\u6709\u8bef\uff0c\u8bf7\u4f7f\u7528-h\u53c2\u6570\u67e5\u770b\u793a\u4f8b\u7528\u6cd5\uff01\") else: print(\"\u8f93\u5165\u53c2\u6570\u6709\u8bef\uff0c\u8bf7\u4f7f\u7528-h\u53c2\u6570\u67e5\u770b\u793a\u4f8b\u7528\u6cd5\uff01\")","title":"Biopython \u4e3a\u751f\u7269\u4fe1\u606f\u800c\u8bbe\u8ba1\u7684python"},{"location":"python-learn/Biopython-%E4%B8%BA%E7%94%9F%E7%89%A9%E4%BF%A1%E6%81%AF%E8%80%8C%E8%AE%BE%E8%AE%A1%E7%9A%84python/#biopython","text":"pip3 install biopython","title":"biopython\u5b89\u88c5"},{"location":"python-learn/Biopython-%E4%B8%BA%E7%94%9F%E7%89%A9%E4%BF%A1%E6%81%AF%E8%80%8C%E8%AE%BE%E8%AE%A1%E7%9A%84python/#bio","text":"import Bio from Bio.Seq import Seq","title":"\u5f15\u5165Bio\u6a21\u5757"},{"location":"python-learn/Biopython-%E4%B8%BA%E7%94%9F%E7%89%A9%E4%BF%A1%E6%81%AF%E8%80%8C%E8%AE%BE%E8%AE%A1%E7%9A%84python/#_1","text":"seq1 = Seq(\"ATTCCGTTTGACTGCGTGTTGAAAAACCTGGGGCCCATGCTGCATGGC\")","title":"\u65b0\u5efa\u5e8f\u5217"},{"location":"python-learn/Biopython-%E4%B8%BA%E7%94%9F%E7%89%A9%E4%BF%A1%E6%81%AF%E8%80%8C%E8%AE%BE%E8%AE%A1%E7%9A%84python/#gc","text":"from Bio.SeqUtils import GC GC(seq1)","title":"GC\u542b\u91cf"},{"location":"python-learn/Biopython-%E4%B8%BA%E7%94%9F%E7%89%A9%E4%BF%A1%E6%81%AF%E8%80%8C%E8%AE%BE%E8%AE%A1%E7%9A%84python/#_2","text":"","title":"\u5e8f\u5217\u5904\u7406"},{"location":"python-learn/Biopython-%E4%B8%BA%E7%94%9F%E7%89%A9%E4%BF%A1%E6%81%AF%E8%80%8C%E8%AE%BE%E8%AE%A1%E7%9A%84python/#0","text":"seq1[0:10:1] #\u83b7\u53d6\u7b2c1\u523010\u4e2a\u5e8f\u5217\uff0cstep\u662f1.","title":"\u6ce8\u610f\uff1a\u4e0b\u8868\u662f\u4ece0\u5f00\u59cb\uff0c\u533a\u95f4\u662f\u5de6\u95ed\u53f3\u5f00\u3002"},{"location":"python-learn/Biopython-%E4%B8%BA%E7%94%9F%E7%89%A9%E4%BF%A1%E6%81%AF%E8%80%8C%E8%AE%BE%E8%AE%A1%E7%9A%84python/#_3","text":"seq1.complement()","title":"\u53cd\u5411"},{"location":"python-learn/Biopython-%E4%B8%BA%E7%94%9F%E7%89%A9%E4%BF%A1%E6%81%AF%E8%80%8C%E8%AE%BE%E8%AE%A1%E7%9A%84python/#_4","text":"seq1.reverse_complement()","title":"\u53cd\u5411\u4e92\u8865"},{"location":"python-learn/Biopython-%E4%B8%BA%E7%94%9F%E7%89%A9%E4%BF%A1%E6%81%AF%E8%80%8C%E8%AE%BE%E8%AE%A1%E7%9A%84python/#dnamrna","text":"mRNA_seq1 = seq1.reverse_complement().transcribe()","title":"\u8f6c\u5f55DNA\u6210mRNA"},{"location":"python-learn/Biopython-%E4%B8%BA%E7%94%9F%E7%89%A9%E4%BF%A1%E6%81%AF%E8%80%8C%E8%AE%BE%E8%AE%A1%E7%9A%84python/#dna","text":"protein_seq1 = seq1.translate() #\u9ed8\u8ba4\u662f\u5e38\u7528table id 1","title":"\u8f6c\u5f55\u7ffb\u8bd1DNA\u6210\u86cb\u767d\u5e8f\u5217"},{"location":"python-learn/Biopython-%E4%B8%BA%E7%94%9F%E7%89%A9%E4%BF%A1%E6%81%AF%E8%80%8C%E8%AE%BE%E8%AE%A1%E7%9A%84python/#biopythonncbitable","text":"protein_seq1 = seq1.translate(table=2,to_stop=True) #\u8bbe\u7f6e\u4e3a\u7ebf\u7c92\u4f53\u6a21\u5f0f\uff0c\u9047\u5230\u7ec8\u6b62\u5bc6\u7801\u5b50\u5219\u505c\u6b62 protein_seq1 = seq1.translate(to_stop=True) #\u9047\u5230\u7ec8\u6b62\u5bc6\u7801\u5b50\u5219\u505c\u6b62 protein_seq1 = seq1.translate(cds=True) #\u8bf4\u660e\u4f60\u8f93\u5165\u7684\u662f\u5b8c\u6574\u7684cds\u5e8f\u5217\uff0c\u4e0d\u542b\u4e2d\u6b62\u5bc6\u7801\u5b50\uff0c\u5982\u679c\u51fa\u73b0\u7ec8\u6b62\u5bc6\u7801\u5b50\u5219\u4f1a\u629b\u51fa\u5f02\u5e38","title":"biopython\u7684\u7ffb\u8bd1\u8868\u662f\u57fa\u4e8eNCBI.\u53ef\u4ee5\u6839\u636e\u5b9e\u9645\u8bbe\u5b9atable"},{"location":"python-learn/Biopython-%E4%B8%BA%E7%94%9F%E7%89%A9%E4%BF%A1%E6%81%AF%E8%80%8C%E8%AE%BE%E8%AE%A1%E7%9A%84python/#_5","text":"from Bio.Data import CodonTable standard_table = CodonTable.unambiguous_dna_by_name[\"Standard\"] print(standard_table)","title":"\u7ffb\u8bd1\u8868"},{"location":"python-learn/Biopython-%E4%B8%BA%E7%94%9F%E7%89%A9%E4%BF%A1%E6%81%AF%E8%80%8C%E8%AE%BE%E8%AE%A1%E7%9A%84python/#mutableseq","text":"","title":"MutableSeq\u5bf9\u8c61"},{"location":"python-learn/Biopython-%E4%B8%BA%E7%94%9F%E7%89%A9%E4%BF%A1%E6%81%AF%E8%80%8C%E8%AE%BE%E8%AE%A1%E7%9A%84python/#seqmutableseq","text":"from Bio.Seq import MutableSeq mutable_seq = MutableSeq(\"GCCATTGTAATGGGCCGCTGGCCATTTGCCCGACCATTGTAATGGGCCGCTGAAAGGGTGCCCGAGAAAGGGTGCCCGA\") mutable_seq[5] = \"G\" mutable_seq.remove(\"T\")","title":"Seq\u5bf9\u8c61\u7684\u5e8f\u5217\u662f\u53ea\u8bfb\u7684\u3002\u4f7f\u7528MutableSeq\u53ef\u4ee5\u8f6c\u6362\u6210\u53ef\u53d8\u7684\u5e8f\u5217"},{"location":"python-learn/Biopython-%E4%B8%BA%E7%94%9F%E7%89%A9%E4%BF%A1%E6%81%AF%E8%80%8C%E8%AE%BE%E8%AE%A1%E7%9A%84python/#toseqseq","text":"new_Seq = mutable_seq.toseq()","title":"\u5f53\u7f16\u8f91\u5b8c\u6210\u65f6\uff0c\u53ef\u4ee5\u7528toseq()\u8f6c\u53d8\u4e3aSeq\u5e8f\u5217\u3002"},{"location":"python-learn/Biopython-%E4%B8%BA%E7%94%9F%E7%89%A9%E4%BF%A1%E6%81%AF%E8%80%8C%E8%AE%BE%E8%AE%A1%E7%9A%84python/#unknownseq-unknownseq","text":"from Bio.Seq import UnknownSeq unk1 = UnknownSeq(20) #20\u4e2a\u672a\u77e5\u5e8f\u5217\uff0c\u9ed8\u8ba4\u662f\u7528\uff1f unk2 = UnknownSeq(30,character=\"N\") #\u6307\u5b9a\u5b57\u7b26\u4e3aN","title":"UnknownSeq\u5bf9\u8c61  \u4f7f\u7528UnknownSeq\u53ef\u4ee5\u8282\u7701\u5185\u5b58"},{"location":"python-learn/Biopython-%E4%B8%BA%E7%94%9F%E7%89%A9%E4%BF%A1%E6%81%AF%E8%80%8C%E8%AE%BE%E8%AE%A1%E7%9A%84python/#4","text":"from Bio.SeqRecord import SeqRecord","title":"\u7b2c4\u7ae0 \u5e8f\u5217\u6ce8\u91ca\u5bf9\u8c61"},{"location":"python-learn/Biopython-%E4%B8%BA%E7%94%9F%E7%89%A9%E4%BF%A1%E6%81%AF%E8%80%8C%E8%AE%BE%E8%AE%A1%E7%9A%84python/#5","text":"","title":"\u7b2c5\u7ae0 \u5e8f\u5217\u8f93\u5165\u548c\u8f93\u51fa"},{"location":"python-learn/Biopython-%E4%B8%BA%E7%94%9F%E7%89%A9%E4%BF%A1%E6%81%AF%E8%80%8C%E8%AE%BE%E8%AE%A1%E7%9A%84python/#_6","text":"from Bio import SeqIO single_seq_record = Bio.SeqIO.read(\"single.fa\",\"fasta\")","title":"\u8bfb\u53d6\u5355\u6761\u5e8f\u5217"},{"location":"python-learn/Biopython-%E4%B8%BA%E7%94%9F%E7%89%A9%E4%BF%A1%E6%81%AF%E8%80%8C%E8%AE%BE%E8%AE%A1%E7%9A%84python/#_7","text":"from Bio import SeqIO for seq_record in SeqIO.parse(\"Sua.5LTR3.fa\",\"fasta\"): print(seq_record.id) print(repr(seq_record.seq)) print(len(seq_record))","title":"\u8bfb\u53d6\u591a\u6761\u5e8f\u5217"},{"location":"python-learn/Biopython-%E4%B8%BA%E7%94%9F%E7%89%A9%E4%BF%A1%E6%81%AF%E8%80%8C%E8%AE%BE%E8%AE%A1%E7%9A%84python/#list","text":"records = list(SeqIO.parse(\"unknown.lib.fa\",\"fasta\"))","title":"\u628a\u7ed3\u679c\u8bfb\u53d6\u5230list"},{"location":"python-learn/Biopython-%E4%B8%BA%E7%94%9F%E7%89%A9%E4%BF%A1%E6%81%AF%E8%80%8C%E8%AE%BE%E8%AE%A1%E7%9A%84python/#_8","text":"with open(\"test.fa\") as handle: print(sum(len(r) for r in SeqIO.parse(handle,\"fasta\")))","title":"\u4f7f\u7528\u6587\u4ef6\u53e5\u67c4"},{"location":"python-learn/Biopython-%E4%B8%BA%E7%94%9F%E7%89%A9%E4%BF%A1%E6%81%AF%E8%80%8C%E8%AE%BE%E8%AE%A1%E7%9A%84python/#gzip","text":"import gzip from Bio import SeqIO with gzip.open(\"chr.fa.gz\",\"rt\") as handle: print(sum(len(r) for r in SeqIO.Parse(handle,\"fasta\")))","title":"\u6253\u5f00gzip\u538b\u7f29\u6587\u4ef6"},{"location":"python-learn/Biopython-%E4%B8%BA%E7%94%9F%E7%89%A9%E4%BF%A1%E6%81%AF%E8%80%8C%E8%AE%BE%E8%AE%A1%E7%9A%84python/#bzip2","text":"import bz2 from Bio import SeqIO with bz2.open(\"cha.fa.bz2\",\"rt\") as handle: print(sum(len(r) for r in SeqIO.Parse(handle,\"fasta\")))","title":"\u6253\u5f00bzip2\u538b\u7f29\u6587\u4ef6"},{"location":"python-learn/Biopython-%E4%B8%BA%E7%94%9F%E7%89%A9%E4%BF%A1%E6%81%AF%E8%80%8C%E8%AE%BE%E8%AE%A1%E7%9A%84python/#_9","text":"from Bio.Seq import Seq from Bio.SeqRecord import SeqRecord from Bio import SeqIO SeqIO.write(proteins,\"translations.fasta\",\"fasta\")","title":"\u5199\u5165\u5e8f\u5217\u6587\u4ef6"},{"location":"python-learn/Biopython-%E4%B8%BA%E7%94%9F%E7%89%A9%E4%BF%A1%E6%81%AF%E8%80%8C%E8%AE%BE%E8%AE%A1%E7%9A%84python/#1dna","text":"\u4fee\u6539\u6700\u540e\u4e00\u884c\u7684\u8f93\u5165\u6587\u4ef6\u548c\u8f93\u51fa\u6587\u4ef6\u5373\u53ef\u8fd0\u884c #\u8f6c\u6362DNA\u5e8f\u5217\u4e3aprotein\u5e8f\u5217 def dna2protein(in_fasta,out_fasta,table=1): ##\u5b9a\u4e49\u8f6c\u6362\u51fd\u6570 from Bio.SeqRecord import SeqRecord def make_protein_record(dna_record): \"\"\"return a new SeqRecord with the translate sequence\"\"\" return SeqRecord(seq = dna_record.seq.translate(table=table),id = dna_record.id,description = \"translation of protein \") ##\u8bfb\u53d6fasta\u5e8f\u5217 from Bio import SeqIO proteins = (make_protein_record(dna_record) for dna_record in SeqIO.parse(in_fasta,\"fasta\")) SeqIO.write(proteins,out_fasta,\"fasta\") dna2protein(\"unknown.fa\",\"unknown.protein.fa\")","title":"\u6a21\u5757\u53161\uff1a\u628aDNA\u5e8f\u5217\u8f6c\u6362\u4e3a\u86cb\u767d\u8d28\u5e8f\u5217"},{"location":"python-learn/Biopython-%E4%B8%BA%E7%94%9F%E7%89%A9%E4%BF%A1%E6%81%AF%E8%80%8C%E8%AE%BE%E8%AE%A1%E7%9A%84python/#2fastaid","text":"farename.py \u811a\u672c\u4ee3\u7801\u5982\u4e0b\uff0c\u9700\u8981\u6839\u636e\u5b9e\u9645\u4fee\u6539split_head\u51fd\u6570\u91cc\u7684\u547d\u4ee4 #!/usr/bin/env python3 # -*- coding: utf-8 -*- \"\"\" \u7528\u4e8e\u4fee\u6539fasta\u6587\u4ef6\u7684\u5934\u90e8\uff0c\u4f7f\u7528\u524d\u5148\u6839\u636e\u5b9e\u9645\u4fee\u6539split_str\u51fd\u6570\u7684\u5207\u5272\u547d\u4ee4 \"\"\" __version__ = \"0.1\" __date__ = \"2021-02-26\" import sys import os import gzip import Bio #\u8bfb\u53d6\u7528\u6237\u7684\u8f93\u5165 args = sys.argv #\u5b9a\u4e49\u5bf9description\u5207\u7247\u7684\u8bed\u6cd5\uff08\u6bcf\u6b21\u8fd0\u884c\u524d\uff0c\u5148\u6839\u636e\u5b9e\u9645\u4fee\u6539\u5207\u7247\u8bed\u6cd5\uff09 def split_head(description): #\u6307\u5b9adescription\u7684\u7b2c4\u4e2a\uff0c\u7528=\u5206\u52721\u6b21\uff0c\u53d6\u7b2c1\u4e2a split_str=description.split()[3].split(\"=\",1)[1] return split_str #\u8bfb\u53d6\u666e\u901afasta\u6587\u4ef6\uff0c\u4fee\u6539\u6587\u4ef6\u5934\u90e8 def re_header(): ''' #\u8bfb\u53d6fasta,\u5e76\u66f4\u6539header ''' from Bio import SeqIO #\u8bfb\u53d6fasta for seq_record in SeqIO.parse(InputFa,\"fasta\"): #print(seq_record.id)\u539f\u59cb\u7684fasta\u7684id #print(seq_record.seq) #print(len(seq_record)) #print(seq_record.description) \u539f\u59cb\u7684fasta\u7684id\u540e\u7684\u5185\u5bb9 #\u6307\u5b9adescription\u7684\u7b2c4\u4e2a\uff0c\u7528=\u5206\u52721\u6b21\uff0c\u53d6\u7b2c1\u4e2a #\u6b64\u5904\u7684\u5206\u5272\u9700\u8981\u6839\u636e\u5b9e\u9645\u8fdb\u884c\u4fee\u6539 description_id=split_head(seq_record.description) liststr= ['>',description_id] new_id= ''.join(liststr) print(new_id) print(seq_record.seq) #\u8bfb\u53d6fasta.gz\u7684\u6587\u4ef6,\u4fee\u6539\u6587\u4ef6\u5934\u90e8 def re_gz_header(): ''' read file.fasta.gz ''' from Bio import SeqIO with gzip.open(InputFa, \"rt\") as handle: for seq_record in SeqIO.parse(handle, \"fasta\"): #print(seq_record.id) #print(seq_record.seq) #print(len(seq_record)) #\u6307\u5b9adescription\u7684\u7b2c4\u4e2a\uff0c\u7528=\u5206\u52721\u6b21\uff0c\u53d6\u7b2c1\u4e2a #\u6b64\u5904\u7684\u5206\u5272\u9700\u8981\u6839\u636e\u5b9e\u9645\u8fdb\u884c\u4fee\u6539 description_id=split_head(seq_record.description) liststr= ['>',description_id] new_id= ''.join(liststr) print(new_id) print(seq_record.seq) #\u5224\u65ad\u7528\u6237\u8f93\u5165\u7684\u662ffasta\u8fd8\u662ffasta.gz def judge_Input(): if InputFa.endswith(\".gz\"): re_gz_header() else: re_header() #\u5224\u65ad\u7528\u6237\u8f93\u5165 if len(args) >1: if args[1] == \"-h\" or args[1] == \"--help\": print(\"Usage:(\u8f93\u5165\u6587\u4ef6\u652f\u6301fasta\u6216fasta.gz)\\n\" \"\u7528\u4e8e\u4fee\u6539fasta\u6587\u4ef6\u7684\u5934\u90e8\\n\" \"python3 farename.py test.fa #\u4f7f\u7528\u5207\u7247\u8f93\u51fa\u65b0\u7684fasta.\\n\" \"python3 farename.py test.fa.gz #\u4f7f\u7528\u5207\u7247\u8f93\u51fa\u65b0\u7684fasta.\\n\" \"Notes:\u5207\u7247\u524d\u5148\u68c0\u6d4b\u4f60\u7684fasta\u6587\u4ef6\u7684\u5934\u90e8\u7684\u683c\u5f0f\uff0c\u4e4b\u540e\u4fee\u6539\u51fd\u6570split_head\u91cc\u7684\u5207\u7247\u53c2\u6570\") elif len(args) == 2: InputFa = args[1] judge_Input() else: print(\"\u8f93\u5165\u53c2\u6570\u6709\u8bef\uff0c\u8bf7\u4f7f\u7528-h\u53c2\u6570\u67e5\u770b\u793a\u4f8b\u7528\u6cd5\uff01\") else: print(\"\u8f93\u5165\u53c2\u6570\u6709\u8bef\uff0c\u8bf7\u4f7f\u7528-h\u53c2\u6570\u67e5\u770b\u793a\u4f8b\u7528\u6cd5\uff01\")","title":"\u6a21\u5757\u53162\uff1a\u8f6c\u6362\u5904\u7406fasta\u6587\u4ef6\u7684id"},{"location":"python-learn/MkDocs-%E5%9F%BA%E4%BA%8Epython%E5%AE%9E%E7%8E%B0%E7%9A%84%E9%9D%99%E6%80%81%E7%AB%99%E7%82%B9%E6%90%AD%E5%BB%BA/","text":"1.\u5b89\u88c5MkDocs pip install mkdocs-material 2.\u914d\u7f6e\u57fa\u7840\u73af\u5883 mkdir blog cd blog mkdocs new . \u4e0a\u9762\u4f1a\u5728\u5f53\u524d\u76ee\u5f55\u65b0\u5efablog\u76ee\u5f55\uff0c\u5e76\u5728\u5185\u90e8\u751f\u6210\u57fa\u7840\u7684\u73af\u5883\u3002 \u7f16\u8f91\u81ea\u52a8\u751f\u6210\u7684mkdocs.yml site_name: My Blog theme: name: material 3.\u542f\u52a8\u7ad9\u70b9 mkdocs serve \u8fd9\u6837\u5c31\u53ef\u4ee5\u5728\u672c\u5730 127.0.0.1:8000 \u770b\u5230\u7ad9\u70b9\u4e86\u3002 4.\u7f16\u8f91\u5b8c\u6210\u540e\uff0c\u6784\u5efa\u9759\u6001\u6587\u4ef6 mkdocs build","title":"MkDocs \u57fa\u4e8epython\u5b9e\u73b0\u7684\u9759\u6001\u7ad9\u70b9\u642d\u5efa"},{"location":"python-learn/conda%E7%9A%84%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8/","text":"\u53c2\u8003\u94fe\u63a5 bioconda\u6587\u6863 conda\u4f5c\u4e3a\u73af\u5883\u7ba1\u7406\u5668\uff0c\u53ef\u4ee5\u8f7b\u677e\u5b89\u88c5\u5404\u79cd\u8f6f\u4ef6\u5982\uff1aR,python\u4ee5\u53ca\u5176\u4e2d\u7684\u5404\u79cd\u5305\u3002\u6700\u5173\u952e\u7684\u4f18\u70b9\u662f\u80fd\u81ea\u52a8\u89e3\u51b3\u8f6f\u4ef6\u7684\u73af\u5883\u4f9d\u8d56\u95ee\u9898\uff0c\u800c\u4e14\u53ef\u4ee5\u5b9e\u73b0\u4e0d\u540c\u7248\u672c\u7684\u8f6f\u4ef6\u3002 \u5e38\u7528\u7684conda\u6709 Anaconda \u548cminiconda \u4f7f\u7528Anaconda\u53ef\u4ee5\u5b89\u88c5 bionconda 1. \u4e0b\u8f7dAnaconda,\u5b89\u88c5 bash Miniconda2-latest-Linux-x86_64.sh \u8fd0\u884c\u811a\u672c\uff0c\u6839\u636e\u63d0\u793a\u53ef\u4ee5\u81ea\u5df1\u4fee\u6539\u5b89\u88c5\u76ee\u5f55\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528\u8f6f\u4ef6\u63a8\u8350\u7684\u76ee\u5f55\u3002\u4f1a\u81ea\u52a8\u9009\u62e9\u4f60\u6709\u8bbf\u95ee\u6743\u9650\u7684\u76ee\u5f55\u3002 \u6dfb\u52a0\u5b89\u88c5\u76ee\u5f55\u7684bin\u5230\u73af\u5883\u53d8\u91cf\u3002 2.\u4fee\u6539channels conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/r conda\u7684\u914d\u7f6e\u6587\u4ef6\u5728 ~/.condarc 3. \u521b\u5efaR\u73af\u5883 # \u521b\u5efa\u65b0\u7684\u73af\u5883\uff0c\u547d\u540d\u4e3ar conda create -n r #switch to r source activate r #install r conda install -c r r #Install ggplot conda install -c https://conda.binstar.org/bokeh ggplot # # -c: \u8868\u793a\u5b9e\u9645\u9700\u8981\u8fd0\u884c\u7684\u547d\u4ee4 # -e: \u8868\u793a\u9700\u8981\u542f\u52a8\u7684\u8f6f\u4ef6\u73af\u5883\uff0c\u4e5f\u5c31\u662f\u4e0a\u9762conda create\u5efa\u7acb\u7684\u73af\u5883 # -b\uff1a\u4e00\u822c\u4e0d\u9700\u8981\u6307\u5b9a\uff0c\u5982\u679cconda\u6ca1\u5728\u73af\u5883\u53d8\u91cf\u4e2d\u9700\u8981\u7ed9\u51faconda\u7684\u5b89\u88c5\u8def\u5f84 conda_env_run.sh -c 'ete3 -h mod' -e phylo conda_env_run.sh -c 'bwa mem -h' -e aligner -b \"/usr/local/anaconda2/bin\" conda_env_run.sh\u5185\u5bb9\u5982\u4e0b #!/bin/bash #set -x usage() { cat <<EOF ${txtcyn} ***CREATED BY Chen Tong (chentong_biology@163.com)*** Usage: $0 options${txtrst} ${bldblu}Function${txtrst}: This is designed to run conda program in given environment. It will automatically activate the environment, run the program and deactivate the environment. Thress commands from conda, 'activate', 'conda', 'deactivate' must be in PATH or you should spcify <-b> parameter. ${txtbld}OPTIONS${txtrst}: -c Full command to be run ${bldred}[NECESSARY]${txtrst} -e Environment name${bldred}[NECESSARY]${txtrst} -b Conda path${bldred}[NECESSARY]${txtrst} EOF } command_cmd='' environment='' conda_path='' while getopts \"hc:e:b:\" OPTION do case $OPTION in h) echo \"Help mesage\" usage exit 1 ;; c) command_cmd=$OPTARG ;; e) environment=$OPTARG ;; b) conda_path=$OPTARG ;; ?) usage echo \"Unknown parameters\" exit 1 ;; esac done if [ -z ${environment} ]; then echo 1>&2 \"Please give command and environment.\" usage exit 1 fi if ! [ -z ${conda_path} ]; then export PATH=${conda_path}:${PATH} fi source activate ${environment} ${command_cmd} source deactivate ${environment} conda\u7684\u4f7f\u7528\u65b9\u6cd5 #\u521b\u5efa\u73af\u5883 conda create --name CrossMap #\u6fc0\u6d3b\u73af\u5883 source activate CrossMap #\u5b89\u88c5CrossMap pip install CrossMap #\u8fd4\u56de\u4e3b\u73af\u5883 source deactivate CrossMap #\u5220\u9664\u4e00\u4e2a\u540d\u5b57\u65f6py34\u5df2\u6709\u7684\u73af\u5883 conda remove --name py34 --all #\u67e5\u770b\u7cfb\u7edf\u6240\u6709\u73af\u5883 conda info -e #\u67e5\u770b\u5df2\u7ecf\u5b89\u88c5\u7684\u5e93 conda list #\u67e5\u770b\u6307\u5b9a\u73af\u5883CrossMap\u5df2\u5b89\u88c5\u7684\u5305 conda list -n CrossMap #\u641c\u7d22package\u7684\u4fe1\u606f conda search numpy #\u5b89\u88c5numpy\u5230\u6307\u5b9a\u7684CrossMap\u73af\u5883\uff0c\u540c\u65f6\u6307\u5b9achannel -n \u6307\u5b9a\u5b89\u88c5\u5230\u7684\u73af\u5883\uff0c\u7f3a\u5931\u4ee3\u8868\u5b89\u88c5\u5230\u5f53\u524d\u6d3b\u8dc3\u7684\u73af\u5883 -c \u6307\u5b9a\u5b89\u88c5\u7684channel\uff0c\u4e5f\u53ef\u4ee5\u4e0d\u6307\u5b9a conda install -n CrossMap numpy -c https://repo.anaconda.com/pkgs/r/noarch #\u66f4\u65b0 package conda update -n CrossMap numpy #\u5220\u9664package conda remove -n CrossMap numpy #\u66f4\u65b0conda conda update conda #\u66f4\u65b0python conda update python","title":"Conda\u7684\u5b89\u88c5\u4f7f\u7528"},{"location":"python-learn/conda%E7%9A%84%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8/#conda","text":"#\u521b\u5efa\u73af\u5883 conda create --name CrossMap #\u6fc0\u6d3b\u73af\u5883 source activate CrossMap #\u5b89\u88c5CrossMap pip install CrossMap #\u8fd4\u56de\u4e3b\u73af\u5883 source deactivate CrossMap #\u5220\u9664\u4e00\u4e2a\u540d\u5b57\u65f6py34\u5df2\u6709\u7684\u73af\u5883 conda remove --name py34 --all #\u67e5\u770b\u7cfb\u7edf\u6240\u6709\u73af\u5883 conda info -e #\u67e5\u770b\u5df2\u7ecf\u5b89\u88c5\u7684\u5e93 conda list #\u67e5\u770b\u6307\u5b9a\u73af\u5883CrossMap\u5df2\u5b89\u88c5\u7684\u5305 conda list -n CrossMap #\u641c\u7d22package\u7684\u4fe1\u606f conda search numpy #\u5b89\u88c5numpy\u5230\u6307\u5b9a\u7684CrossMap\u73af\u5883\uff0c\u540c\u65f6\u6307\u5b9achannel -n \u6307\u5b9a\u5b89\u88c5\u5230\u7684\u73af\u5883\uff0c\u7f3a\u5931\u4ee3\u8868\u5b89\u88c5\u5230\u5f53\u524d\u6d3b\u8dc3\u7684\u73af\u5883 -c \u6307\u5b9a\u5b89\u88c5\u7684channel\uff0c\u4e5f\u53ef\u4ee5\u4e0d\u6307\u5b9a conda install -n CrossMap numpy -c https://repo.anaconda.com/pkgs/r/noarch #\u66f4\u65b0 package conda update -n CrossMap numpy #\u5220\u9664package conda remove -n CrossMap numpy #\u66f4\u65b0conda conda update conda #\u66f4\u65b0python conda update python","title":"conda\u7684\u4f7f\u7528\u65b9\u6cd5"},{"location":"python-learn/pyecharts-python%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/","text":"\u5229\u7528pyecharts\u53ef\u4ee5\u753b\u51fa\u5168\u7403\u5730\u56fe\u3001\u4e2d\u56fd\u5730\u56fe\u3001\u7701\u7ea7\u5730\u56fe\u3001\u533a\u57df\u5730\u56fe\u7b49\u3002 pyecharts\u5b98\u65b9\u6587\u6863 pyecharts\u662f\u767e\u5ea6\u5f00\u53d1\u7684\u4e00\u6b3e\u5f00\u6e90\u53ef\u89c6\u5316\u5de5\u5177\u3002pyecharts\u53ef\u4ee5\u5b9e\u73b0R\u8bed\u8a00\u91cc\u9762\u7684\u540c\u6837\u7684\u56fe\u3002pyecharts\u662f\u57fa\u4e8epython\u5f00\u53d1\u7684\uff0c\u7d27\u5bc6\u7ed3\u5408\u4e86\u5e38\u7528\u7684\u524d\u7aef\u6846\u67b6\uff0c\u751f\u6210html\u6216svg\u3002","title":"Pyecharts python\u6570\u636e\u53ef\u89c6\u5316"},{"location":"python-learn/python-pyensembl-%E5%9F%BA%E5%9B%A0%E7%BB%84%E4%BD%8D%E7%BD%AE%E6%B3%A8%E9%87%8A%E5%88%B0%E5%9F%BA%E5%9B%A0%E7%BB%84%E7%89%B9%E5%BE%81%EF%BC%88%E5%9F%BA%E5%9B%A0%EF%BC%8C%E8%BD%AC%E5%BD%95%E6%9C%AC%EF%BC%8C%E5%A4%96%E6%98%BE%E5%AD%90%EF%BC%89/","text":"PyEnsembl \u4e3a\u7528\u6237\u8bbf\u95ee Ensembl(http://www.ensembl.org/)\u53c2\u8003\u57fa\u56e0\u7ec4\u6570\u636e\u63d0\u4f9b\u4e86\u4e00\u4e2a\u5f88\u597d\u7684\u63a5\u53e3\u3002\u53ef\u4ee5\u76f4\u63a5\u4eceEnsembl FTP\u670d\u52a1\u5668\u4e0b\u8f7d\u53c2\u8003\u57fa\u56e0\u7ec4\u7684GTF\u548cFASTA\u6587\u4ef6\uff0c\u5e76\u4e14\u89e3\u6790\u6587\u4ef6\uff1bEnsembl \u5e76\u4e14\u63d0\u4f9b\u4e86\u4e00\u4e9b\u65b9\u6cd5\uff0c\u7528\u6237\u53ef\u4ee5\u901a\u8fc7\u57fa\u56e0\u7ec4\u4e0a\u4f4d\u7f6e\u63d0\u53d6\u5bf9\u5e94\u7684\u6ce8\u91ca\u4fe1\u606f\u4ee5\u53ca\u5bf9\u57fa\u56e0\u7ec4\u7279\u5f81\u8fdb\u884c\u5404\u79cd\u64cd\u4f5c pyensembl github","title":"Python pyensembl \u57fa\u56e0\u7ec4\u4f4d\u7f6e\u6ce8\u91ca\u5230\u57fa\u56e0\u7ec4\u7279\u5f81\uff08\u57fa\u56e0\uff0c\u8f6c\u5f55\u672c\uff0c\u5916\u663e\u5b50\uff09"},{"location":"python-learn/%E5%AE%9E%E6%88%981%EF%BC%9A%E4%B8%A4%E4%B8%AA%E6%96%87%E4%BB%B6%E4%B8%A4%E5%88%97%E5%86%85%E5%AE%B9%E5%8C%B9%E9%85%8D/","text":"\u56e0\u5de5\u4f5c\u4e2d\u7ecf\u5e38\u9047\u5230\u5728\u4e24\u4e2a\u6587\u4ef6\u4e2d\u5339\u914d\u76f8\u540c\u5217\u7684\u5185\u5bb9\uff0c\u7528python3\u5b9e\u73b0\u4e86\u3002 \u53c2\u8003\u94fe\u63a5 \u4e24\u4e2a\u6e90\u6587\u4ef6\u683c\u5f0f\u5728 github #!/bin/bash #\u6b64\u811a\u672c\u662f\u5b9e\u73b0\u7389\u7c73V4\u7248\u672c\u57fa\u56e0\u7684\u529f\u80fd\u6ce8\u91ca #gene_function.txt\u662f\u5bf9\u5e94\u7684\u6ce8\u91ca\u5e93\u6587\u4ef6 #out.csv\u662f\u9700\u8981\u6dfb\u52a0\u6ce8\u91ca\u7684\u6587\u4ef6 #\u8f93\u51fa\u6587\u4ef6\u4e3a #@author:chaimol@163.com import pandas as pd df1=pd.read_csv('gene_function.csv',encoding='utf-8') df2=pd.read_csv('out.csv',encoding='utf-8') #\u5339\u914d\u76f8\u540c\u5185\u5bb9\u7684\u884c\uff0c\u5339\u914d\u5230\u4e4b\u540e\u8fd4\u56de\u5339\u914d\u5230\u7684\u884c\uff0c\u672a\u5339\u914d\u5230\u5219\u4e0d\u8fd4\u56de index=df1['geneid'].isin(df2['geneid']) outfile=df1[index] outfile.to_csv('outfile.csv',index=False,encoding='utf-8') #\u5339\u914d\u76f8\u540c\u5185\u5bb9\u7684\u884c\uff0c\u5339\u914d\u5230\u4e4b\u540e\u6dfb\u52a0\u5185\u5bb9\u5230\u53f3\u4fa7\u6587\u4ef6\u3002\u4e3a\u5339\u914d\u5230\u8fd4\u56de\u7684\u662fNA\u3002 outer=pd.merge(df1,df2,how='right') outer.to_csv('outer_function.csv',index=False,encoding='utf-8') pandas \u8fd9\u4e2a\u5305\u5728\u5b89\u88c5\u65f6\u53ef\u80fd\u4f1a\u51fa\u9519\uff0c\u76f4\u63a5\u4f7f\u7528pip install \u5b89\u88c5\uff0c\u5177\u4f53\u53c2\u7167\u5b98\u7f51\u3002 \u5728\u8bfb\u53d6csv\u6587\u4ef6\u65f6\uff0c\u4f1a\u7ecf\u5e38\u62a5\u9519\u3002\u539f\u56e0\u662fcsv\u7684\u683c\u5f0f\u4e0d\u662futf-8,\u7528\u8bb0\u4e8b\u672c\u6253\u5f00\u8be5csv\u6587\u4ef6\uff0c\u8c03\u6574\u4e0b\u9762\u7684\u7f16\u7801\u683c\u5f0f\u4e3autf-8.\u540e\u7f00\u540d\u4ecd\u7136\u662fcsv\u5c31\u53ef\u4ee5\u4e86\u3002 pandas\u8fd9\u4e2a\u5305\u5728\u5904\u7406\u5927\u91cf\u6570\u636e\u96c6\u65f6\u975e\u5e38\u6709\u4f18\u52bf\u3002\u53ef\u4ee5\u8be6\u7ec6\u5b66\u4e60\u7528\u6cd5\u3002","title":"\u5b9e\u62181\uff1a\u4e24\u4e2a\u6587\u4ef6\u4e24\u5217\u5185\u5bb9\u5339\u914d"},{"location":"python-learn/%E5%AE%9E%E6%88%982%EF%BC%9A%E7%88%AC%E8%99%AB%E7%88%AC%E5%8F%96NCBI/","text":"\u722c\u866b\u7ec3\u4e60\u5b88\u5219\uff1a \u4e0d\u8981\u7528\u5927\u7684\u7f51\u7ad9\u505a\u5165\u95e8\u7ec3\u4e60\uff0cIp\u5f88\u5bb9\u6613\u88ab\u5c01\u9501\u3002 \u8bf7\u8bbe\u7f6e\u65f6\u95f4\u5ef6\u8fdf\u548c\u52a0\u4e0a\u5404\u79cd\u4f2a\u88c5\u3002\u53ef\u4ee5\u5148\u62ff\u5c0f\u7ad9\u6216\u9759\u6001\u7ad9\u7ec3\u624b\u3002 \u76ee\u6807\uff1a\u6709deg.csv\u7b2c\u4e00\u5217\u6709500+\u57fa\u56e0\u7f16\u53f7\u3002\u722c\u53d6ncbi\u5bfb\u627e\u5bf9\u5e94\u7684gid\u53f7\u3002 \u5168\u9762\u722c\u866b\u5b9e\u73b0 python\u6570\u636e\u8bfb\u5199 \u9632\u6b62IP\u88ab\u5c01\u9501\u7684\u65b9\u6cd5 \u5e38\u7528\u514d\u8d39\u4ee3\u7406 requests\u4e2d\u6587\u8bb2\u89e3 beautifulsoup\u2014\u2014html\u89e3\u6790\u5de5\u5177 pip install beautifulsoup4 3.\u7f16\u5199\u811a\u672c\u63d0\u53d6\u7f16\u53f7\u3002 \u5df2\u7ecf\u627e\u5230\u65b9\u6cd5\u63d0\u53d6\u57fa\u56e0\u7f16\u53f7\u548c\u5bf9\u5e94\u7684GO\u7f16\u53f7\u4e86 \u57fa\u56e0\u7f16\u53f7\u8f6c\u6362\u65b9\u6cd5 \u722c\u866b\u4ee3\u7801\u4ecd\u7136\u9644\u4e0a\uff1a\u5c0f\u5fc3\u4f7f\u7528\uff0cIP\u53ef\u80fd\u4f1a\u88ab\u5c01\u3002 #!/usr/bin/env python3 # -*- coding: utf-8 -*- import requests,random import csv from bs4 import BeautifulSoup #https://www.ncbi.nlm.nih.gov/gene/?term=Zm00001d036521 #payload={'term':'Zm00001d036521'} #genename='Zm00001d036521' #\u53cd\u53cd\u722c\u866b\u90e8\u7f72\uff0c\u6dfb\u52a0headers,random\u8bbf\u95ee\uff0c\u589e\u52a0\u4ee3\u7406\uff0c\u4f7f\u7528\u4ee3\u7406\u8bbf\u95ee\u3002 user_agents=['Mozilla/5.0 (Windows NT 6.1; rv:2.0.1) Gecko/20100101 Firefox/4.0.1','Mozilla/5.0 (Windows; U; Windows NT 6.1; en-us) AppleWebKit/534.50 (KHTML, like Gecko) Version/5.1 Safari/534.50','Opera/9.80 (Windows NT 6.1; U; en) Presto/2.8.131 Version/11.11'] def getGid(genename): #files={'file':open('deg.csv','rb')} payload={'term':genename} headers={'User-Agent':random.choice(user_agents)} proxies={'http':'74.59.132.126:49073','https':'74.59.132.126:49073'} url=\"https://www.ncbi.nlm.nih.gov/gene/\" #req=requests.get(url,headers=headers,params=payload,proxies=proxies) req=requests.get(url,headers=headers,params=payload) html=req.text bf=BeautifulSoup(html,\"html5lib\") h1=bf.find_all('h1',id='gene-name') a_bf=BeautifulSoup(str(h1[0])) a=a_bf.find_all('span') #\u6b64\u5904\u7684gid\u5c31\u662f\u6211\u4eec\u8981\u7684\u57fa\u56e0\u7684GID\u503c gid = a[0].text.replace('\\xa0'*8,'\\n\\n') return gid genecount=csv.reader(open('deg.csv','r')) gene_table=['gid'] locus=['genename'] for geneid in genecount: print(geneid[0]) gid=getGid(geneid[0]) gene_table.append(gid) locus.append(geneid) time.sleep(random.random()) #\u6682\u505c[0,1)\u79d2 with open('out.csv','w',newline='') as f: writer=csv.writer(f) for row in gene_table: writer.writerow(row)","title":"\u5b9e\u62182\uff1a\u722c\u866b\u722c\u53d6NCBI"},{"location":"python-learn/%E5%AE%9E%E6%88%982%EF%BC%9A%E7%88%AC%E8%99%AB%E7%88%AC%E5%8F%96NCBI/#_1","text":"\u4e0d\u8981\u7528\u5927\u7684\u7f51\u7ad9\u505a\u5165\u95e8\u7ec3\u4e60\uff0cIp\u5f88\u5bb9\u6613\u88ab\u5c01\u9501\u3002 \u8bf7\u8bbe\u7f6e\u65f6\u95f4\u5ef6\u8fdf\u548c\u52a0\u4e0a\u5404\u79cd\u4f2a\u88c5\u3002\u53ef\u4ee5\u5148\u62ff\u5c0f\u7ad9\u6216\u9759\u6001\u7ad9\u7ec3\u624b\u3002 \u76ee\u6807\uff1a\u6709deg.csv\u7b2c\u4e00\u5217\u6709500+\u57fa\u56e0\u7f16\u53f7\u3002\u722c\u53d6ncbi\u5bfb\u627e\u5bf9\u5e94\u7684gid\u53f7\u3002 \u5168\u9762\u722c\u866b\u5b9e\u73b0 python\u6570\u636e\u8bfb\u5199 \u9632\u6b62IP\u88ab\u5c01\u9501\u7684\u65b9\u6cd5 \u5e38\u7528\u514d\u8d39\u4ee3\u7406 requests\u4e2d\u6587\u8bb2\u89e3 beautifulsoup\u2014\u2014html\u89e3\u6790\u5de5\u5177 pip install beautifulsoup4 3.\u7f16\u5199\u811a\u672c\u63d0\u53d6\u7f16\u53f7\u3002 \u5df2\u7ecf\u627e\u5230\u65b9\u6cd5\u63d0\u53d6\u57fa\u56e0\u7f16\u53f7\u548c\u5bf9\u5e94\u7684GO\u7f16\u53f7\u4e86 \u57fa\u56e0\u7f16\u53f7\u8f6c\u6362\u65b9\u6cd5 \u722c\u866b\u4ee3\u7801\u4ecd\u7136\u9644\u4e0a\uff1a\u5c0f\u5fc3\u4f7f\u7528\uff0cIP\u53ef\u80fd\u4f1a\u88ab\u5c01\u3002 #!/usr/bin/env python3 # -*- coding: utf-8 -*- import requests,random import csv from bs4 import BeautifulSoup #https://www.ncbi.nlm.nih.gov/gene/?term=Zm00001d036521 #payload={'term':'Zm00001d036521'} #genename='Zm00001d036521' #\u53cd\u53cd\u722c\u866b\u90e8\u7f72\uff0c\u6dfb\u52a0headers,random\u8bbf\u95ee\uff0c\u589e\u52a0\u4ee3\u7406\uff0c\u4f7f\u7528\u4ee3\u7406\u8bbf\u95ee\u3002 user_agents=['Mozilla/5.0 (Windows NT 6.1; rv:2.0.1) Gecko/20100101 Firefox/4.0.1','Mozilla/5.0 (Windows; U; Windows NT 6.1; en-us) AppleWebKit/534.50 (KHTML, like Gecko) Version/5.1 Safari/534.50','Opera/9.80 (Windows NT 6.1; U; en) Presto/2.8.131 Version/11.11'] def getGid(genename): #files={'file':open('deg.csv','rb')} payload={'term':genename} headers={'User-Agent':random.choice(user_agents)} proxies={'http':'74.59.132.126:49073','https':'74.59.132.126:49073'} url=\"https://www.ncbi.nlm.nih.gov/gene/\" #req=requests.get(url,headers=headers,params=payload,proxies=proxies) req=requests.get(url,headers=headers,params=payload) html=req.text bf=BeautifulSoup(html,\"html5lib\") h1=bf.find_all('h1',id='gene-name') a_bf=BeautifulSoup(str(h1[0])) a=a_bf.find_all('span') #\u6b64\u5904\u7684gid\u5c31\u662f\u6211\u4eec\u8981\u7684\u57fa\u56e0\u7684GID\u503c gid = a[0].text.replace('\\xa0'*8,'\\n\\n') return gid genecount=csv.reader(open('deg.csv','r')) gene_table=['gid'] locus=['genename'] for geneid in genecount: print(geneid[0]) gid=getGid(geneid[0]) gene_table.append(gid) locus.append(geneid) time.sleep(random.random()) #\u6682\u505c[0,1)\u79d2 with open('out.csv','w',newline='') as f: writer=csv.writer(f) for row in gene_table: writer.writerow(row)","title":"\u722c\u866b\u7ec3\u4e60\u5b88\u5219\uff1a"},{"location":"python-learn/%E5%AE%9E%E6%88%983%EF%BC%9A%E7%BB%83%E4%B9%A0%E5%8F%AF%E8%A7%86%E5%8C%96%EF%BC%8C%E5%87%BD%E6%95%B0%EF%BC%8C%E6%A8%A1%E5%9D%97/","text":"argparse.ArgumentParser(","title":"\u5b9e\u62183\uff1a\u7ec3\u4e60\u53ef\u89c6\u5316\uff0c\u51fd\u6570\uff0c\u6a21\u5757"},{"location":"python-learn/%E7%88%AC%E8%99%AB%E7%BB%83%E4%B9%A02/","text":"##spider_MCENet.py ##\u76ee\u7684\uff1a\u722c\u53d6http://bioinformatics.cau.edu.cn/MCENet/search_result.php?gene=GRMZM2G021617%0D%0A&query=Zm_Oth_Ara ##\u4e3a\u4e86\u83b7\u53d6\u76f8\u5173\u7684\u540c\u6e90\u57fa\u56e0 #!/usr/bin/env python3 # -*- coding: utf-8 -*- #\u4f9d\u8d56 \u6a21\u5757\u8bb2\u89e3 requests\u662f\u8bf7\u6c42\u7f51\u9875 random\u968f\u673a\u51fd\u6570 csv csv\u6570\u636e\u8bfb\u5199 re \u6b63\u5219\u8868\u8fbe\u5f0f time \u5b9a\u65f6\u64cd\u4f5c BeautifulSoup \u89e3\u6790html\u7684\u5305 import requests,random import csv,re import time from bs4 import BeautifulSoup #https://www.ncbi.nlm.nih.gov/gene/?term=Zm00001d036521 #payload={'term':'Zm00001d036521'} #genename='Zm00001d036521' #\u53cd\u53cd\u722c\u866b\u90e8\u7f72\uff0c\u6dfb\u52a0headers,random\u8bbf\u95ee\uff0c\u589e\u52a0\u4ee3\u7406\uff0c\u4f7f\u7528\u4ee3\u7406\u8bbf\u95ee\u3002 user_agents=['Mozilla/5.0 (Windows NT 6.1; rv:2.0.1) Gecko/20100101 Firefox/4.0.1','Mozilla/5.0 (Windows; U; Windows NT 6.1; en-us) AppleWebKit/534.50 (KHTML, like Gecko) Version/5.1 Safari/534.50','Opera/9.80 (Windows NT 6.1; U; en) Presto/2.8.131 Version/11.11'] gene_name=[\"origin_V3\"] Atr_name=[\"ATR\"] annotation=[\"description\"] p_value=[\"0.5\"] # \u5224\u65ad\u5185\u5bb9\u662f\u5426\u5b58\u5728 #\u53c2\u6570htmlcontent \u6293\u7684html \uff0c content_selector \u662f\u8981\u5224\u65ad\u662f\u5426\u5b58\u5728\u7684\u5b57\u7b26\u4e32 #\u7528\u6cd5\u793a\u4f8b judge=chargecontent(html,\"not available\") def chargecontent(htmlcontent, content_selector): soup = BeautifulSoup(htmlcontent, \"html.parser\") # \u53bb\u9664script s=soup.get_text(\"/\",strip=True) hascontent = False li=re.findall(content_selector,s) hascontent = len(li) > 0 return hascontent ##\u5b9a\u4e49\u4e3b\u722c\u53d6\u51fd\u6570\uff0c\u9700\u8981\u4f20\u5165\u53c2\u6570\u4e3agenename V3\u7248\u672c def getGid(genename): #files={'file':open('deg.csv','rb')} #payload={'gene':'GRMZM2G147279','query':'Zm_Oth_Ara'} payload={'gene':genename,'query':'Zm_Oth_Ara'} headers={'User-Agent':random.choice(user_agents)} proxies={'http':'74.59.132.126:49073','https':'74.59.132.126:49073'} url=\"http://bioinformatics.cau.edu.cn/MCENet/search_result.php\" #req=requests.get(url,headers=headers,params=payload,proxies=proxies) req=requests.get(url,headers=headers,params=payload) html=req.text ##\u9884\u5148\u5224\u65ad\u662f\u5426\u5b58\u5728\u9875\u9762\u662f\u5426\u88ab\u8fd4\u56de\u6b63\u5e38\u503c\uff0c\u5426\uff0c\u5219\u4e0d\u89e3\u6790\u6587\u672c judge=chargecontent(html,\"not available\") if judge: out_data=[genename,\"\",\"\",\"\"] else: bf=BeautifulSoup(html,\"html5lib\") thread=bf.find('tbody') gene1=thread.select_one('tr >td:nth-of-type(1)').text gene2=thread.select_one('tr >td:nth-of-type(2)').get_text() gene3=thread.select_one('tr >td:nth-of-type(3)').text gene4=thread.select_one('tr >td:nth-of-type(4)').text # # gene_name.append(gene1) # # Atr_name.append(gene2) # # annotation.append(gene3) # # p_value.append(gene4) # tr=trx.find_all('td') # a_bf=BeautifulSoup(str(thread[0])) # a=a_bf.find_all('span') # genename=thread.find_all('td',limit=3) #\u6b64\u5904\u7684gid\u5c31\u662f\u6211\u4eec\u8981\u7684\u57fa\u56e0\u7684GID\u503c #gid = a[0].text.replace('\\xa0'*8,'\\n\\n') out_data=[gene1,gene2,gene3,gene4] return out_data genecount=csv.reader(open('spider.csv','r')) gene_table=['gene_name','Atr_name','annotation','p_value'] for geneid in genecount: print(geneid[0]) getdata=getGid(geneid[0]) gene_table.append(getdata) time.sleep(random.random()) #\u6682\u505c[0,1)\u79d2 #gene_table=[gene_name,Atr_name,annotation,p_value] headers=['V3','Atr','description','pvalue'] with open('out_spider.csv','w',newline='') as f: writer=csv.writer(f) writer.writerow(headers) #for row in gene_table: # writer.writerow(row) writer.writerows(gene_table) \u4e3b\u8981\u7ec3\u4e60\u76ee\u6807\uff1a \u6570\u636e\u7684\u83b7\u53d6\u3001\u53cd\u53cd\u722c\u866b\u90e8\u7f72\u3001\u6570\u636e\u8bc6\u522b\u3001\u6570\u636e\u89e3\u6790\u3001\u6570\u636e\u8bfb\u53d6\u8f93\u51fa \u6df1\u5c42\u76ee\u6807\uff1a \u4f18\u5316\u53cd\u53cd\u722c\u866b\u90e8\u7f72\u3001\u589e\u52a0\u5224\u65ad\u6d4f\u89c8\u5668\u8fd4\u56de\u503c\u72b6\u6001\u7801\uff0c\u5982\u679c\u8d85\u65f6\u6216\u8005\u88ab\u53cd\u722c\u866b\u53d1\u73b0\uff0c\u9700\u8981\u7ed9\u51fa\u53cd\u9988\u3002 \u91cd\u70b9\uff1apython\u4ee3\u7801\u4e00\u5b9a\u4e0d\u8981\u6709\u591a\u4f59\u7684\u7a7a\u683c\u6216\u8005\u7f29\u8fdb\uff0c\u884c\u5c3e\u8981\u7279\u522b\u6ce8\u610f\u4e0d\u8981\u591a\u7a7a\u683c\uff0c\u884c\u5934\u7f29\u8fdb\u5168\u90e8\u4f7f\u7528tab\uff0c\u4e0d\u80fd\u4f7f\u7528\u7a7a\u683c\u3002","title":"\u722c\u866b\u7ec3\u4e602"},{"location":"python-learn/%E7%AC%AC0-1%E8%AF%BE-python%E5%8C%85%E7%9A%84%E5%AE%89%E8%A3%85%E6%9B%B4%E6%96%B0/","text":"\u5b89\u88c5pip3 wget https://bootstrap.pypa.io/get-pip.py python3 get-pip.py --user pip3\u4f1a\u5b89\u88c5\u5728 /home/$USER/.local/bin/ \u8def\u5f84\u3002 virtualenv\u865a\u62df\u73af\u5883\u5c45\u7136\u65e0\u6cd5\u4f7f\u7528conda\u5b89\u88c5\u7684pip. \u5728virtualenv\u73af\u5883\u4e0b\uff0c\u76f4\u63a5\u6309\u4e0a\u8ff0\u4e0b\u8f7d\u3002 python3 get-pip.py \u5373\u53ef\u3002 \u67e5\u770b\u5f53\u524d\u53ef\u4ee5\u66f4\u65b0\u7684\u5305 pip list --outdated --format=columns \u66f4\u65b0\u6240\u6709\u7684\u5305 pip install pip-review pip-review --auto pip-review -i \u66f4\u65b0pip\u7248\u672c pip install pip pip install --upgrade pip \u5355\u72ec\u66f4\u65b0\u67d0\u4e2apip\u7684\u5305 pip install --upgrade bio \u5378\u8f7d\u67d0\u4e2apip\u5305 pip uninstall bio","title":"\u7b2c0 1\u8bfe python\u5305\u7684\u5b89\u88c5\u66f4\u65b0"},{"location":"python-learn/%E7%AC%AC0-1%E8%AF%BE-python%E5%8C%85%E7%9A%84%E5%AE%89%E8%A3%85%E6%9B%B4%E6%96%B0/#_1","text":"pip list --outdated --format=columns","title":"\u67e5\u770b\u5f53\u524d\u53ef\u4ee5\u66f4\u65b0\u7684\u5305"},{"location":"python-learn/%E7%AC%AC0-1%E8%AF%BE-python%E5%8C%85%E7%9A%84%E5%AE%89%E8%A3%85%E6%9B%B4%E6%96%B0/#_2","text":"pip install pip-review pip-review --auto pip-review -i","title":"\u66f4\u65b0\u6240\u6709\u7684\u5305"},{"location":"python-learn/%E7%AC%AC0-1%E8%AF%BE-python%E5%8C%85%E7%9A%84%E5%AE%89%E8%A3%85%E6%9B%B4%E6%96%B0/#pip","text":"pip install pip pip install --upgrade pip","title":"\u66f4\u65b0pip\u7248\u672c"},{"location":"python-learn/%E7%AC%AC0-1%E8%AF%BE-python%E5%8C%85%E7%9A%84%E5%AE%89%E8%A3%85%E6%9B%B4%E6%96%B0/#pip_1","text":"pip install --upgrade bio","title":"\u5355\u72ec\u66f4\u65b0\u67d0\u4e2apip\u7684\u5305"},{"location":"python-learn/%E7%AC%AC0-1%E8%AF%BE-python%E5%8C%85%E7%9A%84%E5%AE%89%E8%A3%85%E6%9B%B4%E6%96%B0/#pip_2","text":"pip uninstall bio","title":"\u5378\u8f7d\u67d0\u4e2apip\u5305"},{"location":"python-learn/%E7%AC%AC0-5%E8%AF%BE-Python%E7%9A%84%E6%A0%87%E5%87%86%E5%8C%96%E4%BB%A3%E7%A0%81%E9%A3%8E%E6%A0%BC/","text":"#!/usr/bin/env python3 # -*- coding:utf-8 -*- # Author:Frank Chai # Email:chaimol@163.com '\u8fd9\u662f\u8bf4\u660e\u6027\u6587\u5b57\u7684\u5730\u65b9\uff0c\u5728Python\u4e2d\u672c\u884c\u5185\u5bb9\u4e0d\u4f1a\u88ab\u6267\u884c' __Author__ = 'Frank Chai' \u4e0a\u8ff0\u662f\u6211\u7684python\u6587\u4ef6\u9ed8\u8ba4\u7684\u5934\u90e8\u5185\u5bb9 \u7b2c1\u884c\uff0c\u8ba9\u7a0b\u5e8f\u5728linux\u4e0a\u53ef\u4ee5\u76f4\u63a5\u8fd0\u884c \u7b2c2\u884c\uff0c\u8bbe\u7f6e\u7f16\u7801\u683c\u5f0f\u4e3autf-8 \u7b2c3\u884c\uff0c\u7a0b\u5e8f\u4f5c\u8005\uff0c\u6211\u662fFrank Chai \u7b2c4\u884c\uff0c\u4f5c\u8005\u90ae\u7bb1\u3002\u65b9\u4fbf\u522b\u4eba\u8054\u7cfb\u4f60\uff0c\u540c\u884c\u4ea4\u6d41\u3002 \u7b2c5\u884c\uff0c\u8fd9\u662f\u8be5\u6587\u4ef6\u7684\u7b80\u77ed\u8bf4\u660e\uff0c\u7a0b\u5e8f\u4e0d\u4f1a\u6267\u884c\u8be5\u884c\u5185\u5bb9 \u7b2c6\u884c\uff0c\u65b9\u4fbf\u522b\u4eba\u77e5\u9053\u4f5c\u8005\uff0c\u5b9a\u4e49\u7684Author\u53d8\u91cf\u3002 \u5173\u4e8e\u81ea\u5df1\u672c\u5730\u6a21\u5757\u7684\u5f15\u5165\uff0c\u53c2\u7167 \u7b2c0\u8bfe \u8bb2\u89e3\u3002","title":"\u7b2c0 5\u8bfe Python\u7684\u6807\u51c6\u5316\u4ee3\u7801\u98ce\u683c"},{"location":"python-learn/%E7%AC%AC0%E8%AF%BE-python%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E6%94%BE%E5%BC%83/","text":"\u58f0\u660e\uff1a\u672c\u7cfb\u5217\u6559\u7a0b\u7684python\u4ee3\u7801\uff0cmakedown\u8bed\u6cd5\uff0c\u5bf9\u7f29\u8fdb\u7279\u522b\u4e0d\u53cb\u597d\uff0c\u4f46\u662fpython\u7684\u5c42\u7ea7\u5173\u7cfb\u53c8\u4e25\u683c\u4f9d\u8d56\u7f29\u8fdb\uff0c\u6545\u6b64\u7cfb\u5217\u7684\u6240\u6709python\u4ee3\u7801\u4e0d\u4e00\u5b9a\u90fd\u80fd\u76f4\u63a5\u8fd0\u884c\u3002\u6709\u53ef\u80fd\u9700\u8981\u624b\u52a8\u8c03\u6574\u4ee3\u7801\u7f29\u8fdb\u3002python\u7684\u7248\u672c\u76ee\u524d\u662f3.7. \u6700\u91cd\u8981\u7684\u4e8b\u60c5 python\u4e00\u5b9a\u8981\u6ce8\u610f\u7a7a\u683c\u548c\u6362\u884c\uff0c\u7279\u522b\u662f\u884c\u9996\u3001\u884c\u5c3e\u4e0d\u8be5\u591a\u7684\u7a7a\u683c\u6216\u8005table\u7f29\u8fdb\u4e00\u5b9a\u4e0d\u8981\u6709 \uff0c\u4e0d\u7136\u5c31\u662f SyntaxError: invalid syntax \u5f15\u5165\u7684\u672c\u5730\u6587\u4ef6\u5939\u5185\u5305\u7684\u65b9\u6cd5 import sys sys.path.append('H:\\python\\company') \u5982\u679c\u9700\u8981\u5f15\u5165\u7b2c\u4e09\u65b9\u5305\uff0c\u53ef\u4ee5\u5728 \u5b98\u65b9\u5305\u7f51\u7ad9 \u641c\u7d22 \u6587\u4ef6\u5939\u76ee\u5f55\u7ed3\u6784 - scrath.md \u8bf4\u660e\u6587\u6863 - init .py \u914d\u7f6e\u6587\u6863\u8bf4\u660e\u8be5\u6587\u4ef6\u5939\u662f\u5305\u76ee\u5f55\uff0c \u4e00\u5b9a\u4e0d\u80fd\u5220\u9664\u8be5\u6587\u4ef6 \u3002\u5426\u5219\u65e0\u6cd5\u5f15\u5165\u8be5\u6587\u4ef6\u5185\u7684\u6a21\u5757\u3002 -","title":"\u7b2c0\u8bfe python\u4ece\u5165\u95e8\u5230\u653e\u5f03"},{"location":"python-learn/%E7%AC%AC0%E8%AF%BE-python%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E6%94%BE%E5%BC%83/#pythonmakedownpythonpythonpython37","text":"","title":"\u58f0\u660e\uff1a\u672c\u7cfb\u5217\u6559\u7a0b\u7684python\u4ee3\u7801\uff0cmakedown\u8bed\u6cd5\uff0c\u5bf9\u7f29\u8fdb\u7279\u522b\u4e0d\u53cb\u597d\uff0c\u4f46\u662fpython\u7684\u5c42\u7ea7\u5173\u7cfb\u53c8\u4e25\u683c\u4f9d\u8d56\u7f29\u8fdb\uff0c\u6545\u6b64\u7cfb\u5217\u7684\u6240\u6709python\u4ee3\u7801\u4e0d\u4e00\u5b9a\u90fd\u80fd\u76f4\u63a5\u8fd0\u884c\u3002\u6709\u53ef\u80fd\u9700\u8981\u624b\u52a8\u8c03\u6574\u4ee3\u7801\u7f29\u8fdb\u3002python\u7684\u7248\u672c\u76ee\u524d\u662f3.7."},{"location":"python-learn/%E7%AC%AC0%E8%AF%BE-python%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E6%94%BE%E5%BC%83/#pythontablesyntaxerror-invalid-syntax","text":"\u5f15\u5165\u7684\u672c\u5730\u6587\u4ef6\u5939\u5185\u5305\u7684\u65b9\u6cd5 import sys sys.path.append('H:\\python\\company')","title":"\u6700\u91cd\u8981\u7684\u4e8b\u60c5python\u4e00\u5b9a\u8981\u6ce8\u610f\u7a7a\u683c\u548c\u6362\u884c\uff0c\u7279\u522b\u662f\u884c\u9996\u3001\u884c\u5c3e\u4e0d\u8be5\u591a\u7684\u7a7a\u683c\u6216\u8005table\u7f29\u8fdb\u4e00\u5b9a\u4e0d\u8981\u6709\uff0c\u4e0d\u7136\u5c31\u662fSyntaxError: invalid syntax"},{"location":"python-learn/%E7%AC%AC0%E8%AF%BE-python%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E6%94%BE%E5%BC%83/#_1","text":"\u6587\u4ef6\u5939\u76ee\u5f55\u7ed3\u6784 - scrath.md \u8bf4\u660e\u6587\u6863 - init .py \u914d\u7f6e\u6587\u6863\u8bf4\u660e\u8be5\u6587\u4ef6\u5939\u662f\u5305\u76ee\u5f55\uff0c \u4e00\u5b9a\u4e0d\u80fd\u5220\u9664\u8be5\u6587\u4ef6 \u3002\u5426\u5219\u65e0\u6cd5\u5f15\u5165\u8be5\u6587\u4ef6\u5185\u7684\u6a21\u5757\u3002 -","title":"\u5982\u679c\u9700\u8981\u5f15\u5165\u7b2c\u4e09\u65b9\u5305\uff0c\u53ef\u4ee5\u5728\u5b98\u65b9\u5305\u7f51\u7ad9\u641c\u7d22"},{"location":"python-learn/%E7%AC%AC1%E8%AF%BE-Python%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99%E6%94%B6%E9%9B%86%E6%95%B4%E7%90%86/","text":"\u751f\u4fe1\u5b9d\u5178 \u5ed6\u96ea\u5cf0\u7684Python\u6559\u7a0b biostar pycharm\u4f7f\u7528\u6280\u5de7 pycharm\u662fIDE,\u4e13\u95e8\u4f7f\u7528\u4e8epython\u5f00\u53d1\uff0c\u4e5f\u53ef\u7f16\u5199\u5176\u4ed6\u8bed\u8a00\u4ee3\u7801\uff0c\u7f3a\u70b9\u662f\u5403\u5185\u5b58\u3002\u5b66\u751f\u548c\u6559\u5e08\u53ef\u4ee5\u901a\u8fc7\u6559\u80b2\u90ae\u7bb1\u514d\u8d39\u4f7f\u7528\u3002 numerical python -> numpy data science python -> pandas web development -> django visualization -> matplotlib bioinformation -> biopython \u673a\u5668\u5b66\u4e60\u5efa\u8bae\u4f7f\u7528jupyter notebook\u8fdb\u884c\u7f16\u8f91","title":"\u7b2c1\u8bfe Python\u5b66\u4e60\u8d44\u6599\u6536\u96c6\u6574\u7406"},{"location":"python-learn/%E7%AC%AC2%E8%AF%BE-Python%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/","text":"Python\u57fa\u672c\u8bed\u6cd5 \u5e38\u8bc6 - Python\u4e2d\u5b57\u7b26\u53ef\u4ee5\u7528\" \"\u6216' '\u62ec\u8d77\u6765\u3002 - Python\u4e2d\u6570\u7ec4\u8ba1\u6570\u4ece0\u5f00\u59cb\u3002 1. Python\u4e25\u683c\u533a\u5206\u5927\u5c0f\u5199 2. \u4f7f\u7528\u7f29\u8fdb\u6765\u533a\u5206\u4ee3\u7801\u6bb5\uff0c\u6bcf\u56db\u4e2a\u7a7a\u683c\u6216\u4e00\u4e2aTab\u89c6\u4e3a\u4e00\u4e2a\u4ee3\u7801\u5757\u3002\u5efa\u8bae \u53ea\u7528Tab\u6765\u5199\u4ee3\u7801 \u3002 3. \u6ce8\u91ca\u7b26\u53f7\u201c#\u201d # \u540e\u9762\u7684\u5185\u5bb9\u4e0d\u88ab\u6267\u884c\u3002 \u4f8b\u5982\uff1aprint('hello world') #\u6211\u662f\u4ee3\u7801\u6ce8\u91ca\u4e0d\u4f1a\u88ab\u6267\u884c\u3002 4. Python\u6267\u884c\u65b9\u6cd5 linux\u4e0b python3 test.py windows\u4e0b python test.py 5. \u53d8\u91cf\u7c7b\u578b * \u6574\u6570 * \u6d6e\u70b9\u6570 * \u5b57\u7b26\u4e32 \u8f6c\u4e49\u5b57\u7b26\\ \\n \u6362\u884c r' code' \u5185\u90e8\u7684code\u4e0d\u4f1a\u88ab\u8f6c\u4e49 print('''1 \u00b7\u00b7\u00b7\u00b72 \u00b7\u00b7\u00b7\u00b73 \u00b7\u00b7\u00b7\u00b74''') \u8f93\u51fa\u4e3a\u56db\u884c\uff0c\u5206\u522b\u662f1,2,3,4. * list\u76f8\u5f53\u4e8ejs\u91cc\u7684\u6570\u7ec4[],\u662f\u53ef\u4ee5\u81ea\u7531\u53d8\u5316\u7684\u3002 name=['Jan','Mic','Tom'] name.append('Frank') #\u672b\u5c3e\u63d2\u5165Frank name.pop(1)#\u5220\u9664\u7b2c1\u4e2a\u5143\u7d20\uff0c\u5373\u5220\u9664Mic name.insert(0,'Jack')#\u5728\u5f00\u59cb\u4f4d\u7f6e\u63d2\u5165Jack name[-1]='Mark Pro'#\u76f4\u63a5\u901a\u8fc7\u8d4b\u503c\u5f62\u5f0f\u4fee\u6539\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u4e3aMark Pro * tuple\u76f8\u5f53\u4e8ejs\u7684\u5bf9\u8c61\uff0c\u4f46\u662ftuple\u662f\u4e0d\u53ef\u53d8\u5316\u7684\u3002 t = ('name','sex','age',['show','hiddden']) t[3][0]='hide' t[3][1]='show' \u6700\u7ec8t= ('name','sex','age',['hide','show'])` *\u5224\u65ad\u4e0e\u5faa\u73af ag = input('\u8f93\u5165\u4f60\u7684\u5e74\u9f84') age = int(ag) #\u8f6c\u6362\u7528\u6237\u8f93\u5165\u4e3a\u6574\u578b\u6570\u636e if age >= 18: print('adult') elif age > 15: print('teenger') else: print('child') \u5b57\u5178\uff08dict\uff09 d = ['\u5f20\u4e09':345,'mike':102,'Jon':102] d['\u5f20\u4e09'] #345 set() \u81ea\u52a8\u53bb\u9664\u91cd\u590d\u548c\u6392\u5e8f\u5de5\u5177 a = (1,2,4,5,8,5,9,5,15,6,25) b = set(a) >> b {1, 2, 4, 5, 6, 8, 9, 15, 25} ##\u5728Python\u4e2d\u5b9a\u4e49\u51fd\u6570\uff0c\u53ef\u4ee5\u7528\u5fc5\u9009\u53c2\u6570\u3001\u9ed8\u8ba4\u53c2\u6570\u3001\u53ef\u53d8\u53c2\u6570\u3001\u5173\u952e\u5b57\u53c2\u6570\u548c\u547d\u540d\u5173\u952e\u5b57\u53c2\u6570\uff0c\u8fd95\u79cd\u53c2\u6570\u90fd\u53ef\u4ee5\u7ec4\u5408\u4f7f\u7528\u3002\u4f46\u662f\u8bf7\u6ce8\u610f\uff0c\u53c2\u6570\u5b9a\u4e49\u7684\u987a\u5e8f\u5fc5\u987b\u662f\uff1a\u5fc5\u9009\u53c2\u6570\u3001\u9ed8\u8ba4\u53c2\u6570\u3001\u53ef\u53d8\u53c2\u6570\u3001\u547d\u540d\u5173\u952e\u5b57\u53c2\u6570\u548c\u5173\u952e\u5b57\u53c2\u6570\u3002 power\u51fd\u6570\uff0c\u7528\u4e8e\u8fd4\u56de\u7ed9\u5b9a\u503c\u5f97 \u6307\u5b9an\u6b21\u5e42\u3002 \u521b\u5efa\u4e00\u4e2a\u51fd\u6570power\uff0c\u5176\u4e2did\u65f6\u5fc5\u8981\u53c2\u6570\uff0cn\u662f\u53ef\u9009\u53c2\u6570\u3002 \u8fd4\u56de\u7684\u662f\u8be5\u503c\u5f97\u5bf9\u5e94\u6b21\u65b9\u6570\u7684\u503c\u3002 \u9ed8\u8ba4\u53c2\u6570 def power(id, n=2): s = 1 while n > 0: n = n - 1 s = s * id return s ino = int(input('\u7b2c\u4e00\u4e2a\u6570\u5b57')) n = int(input('\u6b21\u65b9\u6570')) print(power(ino, n)) # \u8fd4\u56de\u5bf9\u5e94\u6b21\u65b9\u6570 print(power(ino)) # \u8fd4\u56de\u5e73\u65b9\u6570 \u51fd\u6570\u58f0\u660e\u65f6\uff0c\u53ef\u4ee5\u6307\u5b9a\u591a\u4e2a\u9ed8\u8ba4\u53c2\u6570\u3002\u8c03\u7528\u65f6\u53ef\u4ee5\u6309\u987a\u5e8f\u8f93\u5165\u6307\u5b9a\u53c2\u6570\uff0c\u4e5f\u53ef\u4ee5\u4e0d\u6309\u987a\u5e8f\uff0c\u76f4\u63a5\u6307\u5b9a\u5bf9\u5e94\u53c2\u6570\u3002 def register(name,phone,age=7,city='China Tingdao',email=''): print(name) print('city:',city) print(email) register('zhangHUNG',1542,8,email=\"chaimol@163.com\") register('\u5f20\u4e09\u4e30',102364,city='China Wuhan',age=1230) --------\u51fd\u6570\u7684\u53c2\u6570--- # ---\u5fc5\u9009\u53c2\u6570\u3001\u9ed8\u8ba4\u53c2\u6570\u3001\u53ef\u53d8\u53c2\u6570\u3001\u5173\u952e\u5b57\u53c2\u6570\u3001\u547d\u540d\u5173\u952e\u5b57\u53c2\u6570------------------------------ #\u5fc5\u987b\u53c2\u6570 def max_min(a,b,c): #\u53c2\u6570a,b,c\u4e09\u4e2a\u503c\u7f3a\u4e00\u4e0d\u53ef\u3002 return max(a,b,c) print(max_min(1,2057,504)) #\u53ef\u9009\u53c2\u6570 def info(age,birth,reg = 1): user_info = (age,birth,reg) return user_info print(info(28,1993,0)) #\u6b64\u5904\u662f\u5b8c\u6574\u8f93\u5165\u53c2\u6570 print(info(20,1587)) #\u6b64\u5904\u662f\u7f3a\u5931\u53ef\u9009\u53c2\u6570 \u53ef\u53d8\u53c2\u6570 \u5176\u5b9e\u8d28\u662f\u4f20\u7684\u4e00\u4e2alist\u6216\u8005tuple def calc(*numbers): #\u53ef\u53d8\u53c2\u6570\u8c03\u7528\u662f\u53ef\u4ee5\u7528\u591a\u79cd\u65b9\u6cd5\uff0c\u8be5\u51fd\u6570\u662f\u8fd4\u56de\u53c2\u6570\u4e2d\u6bcf\u4e2a\u503c\u7684\u5e73\u65b9\u76f8\u52a0\u7684\u548c\uff0c\u5373\u5e73\u65b9\u548c sum = 0 for id in numbers: sum = sum + id * id return sum print(calc(1,50)) nums1 = (3,4,5) print(calc(*nums1)) \u5173\u952e\u5b57\u53c2\u6570 (\u5173\u952e\u5b57\u53c2\u6570\uff0c\u5b9e\u8d28\u662f\u4e00\u4e2adictionary\uff0c\u53ef\u4ee5\u4e0d\u65ad\u7684\u6269\u5145\u5185\u5bb9) def person(name,age,**kw): print(name,'age',age,'other',kw) person('Jon',32) person('frank',25,Tname='kangkang Wang',sex='male') extra = {'city': 'Beijing', 'job': 'Engineer'} person('demon',32,**extra) \u547d\u540d\u5173\u952e\u5b57\u53c2\u6570\uff0c def person0(name,age,*,city='Hangzhou',email='',sex=0,weight,height=0): # *\u7b26\u53f7\u540e\u9762\u7684\u53c2\u6570\u662f\u547d\u540d\u5173\u952e\u5b57\uff0c\u540e\u7eed\u7684\u53c2\u6570\u53ea\u80fd\u662f\u547d\u540d\u7684\u51e0\u4e2a\u5173\u952e\u5b57\uff0c # \u975e\u547d\u540d\u7684\u5173\u952e\u5b57\u7684\u53c2\u6570\u65e0\u6cd5\u8f93\u5165,\u4e14\u547d\u540d\u5173\u952e\u5b57\u7684\u53c2\u6570\u5fc5\u987b\u4f20\u5165\u53c2\u6570\u540d\uff0c\u5426\u5219\u62a5\u9519\u3002 print('other\u53c2\u6570',weight,height) person0('demvri',50,weight=86,height=180) person0('Mick',18,city='ZhengZhou',weight=80) #\u6ce8\u610f","title":"\u7b2c2\u8bfe Python\u57fa\u7840\u8bed\u6cd5"},{"location":"python-learn/%E7%AC%AC2%E8%AF%BE-Python%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#python","text":"\u5e38\u8bc6 - Python\u4e2d\u5b57\u7b26\u53ef\u4ee5\u7528\" \"\u6216' '\u62ec\u8d77\u6765\u3002 - Python\u4e2d\u6570\u7ec4\u8ba1\u6570\u4ece0\u5f00\u59cb\u3002 1. Python\u4e25\u683c\u533a\u5206\u5927\u5c0f\u5199 2. \u4f7f\u7528\u7f29\u8fdb\u6765\u533a\u5206\u4ee3\u7801\u6bb5\uff0c\u6bcf\u56db\u4e2a\u7a7a\u683c\u6216\u4e00\u4e2aTab\u89c6\u4e3a\u4e00\u4e2a\u4ee3\u7801\u5757\u3002\u5efa\u8bae \u53ea\u7528Tab\u6765\u5199\u4ee3\u7801 \u3002 3. \u6ce8\u91ca\u7b26\u53f7\u201c#\u201d # \u540e\u9762\u7684\u5185\u5bb9\u4e0d\u88ab\u6267\u884c\u3002 \u4f8b\u5982\uff1aprint('hello world') #\u6211\u662f\u4ee3\u7801\u6ce8\u91ca\u4e0d\u4f1a\u88ab\u6267\u884c\u3002 4. Python\u6267\u884c\u65b9\u6cd5 linux\u4e0b python3 test.py windows\u4e0b python test.py 5. \u53d8\u91cf\u7c7b\u578b * \u6574\u6570 * \u6d6e\u70b9\u6570 * \u5b57\u7b26\u4e32 \u8f6c\u4e49\u5b57\u7b26\\ \\n \u6362\u884c r' code' \u5185\u90e8\u7684code\u4e0d\u4f1a\u88ab\u8f6c\u4e49 print('''1 \u00b7\u00b7\u00b7\u00b72 \u00b7\u00b7\u00b7\u00b73 \u00b7\u00b7\u00b7\u00b74''') \u8f93\u51fa\u4e3a\u56db\u884c\uff0c\u5206\u522b\u662f1,2,3,4. * list\u76f8\u5f53\u4e8ejs\u91cc\u7684\u6570\u7ec4[],\u662f\u53ef\u4ee5\u81ea\u7531\u53d8\u5316\u7684\u3002 name=['Jan','Mic','Tom'] name.append('Frank') #\u672b\u5c3e\u63d2\u5165Frank name.pop(1)#\u5220\u9664\u7b2c1\u4e2a\u5143\u7d20\uff0c\u5373\u5220\u9664Mic name.insert(0,'Jack')#\u5728\u5f00\u59cb\u4f4d\u7f6e\u63d2\u5165Jack name[-1]='Mark Pro'#\u76f4\u63a5\u901a\u8fc7\u8d4b\u503c\u5f62\u5f0f\u4fee\u6539\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u4e3aMark Pro * tuple\u76f8\u5f53\u4e8ejs\u7684\u5bf9\u8c61\uff0c\u4f46\u662ftuple\u662f\u4e0d\u53ef\u53d8\u5316\u7684\u3002 t = ('name','sex','age',['show','hiddden']) t[3][0]='hide' t[3][1]='show' \u6700\u7ec8t= ('name','sex','age',['hide','show'])` *\u5224\u65ad\u4e0e\u5faa\u73af ag = input('\u8f93\u5165\u4f60\u7684\u5e74\u9f84') age = int(ag) #\u8f6c\u6362\u7528\u6237\u8f93\u5165\u4e3a\u6574\u578b\u6570\u636e if age >= 18: print('adult') elif age > 15: print('teenger') else: print('child') \u5b57\u5178\uff08dict\uff09 d = ['\u5f20\u4e09':345,'mike':102,'Jon':102] d['\u5f20\u4e09'] #345","title":"Python\u57fa\u672c\u8bed\u6cd5"},{"location":"python-learn/%E7%AC%AC2%E8%AF%BE-Python%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#set","text":"a = (1,2,4,5,8,5,9,5,15,6,25) b = set(a) >> b {1, 2, 4, 5, 6, 8, 9, 15, 25} ##\u5728Python\u4e2d\u5b9a\u4e49\u51fd\u6570\uff0c\u53ef\u4ee5\u7528\u5fc5\u9009\u53c2\u6570\u3001\u9ed8\u8ba4\u53c2\u6570\u3001\u53ef\u53d8\u53c2\u6570\u3001\u5173\u952e\u5b57\u53c2\u6570\u548c\u547d\u540d\u5173\u952e\u5b57\u53c2\u6570\uff0c\u8fd95\u79cd\u53c2\u6570\u90fd\u53ef\u4ee5\u7ec4\u5408\u4f7f\u7528\u3002\u4f46\u662f\u8bf7\u6ce8\u610f\uff0c\u53c2\u6570\u5b9a\u4e49\u7684\u987a\u5e8f\u5fc5\u987b\u662f\uff1a\u5fc5\u9009\u53c2\u6570\u3001\u9ed8\u8ba4\u53c2\u6570\u3001\u53ef\u53d8\u53c2\u6570\u3001\u547d\u540d\u5173\u952e\u5b57\u53c2\u6570\u548c\u5173\u952e\u5b57\u53c2\u6570\u3002","title":"set()  \u81ea\u52a8\u53bb\u9664\u91cd\u590d\u548c\u6392\u5e8f\u5de5\u5177"},{"location":"python-learn/%E7%AC%AC2%E8%AF%BE-Python%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#power-n","text":"","title":"power\u51fd\u6570\uff0c\u7528\u4e8e\u8fd4\u56de\u7ed9\u5b9a\u503c\u5f97 \u6307\u5b9an\u6b21\u5e42\u3002"},{"location":"python-learn/%E7%AC%AC2%E8%AF%BE-Python%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#poweridn","text":"","title":"\u521b\u5efa\u4e00\u4e2a\u51fd\u6570power\uff0c\u5176\u4e2did\u65f6\u5fc5\u8981\u53c2\u6570\uff0cn\u662f\u53ef\u9009\u53c2\u6570\u3002"},{"location":"python-learn/%E7%AC%AC2%E8%AF%BE-Python%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#_1","text":"","title":"\u8fd4\u56de\u7684\u662f\u8be5\u503c\u5f97\u5bf9\u5e94\u6b21\u65b9\u6570\u7684\u503c\u3002"},{"location":"python-learn/%E7%AC%AC2%E8%AF%BE-Python%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#_2","text":"def power(id, n=2): s = 1 while n > 0: n = n - 1 s = s * id return s ino = int(input('\u7b2c\u4e00\u4e2a\u6570\u5b57')) n = int(input('\u6b21\u65b9\u6570')) print(power(ino, n)) # \u8fd4\u56de\u5bf9\u5e94\u6b21\u65b9\u6570 print(power(ino)) # \u8fd4\u56de\u5e73\u65b9\u6570","title":"\u9ed8\u8ba4\u53c2\u6570"},{"location":"python-learn/%E7%AC%AC2%E8%AF%BE-Python%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#_3","text":"def register(name,phone,age=7,city='China Tingdao',email=''): print(name) print('city:',city) print(email) register('zhangHUNG',1542,8,email=\"chaimol@163.com\") register('\u5f20\u4e09\u4e30',102364,city='China Wuhan',age=1230)","title":"\u51fd\u6570\u58f0\u660e\u65f6\uff0c\u53ef\u4ee5\u6307\u5b9a\u591a\u4e2a\u9ed8\u8ba4\u53c2\u6570\u3002\u8c03\u7528\u65f6\u53ef\u4ee5\u6309\u987a\u5e8f\u8f93\u5165\u6307\u5b9a\u53c2\u6570\uff0c\u4e5f\u53ef\u4ee5\u4e0d\u6309\u987a\u5e8f\uff0c\u76f4\u63a5\u6307\u5b9a\u5bf9\u5e94\u53c2\u6570\u3002"},{"location":"python-learn/%E7%AC%AC2%E8%AF%BE-Python%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#-","text":"","title":"--------\u51fd\u6570\u7684\u53c2\u6570---"},{"location":"python-learn/%E7%AC%AC2%E8%AF%BE-Python%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#-_1","text":"#\u5fc5\u987b\u53c2\u6570 def max_min(a,b,c): #\u53c2\u6570a,b,c\u4e09\u4e2a\u503c\u7f3a\u4e00\u4e0d\u53ef\u3002 return max(a,b,c) print(max_min(1,2057,504)) #\u53ef\u9009\u53c2\u6570 def info(age,birth,reg = 1): user_info = (age,birth,reg) return user_info print(info(28,1993,0)) #\u6b64\u5904\u662f\u5b8c\u6574\u8f93\u5165\u53c2\u6570 print(info(20,1587)) #\u6b64\u5904\u662f\u7f3a\u5931\u53ef\u9009\u53c2\u6570","title":"# ---\u5fc5\u9009\u53c2\u6570\u3001\u9ed8\u8ba4\u53c2\u6570\u3001\u53ef\u53d8\u53c2\u6570\u3001\u5173\u952e\u5b57\u53c2\u6570\u3001\u547d\u540d\u5173\u952e\u5b57\u53c2\u6570------------------------------"},{"location":"python-learn/%E7%AC%AC2%E8%AF%BE-Python%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#listtuple","text":"def calc(*numbers): #\u53ef\u53d8\u53c2\u6570\u8c03\u7528\u662f\u53ef\u4ee5\u7528\u591a\u79cd\u65b9\u6cd5\uff0c\u8be5\u51fd\u6570\u662f\u8fd4\u56de\u53c2\u6570\u4e2d\u6bcf\u4e2a\u503c\u7684\u5e73\u65b9\u76f8\u52a0\u7684\u548c\uff0c\u5373\u5e73\u65b9\u548c sum = 0 for id in numbers: sum = sum + id * id return sum print(calc(1,50)) nums1 = (3,4,5) print(calc(*nums1))","title":"\u53ef\u53d8\u53c2\u6570   \u5176\u5b9e\u8d28\u662f\u4f20\u7684\u4e00\u4e2alist\u6216\u8005tuple"},{"location":"python-learn/%E7%AC%AC2%E8%AF%BE-Python%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#dictionary","text":"def person(name,age,**kw): print(name,'age',age,'other',kw) person('Jon',32) person('frank',25,Tname='kangkang Wang',sex='male') extra = {'city': 'Beijing', 'job': 'Engineer'} person('demon',32,**extra)","title":"\u5173\u952e\u5b57\u53c2\u6570  (\u5173\u952e\u5b57\u53c2\u6570\uff0c\u5b9e\u8d28\u662f\u4e00\u4e2adictionary\uff0c\u53ef\u4ee5\u4e0d\u65ad\u7684\u6269\u5145\u5185\u5bb9)"},{"location":"python-learn/%E7%AC%AC2%E8%AF%BE-Python%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#_4","text":"def person0(name,age,*,city='Hangzhou',email='',sex=0,weight,height=0): # *\u7b26\u53f7\u540e\u9762\u7684\u53c2\u6570\u662f\u547d\u540d\u5173\u952e\u5b57\uff0c\u540e\u7eed\u7684\u53c2\u6570\u53ea\u80fd\u662f\u547d\u540d\u7684\u51e0\u4e2a\u5173\u952e\u5b57\uff0c # \u975e\u547d\u540d\u7684\u5173\u952e\u5b57\u7684\u53c2\u6570\u65e0\u6cd5\u8f93\u5165,\u4e14\u547d\u540d\u5173\u952e\u5b57\u7684\u53c2\u6570\u5fc5\u987b\u4f20\u5165\u53c2\u6570\u540d\uff0c\u5426\u5219\u62a5\u9519\u3002 print('other\u53c2\u6570',weight,height) person0('demvri',50,weight=86,height=180) person0('Mick',18,city='ZhengZhou',weight=80) #\u6ce8\u610f","title":"\u547d\u540d\u5173\u952e\u5b57\u53c2\u6570\uff0c"},{"location":"python-learn/%E7%AC%AC3%E8%AF%BE-python3-X-%E4%BD%9C%E7%94%A8%E5%9F%9F%E5%92%8C%E4%BC%A0%E5%8F%82%E3%80%81%E5%87%BD%E6%95%B0/","text":"python\u4e2d\u4f20\u53c2\u5206\u4e3a\u4e0d\u53ef\u53d8\u4f20\u9012\u548c\u5f15\u7528\uff08\u53ef\u53d8\uff09\u4f20\u9012\u3002 \u53ef\u53d8\u4f20\u9012(\u5217\u8868\u548c\u5b57\u5178)\uff1a\u5373\u4f20\u9012\u7684\u662f\u771f\u5b9e\u7684\u53d8\u91cf\u7684\u503c\uff0c\u6539\u53d8\u4f20\u9012\u8fc7\u6765\u7684\u503c\uff0c\u5373\u66f4\u6539\u4e86\u539f\u6765\u4f4d\u7f6e\u7684\u503c\u3002 \u4e0d\u53ef\u53d8\u4f20\u9012\uff08 \u6574\u6570\u3001\u5b57\u7b26\u4e32\u3001\u5143\u7ec4\uff09\uff1a a = 1 a = 10 #\u8fd9\u79cd\u662f\u4e0d\u53ef\u53d8\u4f20\u9012\u76f4\u63a5\u91cd\u5199a\u7684\u503c\u3002 b = [502, 2 , 5 ] b[1] = 100 \u8fd9\u79cd\u662f\u53ef\u53d8\u4f20\u9012\u3002 '''\u6b64\u65f6b\u53d8\u4e3a[502,2,5]''' \u51fd\u6570\u58f0\u660e\u5206\u4e3a\u663e\u5f0f\u58f0\u660e\u548c\u533f\u540d\u51fd\u6570 \u6807\u51c6\u51fd\u6570\u58f0\u660edef ``` def SendEmail(adress, cont): return adress print(SendEmail(\"chaimol@163.com\")) # cont\u662f\u4e00\u4e2a\u4e0d\u5b9a\u957f\u7684\u53c2\u6570\u3002\u53ef\u4ee5\u901a\u8fc7cont[i]\u8bbf\u95ee\u7b2ci\u4e2a\u503c\u3002 \u533f\u540d\u51fd\u6570lambda ``` sum = lambda arg1, arg2: arg1 + arg2 print(sum(15,20)) \u4f5c\u7528\u57df L \uff08Local\uff09 \u5c40\u90e8\u4f5c\u7528\u57df E \uff08Enclosing\uff09 \u95ed\u5305\u51fd\u6570\u5916\u7684\u51fd\u6570\u4e2d G \uff08Global\uff09 \u5168\u5c40\u4f5c\u7528\u57df B \uff08Built-in\uff09 \u5185\u5efa\u4f5c\u7528\u57df \u4ee5 L \u2013> E \u2013> G \u2013>B \u7684\u89c4\u5219\u67e5\u627e python\u53ea\u6709\u6a21\u5757\uff08module\uff09\uff0c\u7c7b\uff08class\uff09\u4ee5\u53ca\u51fd\u6570\uff08def\u3001lambda\uff09\u624d\u4f1a\u5f15\u5165\u65b0\u7684\u4f5c\u7528\u57df\uff0c\u5176\u5b83\u7684\u4ee3\u7801\u5757\uff08\u5982 if/elif/else/\u3001try/except\u3001for/while\u7b49\uff09\u662f\u4e0d\u4f1a\u5f15\u5165\u65b0\u7684\u4f5c\u7528\u57df\u7684\u3002","title":"\u7b2c3\u8bfe python3 X \u4f5c\u7528\u57df\u548c\u4f20\u53c2\u3001\u51fd\u6570"},{"location":"python-learn/%E7%AC%AC3%E8%AF%BE-python3-X-%E4%BD%9C%E7%94%A8%E5%9F%9F%E5%92%8C%E4%BC%A0%E5%8F%82%E3%80%81%E5%87%BD%E6%95%B0/#_1","text":"'''\u6b64\u65f6b\u53d8\u4e3a[502,2,5]''' \u51fd\u6570\u58f0\u660e\u5206\u4e3a\u663e\u5f0f\u58f0\u660e\u548c\u533f\u540d\u51fd\u6570 \u6807\u51c6\u51fd\u6570\u58f0\u660edef ``` def SendEmail(adress, cont): return adress print(SendEmail(\"chaimol@163.com\")) # cont\u662f\u4e00\u4e2a\u4e0d\u5b9a\u957f\u7684\u53c2\u6570\u3002\u53ef\u4ee5\u901a\u8fc7cont[i]\u8bbf\u95ee\u7b2ci\u4e2a\u503c\u3002 \u533f\u540d\u51fd\u6570lambda ``` sum = lambda arg1, arg2: arg1 + arg2 print(sum(15,20)) \u4f5c\u7528\u57df L \uff08Local\uff09 \u5c40\u90e8\u4f5c\u7528\u57df E \uff08Enclosing\uff09 \u95ed\u5305\u51fd\u6570\u5916\u7684\u51fd\u6570\u4e2d G \uff08Global\uff09 \u5168\u5c40\u4f5c\u7528\u57df B \uff08Built-in\uff09 \u5185\u5efa\u4f5c\u7528\u57df \u4ee5 L \u2013> E \u2013> G \u2013>B \u7684\u89c4\u5219\u67e5\u627e python\u53ea\u6709\u6a21\u5757\uff08module\uff09\uff0c\u7c7b\uff08class\uff09\u4ee5\u53ca\u51fd\u6570\uff08def\u3001lambda\uff09\u624d\u4f1a\u5f15\u5165\u65b0\u7684\u4f5c\u7528\u57df\uff0c\u5176\u5b83\u7684\u4ee3\u7801\u5757\uff08\u5982 if/elif/else/\u3001try/except\u3001for/while\u7b49\uff09\u662f\u4e0d\u4f1a\u5f15\u5165\u65b0\u7684\u4f5c\u7528\u57df\u7684\u3002","title":"\u8fd9\u79cd\u662f\u53ef\u53d8\u4f20\u9012\u3002"},{"location":"python-learn/%E7%AC%AC4%E8%AF%BE--%E6%96%87%E4%BB%B6%E8%AF%BB%E5%86%99%EF%BC%8C%E6%95%B0%E6%8D%AEI-O/","text":"","title":"\u7b2c4\u8bfe  \u6587\u4ef6\u8bfb\u5199\uff0c\u6570\u636eI O"},{"location":"single-cell/%E4%B8%89%E4%BB%A3%E6%B5%8B%E5%BA%8F%E6%8A%80%E6%9C%AF%E6%80%BB%E7%BB%93/","text":"\u7b2c\u4e09\u4ee3\u57fa\u56e0\u6d4b\u5e8f\u6280\u672f\u53c8\u88ab\u4e3a\u201cSingle Molecule Real Time (SMRT\u2122) DNA Sequencing\u201d\uff08\u5355\u5206\u5b50\u5b9e\u65f6DNA\u6d4b\u5e8f\u6280\u672f\uff09 \u76ee\u524d\u7684\u4e09\u4ee3\u6d4b\u5e8f\u5206\u4e3a\uff1a10XGenomics (Illumination\u516c\u53f8\u7684\u6280\u672f)\uff0cPacBio-SMRT \u548cNanopore sequencing \u6280\u672f\u7f3a\u9677\uff1a - \uff08\u57fa\u4e8e\u4e8c\u4ee3\u7684\u6539\u8fdb\uff0c\u4e25\u683c\u8bf4\u8fd8\u662f\u4e8c\u4ee3\uff0910XGenomics \u53d7GC\u542b\u91cf\u5f71\u54cd\u6bd4\u8f83\u5927\u3002\u9ad8GC\u65f6\u5019\uff0c\u8986\u76d6\u7387\u4f1a\u6709\u504f\u5411\u6027\u3002 - PacBio-SMRT \u9519\u8bef\u7387\u6bd4\u8f83\u9ad8\uff0c\u80fd\u8fbe\u523014%\uff0c\u53ef\u4ee5\u901a\u8fc7\u591a\u6b21\u6d4b\u5e8f\u6765\u7ea0\u9519\u3002\u4e0d\u8fc7\u6d4b\u5e8f\u9519\u8bef\uff0c\u6ca1\u6709\u504f\u5411\u6027\uff0c\u662f\u968f\u673a\u4ea7\u751f\u7684\u3002 - Nanopore \u53ef\u4ee5\u76f4\u63a5\u6d4b\u5e8fDNA\u548cRNA,\u8bfb\u957f\u6bd4\u8f83\u957f\uff0c\u4fbf\u643a\uff0c\u9519\u8bef\u7387\u548cPacBio\u5dee\u4e0d\u591a\u3002 \u76ee\u524d\u6bd4\u8f83\u706b\u7684\u5355\u7ec6\u80de\u8f6c\u5f55\u7ec4\u6d4b\u5e8f\u5206\u4e3a\uff1aSmart-seq 2\u548c10XGenomics \u4e09\u4ee3\u6d4b\u5e8f\u7684\u5e94\u7528\uff1a DNA\u8d28\u91cf\u8981\u6c42 \u5fc5\u987b\u4e3a\u53cc\u94feDNA\uff08dsDNA\uff09 \u907f\u514d\u53cd\u590d\u51bb\u6eb6\uff0c\u672a\u7ecf\u9ad8\u6e29\u5904\u7406\uff08>65\u00b0C\uff09 DNA\u4fdd\u5b58\u6eb6\u6db2pH\u57286-9\u4e4b\u95f4\uff0c\u5efa\u8bae\u4fdd\u5b58\u4e8e\u5f31\u9178\u6027\u6362\u73af\u5883\uff1b OD260/280 \u5728 1.8~2.0\u3001OD260/230\u57282.0~2.2\u4e4b\u95f4 \u6f84\u6e05\u65e0\u8272\uff0c\u65e0\u4e0d\u6eb6\u7269\uff1b \u65e0RNA\u7684\u6c61\u67d3\uff1b DNA\u672a\u63a5\u89e6\u8fc7\u7d2b\u5916\u3001\u8367\u5149\u71c3\u6599\u7b49\u53ef\u80fd\u635f\u4f24DNA \u7684\u73af\u5883\u548c\u7269\u8d28 \u4e0d\u542b\u87af\u5408\u5242\uff08\u5982EDTA\uff09\u3001\u4e8c\u4ef7\u91d1\u5c5e\u9633\u79bb\u5b50\uff08\u5982Mg2+\uff09\u3001\u53d8\u6027\u5242\uff08\u5982\u80cd\u76d0\uff0c\u82ef\u915a\uff09\u3001\u53bb\u6c61\u5242\uff08\u5982SDS\u3001Triton-X100\u3001CTAB\uff09 DNA\u7535\u6cf3\u6761\u5e26\u5355\u4e00\uff0c\u6761\u5e26\u957f\u5ea6\u226523kb\uff0c\u65e0\u660e\u663e\u964d\u89e3 Qubit \u6d53\u5ea6: Nanodrop \u6d53\u5ea6\u22650.5\uff08\u6700\u597d\u63a5\u8fd1 1\uff09 RNA\u8d28\u91cf\u8981\u6c42 \u6d53\u5ea6>300ng/ul \u5b8c\u6574\u6027\uff1aRIN\u503c\u22658.0\uff1b28S/18S>1\uff1b\u57fa\u7ebf\u65e0\u4e0a\u62ac\u6216\u8f7b\u5fae\u4e0a\u62ac\uff1b5S\u5cf0\u6b63\u5e38\uff1b \u7eaf\u5ea6\uff1a1.7 <OD260/280<2.2\uff1bOD260/230>0.5\uff1b260\u5438\u6536\u5cf0\u6b63\u5e38\u4e0d\u504f\u79fb; \u6837\u54c1\u72b6\u6001\uff1a\u9001\u6837\u7c98\u7a20\u3001\u989c\u8272\u5f02\u5e38\u3001\u6709\u6d51\u6d4a\u6216\u4e0d\u6eb6\u7269\u5747\u4e0d\u5408\u683c\uff1b \u7535\u6cf3\uff1a\u65e0\u57fa\u56e0\u7ec4\u6c61\u67d3\uff1b \u6837\u54c1\u8fd0\u9001\u524d\u4fdd\u5b58\u5728-80\u2103\u51b0\u7bb1\uff1b \u6d4b\u5e8f\u5e94\u7528 \uff081\uff09\u5168\u57fa\u56e0\u7ec4denovo\u6d4b\u5e8f \uff082\uff09\u57fa\u56e0\u7ec4\u8349\u56fe\u7684\u4f18\u5316\u6216\u57fa\u56e0\u7ec4\u5b8c\u6210\u56fe\u7ed8\u5236 \uff083\uff09\u5168\u957f\u8f6c\u5f55\u672c\u6d4b\u5e8f \uff084\uff09\u5b8f\u57fa\u56e0\u7ec4\u6d4b\u5e8f \uff085\uff0916SrDNA\u5168\u957f\u6d4b\u5e8f \uff086\uff09\u7ec6\u80de\u5668\u57fa\u56e0\u7ec4\u6d4b\u5e8f \uff087\uff09\u5168\u57fa\u56e0\u7ec4\u91cd\u6d4b\u5e8f&\u7a00\u6709\u53d8\u5f02\u9274\u5b9a \uff088\uff09\u8868\u89c2\u9057\u4f20\u5b66 \u53c2\u8003\uff1ahttps://blog.csdn.net/yangl7/article/details/108517129","title":"\u4e09\u4ee3\u6d4b\u5e8f\u6280\u672f\u603b\u7ed3"},{"location":"single-cell/%E4%B8%89%E4%BB%A3%E6%B5%8B%E5%BA%8F%E6%8A%80%E6%9C%AF%E6%80%BB%E7%BB%93/#_1","text":"DNA\u8d28\u91cf\u8981\u6c42 \u5fc5\u987b\u4e3a\u53cc\u94feDNA\uff08dsDNA\uff09 \u907f\u514d\u53cd\u590d\u51bb\u6eb6\uff0c\u672a\u7ecf\u9ad8\u6e29\u5904\u7406\uff08>65\u00b0C\uff09 DNA\u4fdd\u5b58\u6eb6\u6db2pH\u57286-9\u4e4b\u95f4\uff0c\u5efa\u8bae\u4fdd\u5b58\u4e8e\u5f31\u9178\u6027\u6362\u73af\u5883\uff1b OD260/280 \u5728 1.8~2.0\u3001OD260/230\u57282.0~2.2\u4e4b\u95f4 \u6f84\u6e05\u65e0\u8272\uff0c\u65e0\u4e0d\u6eb6\u7269\uff1b \u65e0RNA\u7684\u6c61\u67d3\uff1b DNA\u672a\u63a5\u89e6\u8fc7\u7d2b\u5916\u3001\u8367\u5149\u71c3\u6599\u7b49\u53ef\u80fd\u635f\u4f24DNA \u7684\u73af\u5883\u548c\u7269\u8d28 \u4e0d\u542b\u87af\u5408\u5242\uff08\u5982EDTA\uff09\u3001\u4e8c\u4ef7\u91d1\u5c5e\u9633\u79bb\u5b50\uff08\u5982Mg2+\uff09\u3001\u53d8\u6027\u5242\uff08\u5982\u80cd\u76d0\uff0c\u82ef\u915a\uff09\u3001\u53bb\u6c61\u5242\uff08\u5982SDS\u3001Triton-X100\u3001CTAB\uff09 DNA\u7535\u6cf3\u6761\u5e26\u5355\u4e00\uff0c\u6761\u5e26\u957f\u5ea6\u226523kb\uff0c\u65e0\u660e\u663e\u964d\u89e3 Qubit \u6d53\u5ea6: Nanodrop \u6d53\u5ea6\u22650.5\uff08\u6700\u597d\u63a5\u8fd1 1\uff09 RNA\u8d28\u91cf\u8981\u6c42 \u6d53\u5ea6>300ng/ul \u5b8c\u6574\u6027\uff1aRIN\u503c\u22658.0\uff1b28S/18S>1\uff1b\u57fa\u7ebf\u65e0\u4e0a\u62ac\u6216\u8f7b\u5fae\u4e0a\u62ac\uff1b5S\u5cf0\u6b63\u5e38\uff1b \u7eaf\u5ea6\uff1a1.7 <OD260/280<2.2\uff1bOD260/230>0.5\uff1b260\u5438\u6536\u5cf0\u6b63\u5e38\u4e0d\u504f\u79fb; \u6837\u54c1\u72b6\u6001\uff1a\u9001\u6837\u7c98\u7a20\u3001\u989c\u8272\u5f02\u5e38\u3001\u6709\u6d51\u6d4a\u6216\u4e0d\u6eb6\u7269\u5747\u4e0d\u5408\u683c\uff1b \u7535\u6cf3\uff1a\u65e0\u57fa\u56e0\u7ec4\u6c61\u67d3\uff1b \u6837\u54c1\u8fd0\u9001\u524d\u4fdd\u5b58\u5728-80\u2103\u51b0\u7bb1\uff1b \u6d4b\u5e8f\u5e94\u7528 \uff081\uff09\u5168\u57fa\u56e0\u7ec4denovo\u6d4b\u5e8f \uff082\uff09\u57fa\u56e0\u7ec4\u8349\u56fe\u7684\u4f18\u5316\u6216\u57fa\u56e0\u7ec4\u5b8c\u6210\u56fe\u7ed8\u5236 \uff083\uff09\u5168\u957f\u8f6c\u5f55\u672c\u6d4b\u5e8f \uff084\uff09\u5b8f\u57fa\u56e0\u7ec4\u6d4b\u5e8f \uff085\uff0916SrDNA\u5168\u957f\u6d4b\u5e8f \uff086\uff09\u7ec6\u80de\u5668\u57fa\u56e0\u7ec4\u6d4b\u5e8f \uff087\uff09\u5168\u57fa\u56e0\u7ec4\u91cd\u6d4b\u5e8f&\u7a00\u6709\u53d8\u5f02\u9274\u5b9a \uff088\uff09\u8868\u89c2\u9057\u4f20\u5b66 \u53c2\u8003\uff1ahttps://blog.csdn.net/yangl7/article/details/108517129","title":"\u4e09\u4ee3\u6d4b\u5e8f\u7684\u5e94\u7528\uff1a"},{"location":"single-cell/%E5%8D%95%E7%BB%86%E8%83%9E%E5%AD%A6%E4%B9%A01-Seurat-V3-2%E7%89%88%E6%9C%AC%E5%AE%98%E7%BD%9110xGenomics%E6%95%99%E7%A8%8B/","text":"\u4e0a\u6e38\u6570\u636e\u4e0b\u8f7d\u5730\u5740 https://cf.10xgenomics.com/samples/cell/pbmc3k/pbmc3k_filtered_gene_bc_matrices.tar.gz \u4e0b\u8f7d\u540e\uff0c\u89e3\u538b\u91cc\u9762\u6709\u4e2ahg19\u6587\u4ef6\u5939\u3002 \u653e\u5728E:/cm/R/scRNA-seq\u8fd9\u4e2a\u76ee\u5f55\uff08\u4e5f\u662f\u7a0b\u5e8f\u8fd0\u884c\u76ee\u5f55\uff09\u91cc\u3002\u540c\u65f6\u65b0\u5efa\u4e00\u4e2aoutput\u6587\u4ef6\u5939\uff0c\u7528\u4e8e\u4fdd\u5b58\u4e2d\u95f4\u6570\u636e\u3002\u4ea7\u51fa\u7684\u56fe\u7247\u4e5f\u4fdd\u5b58\u5728\u8fd0\u884c\u76ee\u5f55\u4e0b\u3002 \u5b98\u7f51\u5730\u5740 \u5982\u679c\u4f60\u65e0\u6cd5\u8bbf\u95ee\u5b98\u7f51\uff0c\u539f\u56e0\u53ea\u53ef\u80fd\u662f404. 2020.08.10 \u7f16\u5199\uff1abugs\uff1aSeurat\u5305\u7684pheatmap\u5305\u53ef\u80fd\u6709\u95ee\u9898\uff0c\u4f7f\u7528ggsave\u65e0\u6cd5\u83b7\u53d6\u5230\u753b\u56fe\u7684\u56fe\u5c42\uff0c \u539f\u56e0\u4e0d\u660e \u3002\u6240\u4ee5\u6240\u6709\u70ed\u56fe\u90fd\u9700\u8981\u624b\u52a8\u4fdd\u5b58\u3002 rm(list = ls()) library(BiocManager) ####\u5355\u7ec6\u80de\u6d4b\u5e8f\u5206\u6790\u5305Seurat #install.packages('Seurat') library(Seurat) #Seurat\u9700\u8981python\uff0c\u672c\u5730\u4e00\u5b9a\u8981\u5b89\u88c5\u914d\u7f6epython,\u4e0d\u7136\u4f1a\u63d0\u9192\u4f60\u5b89\u88c5conda. # \u67e5\u770bSeurat\u5305\u7684\u7248\u672c\u4fe1\u606f packageVersion(\"Seurat\") #\u7b2c\u4e00\u6b21\u8fd0\u884c\uff0c\u9700\u8981\u5b89\u88c5hdf5r\u8fd9\u4e2a\u5305 #install.packages(\"hdf5r\") library(hdf5r) library(ggplot2) library(patchwork) library(dplyr) setwd('E:/cm/R/scRNA-seq/') # Load the PBMC dataset pbmc.data <- Read10X(data.dir = \"./hg19/\") # Initialize the Seurat object with the raw (non-normalized data). pbmc <- CreateSeuratObject(counts = pbmc.data, project = \"pbmc3k\", min.cells = 3, min.features = 200) pbmc \u6807\u51c6\u7684\u9884\u5904\u7406\u6d41\u7a0b \u8d28\u63a7\u548c\u9009\u62e9\u7ec6\u80de\u8fdb\u884c\u8fdb\u4e00\u6b65\u5206\u6790 The [[ operator can add columns to object metadata. This is a great place to stash QC stats \u63d0\u53d6\u4ee5MT\u5f00\u5934\u7684\uff0c\u7ebf\u7c92\u4f53\u7684\u57fa\u56e0 pbmc[[\"percent.mt\"]] <- PercentageFeatureSet(pbmc, pattern = \"^MT-\") ##### Visualize QC metrics as a violin plot VlnPlot(pbmc, features = c(\"nFeature_RNA\", \"nCount_RNA\", \"percent.mt\"), ncol = 3) ggsave(\"QC1.feature count.png\",width=8,height = 5) # FeatureScatter is typically used to visualize feature-feature relationships, but can be used #for anything calculated by the object, i.e. columns in object metadata, PC scores etc. plot1 <- FeatureScatter(pbmc, feature1 = \"nCount_RNA\", feature2 = \"percent.mt\") plot2 <- FeatureScatter(pbmc, feature1 = \"nCount_RNA\", feature2 = \"nFeature_RNA\") plot1 + plot2 ggsave(\"Qc2.png\",width=8,height = 5) #\u6839\u636e\u4e0a\u9762\u7684\u4e24\u4e2a\u56fe\uff0c\u8bbe\u7f6e\u8fc7\u6ee4\u53c2\u6570\u5bf9nFeature_RNA\u548cpercent.mt\u8fdb\u884c\u8fc7\u6ee4 pbmc <- subset(pbmc, subset = nFeature_RNA > 200 & nFeature_RNA < 2500 & percent.mt < 5) \u5f52\u4e00\u5316\u6570\u636e #pbmc <- NormalizeData(pbmc, normalization.method = \"LogNormalize\", scale.factor = 10000) pbmc <- NormalizeData(pbmc) #\u9ed8\u8ba4\u53c2\u6570\u7b49\u4ef7\u4e8e\u4e0a\u9762\u7684\u53c2\u6570\u8bbe\u5b9a #\u8bc6\u522b\u9ad8\u5ea6\u53ef\u53d8\u7684\u7279\u5f81\uff08\u7279\u5f81\u9009\u62e9\uff09 `pbmc <- FindVariableFeatures(pbmc, selection.method = \"vst\", nfeatures = 2000)` # Identify the 10 most highly variable genes top10 <- head(VariableFeatures(pbmc), 10) # plot variable features with and without labels plot1 <- VariableFeaturePlot(pbmc) ##variant\u53ef\u89c6\u5316\uff0c\uff0c\u540c\u65f6\u7ed9\u524d\u5341\u4e2a\u6dfb\u52a0\u6807\u7b7e plot2 <- LabelPoints(plot = plot1, points = top10, repel = TRUE) plot1 + plot2 plot2 ggsave(\"3.standstardizedVariance.png\",width=7,height = 6) \u6570\u636e\u7f29\u653e\uff0c\u4f7f\u6240\u6709\u53d8\u5316\u7684\u7ec6\u80de\u8bbe\u7f6e\u4e3a1 all.genes <- rownames(pbmc) pbmc <- ScaleData(pbmc, features = all.genes) #pbmc[[\"RNA\"]]@scale.data ##PCA pbmc <- RunPCA(pbmc, features = VariableFeatures(object = pbmc)) \u67e5\u770b\u524d5\u4e2adimensions\uff0c\u6bcf\u4e2a\u53d65\u4e2afeature print(pbmc[[\"pca\"]], dims = 1:5, nfeatures = 5) \u53ef\u4ee5\u67e5\u770b\u6240\u6709\u7684dimensions\u7684\u6570\u91cf pbmc[[\"pca\"]] \u53ef\u89c6\u5316pca\u7684\u7ed3\u679c ##\u6563\u70b9\u56fe\u53ef\u89c6\u5316\u524d2\u4e2adimensions VizDimLoadings(pbmc, dims = 1:2, reduction = \"pca\") ggsave(\"4.PCA-1.png\") ##\u6563\u70b9\u53ef\u89c6\u53162\u4e2adimensions DimPlot(pbmc,dims = 2:3,reduction = \"pca\") ggsave(\"4.PCA-2.png\") ##\u70ed\u56fe\u53ef\u89c6\u5316\u4e0d\u540c\u6570\u91cf\u7684\u7ec6\u80de\u7684\u4e0d\u540cdimension\u7684\u5206\u5e03 ####Dimheatmap\u751f\u6210\u7684\u56fe\u7247\u5728R\u4e2d\uff0c\u7528ggsave\u6216\u8005jpeg\u65e0\u6cd5\u83b7\u53d6\u5230\u7ed8\u56fe\u5c42 DimHeatmap(pbmc, dims = 1, cells = 500, balanced = TRUE) #ggsave(\"4.PCA-3.png\",plot=last_plot()) DimHeatmap(pbmc,dims = 2,cells = 1000,balanced = TRUE) DimHeatmap(pbmc,dims = 1:20,cells = 500,balanced = TRUE) #ggsave(\"4.PCA-4.png\") \u786e\u5b9a\u6570\u636e\u96c6\u7684\u7ef4\u6570\uff08\u8017\u8d39\u65f6\u95f4\u8f83\u957f\uff09 NOTE: This process can take a long time for big datasets, comment out for expediency. More approximate techniques such as those implemented in ElbowPlot() can be used to reduce computation time pbmc <- JackStraw(pbmc, num.replicate = 100) pbmc <- ScoreJackStraw(pbmc, dims = 1:20) JackStrawPlot(pbmc, dims = 1:20) ggsave(\"5.JackStrawPlot.png\") ElbowPlot(pbmc) ggsave(\"6.ElbowPlot.png\") \u7efc\u54084\uff0c5\uff0c6\u4e09\u4e2a\u90e8\u5206\u7684\u7ed3\u679c\u5bf9\u6bd4\u5206\u6790\uff0c\u8fdb\u884cPCs\u7684\u9009\u62e9\uff0c\u6839\u636e4\u53ef\u4ee5\u770b\u51fa\uff0c\u5728PC12\u6709\u4e00\u4e2a\u660e\u663e\u7684\u5206\u754c\uff0c\u6839\u636e5\u770b\u51fa\u5728PC7\u6709\u4e00\u4e2a\u660e\u663e\u7684\u5206\u754c. \u6839\u636e6\u53ef\u4ee5\u770b\u51fa\u572810\u6709\u4e00\u4e2a\u660e\u663e\u7684\u5206\u754c,\u4e00\u822c\u60c5\u51b5\u5efa\u8bae\u5c3d\u91cf\u9009\u62e9\u8f83\u5927\u7684PCs\u503c\uff0c\u8fd9\u6279\u6570\u636e\u9009\u62e97-12\u90fd\u5408\u9002\uff0c\u6211\u4eec\u9009\u62e910. #\u7ec6\u80de\u805a\u7c7bcluster cells pbmc <- FindNeighbors(pbmc, dims = 1:10) ##\u6b64\u5904\u8bbe\u7f6e\u7684dims=1\uff1a10,\u5c31\u662f\u6839\u636e\u4e0a\u9762\u7684\u7ed3\u679c\u9009\u62e9\u768410. pbmc <- FindClusters(pbmc, resolution = 0.5) ##\u8bbe\u7f6e\u4e3a0.4-1.2\u4e4b\u95f4\uff0c head(Idents(pbmc), 5) #\u8fd0\u884c\u975e\u7ebf\u6027\u964d\u7ef4\uff08UMAP / tSNE\uff09 # If you haven't installed UMAP, you can do so via reticulate::py_install(packages = # 'umap-learn') pbmc <- RunUMAP(pbmc, dims = 1:10) # note that you can set `label = TRUE` or use the LabelClusters function to help label # individual clusters DimPlot(pbmc, reduction = \"umap\") #\u53ef\u89c6\u5316\u9009\u62e9\u7684PCs\u7684\u5206\u5e03\uff08\u6563\u70b9\u56fe\uff09 DimPlot(pbmc, reduction = \"umap\",label = TRUE) ggsave(\"7.UMAP.png\") saveRDS(pbmc, file = \"./output/pbmc_tutorial.rds\") ##\u4f7f\u7528tSNE\u8fdb\u884c\u964d\u7ef4 pbmc2 <- RunTSNE(pbmc,dims=1:10) DimPlot(pbmc2,reduction = \"tsne\",label=TRUE) ggsave(\"7.tSNE.png\") #\u67e5\u627e\u5dee\u5f02\u8868\u8fbe\u7684\u57fa\u56e0\uff08\u96c6\u7fa4\u751f\u7269\u6807\u8bb0\uff09 # find all markers of cluster 1 cluster1.markers <- FindMarkers(pbmc, ident.1 = 1, min.pct = 0.25) head(cluster1.markers, n = 5) # find markers for every cluster compared to all remaining cells, report only the positive ones pbmc.markers <- FindAllMarkers(pbmc, only.pos = TRUE, min.pct = 0.25, logfc.threshold = 0.25) pbmc.markers %>% group_by(cluster) %>% top_n(n = 2, wt = avg_logFC) cluster1.markers <- FindMarkers(pbmc, ident.1 = 0, logfc.threshold = 0.25, test.use = \"roc\", only.pos = TRUE) VlnPlot(pbmc, features = c(\"MS4A1\", \"CD79A\",\"CCR7\")) ggsave(\"8.vlnplot_1.png\") ##\u76f8\u5f53\u4e8eGSEA\u7684\u53ef\u89c6\u5316\u7ec6\u80de\u7fa4\u7684\u5206\u5e03 RidgePlot(pbmc,features = c(\"MS4A1\",\"GNLY\",\"CD3E\")) ggsave(\"8.RidgePlot.png\") ##\u70b9\u72b6\u56fe\u53ef\u89c6\u5316\uff0c\u7279\u5b9a\u7ec6\u80de\u7fa4 DotPlot(pbmc,features = c(\"MS4A1\",\"CD3E\",\"LYZ\",\"CD8A\",\"PPBP\",\"GNLY\")) ggsave(\"8.dotplot.png\") # you can plot raw counts as well VlnPlot(pbmc, features = c(\"NKG7\", \"PF4\"), slot = \"counts\", log = TRUE) FeaturePlot(pbmc, features = c(\"MS4A1\", \"GNLY\", \"CD3E\", \"CD14\", \"FCER1A\", \"FCGR3A\", \"LYZ\", \"PPBP\",\"CD8A\")) ggsave(\"8.FeaturePlot_2.png\") ##\u7ed8\u5236\u70ed\u56fe\u524d10\u4e2aPCs,\u5c55\u793a\u524d20\u4e2a\u57fa\u56e0\uff0c\u5982\u679c\u5c11\u4e8e20\u4e2a\u5219\u5c55\u793a\u6240\u6709 top10 <- pbmc.markers %>% group_by(cluster) %>% top_n(n = 10, wt = avg_logFC) DoHeatmap(pbmc, features = top10$gene) + NoLegend() #ggsave(\"8.Dopheatmap.png\") (\u53ef\u80fd\u8ddf\u4f7f\u7528\u7684pheatmap\u5305\u6709\u5173\uff0c\u4ecd\u7136\u65e0\u6cd5\u6b63\u5e38\u5bfc\u51fa\u56fe\u7247) ##\u4e0e\u5df2\u77e5\u7684\u7ec6\u80de\u7c7b\u578b\u76f8\u5339\u914d new.cluster.ids <- c(\"Naive CD4 T\", \"Memory CD4 T\", \"CD14+ Mono\", \"B\", \"CD8 T\", \"FCGR3A+ Mono\", \"NK\", \"DC\", \"Platelet\") names(new.cluster.ids) <- levels(pbmc) pbmc <- RenameIdents(pbmc, new.cluster.ids) DimPlot(pbmc, reduction = \"umap\", label = TRUE, pt.size = 0.5) + NoLegend() ggsave(\"9.Dimplot.png\") saveRDS(pbmc, file = \"./output/pbmc3k_final.rds\")","title":"\u5355\u7ec6\u80de\u5b66\u4e601 Seurat V3 2\u7248\u672c\u5b98\u7f5110xGenomics\u6559\u7a0b"},{"location":"single-cell/%E5%8D%95%E7%BB%86%E8%83%9E%E5%AD%A6%E4%B9%A01-Seurat-V3-2%E7%89%88%E6%9C%AC%E5%AE%98%E7%BD%9110xGenomics%E6%95%99%E7%A8%8B/#_1","text":"","title":"\u6807\u51c6\u7684\u9884\u5904\u7406\u6d41\u7a0b"},{"location":"single-cell/%E5%8D%95%E7%BB%86%E8%83%9E%E5%AD%A6%E4%B9%A01-Seurat-V3-2%E7%89%88%E6%9C%AC%E5%AE%98%E7%BD%9110xGenomics%E6%95%99%E7%A8%8B/#_2","text":"The [[ operator can add columns to object metadata. This is a great place to stash QC stats","title":"\u8d28\u63a7\u548c\u9009\u62e9\u7ec6\u80de\u8fdb\u884c\u8fdb\u4e00\u6b65\u5206\u6790"},{"location":"single-cell/%E5%8D%95%E7%BB%86%E8%83%9E%E5%AD%A6%E4%B9%A01-Seurat-V3-2%E7%89%88%E6%9C%AC%E5%AE%98%E7%BD%9110xGenomics%E6%95%99%E7%A8%8B/#mt","text":"pbmc[[\"percent.mt\"]] <- PercentageFeatureSet(pbmc, pattern = \"^MT-\") ##### Visualize QC metrics as a violin plot VlnPlot(pbmc, features = c(\"nFeature_RNA\", \"nCount_RNA\", \"percent.mt\"), ncol = 3) ggsave(\"QC1.feature count.png\",width=8,height = 5) # FeatureScatter is typically used to visualize feature-feature relationships, but can be used #for anything calculated by the object, i.e. columns in object metadata, PC scores etc. plot1 <- FeatureScatter(pbmc, feature1 = \"nCount_RNA\", feature2 = \"percent.mt\") plot2 <- FeatureScatter(pbmc, feature1 = \"nCount_RNA\", feature2 = \"nFeature_RNA\") plot1 + plot2 ggsave(\"Qc2.png\",width=8,height = 5) #\u6839\u636e\u4e0a\u9762\u7684\u4e24\u4e2a\u56fe\uff0c\u8bbe\u7f6e\u8fc7\u6ee4\u53c2\u6570\u5bf9nFeature_RNA\u548cpercent.mt\u8fdb\u884c\u8fc7\u6ee4 pbmc <- subset(pbmc, subset = nFeature_RNA > 200 & nFeature_RNA < 2500 & percent.mt < 5)","title":"\u63d0\u53d6\u4ee5MT\u5f00\u5934\u7684\uff0c\u7ebf\u7c92\u4f53\u7684\u57fa\u56e0"},{"location":"single-cell/%E5%8D%95%E7%BB%86%E8%83%9E%E5%AD%A6%E4%B9%A01-Seurat-V3-2%E7%89%88%E6%9C%AC%E5%AE%98%E7%BD%9110xGenomics%E6%95%99%E7%A8%8B/#_3","text":"#pbmc <- NormalizeData(pbmc, normalization.method = \"LogNormalize\", scale.factor = 10000) pbmc <- NormalizeData(pbmc) #\u9ed8\u8ba4\u53c2\u6570\u7b49\u4ef7\u4e8e\u4e0a\u9762\u7684\u53c2\u6570\u8bbe\u5b9a #\u8bc6\u522b\u9ad8\u5ea6\u53ef\u53d8\u7684\u7279\u5f81\uff08\u7279\u5f81\u9009\u62e9\uff09 `pbmc <- FindVariableFeatures(pbmc, selection.method = \"vst\", nfeatures = 2000)` # Identify the 10 most highly variable genes top10 <- head(VariableFeatures(pbmc), 10) # plot variable features with and without labels plot1 <- VariableFeaturePlot(pbmc) ##variant\u53ef\u89c6\u5316\uff0c\uff0c\u540c\u65f6\u7ed9\u524d\u5341\u4e2a\u6dfb\u52a0\u6807\u7b7e plot2 <- LabelPoints(plot = plot1, points = top10, repel = TRUE) plot1 + plot2 plot2 ggsave(\"3.standstardizedVariance.png\",width=7,height = 6)","title":"\u5f52\u4e00\u5316\u6570\u636e"},{"location":"single-cell/%E5%8D%95%E7%BB%86%E8%83%9E%E5%AD%A6%E4%B9%A01-Seurat-V3-2%E7%89%88%E6%9C%AC%E5%AE%98%E7%BD%9110xGenomics%E6%95%99%E7%A8%8B/#1","text":"all.genes <- rownames(pbmc) pbmc <- ScaleData(pbmc, features = all.genes) #pbmc[[\"RNA\"]]@scale.data ##PCA pbmc <- RunPCA(pbmc, features = VariableFeatures(object = pbmc))","title":"\u6570\u636e\u7f29\u653e\uff0c\u4f7f\u6240\u6709\u53d8\u5316\u7684\u7ec6\u80de\u8bbe\u7f6e\u4e3a1"},{"location":"single-cell/%E5%8D%95%E7%BB%86%E8%83%9E%E5%AD%A6%E4%B9%A01-Seurat-V3-2%E7%89%88%E6%9C%AC%E5%AE%98%E7%BD%9110xGenomics%E6%95%99%E7%A8%8B/#5dimensions5feature","text":"print(pbmc[[\"pca\"]], dims = 1:5, nfeatures = 5)","title":"\u67e5\u770b\u524d5\u4e2adimensions\uff0c\u6bcf\u4e2a\u53d65\u4e2afeature"},{"location":"single-cell/%E5%8D%95%E7%BB%86%E8%83%9E%E5%AD%A6%E4%B9%A01-Seurat-V3-2%E7%89%88%E6%9C%AC%E5%AE%98%E7%BD%9110xGenomics%E6%95%99%E7%A8%8B/#dimensions","text":"pbmc[[\"pca\"]]","title":"\u53ef\u4ee5\u67e5\u770b\u6240\u6709\u7684dimensions\u7684\u6570\u91cf"},{"location":"single-cell/%E5%8D%95%E7%BB%86%E8%83%9E%E5%AD%A6%E4%B9%A01-Seurat-V3-2%E7%89%88%E6%9C%AC%E5%AE%98%E7%BD%9110xGenomics%E6%95%99%E7%A8%8B/#pca","text":"##\u6563\u70b9\u56fe\u53ef\u89c6\u5316\u524d2\u4e2adimensions VizDimLoadings(pbmc, dims = 1:2, reduction = \"pca\") ggsave(\"4.PCA-1.png\") ##\u6563\u70b9\u53ef\u89c6\u53162\u4e2adimensions DimPlot(pbmc,dims = 2:3,reduction = \"pca\") ggsave(\"4.PCA-2.png\") ##\u70ed\u56fe\u53ef\u89c6\u5316\u4e0d\u540c\u6570\u91cf\u7684\u7ec6\u80de\u7684\u4e0d\u540cdimension\u7684\u5206\u5e03 ####Dimheatmap\u751f\u6210\u7684\u56fe\u7247\u5728R\u4e2d\uff0c\u7528ggsave\u6216\u8005jpeg\u65e0\u6cd5\u83b7\u53d6\u5230\u7ed8\u56fe\u5c42 DimHeatmap(pbmc, dims = 1, cells = 500, balanced = TRUE) #ggsave(\"4.PCA-3.png\",plot=last_plot()) DimHeatmap(pbmc,dims = 2,cells = 1000,balanced = TRUE) DimHeatmap(pbmc,dims = 1:20,cells = 500,balanced = TRUE) #ggsave(\"4.PCA-4.png\")","title":"\u53ef\u89c6\u5316pca\u7684\u7ed3\u679c"},{"location":"single-cell/%E5%8D%95%E7%BB%86%E8%83%9E%E5%AD%A6%E4%B9%A01-Seurat-V3-2%E7%89%88%E6%9C%AC%E5%AE%98%E7%BD%9110xGenomics%E6%95%99%E7%A8%8B/#_4","text":"NOTE: This process can take a long time for big datasets, comment out for expediency. More approximate techniques such as those implemented in ElbowPlot() can be used to reduce computation time pbmc <- JackStraw(pbmc, num.replicate = 100) pbmc <- ScoreJackStraw(pbmc, dims = 1:20) JackStrawPlot(pbmc, dims = 1:20) ggsave(\"5.JackStrawPlot.png\") ElbowPlot(pbmc) ggsave(\"6.ElbowPlot.png\") \u7efc\u54084\uff0c5\uff0c6\u4e09\u4e2a\u90e8\u5206\u7684\u7ed3\u679c\u5bf9\u6bd4\u5206\u6790\uff0c\u8fdb\u884cPCs\u7684\u9009\u62e9\uff0c\u6839\u636e4\u53ef\u4ee5\u770b\u51fa\uff0c\u5728PC12\u6709\u4e00\u4e2a\u660e\u663e\u7684\u5206\u754c\uff0c\u6839\u636e5\u770b\u51fa\u5728PC7\u6709\u4e00\u4e2a\u660e\u663e\u7684\u5206\u754c. \u6839\u636e6\u53ef\u4ee5\u770b\u51fa\u572810\u6709\u4e00\u4e2a\u660e\u663e\u7684\u5206\u754c,\u4e00\u822c\u60c5\u51b5\u5efa\u8bae\u5c3d\u91cf\u9009\u62e9\u8f83\u5927\u7684PCs\u503c\uff0c\u8fd9\u6279\u6570\u636e\u9009\u62e97-12\u90fd\u5408\u9002\uff0c\u6211\u4eec\u9009\u62e910. #\u7ec6\u80de\u805a\u7c7bcluster cells pbmc <- FindNeighbors(pbmc, dims = 1:10) ##\u6b64\u5904\u8bbe\u7f6e\u7684dims=1\uff1a10,\u5c31\u662f\u6839\u636e\u4e0a\u9762\u7684\u7ed3\u679c\u9009\u62e9\u768410. pbmc <- FindClusters(pbmc, resolution = 0.5) ##\u8bbe\u7f6e\u4e3a0.4-1.2\u4e4b\u95f4\uff0c head(Idents(pbmc), 5) #\u8fd0\u884c\u975e\u7ebf\u6027\u964d\u7ef4\uff08UMAP / tSNE\uff09 # If you haven't installed UMAP, you can do so via reticulate::py_install(packages = # 'umap-learn') pbmc <- RunUMAP(pbmc, dims = 1:10) # note that you can set `label = TRUE` or use the LabelClusters function to help label # individual clusters DimPlot(pbmc, reduction = \"umap\") #\u53ef\u89c6\u5316\u9009\u62e9\u7684PCs\u7684\u5206\u5e03\uff08\u6563\u70b9\u56fe\uff09 DimPlot(pbmc, reduction = \"umap\",label = TRUE) ggsave(\"7.UMAP.png\") saveRDS(pbmc, file = \"./output/pbmc_tutorial.rds\") ##\u4f7f\u7528tSNE\u8fdb\u884c\u964d\u7ef4 pbmc2 <- RunTSNE(pbmc,dims=1:10) DimPlot(pbmc2,reduction = \"tsne\",label=TRUE) ggsave(\"7.tSNE.png\") #\u67e5\u627e\u5dee\u5f02\u8868\u8fbe\u7684\u57fa\u56e0\uff08\u96c6\u7fa4\u751f\u7269\u6807\u8bb0\uff09 # find all markers of cluster 1 cluster1.markers <- FindMarkers(pbmc, ident.1 = 1, min.pct = 0.25) head(cluster1.markers, n = 5) # find markers for every cluster compared to all remaining cells, report only the positive ones pbmc.markers <- FindAllMarkers(pbmc, only.pos = TRUE, min.pct = 0.25, logfc.threshold = 0.25) pbmc.markers %>% group_by(cluster) %>% top_n(n = 2, wt = avg_logFC) cluster1.markers <- FindMarkers(pbmc, ident.1 = 0, logfc.threshold = 0.25, test.use = \"roc\", only.pos = TRUE) VlnPlot(pbmc, features = c(\"MS4A1\", \"CD79A\",\"CCR7\")) ggsave(\"8.vlnplot_1.png\") ##\u76f8\u5f53\u4e8eGSEA\u7684\u53ef\u89c6\u5316\u7ec6\u80de\u7fa4\u7684\u5206\u5e03 RidgePlot(pbmc,features = c(\"MS4A1\",\"GNLY\",\"CD3E\")) ggsave(\"8.RidgePlot.png\") ##\u70b9\u72b6\u56fe\u53ef\u89c6\u5316\uff0c\u7279\u5b9a\u7ec6\u80de\u7fa4 DotPlot(pbmc,features = c(\"MS4A1\",\"CD3E\",\"LYZ\",\"CD8A\",\"PPBP\",\"GNLY\")) ggsave(\"8.dotplot.png\") # you can plot raw counts as well VlnPlot(pbmc, features = c(\"NKG7\", \"PF4\"), slot = \"counts\", log = TRUE) FeaturePlot(pbmc, features = c(\"MS4A1\", \"GNLY\", \"CD3E\", \"CD14\", \"FCER1A\", \"FCGR3A\", \"LYZ\", \"PPBP\",\"CD8A\")) ggsave(\"8.FeaturePlot_2.png\") ##\u7ed8\u5236\u70ed\u56fe\u524d10\u4e2aPCs,\u5c55\u793a\u524d20\u4e2a\u57fa\u56e0\uff0c\u5982\u679c\u5c11\u4e8e20\u4e2a\u5219\u5c55\u793a\u6240\u6709 top10 <- pbmc.markers %>% group_by(cluster) %>% top_n(n = 10, wt = avg_logFC) DoHeatmap(pbmc, features = top10$gene) + NoLegend() #ggsave(\"8.Dopheatmap.png\") (\u53ef\u80fd\u8ddf\u4f7f\u7528\u7684pheatmap\u5305\u6709\u5173\uff0c\u4ecd\u7136\u65e0\u6cd5\u6b63\u5e38\u5bfc\u51fa\u56fe\u7247) ##\u4e0e\u5df2\u77e5\u7684\u7ec6\u80de\u7c7b\u578b\u76f8\u5339\u914d new.cluster.ids <- c(\"Naive CD4 T\", \"Memory CD4 T\", \"CD14+ Mono\", \"B\", \"CD8 T\", \"FCGR3A+ Mono\", \"NK\", \"DC\", \"Platelet\") names(new.cluster.ids) <- levels(pbmc) pbmc <- RenameIdents(pbmc, new.cluster.ids) DimPlot(pbmc, reduction = \"umap\", label = TRUE, pt.size = 0.5) + NoLegend() ggsave(\"9.Dimplot.png\") saveRDS(pbmc, file = \"./output/pbmc3k_final.rds\")","title":"\u786e\u5b9a\u6570\u636e\u96c6\u7684\u7ef4\u6570\uff08\u8017\u8d39\u65f6\u95f4\u8f83\u957f\uff09"},{"location":"single-cell/%E5%8D%95%E7%BB%86%E8%83%9E%E5%AD%A6%E4%B9%A02%EF%BC%9A10xgenomics%E4%BB%8E%E5%A4%B4%E5%BC%80%E5%A7%8B%E5%88%86%E6%9E%90/","text":"[\u53c2\u8003\u94fe\u63a5]( https://www.jianshu.com/p/705a348e8623 \u5355\u7ec6\u80de\u5b9e\u62181,2,3,4,5 https://my.oschina.net/u/4503882/blog/4438601 1.\u4e0b\u8f7d\u6570\u636e \u4f7f\u7528prefetch\u6216\u8005ascp\u90fd\u53ef\u4ee5\u3002 EBI\u6570\u636e\u5e93\u5730\u5740 \u83b7\u53d6\u4e0b\u8f7d\u547d\u4ee4 ascp -QT -l 300m -P33001 -i ~/.aspera/connect/etc/asperaweb_id_dsa.openssh era-fasp@fasp.sra.ebi.ac.uk:vol1/srr/SRR772/002/SRR7722942 ./ ascp -QT -l 300m -P33001 -i ~/.aspera/connect/etc/asperaweb_id_dsa.openssh era-fasp@fasp.sra.ebi.ac.uk:vol1/srr/SRR772/001/SRR7722941 ./ ascp -QT -l 300m -P33001 -i ~/.aspera/connect/etc/asperaweb_id_dsa.openssh era-fasp@fasp.sra.ebi.ac.uk:vol1/srr/SRR772/000/SRR7722940 ./ ascp -QT -l 300m -P33001 -i ~/.aspera/connect/etc/asperaweb_id_dsa.openssh era-fasp@fasp.sra.ebi.ac.uk:vol1/srr/SRR772/009/SRR7722939 ./ ascp -QT -l 300m -P33001 -i ~/.aspera/connect/etc/asperaweb_id_dsa.openssh era-fasp@fasp.sra.ebi.ac.uk:vol1/srr/SRR772/008/SRR7722938 ./ ascp -QT -l 300m -P33001 -i ~/.aspera/connect/etc/asperaweb_id_dsa.openssh era-fasp@fasp.sra.ebi.ac.uk:vol1/srr/SRR772/007/SRR7722937 ./ \u6211\u4eec\u670d\u52a1\u5668\u6709\u65f6\u5019\uff0c\u4f1a\u62a5\u9519,\u67e5\u8be2\u89e3\u51b3\u65b9\u6848\u8bf4\u662f33001\u7aef\u53e3\u6ca1\u5f00\uff0c\u4f46\u662f\u8fc7\u4e00\u4f1a\u513f\u518d\u8bd5\uff0c\u53c8\u80fd\u6b63\u5e38\u4e0b\u8f7d\u3002 cat >SRR_Acc_List-2586-4.txt SRR7722937 SRR7722938 SRR7722939 SRR7722940 SRR7722941 SRR7722942 2.\u5b89\u88c5\u8f6f\u4ef6cellranger 4.0\u7248\uff08\u622a\u6b622020.8.11\uff09 \u4e0b\u8f7d\u5730\u5740https://support.10xgenomics.com/single-cell-gene-expression/software/downloads/latest \u81ea\u5df1\u6ce8\u518c\u540e\uff0c\u4f1a\u7ed9\u51fa\u4e0b\u8f7d\u5730\u5740 \u4e0b\u8f7dcellranger\u8f6f\u4ef6 wget -O cellranger-4.0.0.tar.gz \"https://cf.10xgenomics.com/releases/cell-exp/cellranger-4.0.0.tar.gz?Expires=1597153912&Policy=eyJTdGF0ZW1lbnQiOlt7IlJlc291cmNlIjoiaHR0cHM6Ly9jZi4xMHhnZW5vbWljcy5jb20vcmVsZWFzZXMvY2VsbC1leHAvY2VsbHJhbmdlci00LjAuMC50YXIuZ3oiLCJDb25kaXRpb24iOnsiRGF0ZUxlc3NUaGFuIjp7IkFXUzpFcG9jaFRpbWUiOjE1OTcxNTM5MTJ9fX1dfQ__&Signature=Xx0erSX~dD-bjM4iSNM-PbDrdP2Q~QPNw0qEnyB~hff7U243dKjoeWyukXoHpddkqYDdQ0-HHMOITdPA4CmNXVbGXlMGsnY-LSBySee7mgy~MhXEGBiwDOhTLhoxOgyviZfyW-eMYuutVW6Hy-I3tQjqD1bAENfbVNekD25RkNgkTEsOwkhZzLU1hGRaRYD0kMD10~KCUN7-u0OO9WdKsEw7tzPCvb7Hz85O08ENNabAvnyPLw4ZskHNMmP-ciFTi7IItTqLFIQw8D~HAN5GDsTv14Rd2LfOQnS6OwLWffu-eew9m1FzH7zRzjWgb1AFFwDuXx5MHI~knkSYGYCpsQ__&Key-Pair-Id=APKAI7S6A5RYOXBWRPDA\" \u4e0b\u8f7d\u914d\u5957\u7684\u4eba\u7c7b\u57fa\u56e0\u7ec411G wget -c https://cf.10xgenomics.com/supp/cell-exp/refdata-gex-GRCh38-2020-A.tar.gz \u4e0b\u8f7d\u5c0f\u9f20\u57fa\u56e0\u7ec4 wget -c https://cf.10xgenomics.com/supp/cell-exp/refdata-gex-mm10-2020-A.tar.gz cellanger\u5b89\u88c5\u65b9\u6cd5\uff1a tar -zxvf cellranger-4.0.0.tar.gz cd cellranger-4.0.0 pwd #\u83b7\u53d6\u76ee\u5f55 echo `PATH=\u4e0a\u8ff0\u76ee\u5f55\\bin:$PATH` >>~/.bash_profile source export cellranger #\u6d4b\u8bd5\u547d\u4ee4\u5373\u53ef\u8fd0\u884c \u6570\u636e\u5904\u7406 3.1 SRR\u6570\u636e\u89e3\u538b ##1\u89e3\u538b\u7f29\u6587\u4ef6 cat SRR_Acc_List-2586-4.txt|while read id do fastq-dump --gzip --split-files ./0.raw/$id done #2\u6587\u4ef6\u6279\u91cf\u91cd\u547d\u540d # \u5c06\u539f\u6765\u7684_1.fastq.gz\u6539\u6210_S1_L001_I1_001.fastq.gz # \u4f9d\u6b21\u7c7b\u63a8\uff0c\u5c06\u539f\u6765_2\u7684\u6539\u6210R1\uff0c\u5c06_3\u6539\u6210R2\u3002\u6279\u91cf\u5904\u7406\uff0c\u5c31\u5229\u7528\u4e0b\u8f7dSRA\u7684SRR ID\u597d\u4e86\u3002 cat SRR_Acc_List-2586-4.txt | while read i do mv ${i}_1*.gz ${i}_S1_L001_I1_001.fastq.gz; mv ${i}_2*.gz ${i}_S1_L001_R1_001.fastq.gz; mv ${i}_3*.gz ${i}_S1_L001_R2_001.fastq.gz; done ``` ######\u4e00\u5b9a\u8981\u6309\u7167\u4e0a\u9762\u7684\u8981\u6c42\u91cd\u547d\u540d\uff0c\u4e0d\u7136\u540e\u9762cellranger\u5206\u6790\u7684\u65f6\u5019\uff0c\u4e0d\u4f1a\u81ea\u52a8\u8bc6\u522b\u6587\u4ef6\u540d\u3002 ####\u9009\u505a\u5206\u6790QC \u8d28\u63a7QC config\u91cc\u9762\u5b58\u7684\u662f\u91cd\u547d\u540d\u540e\u7684fastq.gz\u6587\u4ef6\u7684\u6587\u4ef6\u540d\u3002 cat config | while read id do fastqc --outdir ./2.qc/ --threads 24 ./1.fastq/${id} >> ./2.qc/${id}_fastqc.log 2>&1 done multiqc ./2.qc/*zip -o ./2.qc/multiqc multiqc\u76ee\u5f55\u6709\u6700\u7ec8\u7684html\u6587\u4ef6\u3002\u53ef\u4ee5\u770b\u5230\u5404\u7ec4\u6837\u672c\u7684\u6570\u636e\u8d28\u91cf\u3002 \u8fd9\u6279\u6570\u636e\uff0c\u4e2a\u522b\u6709\u95ee\u9898\u3002 ___ 3.cellranger\u5206\u4e3a4\u4e2apipeline 3.1 cellranger mkfastq \u5c06\u539f\u59cb\u78b1\u57fa\uff08BCL\uff09\u6587\u4ef6\u6574\u5408\u4e3afastq\u683c\u5f0f\uff0c\u5b9e\u8d28\u662f\u5c01\u88c5\u7684Illumina bcl2fastq 3.2 cellranger count \u5c06\u83b7\u53d6\u7684fastq\u6587\u4ef6\u6bd4\u5bf9\u3001\u8fc7\u6ee4\u3001\u8ba1\u6570\uff0c\u8fd9\u662f\u4e00\u4e2a\u81ea\u52a8\u5316\u8fc7\u7a0b 3.3 cellranger aggr \u5c06\u591a\u4e2a\u6d4b\u5e8f\u7ed3\u679c\u5f52\u4e00\u5316\u5230\u76f8\u540c\u7684\u6d4b\u5e8f\u6df1\u5ea6\uff0c\u91cd\u65b0\u8ba1\u7b97feature-barcode matrices 3.4 cellranger reanalyze ######\u5148\u8fd0\u884c\u6d4b\u8bd5\u6587\u4ef6\uff0c\u6d4b\u8bd5cellranger\u80fd\u5426\u6b63\u5e38\u8fd0\u884c\u3002 `cellranger testrun --id=testruncellranger` id\u6307\u5b9a\u8fd0\u884c\u540e\u4fdd\u5b58\u7684\u76ee\u5f55\u3002 \u5206\u914d24\u4e2acpu,\u9700\u8981647s.\u5dee\u4e0d\u591a10\u5206\u949f\u591a\u3002 \u67e5\u770b\u6807\u51c6\u8f93\u51fa\uff0c\u6807\u51c6\u8f93\u51fa\u6587\u4ef6\u6700\u540e\u51fa\u73b0\u5982\u4e0b\uff0c\u4ee3\u8868\u6d4b\u8bd5\u901a\u8fc7\u3002 Pipestance completed successfully! 2020-08-11 17:19:13 Shutting down. ######\u4e0b\u8f7d\u597d\u53c2\u8003\u57fa\u56e0\u7ec4\u540e\uff0c\u89e3\u538b\u7f29\u3002 `tar -zxvf refdata-gex-GRCh38-2020-A.tar.gz` \u5982\u679c\u60f3\u81ea\u5df1\u6784\u5efa\u53c2\u8003\u57fa\u56e0\u7ec4\uff0c\u662f\u6574\u4e2a\u6d41\u7a0b\u7684\u96be\u70b9\u3002 3.2 \u4f7f\u7528cellranger count\u5f00\u59cb\u5206\u6790 \u53c2\u6570\u8bf4\u660e\uff1a id\u6307\u5b9a\u8f93\u51fa\u6587\u4ef6\u5b58\u653e\u76ee\u5f55\u540d\u79f0 \u8f6c\u5f55\u7ec4\u6307\u5b9a\u4e0eCellRanger\u517c\u5bb9\u7684\u53c2\u8003\u57fa\u56e0\u7ec4 fastqs\u6307\u5b9amkfastq\u6216\u81ea\u5b9a\u4e49\u7684fastq\u6587\u4ef6\u653e\u7f6e\u4f4d\u7f6e sample\u8981\u548cfastq\u6587\u4ef6\u7684\u521d\u59cb\u4e2d\u7684\u6837\u672c\u4fdd\u6301\u4e00\u81f4\uff0c\u4f5c\u4e3a\u8f6f\u4ef6\u8bc6\u522b\u7684\u6807\u5fd7 except-cells\u6307\u5b9a\u590d\u73b0\u7684\u7ec6\u80de\u6570\u91cf\uff0c\u8fd9\u4e2a\u8981\u548c\u5b9e\u9a8c\u8bbe\u8ba1\u7ed3\u5408\u8d77\u6765 nosecondary\u4ec5\u83b7\u5f97\u8868\u8fbe\u77e9\u9635\uff0c\u4e0d\u8fdb\u884c\u540e\u7eed\u7684\u964d\u7ef4\uff0c\u805a\u7c7b\u548c\u53ef\u89c6\u5316\u5206\u6790\uff08\u56e0\u4e3a\u540e\u7eed\u4f1a\u81ea\u884c\u7528R\u5305\u53bb\u505a\uff09 \u8f93\u5982\u53c2\u6570\u65f6\uff0c\u4e00\u5b9a\u4e0d\u8981\u6709\u591a\u4f59\u7684\u7a7a\u683c\uff0c\u4e0d\u7136\u4f1a\u62a5\u9519\u3002 cat SRR_Acc_List-2586-4.txt|while read id do cellranger count --id=$id --transcriptome=~/soft/cellranger/refdata-gex-GRCh38-2020-A --fastqs=1.fastq --sample=$id --expect-cells=5000 --nosecondary done ######\u8fd9\u91cc\u6ca1\u6709\u6307\u5b9a\u4f7f\u7528\u7684\u5185\u5b58\u548ccpu\u6570\u91cf\uff0c\u5927\u670d\u52a1\u5668\uff0c\u5185\u5b58\u548ccpu\u8db3\u591f\u5927\uff0c\u6240\u4ee5\u5c31\u6ca1\u6307\u5b9a\uff0c\u5982\u679c\u5185\u5b58\u5c0f\u4e8e64G,\u8bf7\u6307\u5b9a\u5185\u5b58\u3002 3.3 \u5408\u5e76\u4e0a\u9762\u7684\u5206\u6790 #3.3.1\u6784\u5efaAggregation CSV ## AGG123_libraries.csv >library_id,molecule_h5 LV123,/opt/runs/LV123/outs/molecule_info.h5 LB456,/opt/runs/LB456/outs/molecule_info.h5 LP789,/opt/runs/LP789/outs/molecule_info.h5 ######\u5176\u4e2dmolecule_h5\uff1a\u6587\u4ef6molecule_info.h5 file\u7684\u8def\u5f84 echo library_id,molecule_h5 >AGG123_libraries.csv cat SRR_Acc_List-2586-4.txt|while read id do echo $id,$id/outs/molecule_info.h5 >>AGG123_libraries.csv done ``` 3.3.2 \u5408\u5e76 cellranger aggr --id=AGG123 --csv=AGG123_libraries.csv --normalize=mapped \u7ed3\u679c\u8f93\u51fa\u5230AGG123\u8fd9\u4e2a\u76ee\u5f55\u4e2d \u5728AGG123\u7684\u8f93\u51fa\u7ed3\u679c\u4e2d\uff0c \u5176\u4e2d\u67091\u4e2a\u7ea2\u8272\u7684alert\uff0cFraction of Reads Kept (SRR7722940) 16.0%\u7684\u6df1\u5ea6\u4e0d\u8db350%\u3002 4. \u4f7f\u7528Seurat\u5206\u6790\uff08\u5176\u5b9ecellranger\u4e5f\u53ef\u4ee5\u81ea\u52a8\u5206\u6790\uff09 5.\u96be\u70b9\u89e3\u51b3\uff0c\u57fa\u56e0\u7ec4\u7684\u6784\u5efa \u8bba\u6587\u539f\u6587\u662f\u4f7f\u7528\u4eba\u7c7b\u57fa\u56e0\u7ec4\u548cMCPyV\u75c5\u6bd2\u57fa\u56e0\u7ec4\u4e00\u8d77\u5206\u6790\u7684\u3002","title":"\u5355\u7ec6\u80de\u5b66\u4e602\uff1a10xgenomics\u4ece\u5934\u5f00\u59cb\u5206\u6790"},{"location":"single-cell/%E5%8D%95%E7%BB%86%E8%83%9E%E5%AD%A6%E4%B9%A02%EF%BC%9A10xgenomics%E4%BB%8E%E5%A4%B4%E5%BC%80%E5%A7%8B%E5%88%86%E6%9E%90/#qc","text":"","title":"\u8d28\u63a7QC"},{"location":"single-cell/%E5%8D%95%E7%BB%86%E8%83%9E%E5%AD%A6%E4%B9%A02%EF%BC%9A10xgenomics%E4%BB%8E%E5%A4%B4%E5%BC%80%E5%A7%8B%E5%88%86%E6%9E%90/#configfastqgz","text":"cat config | while read id do fastqc --outdir ./2.qc/ --threads 24 ./1.fastq/${id} >> ./2.qc/${id}_fastqc.log 2>&1 done multiqc ./2.qc/*zip -o ./2.qc/multiqc multiqc\u76ee\u5f55\u6709\u6700\u7ec8\u7684html\u6587\u4ef6\u3002\u53ef\u4ee5\u770b\u5230\u5404\u7ec4\u6837\u672c\u7684\u6570\u636e\u8d28\u91cf\u3002 \u8fd9\u6279\u6570\u636e\uff0c\u4e2a\u522b\u6709\u95ee\u9898\u3002 ___ 3.cellranger\u5206\u4e3a4\u4e2apipeline 3.1 cellranger mkfastq \u5c06\u539f\u59cb\u78b1\u57fa\uff08BCL\uff09\u6587\u4ef6\u6574\u5408\u4e3afastq\u683c\u5f0f\uff0c\u5b9e\u8d28\u662f\u5c01\u88c5\u7684Illumina bcl2fastq 3.2 cellranger count \u5c06\u83b7\u53d6\u7684fastq\u6587\u4ef6\u6bd4\u5bf9\u3001\u8fc7\u6ee4\u3001\u8ba1\u6570\uff0c\u8fd9\u662f\u4e00\u4e2a\u81ea\u52a8\u5316\u8fc7\u7a0b 3.3 cellranger aggr \u5c06\u591a\u4e2a\u6d4b\u5e8f\u7ed3\u679c\u5f52\u4e00\u5316\u5230\u76f8\u540c\u7684\u6d4b\u5e8f\u6df1\u5ea6\uff0c\u91cd\u65b0\u8ba1\u7b97feature-barcode matrices 3.4 cellranger reanalyze ######\u5148\u8fd0\u884c\u6d4b\u8bd5\u6587\u4ef6\uff0c\u6d4b\u8bd5cellranger\u80fd\u5426\u6b63\u5e38\u8fd0\u884c\u3002 `cellranger testrun --id=testruncellranger` id\u6307\u5b9a\u8fd0\u884c\u540e\u4fdd\u5b58\u7684\u76ee\u5f55\u3002 \u5206\u914d24\u4e2acpu,\u9700\u8981647s.\u5dee\u4e0d\u591a10\u5206\u949f\u591a\u3002 \u67e5\u770b\u6807\u51c6\u8f93\u51fa\uff0c\u6807\u51c6\u8f93\u51fa\u6587\u4ef6\u6700\u540e\u51fa\u73b0\u5982\u4e0b\uff0c\u4ee3\u8868\u6d4b\u8bd5\u901a\u8fc7\u3002 Pipestance completed successfully! 2020-08-11 17:19:13 Shutting down. ######\u4e0b\u8f7d\u597d\u53c2\u8003\u57fa\u56e0\u7ec4\u540e\uff0c\u89e3\u538b\u7f29\u3002 `tar -zxvf refdata-gex-GRCh38-2020-A.tar.gz` \u5982\u679c\u60f3\u81ea\u5df1\u6784\u5efa\u53c2\u8003\u57fa\u56e0\u7ec4\uff0c\u662f\u6574\u4e2a\u6d41\u7a0b\u7684\u96be\u70b9\u3002 3.2 \u4f7f\u7528cellranger count\u5f00\u59cb\u5206\u6790","title":"config\u91cc\u9762\u5b58\u7684\u662f\u91cd\u547d\u540d\u540e\u7684fastq.gz\u6587\u4ef6\u7684\u6587\u4ef6\u540d\u3002"},{"location":"single-cell/%E5%8D%95%E7%BB%86%E8%83%9E%E5%AD%A6%E4%B9%A02%EF%BC%9A10xgenomics%E4%BB%8E%E5%A4%B4%E5%BC%80%E5%A7%8B%E5%88%86%E6%9E%90/#_1","text":"","title":"\u53c2\u6570\u8bf4\u660e\uff1a"},{"location":"single-cell/%E5%8D%95%E7%BB%86%E8%83%9E%E5%AD%A6%E4%B9%A02%EF%BC%9A10xgenomics%E4%BB%8E%E5%A4%B4%E5%BC%80%E5%A7%8B%E5%88%86%E6%9E%90/#id","text":"","title":"id\u6307\u5b9a\u8f93\u51fa\u6587\u4ef6\u5b58\u653e\u76ee\u5f55\u540d\u79f0"},{"location":"single-cell/%E5%8D%95%E7%BB%86%E8%83%9E%E5%AD%A6%E4%B9%A02%EF%BC%9A10xgenomics%E4%BB%8E%E5%A4%B4%E5%BC%80%E5%A7%8B%E5%88%86%E6%9E%90/#cellranger","text":"","title":"\u8f6c\u5f55\u7ec4\u6307\u5b9a\u4e0eCellRanger\u517c\u5bb9\u7684\u53c2\u8003\u57fa\u56e0\u7ec4"},{"location":"single-cell/%E5%8D%95%E7%BB%86%E8%83%9E%E5%AD%A6%E4%B9%A02%EF%BC%9A10xgenomics%E4%BB%8E%E5%A4%B4%E5%BC%80%E5%A7%8B%E5%88%86%E6%9E%90/#fastqsmkfastqfastq","text":"","title":"fastqs\u6307\u5b9amkfastq\u6216\u81ea\u5b9a\u4e49\u7684fastq\u6587\u4ef6\u653e\u7f6e\u4f4d\u7f6e"},{"location":"single-cell/%E5%8D%95%E7%BB%86%E8%83%9E%E5%AD%A6%E4%B9%A02%EF%BC%9A10xgenomics%E4%BB%8E%E5%A4%B4%E5%BC%80%E5%A7%8B%E5%88%86%E6%9E%90/#samplefastq","text":"","title":"sample\u8981\u548cfastq\u6587\u4ef6\u7684\u521d\u59cb\u4e2d\u7684\u6837\u672c\u4fdd\u6301\u4e00\u81f4\uff0c\u4f5c\u4e3a\u8f6f\u4ef6\u8bc6\u522b\u7684\u6807\u5fd7"},{"location":"single-cell/%E5%8D%95%E7%BB%86%E8%83%9E%E5%AD%A6%E4%B9%A02%EF%BC%9A10xgenomics%E4%BB%8E%E5%A4%B4%E5%BC%80%E5%A7%8B%E5%88%86%E6%9E%90/#except-cells","text":"","title":"except-cells\u6307\u5b9a\u590d\u73b0\u7684\u7ec6\u80de\u6570\u91cf\uff0c\u8fd9\u4e2a\u8981\u548c\u5b9e\u9a8c\u8bbe\u8ba1\u7ed3\u5408\u8d77\u6765"},{"location":"single-cell/%E5%8D%95%E7%BB%86%E8%83%9E%E5%AD%A6%E4%B9%A02%EF%BC%9A10xgenomics%E4%BB%8E%E5%A4%B4%E5%BC%80%E5%A7%8B%E5%88%86%E6%9E%90/#nosecondaryr","text":"","title":"nosecondary\u4ec5\u83b7\u5f97\u8868\u8fbe\u77e9\u9635\uff0c\u4e0d\u8fdb\u884c\u540e\u7eed\u7684\u964d\u7ef4\uff0c\u805a\u7c7b\u548c\u53ef\u89c6\u5316\u5206\u6790\uff08\u56e0\u4e3a\u540e\u7eed\u4f1a\u81ea\u884c\u7528R\u5305\u53bb\u505a\uff09"},{"location":"single-cell/%E5%8D%95%E7%BB%86%E8%83%9E%E5%AD%A6%E4%B9%A02%EF%BC%9A10xgenomics%E4%BB%8E%E5%A4%B4%E5%BC%80%E5%A7%8B%E5%88%86%E6%9E%90/#_2","text":"cat SRR_Acc_List-2586-4.txt|while read id do cellranger count --id=$id --transcriptome=~/soft/cellranger/refdata-gex-GRCh38-2020-A --fastqs=1.fastq --sample=$id --expect-cells=5000 --nosecondary done ######\u8fd9\u91cc\u6ca1\u6709\u6307\u5b9a\u4f7f\u7528\u7684\u5185\u5b58\u548ccpu\u6570\u91cf\uff0c\u5927\u670d\u52a1\u5668\uff0c\u5185\u5b58\u548ccpu\u8db3\u591f\u5927\uff0c\u6240\u4ee5\u5c31\u6ca1\u6307\u5b9a\uff0c\u5982\u679c\u5185\u5b58\u5c0f\u4e8e64G,\u8bf7\u6307\u5b9a\u5185\u5b58\u3002 3.3 \u5408\u5e76\u4e0a\u9762\u7684\u5206\u6790 #3.3.1\u6784\u5efaAggregation CSV ## AGG123_libraries.csv >library_id,molecule_h5 LV123,/opt/runs/LV123/outs/molecule_info.h5 LB456,/opt/runs/LB456/outs/molecule_info.h5 LP789,/opt/runs/LP789/outs/molecule_info.h5 ######\u5176\u4e2dmolecule_h5\uff1a\u6587\u4ef6molecule_info.h5 file\u7684\u8def\u5f84 echo library_id,molecule_h5 >AGG123_libraries.csv cat SRR_Acc_List-2586-4.txt|while read id do echo $id,$id/outs/molecule_info.h5 >>AGG123_libraries.csv done ```","title":"\u8f93\u5982\u53c2\u6570\u65f6\uff0c\u4e00\u5b9a\u4e0d\u8981\u6709\u591a\u4f59\u7684\u7a7a\u683c\uff0c\u4e0d\u7136\u4f1a\u62a5\u9519\u3002"},{"location":"single-cell/%E5%8D%95%E7%BB%86%E8%83%9E%E5%AD%A6%E4%B9%A02%EF%BC%9A10xgenomics%E4%BB%8E%E5%A4%B4%E5%BC%80%E5%A7%8B%E5%88%86%E6%9E%90/#332","text":"cellranger aggr --id=AGG123 --csv=AGG123_libraries.csv --normalize=mapped","title":"3.3.2 \u5408\u5e76"},{"location":"single-cell/%E5%8D%95%E7%BB%86%E8%83%9E%E5%AD%A6%E4%B9%A02%EF%BC%9A10xgenomics%E4%BB%8E%E5%A4%B4%E5%BC%80%E5%A7%8B%E5%88%86%E6%9E%90/#agg123","text":"\u5728AGG123\u7684\u8f93\u51fa\u7ed3\u679c\u4e2d\uff0c \u5176\u4e2d\u67091\u4e2a\u7ea2\u8272\u7684alert\uff0cFraction of Reads Kept (SRR7722940) 16.0%\u7684\u6df1\u5ea6\u4e0d\u8db350%\u3002","title":"\u7ed3\u679c\u8f93\u51fa\u5230AGG123\u8fd9\u4e2a\u76ee\u5f55\u4e2d"},{"location":"single-cell/%E5%8D%95%E7%BB%86%E8%83%9E%E5%AD%A6%E4%B9%A02%EF%BC%9A10xgenomics%E4%BB%8E%E5%A4%B4%E5%BC%80%E5%A7%8B%E5%88%86%E6%9E%90/#4-seuratcellranger","text":"","title":"4. \u4f7f\u7528Seurat\u5206\u6790\uff08\u5176\u5b9ecellranger\u4e5f\u53ef\u4ee5\u81ea\u52a8\u5206\u6790\uff09"},{"location":"single-cell/%E5%8D%95%E7%BB%86%E8%83%9E%E5%AD%A6%E4%B9%A02%EF%BC%9A10xgenomics%E4%BB%8E%E5%A4%B4%E5%BC%80%E5%A7%8B%E5%88%86%E6%9E%90/#5","text":"","title":"5.\u96be\u70b9\u89e3\u51b3\uff0c\u57fa\u56e0\u7ec4\u7684\u6784\u5efa"},{"location":"single-cell/%E5%8D%95%E7%BB%86%E8%83%9E%E5%AD%A6%E4%B9%A02%EF%BC%9A10xgenomics%E4%BB%8E%E5%A4%B4%E5%BC%80%E5%A7%8B%E5%88%86%E6%9E%90/#mcpyv","text":"","title":"\u8bba\u6587\u539f\u6587\u662f\u4f7f\u7528\u4eba\u7c7b\u57fa\u56e0\u7ec4\u548cMCPyV\u75c5\u6bd2\u57fa\u56e0\u7ec4\u4e00\u8d77\u5206\u6790\u7684\u3002"},{"location":"single-cell/%E5%8D%95%E7%BB%86%E8%83%9E%E6%B5%8B%E5%BA%8F-1-%E7%AE%80%E8%BF%B0/","text":"\u5355\u7ec6\u80de\u6d4b\u5e8f\uff0cscRNA-seq\u76ee\u524d\u5927\u591a\u6570\u7684\u5206\u6790\u5de5\u5177\u662f\u57fa\u4e8eBioconductor\u5de5\u5177\u3002\u6545\u5168\u6587\u662f\u4ee5\u4f7f\u7528Bioconductor\u7684\u5de5\u5177\u4e3a\u4e3b\u8981\u5206\u6790\u5de5\u5177\u3002 \u53c2\u80031 https://zhuanlan.zhihu.com/p/108919697 Bioconductor\u5b98\u65b9\u6559\u7a0bhttps://osca.bioconductor.org/ (\u81ea\u5907\u68af\u5b50) sanger\u5b9e\u9a8c\u5ba4\u51fa\u7684\u6559\u7a0b bioconductor\u7684\u6570\u636e\u6d41\u548c\u6570\u636e\u7c7b\u578b bioconductor\u4e3b\u8981\u7684\u6570\u636e\u5bf9\u8c61\u662fS4\u683c\u5f0f\u3002 S4\u683c\u5f0f \u4f7f\u7528SingleCellExperiment\u6765\u5b58\u50a8\u5143\u6570\u636e\u548c\u5355\u7ec6\u80de\u6d4b\u5e8f\u6570\u636e\u3002 \u5355\u7ec6\u80de\u6d4b\u5e8f\u5fc5\u77e5\u5fc5\u4f1a \u4e3b\u8981\u8bb2\u8ff0\u5355\u7ec6\u80de\u7684\u539f\u7406\uff0c\u540c\u65f6\u6536\u5f55\u4e00\u5806\u5355\u7ec6\u80de\u7684\u5206\u6790\u8d85\u94fe\u63a5 \u5355\u7ec6\u80de\u5206\u6790\u8f6f\u4ef6\u5408\u96c6 https://github.com/seandavi/awesome-single-cell (\u5e02\u9762\u4e0a\u7684\u5355\u7ec6\u80de\u5206\u6790\u8f6f\u4ef6\u57fa\u672c\u90fd\u88ab\u6536\u5f55\u4e86\uff0c\u767e\u5b9d\u76d2\u4e00\u6837) \u5355\u7ec6\u80de\u5206\u6790\u7684\u4e09\u4e2a\u5e38\u7528\u5305 monocle2 \u6559\u7a0b https://cloud.tencent.com/developer/article/1055888 scater\u6559\u7a0b https://cloud.tencent.com/developer/article/1055896 Seurat\u975e\u5e38\u706b\u7206\u7684\u5305 Seurat\u5b98\u7f51 \u4e5f\u63d0\u4f9b\u4e86\u591a\u4e2a\u5b9e\u4f8b\uff0c\u540c\u65f6\u8fd8\u6709\u4e00\u5806\u57fa\u4e8eSeurat\u5f00\u53d1\u7684\u5305\u3002\u53ef\u7528\u4e8e 10xgenomics \uff0c scRNA-seq+scATAC-seq\u6574\u5408\u5206\u6790 https://satijalab.org/seurat/v3.2/atacseq_integration_vignette.html \u751f\u4fe1\u6280\u80fd\u6811\u7684seurat\u6559\u7a0b 2.\u76ee\u524d\u4e3b\u6d41\u7684\u5355\u7ec6\u80de\u6d4b\u5e8f\u65b9\u5f0f \u4e3b\u8981\u67092\u79cd\u65b9\u5f0f\uff0c10xgenomics \u548csmartseq2 10xgenomics\u7684\u5206\u6790\u5de5\u5177\uff1acellranger 4.0+ Seurat 3.2 smartseq2\u7684\u5206\u6790\u5de5\u5177\uff1a","title":"\u5355\u7ec6\u80de\u6d4b\u5e8f 1 \u7b80\u8ff0"},{"location":"single-cell/%E5%8D%95%E7%BB%86%E8%83%9E%E6%B5%8B%E5%BA%8F-1-%E7%AE%80%E8%BF%B0/#seurat","text":"Seurat\u5b98\u7f51 \u4e5f\u63d0\u4f9b\u4e86\u591a\u4e2a\u5b9e\u4f8b\uff0c\u540c\u65f6\u8fd8\u6709\u4e00\u5806\u57fa\u4e8eSeurat\u5f00\u53d1\u7684\u5305\u3002\u53ef\u7528\u4e8e 10xgenomics \uff0c scRNA-seq+scATAC-seq\u6574\u5408\u5206\u6790 https://satijalab.org/seurat/v3.2/atacseq_integration_vignette.html \u751f\u4fe1\u6280\u80fd\u6811\u7684seurat\u6559\u7a0b","title":"Seurat\u975e\u5e38\u706b\u7206\u7684\u5305"},{"location":"single-cell/%E5%8D%95%E7%BB%86%E8%83%9E%E6%B5%8B%E5%BA%8F-1-%E7%AE%80%E8%BF%B0/#2","text":"\u4e3b\u8981\u67092\u79cd\u65b9\u5f0f\uff0c10xgenomics \u548csmartseq2 10xgenomics\u7684\u5206\u6790\u5de5\u5177\uff1acellranger 4.0+ Seurat 3.2 smartseq2\u7684\u5206\u6790\u5de5\u5177\uff1a","title":"2.\u76ee\u524d\u4e3b\u6d41\u7684\u5355\u7ec6\u80de\u6d4b\u5e8f\u65b9\u5f0f"},{"location":"tools/2018%E5%B9%B4%E5%A5%BD%E7%94%A8%E8%BD%AF%E4%BB%B6%E6%8E%A8%E8%8D%90/","text":"https://mp.weixin.qq.com/s?__biz=MzIyMzE4MjUyNQ==&mid=2651742231&idx=1&sn=800698d0ef46f8befeeb2090784a719f&scene=21#wechat_redirect typora makedown\u7f16\u8f91\u5668\uff0c\u6240\u89c1\u5373\u6240\u5f97\u3002 \u5de5\u5177\u7bb1 \u53ef\u4ee5\u5b9e\u73b0\u592a\u591a\u529f\u80fd\u4e86\u3002\u751f\u6d3b\u767e\u6001\u90fd\u5728\u8fd9\u91cc\u3002","title":"2018\u5e74\u597d\u7528\u8f6f\u4ef6\u63a8\u8350"},{"location":"tools/Endnote-%E6%AF%95%E4%B8%9A%E8%AE%BA%E6%96%87%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE%E6%A0%BC%E5%BC%8FGBT-7714-2015%E7%9A%84%E6%A0%BC%E5%BC%8F/","text":"\u6bd5\u4e1a\u8bba\u6587\u7684\u53c2\u8003\u6587\u732e\u683c\u5f0f\u600e\u4e48\u89e3\u51b3\uff0c\u81ea\u5df1\u5b9a\u5236\u4e00\u4e2aens\u6587\u4ef6\u5bfc\u5165endnote\u540e\u5373\u53ef\u3002 Endnote\u7684GBT-7714 Endnote\u4e0a\u7684\u5b98\u65b9\u4e0b\u8f7d\u5730\u5740 \u6211\u4fee\u6539\u540e\u7684\u7248\u672c\uff0c\u589e\u52a0\u4e86doi\u7684\u7248\u672c GBT7714\u7684\u5404\u79cd\u7248\u672c \u5728Endnote\u4e2d\u7ed9\u53c2\u8003\u6587\u732e\u5217\u8868\u6dfb\u52a0DOI\u7684\u65b9\u6cd5\uff1a Edit -> Output styles -> Eidt \u2018Chinese Std GBT7714 (numeric)\u2019 -> Bibliography -> Templates -> Journal Article\u7684\u540e\u9762\u6dfb\u52a0 . https://doi.org/DOI \uff0c\u6dfb\u52a0\u5185\u5bb9\u540e\uff0c\u53e6\u5b58\u4e3aChinese Std GBT7714 (numeric).\u6dfb\u52a0doi.ens\u3002 Endnote\u4e2d\u7684\u53c2\u8003\u6587\u732e\u6570\u91cf\u548cword\u6587\u672c\u4e2d\u7684\u53c2\u8003\u6587\u732e\u6570\u91cf\u4e0d\u4e00\u81f4\u7684\u89e3\u51b3\u65b9\u6cd5\u3002 \u8fd9\u79cd\u60c5\u51b5\u4e00\u822c\u662f\u4f60\u4ece\u4e0d\u540c\u7684word\u4e2d\u7c98\u8d34\u5e26\u6709\u5f15\u7528\u7684\u53c2\u8003\u6587\u732e\u5bfc\u81f4\u7684\uff0c\u5b9e\u8d28\u662f\u4f60\u7684word\u91cc\u6709\u591a\u4e2a\u53c2\u8003\u6587\u732e\u5e93\u3002\u9009\u4e2d\u6b63\u6587\u4e2d\u89d2\u6807\uff0c\u53f3\u952e>\u7f16\u8f91\u5f15\u6587>\u66f4\u591a \u770b\u5230\u6587\u732e\u7684\u5e93\uff0c\u5c31\u4f1a\u6709\u591a\u4e2a\u5e93\u3002\u9009\u4e2d\u4f60\u672c\u5730\u6ca1\u6709\u7684\u5e93 \u5355\u51fb\u540e\uff0c\u5f39\u51fa\u7a97\u53e3\u9009\u4e2d\u4ece\u6211\u7684\u5e93\u66f4\u65b0\uff0c\u91cc\u9762\u641c\u7d22\u9009\u4e2d\u6587\u732e\uff0c\u70b9\u51fb\u4e0b\u9762\u7684insert\u5373\u53ef\u3002","title":"Endnote \u6bd5\u4e1a\u8bba\u6587\u53c2\u8003\u6587\u732e\u683c\u5f0fGBT 7714 2015\u7684\u683c\u5f0f"},{"location":"tools/Endnote-%E6%AF%95%E4%B8%9A%E8%AE%BA%E6%96%87%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE%E6%A0%BC%E5%BC%8FGBT-7714-2015%E7%9A%84%E6%A0%BC%E5%BC%8F/#endnotedoi","text":"Edit -> Output styles -> Eidt \u2018Chinese Std GBT7714 (numeric)\u2019 -> Bibliography -> Templates -> Journal Article\u7684\u540e\u9762\u6dfb\u52a0 . https://doi.org/DOI \uff0c\u6dfb\u52a0\u5185\u5bb9\u540e\uff0c\u53e6\u5b58\u4e3aChinese Std GBT7714 (numeric).\u6dfb\u52a0doi.ens\u3002","title":"\u5728Endnote\u4e2d\u7ed9\u53c2\u8003\u6587\u732e\u5217\u8868\u6dfb\u52a0DOI\u7684\u65b9\u6cd5\uff1a"},{"location":"tools/Endnote-%E6%AF%95%E4%B8%9A%E8%AE%BA%E6%96%87%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE%E6%A0%BC%E5%BC%8FGBT-7714-2015%E7%9A%84%E6%A0%BC%E5%BC%8F/#endnoteword","text":"\u8fd9\u79cd\u60c5\u51b5\u4e00\u822c\u662f\u4f60\u4ece\u4e0d\u540c\u7684word\u4e2d\u7c98\u8d34\u5e26\u6709\u5f15\u7528\u7684\u53c2\u8003\u6587\u732e\u5bfc\u81f4\u7684\uff0c\u5b9e\u8d28\u662f\u4f60\u7684word\u91cc\u6709\u591a\u4e2a\u53c2\u8003\u6587\u732e\u5e93\u3002\u9009\u4e2d\u6b63\u6587\u4e2d\u89d2\u6807\uff0c\u53f3\u952e>\u7f16\u8f91\u5f15\u6587>\u66f4\u591a \u770b\u5230\u6587\u732e\u7684\u5e93\uff0c\u5c31\u4f1a\u6709\u591a\u4e2a\u5e93\u3002\u9009\u4e2d\u4f60\u672c\u5730\u6ca1\u6709\u7684\u5e93 \u5355\u51fb\u540e\uff0c\u5f39\u51fa\u7a97\u53e3\u9009\u4e2d\u4ece\u6211\u7684\u5e93\u66f4\u65b0\uff0c\u91cc\u9762\u641c\u7d22\u9009\u4e2d\u6587\u732e\uff0c\u70b9\u51fb\u4e0b\u9762\u7684insert\u5373\u53ef\u3002","title":"Endnote\u4e2d\u7684\u53c2\u8003\u6587\u732e\u6570\u91cf\u548cword\u6587\u672c\u4e2d\u7684\u53c2\u8003\u6587\u732e\u6570\u91cf\u4e0d\u4e00\u81f4\u7684\u89e3\u51b3\u65b9\u6cd5\u3002"},{"location":"tools/Fastp-%E8%B4%A8%E6%8E%A7-%2B%E8%BF%87%E6%BB%A4%E6%95%B0%E6%8D%AE/","text":"\u5e38\u89c4\u7684\u8d28\u63a7\u548c\u8fc7\u6ee4\u6570\u636e\u662f fastqc+trimmomatic \uff0c\u636e\u8bf4fastp\u66f4\u5feb\uff0c\u800c\u4e14\u4e00\u6b21\u5b8c\u6210\u8d28\u63a7\u8fc7\u6ee4\u548c\u51fa\u56fe\u3002 fastp\u7684github fastp\u7684\u51fa\u7248\u5730\u5740 1.Fastp \u8f6f\u4ef6\u5b89\u88c5 wget http://opengene.org/fastp/fastp chmod a+x ./fastp ./fastp \u672c\u5730\u8def\u5f84 /home/chaim/disk/soft/fastp/fastp \u6dfb\u52a0\u73af\u5883\u53d8\u91cf vim ~/.bash_profile export PATH=$home/disk/soft/fastp:PATH \u4e4b\u540e\u5373\u53ef\u5168\u5c40\u8c03\u7528fastp\u3002 2.\u4f7f\u7528\u53c2\u6570 2.1 \u5feb\u901f\u5904\u7406 \u5355\u7aef\u6d4b\u5e8fsingle end(SE) fastp -i in.fq -o out.fq \u53cc\u7aef\u6d4b\u5e8fpaired end(PE) fastp -i in.R1.fq.gz -I in.R2.fq.gz -o our.R1.fq.gz -O out.R2.fq.gz \u53c2\u6570\u8bbe\u5b9a\uff1a -w 8 \u8bbe\u7f6e\u8fdb\u7a0b\u65708\uff0c\u9ed8\u8ba42,max=16,\u6216\u8005\u662f--thread 8 -z 5 \u8bbe\u7f6egzip\u538b\u7f29\u7ea7\u522b\uff0c\u9ed8\u8ba44,1~9 1\u5feb-9\u5c0f --json \u8bbe\u7f6e\u8f93\u51fajson\u6587\u4ef6\u540d --html \u8bbe\u7f6e\u8f93\u51fahtml\u6587\u4ef6\u540d 2.2 \u4f7f\u7528\u5faa\u73af\u6279\u91cf\u5904\u7406 \u6ce8\u610f\uff1a\u4e00\u5b9a\u8981\u4fee\u6539\u9ed8\u8ba4\u7684\u8f93\u51fa\u6587\u4ef6\u540d\uff0c\u4e0d\u7136\u540e\u9762\u7684\u8f93\u51fa\u4f1a\u8986\u76d6\u524d\u9762\u7684\u9ed8\u8ba4\u6587\u4ef6\u540d #!/bin/bash for i in 71 72 75 76 78 79;do { fastp -i ~/RNAseq/SRR190242${i}_1.fastq.gz -o SRR190242${i}_1.fastq.gz -I ~/RNAseq/SRR190242${i}_2.fastq.gz -O SRR190242${i}_2.fastq.gz -w 8 --html ${i}.html --json ${i}.json } done","title":"Fastp \u8d28\u63a7 +\u8fc7\u6ee4\u6570\u636e"},{"location":"tools/Fastp-%E8%B4%A8%E6%8E%A7-%2B%E8%BF%87%E6%BB%A4%E6%95%B0%E6%8D%AE/#1fastp","text":"wget http://opengene.org/fastp/fastp chmod a+x ./fastp ./fastp \u672c\u5730\u8def\u5f84 /home/chaim/disk/soft/fastp/fastp \u6dfb\u52a0\u73af\u5883\u53d8\u91cf vim ~/.bash_profile export PATH=$home/disk/soft/fastp:PATH \u4e4b\u540e\u5373\u53ef\u5168\u5c40\u8c03\u7528fastp\u3002","title":"1.Fastp \u8f6f\u4ef6\u5b89\u88c5"},{"location":"tools/Fastp-%E8%B4%A8%E6%8E%A7-%2B%E8%BF%87%E6%BB%A4%E6%95%B0%E6%8D%AE/#2","text":"","title":"2.\u4f7f\u7528\u53c2\u6570"},{"location":"tools/Fastp-%E8%B4%A8%E6%8E%A7-%2B%E8%BF%87%E6%BB%A4%E6%95%B0%E6%8D%AE/#21","text":"\u5355\u7aef\u6d4b\u5e8fsingle end(SE) fastp -i in.fq -o out.fq \u53cc\u7aef\u6d4b\u5e8fpaired end(PE) fastp -i in.R1.fq.gz -I in.R2.fq.gz -o our.R1.fq.gz -O out.R2.fq.gz \u53c2\u6570\u8bbe\u5b9a\uff1a -w 8 \u8bbe\u7f6e\u8fdb\u7a0b\u65708\uff0c\u9ed8\u8ba42,max=16,\u6216\u8005\u662f--thread 8 -z 5 \u8bbe\u7f6egzip\u538b\u7f29\u7ea7\u522b\uff0c\u9ed8\u8ba44,1~9 1\u5feb-9\u5c0f --json \u8bbe\u7f6e\u8f93\u51fajson\u6587\u4ef6\u540d --html \u8bbe\u7f6e\u8f93\u51fahtml\u6587\u4ef6\u540d","title":"2.1 \u5feb\u901f\u5904\u7406"},{"location":"tools/Fastp-%E8%B4%A8%E6%8E%A7-%2B%E8%BF%87%E6%BB%A4%E6%95%B0%E6%8D%AE/#22","text":"\u6ce8\u610f\uff1a\u4e00\u5b9a\u8981\u4fee\u6539\u9ed8\u8ba4\u7684\u8f93\u51fa\u6587\u4ef6\u540d\uff0c\u4e0d\u7136\u540e\u9762\u7684\u8f93\u51fa\u4f1a\u8986\u76d6\u524d\u9762\u7684\u9ed8\u8ba4\u6587\u4ef6\u540d #!/bin/bash for i in 71 72 75 76 78 79;do { fastp -i ~/RNAseq/SRR190242${i}_1.fastq.gz -o SRR190242${i}_1.fastq.gz -I ~/RNAseq/SRR190242${i}_2.fastq.gz -O SRR190242${i}_2.fastq.gz -w 8 --html ${i}.html --json ${i}.json } done","title":"2.2 \u4f7f\u7528\u5faa\u73af\u6279\u91cf\u5904\u7406"},{"location":"tools/GTX-zip-%E5%8E%8B%E7%BC%A9%E4%BB%BB%E4%BD%95%E6%96%87%E4%BB%B6/","text":"GTX\u5b98\u65b9github \u4e0b\u8f7d\u5b89\u88c5 curl -SL https://gtz.io/gtz_latest.run -o /tmp/gtz.run && sh /tmp/gtz.run && source ~/.bashrc #\u5982\u679c\u62a5\u9519\uff0c\u6709\u53ef\u80fd\u662f\u670d\u52a1\u5668\u65e0\u6cd5\u8fde\u63a5\u5916\u7f51\uff0c\u624b\u52a8\u4e0b\u8f7d\u5b89\u88c5\u5373\u53ef\u3002 \u624b\u52a8\u4e0b\u8f7d\u5b89\u88c5 \u4e0b\u8f7d\u5730\u5740 sh gtz_latest.run && source ~/.bashrc #\u68c0\u6d4b\u662f\u5426\u5b89\u88c5\u6210\u529f gtz --version GTX\u81ea\u79f0\u53ef\u4ee5\u538b\u7f29\u4efb\u4f55\u683c\u5f0f\u7684\u6587\u4ef6\u3002 \u538b\u7f29\u6587\u4ef6 gtz /data/music.mp3 \u89e3\u538b\u6587\u4ef6 gtz -d music.mp3.gtz \u6709\u53c2\u8003\u57fa\u56e0\u7ec4\u538b\u7f29fastq gtz ./sample1.fastq.gz --ref /maize/genome.fa(.gz) #\u6307\u5b9a\u53c2\u8003\u57fa\u56e0\u7ec4\u53ef\u4ee5\u5927\u5927\u7684\u538b\u7f29\u6587\u4ef6\u7684\u5927\u5c0f \u538b\u7f29bam\u6587\u4ef6\uff0c\u901a\u8fc7\u6307\u5b9a\u53c2\u8003\u57fa\u56e0\u7ec4\uff0c gtz sample.bam --ref /maize/genome.fa.gz","title":"GTX zip \u538b\u7f29\u4efb\u4f55\u6587\u4ef6"},{"location":"tools/GTX-zip-%E5%8E%8B%E7%BC%A9%E4%BB%BB%E4%BD%95%E6%96%87%E4%BB%B6/#_1","text":"curl -SL https://gtz.io/gtz_latest.run -o /tmp/gtz.run && sh /tmp/gtz.run && source ~/.bashrc #\u5982\u679c\u62a5\u9519\uff0c\u6709\u53ef\u80fd\u662f\u670d\u52a1\u5668\u65e0\u6cd5\u8fde\u63a5\u5916\u7f51\uff0c\u624b\u52a8\u4e0b\u8f7d\u5b89\u88c5\u5373\u53ef\u3002","title":"\u4e0b\u8f7d\u5b89\u88c5"},{"location":"tools/GTX-zip-%E5%8E%8B%E7%BC%A9%E4%BB%BB%E4%BD%95%E6%96%87%E4%BB%B6/#_2","text":"\u4e0b\u8f7d\u5730\u5740 sh gtz_latest.run && source ~/.bashrc #\u68c0\u6d4b\u662f\u5426\u5b89\u88c5\u6210\u529f gtz --version","title":"\u624b\u52a8\u4e0b\u8f7d\u5b89\u88c5"},{"location":"tools/GTX-zip-%E5%8E%8B%E7%BC%A9%E4%BB%BB%E4%BD%95%E6%96%87%E4%BB%B6/#gtx","text":"\u538b\u7f29\u6587\u4ef6 gtz /data/music.mp3 \u89e3\u538b\u6587\u4ef6 gtz -d music.mp3.gtz \u6709\u53c2\u8003\u57fa\u56e0\u7ec4\u538b\u7f29fastq gtz ./sample1.fastq.gz --ref /maize/genome.fa(.gz) #\u6307\u5b9a\u53c2\u8003\u57fa\u56e0\u7ec4\u53ef\u4ee5\u5927\u5927\u7684\u538b\u7f29\u6587\u4ef6\u7684\u5927\u5c0f","title":"GTX\u81ea\u79f0\u53ef\u4ee5\u538b\u7f29\u4efb\u4f55\u683c\u5f0f\u7684\u6587\u4ef6\u3002"},{"location":"tools/GTX-zip-%E5%8E%8B%E7%BC%A9%E4%BB%BB%E4%BD%95%E6%96%87%E4%BB%B6/#bam","text":"gtz sample.bam --ref /maize/genome.fa.gz","title":"\u538b\u7f29bam\u6587\u4ef6\uff0c\u901a\u8fc7\u6307\u5b9a\u53c2\u8003\u57fa\u56e0\u7ec4\uff0c"},{"location":"tools/TOOL-Dsuite--%E5%9F%BA%E5%9B%A0%E6%B8%97%E5%85%A5%E5%88%86%E6%9E%90%E5%B7%A5%E5%85%B7/","text":"\u770b 2020\u5e74\u65b0\u53d1\u8868\u7684\u6587\u7ae0 \uff0c\u628a\u57fa\u56e0\u6e10\u6e17\u5de5\u5177\u5206\u4e3a\u51e0\u7c7b\u3002 - \u7b2c\u4e00\u7c7b\u57fa\u4e8e\u79cd\u95f4\u7fa4\u4f53\u57fa\u56e0\u9891\u7387\u53d8\u5f02\u5206\u6790 (Fst, LD, STRUCTURE, AFS, TreeMix)\u548c - \u7b2c\u4e8c\u7c7b\u57fa\u4e8e\u79cd\u95f4DNA\u5e8f\u5217\u5dee\u5f02\u5206\u6790(ABBA-BABA, IM, IIM, ABC) \u65b9\u6cd5, \u5e38\u7528\u7684\u5206\u6790\u57fa\u56e0\u6e17\u5165\u7684\u5de5\u5177\u6709\uff1a MixMapper\uff0cTreeMix \u548c TARGet \uff0cshapiet(\u4eba\u7c7b)\uff0cDsuite Dsuite\u53c8\u79f0\u4e3aABBA BABA test\u3002 Dsuite github\u6559\u7a0b Dsuite \u4e2d\u6587\u6559\u7a0b \u4f7f\u7528plink\u5c06vcf\u8f6c\u6362\u6210treeMix\u53ef\u4ee5\u4f7f\u7528\u7684\u683c\u5f0f 1. Dsuite\u7684\u5b89\u88c5 \u53c2\u8003\u5730\u5740 cd ~/software/Dsuite git clone https://github.com/millanek/Dsuite.git cd Dsuite make \u6d4b\u8bd5\u547d\u4ee4 ./Build/Dsuite \u6dfb\u52a0\u73af\u5883\u53d8\u91cf echo 'export PATH=$HOME/software/Dsuite/Dsuite/Build:$PATH' >>~/.bashrc source ~/.bashrc Dsuite #\u6d4b\u8bd5\u547d\u4ee4\u5373\u53ef\u8fd0\u884c 2. \u8f93\u5165\u6587\u4ef6 call snp\u548cindel\u7684vcf\u6587\u4ef6\uff0c\u53ef\u4ee5\u662f\u538b\u7f29\u540e\u7684 \u7fa4\u4f53/\u7269\u79cd\u56fe(SETS.txt)\uff0c\u4e00\u4e2a\u6587\u672c\u6587\u4ef6\uff0c\u6bcf\u884c\u4ee3\u8868\u4e00\u4e2a\u4e2a\u4f53\uff0c\u548c\u5176\u6240\u5c5e\u7684\u7269\u79cd/\u79cd\u7fa4\u540d\u79f0\uff0c\u5982\u4e0b\u6240\u793a\u3002 \u6d4b\u8bd5\u6587\u4ef6\u4e0b\u8f7d VCF file (\u6b64\u6587\u4ef648M,\u4f7f\u7528XDM\u4e0b\u8f7d\u53ea\u89812min) wget http://cichlid.gurdon.cam.ac.uk/Malinsky_et_al_2018_LakeMalawiCichlids_scaffold_0.vcf.gz wget\u4e0b\u8f7d\u592a\u6162\u4e86\u3002 ##### \u7fa4\u4f53\u6587\u4ef6sets.txt wget http://cichlid.gurdon.cam.ac.uk/sets.txt sets.txt\u7684\u6587\u4ef6\u683c\u5f0f\u5982\u4e0b Placidochromis_cf_longimanus_1 Placidochromis_cf_longimanus Placidochromis_cf_longimanus_2 Placidochromis_cf_longimanus Placidochromis_cf_longimanus_3 Placidochromis_cf_longimanus Placidochromis_cf_longimanus_4 Placidochromis_cf_longimanus Placidochromis_cf_longimanus_5 Placidochromis_cf_longimanus Placidochromis_milomo Placidochromis_milomo Placidochromis_subocularis_1 Placidochromis_subocularis Placidochromis_subocularis_2 Placidochromis_subocularis Placidochromis_subocularis_3 Placidochromis_subocularis Placidochromis_subocularis_4 Placidochromis_subocularis Placidochromis_subocularis_5 Placidochromis_subocularis Placidochromis_subocularis_6 Placidochromis_subocularis Placidochromis_subocularis_7 Placidochromis_subocularis Placidochromis_subocularis_8 Placidochromis_subocularis Nbrichardi Outgroup \u7fa4\u4f53\u6587\u4ef6sets.txt\u8981\u6c42 \u5de6\u8fb9\u662fvcf\u91cc\u9762\u5bf9\u5e94\u7684\u6837\u672c\u540d\u79f0\uff0c\u53f3\u8fb9\u662f\u7fa4\u4f53\u540d\u79f0/\u54c1\u79cd\u540d\u79f0\uff08Population/species \uff09\uff0c\u5fc5\u987b\u8981\u6709\u81f3\u5c11\u4e00\u884c\uff0c\u53f3\u4fa7\u662fOutgroup\uff0c\u5982\u679cvcf\u91cc\u9762\u67d0\u4e2a\u6750\u6599\u4e0d\u60f3\u52a0\u5165\u5206\u6790\uff0c\u53f3\u4fa7\u53ef\u4f7f\u7528 xxx \u4ee3\u66ff\u7fa4\u4f53\u540d\u79f0\u3002 \u53ef\u9009\u6587\u4ef6\uff1a Newick\u683c\u5f0f\u7684\u6811\u3002 \u6811\u5e94\u5177\u6709\u4e0e\u7269\u79cd/\u79cd\u7fa4\u540d\u79f0\u76f8\u5bf9\u5e94\u7684\u53f6\u5b50\u6807\u7b7e\u3002\u5206\u652f\u957f\u5ea6\u53ef\u4ee5\u5b58\u5728\uff0c\u4f46\u4e0d\u4f7f\u7528\u3002 \u6709\u6548\u7684\u4f8b\u5b50\uff1a (Species2,(Species1,(Species3,Species4))); (Species2:6.0,(Species1:5.0,(Species3:3.0,Species4:4.0))); Dinvestigate\u4f7f\u7528\u7684test_trios.txt\u6587\u4ef6\u3002 \u6bcf\u884c\u4e00\u4e2a\u4e09\u4eba\u53e3/\u79cd\uff0c\u7531\u6807\u7b7e\u6309\u987a\u5e8f\u5206\u9694P1 P2 P3\uff1a Species1 Species2 Species3 Species1 Species4 Species2 ... ... ... 3. \u8fd0\u884c \u4f7f\u7528\u6d4b\u8bd5\u6587\u4ef6 3.1 \u4f7f\u7528Dtrios Dsuite Dtrios Malinsky_et_al_2018_LakeMalawiCichlids_scaffold_0.vcf.gz sets.txt \u751f\u6210\u6587\u4ef6 -rw-r--r-- 1 chaim bioinf 7.9M Sep 3 23:19 sets_BBAA.txt -rw-r--r-- 1 chaim bioinf 3.2G Sep 3 23:19 sets_combine_stderr.txt -rw-r--r-- 1 chaim bioinf 8.0M Sep 3 23:19 sets_combine.txt -rw-r--r-- 1 chaim bioinf 7.9M Sep 3 23:19 sets_Dmin.txt 3.2 \u4f7f\u7528Dinvestigate-\u5bf9D\u663e\u7740\u5347\u9ad8\u7684\u4e09\u91cd\u594f\u8fdb\u884c\u540e\u7eed\u5206\u6790\uff1a\u5728\u6cbf\u57fa\u56e0\u7ec4\u7684\u7a97\u53e3\u4e2d\u8ba1\u7b97D\uff0cf_d\u548cf_dM \uff08\u53ef\u9009\u5de5\u5177\uff0c\u9700\u8981\u6709\u53ef\u9009\u5206\u7ec4\u7684\u6587\u4ef6\uff09 Dsuite Dinvestigate [OPTIONS] Malinsky_et_al_2018_LakeMalawiCichlids_scaffold_0.vcf.gz sets.txt test_trios.txt 3.3 Fbranch-\u4e00\u79cd\u542f\u53d1\u5f0f\u65b9\u6cd5\uff0c\u65e8\u5728\u5e2e\u52a9\u89e3\u91ca\u8bb8\u591a\u76f8\u5173\u7684f4\u6bd4\u7387\u7ed3\u679c \uff08\u53ef\u9009\u5de5\u5177\uff0c\u9700\u8981\u6709\u53ef\u9009\u5206\u7ec4\u7684\u6587\u4ef6\uff09 Dsuite Fbranch [OPTIONS] TREE_FILE.nwk FVALS_tree.txt > fbranch.txt 4.\u5206\u6790Dtrios\u7684\u8f93\u51fa\u6587\u4ef6 \u67e5\u770b\u8f93\u51fa\u7684\u6587\u4ef6 head -3 sets_Dmin.txt P1 P2 P3 Dstatistic Z-score p-value f4-ratio BBAA ABBA BABA Alticorpus_macrocleithrum Alticorpus_geoffreyi A_calliptera 0.00562169 0.447147 0.327385 0.00349955 4233.37 1722.86 1703.6 Aulonocara_minutus Alticorpus_geoffreyi A_calliptera 0.0084396 0.694493 0.243687 0.00516657 4314.48 1702.72 1674.22","title":"TOOL Dsuite  \u57fa\u56e0\u6e17\u5165\u5206\u6790\u5de5\u5177"},{"location":"tools/TOOL-Dsuite--%E5%9F%BA%E5%9B%A0%E6%B8%97%E5%85%A5%E5%88%86%E6%9E%90%E5%B7%A5%E5%85%B7/#1-dsuite","text":"cd ~/software/Dsuite git clone https://github.com/millanek/Dsuite.git cd Dsuite make \u6d4b\u8bd5\u547d\u4ee4 ./Build/Dsuite \u6dfb\u52a0\u73af\u5883\u53d8\u91cf echo 'export PATH=$HOME/software/Dsuite/Dsuite/Build:$PATH' >>~/.bashrc source ~/.bashrc Dsuite #\u6d4b\u8bd5\u547d\u4ee4\u5373\u53ef\u8fd0\u884c","title":"1. Dsuite\u7684\u5b89\u88c5 \u53c2\u8003\u5730\u5740"},{"location":"tools/TOOL-Dsuite--%E5%9F%BA%E5%9B%A0%E6%B8%97%E5%85%A5%E5%88%86%E6%9E%90%E5%B7%A5%E5%85%B7/#2","text":"call snp\u548cindel\u7684vcf\u6587\u4ef6\uff0c\u53ef\u4ee5\u662f\u538b\u7f29\u540e\u7684 \u7fa4\u4f53/\u7269\u79cd\u56fe(SETS.txt)\uff0c\u4e00\u4e2a\u6587\u672c\u6587\u4ef6\uff0c\u6bcf\u884c\u4ee3\u8868\u4e00\u4e2a\u4e2a\u4f53\uff0c\u548c\u5176\u6240\u5c5e\u7684\u7269\u79cd/\u79cd\u7fa4\u540d\u79f0\uff0c\u5982\u4e0b\u6240\u793a\u3002","title":"2. \u8f93\u5165\u6587\u4ef6"},{"location":"tools/TOOL-Dsuite--%E5%9F%BA%E5%9B%A0%E6%B8%97%E5%85%A5%E5%88%86%E6%9E%90%E5%B7%A5%E5%85%B7/#_1","text":"","title":"\u6d4b\u8bd5\u6587\u4ef6\u4e0b\u8f7d"},{"location":"tools/TOOL-Dsuite--%E5%9F%BA%E5%9B%A0%E6%B8%97%E5%85%A5%E5%88%86%E6%9E%90%E5%B7%A5%E5%85%B7/#vcf-file-48mxdm2min","text":"wget http://cichlid.gurdon.cam.ac.uk/Malinsky_et_al_2018_LakeMalawiCichlids_scaffold_0.vcf.gz wget\u4e0b\u8f7d\u592a\u6162\u4e86\u3002 ##### \u7fa4\u4f53\u6587\u4ef6sets.txt wget http://cichlid.gurdon.cam.ac.uk/sets.txt sets.txt\u7684\u6587\u4ef6\u683c\u5f0f\u5982\u4e0b Placidochromis_cf_longimanus_1 Placidochromis_cf_longimanus Placidochromis_cf_longimanus_2 Placidochromis_cf_longimanus Placidochromis_cf_longimanus_3 Placidochromis_cf_longimanus Placidochromis_cf_longimanus_4 Placidochromis_cf_longimanus Placidochromis_cf_longimanus_5 Placidochromis_cf_longimanus Placidochromis_milomo Placidochromis_milomo Placidochromis_subocularis_1 Placidochromis_subocularis Placidochromis_subocularis_2 Placidochromis_subocularis Placidochromis_subocularis_3 Placidochromis_subocularis Placidochromis_subocularis_4 Placidochromis_subocularis Placidochromis_subocularis_5 Placidochromis_subocularis Placidochromis_subocularis_6 Placidochromis_subocularis Placidochromis_subocularis_7 Placidochromis_subocularis Placidochromis_subocularis_8 Placidochromis_subocularis Nbrichardi Outgroup","title":"VCF file (\u6b64\u6587\u4ef648M,\u4f7f\u7528XDM\u4e0b\u8f7d\u53ea\u89812min)"},{"location":"tools/TOOL-Dsuite--%E5%9F%BA%E5%9B%A0%E6%B8%97%E5%85%A5%E5%88%86%E6%9E%90%E5%B7%A5%E5%85%B7/#setstxt","text":"\u5de6\u8fb9\u662fvcf\u91cc\u9762\u5bf9\u5e94\u7684\u6837\u672c\u540d\u79f0\uff0c\u53f3\u8fb9\u662f\u7fa4\u4f53\u540d\u79f0/\u54c1\u79cd\u540d\u79f0\uff08Population/species \uff09\uff0c\u5fc5\u987b\u8981\u6709\u81f3\u5c11\u4e00\u884c\uff0c\u53f3\u4fa7\u662fOutgroup\uff0c\u5982\u679cvcf\u91cc\u9762\u67d0\u4e2a\u6750\u6599\u4e0d\u60f3\u52a0\u5165\u5206\u6790\uff0c\u53f3\u4fa7\u53ef\u4f7f\u7528 xxx \u4ee3\u66ff\u7fa4\u4f53\u540d\u79f0\u3002","title":"\u7fa4\u4f53\u6587\u4ef6sets.txt\u8981\u6c42"},{"location":"tools/TOOL-Dsuite--%E5%9F%BA%E5%9B%A0%E6%B8%97%E5%85%A5%E5%88%86%E6%9E%90%E5%B7%A5%E5%85%B7/#_2","text":"Newick\u683c\u5f0f\u7684\u6811\u3002 \u6811\u5e94\u5177\u6709\u4e0e\u7269\u79cd/\u79cd\u7fa4\u540d\u79f0\u76f8\u5bf9\u5e94\u7684\u53f6\u5b50\u6807\u7b7e\u3002\u5206\u652f\u957f\u5ea6\u53ef\u4ee5\u5b58\u5728\uff0c\u4f46\u4e0d\u4f7f\u7528\u3002 \u6709\u6548\u7684\u4f8b\u5b50\uff1a (Species2,(Species1,(Species3,Species4))); (Species2:6.0,(Species1:5.0,(Species3:3.0,Species4:4.0))); Dinvestigate\u4f7f\u7528\u7684test_trios.txt\u6587\u4ef6\u3002 \u6bcf\u884c\u4e00\u4e2a\u4e09\u4eba\u53e3/\u79cd\uff0c\u7531\u6807\u7b7e\u6309\u987a\u5e8f\u5206\u9694P1 P2 P3\uff1a Species1 Species2 Species3 Species1 Species4 Species2 ... ... ...","title":"\u53ef\u9009\u6587\u4ef6\uff1a"},{"location":"tools/TOOL-Dsuite--%E5%9F%BA%E5%9B%A0%E6%B8%97%E5%85%A5%E5%88%86%E6%9E%90%E5%B7%A5%E5%85%B7/#3","text":"\u4f7f\u7528\u6d4b\u8bd5\u6587\u4ef6","title":"3. \u8fd0\u884c"},{"location":"tools/TOOL-Dsuite--%E5%9F%BA%E5%9B%A0%E6%B8%97%E5%85%A5%E5%88%86%E6%9E%90%E5%B7%A5%E5%85%B7/#31-dtrios","text":"Dsuite Dtrios Malinsky_et_al_2018_LakeMalawiCichlids_scaffold_0.vcf.gz sets.txt \u751f\u6210\u6587\u4ef6 -rw-r--r-- 1 chaim bioinf 7.9M Sep 3 23:19 sets_BBAA.txt -rw-r--r-- 1 chaim bioinf 3.2G Sep 3 23:19 sets_combine_stderr.txt -rw-r--r-- 1 chaim bioinf 8.0M Sep 3 23:19 sets_combine.txt -rw-r--r-- 1 chaim bioinf 7.9M Sep 3 23:19 sets_Dmin.txt","title":"3.1 \u4f7f\u7528Dtrios"},{"location":"tools/TOOL-Dsuite--%E5%9F%BA%E5%9B%A0%E6%B8%97%E5%85%A5%E5%88%86%E6%9E%90%E5%B7%A5%E5%85%B7/#32-dinvestigate-ddf_df_dm","text":"\uff08\u53ef\u9009\u5de5\u5177\uff0c\u9700\u8981\u6709\u53ef\u9009\u5206\u7ec4\u7684\u6587\u4ef6\uff09 Dsuite Dinvestigate [OPTIONS] Malinsky_et_al_2018_LakeMalawiCichlids_scaffold_0.vcf.gz sets.txt test_trios.txt","title":"3.2 \u4f7f\u7528Dinvestigate-\u5bf9D\u663e\u7740\u5347\u9ad8\u7684\u4e09\u91cd\u594f\u8fdb\u884c\u540e\u7eed\u5206\u6790\uff1a\u5728\u6cbf\u57fa\u56e0\u7ec4\u7684\u7a97\u53e3\u4e2d\u8ba1\u7b97D\uff0cf_d\u548cf_dM"},{"location":"tools/TOOL-Dsuite--%E5%9F%BA%E5%9B%A0%E6%B8%97%E5%85%A5%E5%88%86%E6%9E%90%E5%B7%A5%E5%85%B7/#33-fbranch-f4","text":"\uff08\u53ef\u9009\u5de5\u5177\uff0c\u9700\u8981\u6709\u53ef\u9009\u5206\u7ec4\u7684\u6587\u4ef6\uff09 Dsuite Fbranch [OPTIONS] TREE_FILE.nwk FVALS_tree.txt > fbranch.txt","title":"3.3 Fbranch-\u4e00\u79cd\u542f\u53d1\u5f0f\u65b9\u6cd5\uff0c\u65e8\u5728\u5e2e\u52a9\u89e3\u91ca\u8bb8\u591a\u76f8\u5173\u7684f4\u6bd4\u7387\u7ed3\u679c"},{"location":"tools/TOOL-Dsuite--%E5%9F%BA%E5%9B%A0%E6%B8%97%E5%85%A5%E5%88%86%E6%9E%90%E5%B7%A5%E5%85%B7/#4dtrios","text":"\u67e5\u770b\u8f93\u51fa\u7684\u6587\u4ef6 head -3 sets_Dmin.txt P1 P2 P3 Dstatistic Z-score p-value f4-ratio BBAA ABBA BABA Alticorpus_macrocleithrum Alticorpus_geoffreyi A_calliptera 0.00562169 0.447147 0.327385 0.00349955 4233.37 1722.86 1703.6 Aulonocara_minutus Alticorpus_geoffreyi A_calliptera 0.0084396 0.694493 0.243687 0.00516657 4314.48 1702.72 1674.22","title":"4.\u5206\u6790Dtrios\u7684\u8f93\u51fa\u6587\u4ef6"},{"location":"tools/TOOLS-Snakemake%E7%94%A8%E4%BA%8E%E8%87%AA%E5%8A%A8%E5%8C%96%E4%BB%BB%E5%8A%A1%E6%8A%95%E9%80%92%EF%BC%8Cshell%E8%84%9A%E6%9C%AC%E7%9A%84%E6%9B%BF%E4%BB%A3%E8%80%85/","text":"\u636e\u8bf4\uff0csnakemake\u6bd4shell\u811a\u672c\u66f4\u9002\u5408\u4e8e\u81ea\u52a8\u5316\u4efb\u52a1\u7684\u6295\u653e\u3002\u76ee\u524d\u6211\u7528\u7684\u6bd4\u8f83\u591a\u7684\u662fshell\u811a\u672c\u3002\u5bf9\u4e8e\u516c\u5171\u670d\u52a1\u5668\u96c6\u7fa4\uff0c\u9700\u8981\u6309\u8282\u70b9\u5206\u914d\u4f7f\u7528\u7684\u3002\u6216\u8bb8snakemake\u66f4\u9002\u5408\u3002 snakemake\u5b98\u7f51 \u53c2\u8003\u5730\u5740\u4e00 \u5f90\u5dde\u66f4\u6559\u7a0b snakemake\u662fpython\u7f16\u5199\u7684\u3002\u89e3\u91ca\uff1asnake + make =snake make ,snake \u6e90\u4e8epython\u3002\u86c7&\u87d2\u86c7\u3002make\u548c\u6211\u4eec\u5e73\u65f6\u7528\u7684make\u7f16\u8bd1\u547d\u4ee4\u4e00\u6837\u3002\u4e0d\u8fc7snakemake\u7528\u7684\u662fpython\u7f16\u8bd1\uff0cmake\u7528\u7684\u662fC\u7f16\u8bd1\u3002 snakemake\u5b98\u65b9\u63a8\u8350\u5b89\u88c5mini conda3\u3002 \u5728\u6ca1\u6709root\u6743\u9650\u7684\u670d\u52a1\u5668\u5b89\u88c5\u65f6\u5019\uff0c\u9700\u8981\u7279\u522b\u8bbe\u5b9a\u3002 \u4f7f\u7528miniconda3\u5b89\u88c5snakemake \u4e25\u683c\u6309\u7167\u5b98\u7f51\u7684\u63a8\u8350\u5b89\u88c5 conda install -c conda-forge mamba #\u4f7f\u7528mamba\u5b89\u88c5snakemake mamba create -c conda-forge -c bioconda -n snakemake snakemake mamba \u662fc++\u7f16\u5199\u7684conda\u5305\u7ba1\u7406\u5668\u7684\u91cd\u65b0\u5b9e\u73b0\u3002\u901f\u5ea6\u66f4\u5feb\uff0c\u652f\u6301\u591a\u7ebf\u7a0b\u5e76\u884c\u4e0b\u8f7d\u5305\u548c\u4f9d\u8d56\u6587\u4ef6\u3002\u7b80\u5355\u8bf4mamba\u662fconda\u7684\u5347\u7ea7\u7248\uff0c\u901f\u5ea6\u66f4\u5feb\uff0c\u529f\u80fd\u66f4\u5f3a\u3002 \u542f\u52a8\u548c\u9000\u51fa conda activate snakemake \u542f\u52a8snakemake\u73af\u5883\uff0c\u5728\u73af\u5883\u91cc\u53ef\u4ee5\u8fd0\u884csnakemake conda deactivate \u9000\u51fasnakemake\u73af\u5883 snakemake\u8981\u6c42python\u7248\u672c\u662f3.5-3.6 \uff0c3.7\u5c31\u4e0d\u884c\u3002 snakemake\u6784\u5efa\u5206\u6790\u6d41\u7a0b \u8fd0\u884c\u524d\u6d4b\u8bd5\u6d41\u7a0b snakemake - \u5c06\u8fd0\u884c\u6d41\u7a0b\u56fe\u5c55\u793a\u51fa\u6765 snakemake --dag | dot -Tpdf > dag.pdf \u8fd0\u884c\u547d\u4ee4\u8c03\u7528SLF\u96c6\u7fa4\u7ba1\u7406\u7cfb\u7edf snakemake -c \"bsub -n 10 -q \u96c6\u7fa4\u7684\u8282\u70b9 \" -j 4 \u6211\u4eec\u96c6\u7fa4\u6709normal\u548cfat\u8fd9\u4e24\u4e2a\u8282\u70b9\uff0c \u63d0\u4ea4BSA\u4efb\u52a1\u5230fat\u8282\u70b9\uff0c\u5e76\u884c4\u4e2a\u4efb\u52a1\uff0c\u6bcf\u4e2a\u4efb\u52a1\u4f7f\u752810\u4e2acpu,\u5c31\u662f\u5982\u4e0b\uff1a snakemake -c \"bsub -n 10 -q fat\" -j 4 -s BSA.py \u4f7f\u7528qsub\u96c6\u7fa4\u5173\u95ed\u7cfb\u7edf snakemake -c \"qsub -V -cwd -q \u961f\u5217\u540d\u79f0\" -j 8 -s QC.snakefile \u6307\u5b9a\u6587\u4ef6\u540d\u79f0\u8fd0\u884c","title":"TOOLS Snakemake\u7528\u4e8e\u81ea\u52a8\u5316\u4efb\u52a1\u6295\u9012\uff0cshell\u811a\u672c\u7684\u66ff\u4ee3\u8005"},{"location":"tools/TOOLS-Snakemake%E7%94%A8%E4%BA%8E%E8%87%AA%E5%8A%A8%E5%8C%96%E4%BB%BB%E5%8A%A1%E6%8A%95%E9%80%92%EF%BC%8Cshell%E8%84%9A%E6%9C%AC%E7%9A%84%E6%9B%BF%E4%BB%A3%E8%80%85/#miniconda3snakemake","text":"\u4e25\u683c\u6309\u7167\u5b98\u7f51\u7684\u63a8\u8350\u5b89\u88c5 conda install -c conda-forge mamba #\u4f7f\u7528mamba\u5b89\u88c5snakemake mamba create -c conda-forge -c bioconda -n snakemake snakemake mamba \u662fc++\u7f16\u5199\u7684conda\u5305\u7ba1\u7406\u5668\u7684\u91cd\u65b0\u5b9e\u73b0\u3002\u901f\u5ea6\u66f4\u5feb\uff0c\u652f\u6301\u591a\u7ebf\u7a0b\u5e76\u884c\u4e0b\u8f7d\u5305\u548c\u4f9d\u8d56\u6587\u4ef6\u3002\u7b80\u5355\u8bf4mamba\u662fconda\u7684\u5347\u7ea7\u7248\uff0c\u901f\u5ea6\u66f4\u5feb\uff0c\u529f\u80fd\u66f4\u5f3a\u3002","title":"\u4f7f\u7528miniconda3\u5b89\u88c5snakemake"},{"location":"tools/TOOLS-Snakemake%E7%94%A8%E4%BA%8E%E8%87%AA%E5%8A%A8%E5%8C%96%E4%BB%BB%E5%8A%A1%E6%8A%95%E9%80%92%EF%BC%8Cshell%E8%84%9A%E6%9C%AC%E7%9A%84%E6%9B%BF%E4%BB%A3%E8%80%85/#_1","text":"conda activate snakemake \u542f\u52a8snakemake\u73af\u5883\uff0c\u5728\u73af\u5883\u91cc\u53ef\u4ee5\u8fd0\u884csnakemake conda deactivate \u9000\u51fasnakemake\u73af\u5883 snakemake\u8981\u6c42python\u7248\u672c\u662f3.5-3.6 \uff0c3.7\u5c31\u4e0d\u884c\u3002","title":"\u542f\u52a8\u548c\u9000\u51fa"},{"location":"tools/TOOLS-Snakemake%E7%94%A8%E4%BA%8E%E8%87%AA%E5%8A%A8%E5%8C%96%E4%BB%BB%E5%8A%A1%E6%8A%95%E9%80%92%EF%BC%8Cshell%E8%84%9A%E6%9C%AC%E7%9A%84%E6%9B%BF%E4%BB%A3%E8%80%85/#snakemake","text":"","title":"snakemake\u6784\u5efa\u5206\u6790\u6d41\u7a0b"},{"location":"tools/TOOLS-Snakemake%E7%94%A8%E4%BA%8E%E8%87%AA%E5%8A%A8%E5%8C%96%E4%BB%BB%E5%8A%A1%E6%8A%95%E9%80%92%EF%BC%8Cshell%E8%84%9A%E6%9C%AC%E7%9A%84%E6%9B%BF%E4%BB%A3%E8%80%85/#_2","text":"snakemake -","title":"\u8fd0\u884c\u524d\u6d4b\u8bd5\u6d41\u7a0b"},{"location":"tools/TOOLS-Snakemake%E7%94%A8%E4%BA%8E%E8%87%AA%E5%8A%A8%E5%8C%96%E4%BB%BB%E5%8A%A1%E6%8A%95%E9%80%92%EF%BC%8Cshell%E8%84%9A%E6%9C%AC%E7%9A%84%E6%9B%BF%E4%BB%A3%E8%80%85/#_3","text":"snakemake --dag | dot -Tpdf > dag.pdf","title":"\u5c06\u8fd0\u884c\u6d41\u7a0b\u56fe\u5c55\u793a\u51fa\u6765"},{"location":"tools/TOOLS-Snakemake%E7%94%A8%E4%BA%8E%E8%87%AA%E5%8A%A8%E5%8C%96%E4%BB%BB%E5%8A%A1%E6%8A%95%E9%80%92%EF%BC%8Cshell%E8%84%9A%E6%9C%AC%E7%9A%84%E6%9B%BF%E4%BB%A3%E8%80%85/#slf","text":"snakemake -c \"bsub -n 10 -q \u96c6\u7fa4\u7684\u8282\u70b9 \" -j 4 \u6211\u4eec\u96c6\u7fa4\u6709normal\u548cfat\u8fd9\u4e24\u4e2a\u8282\u70b9\uff0c \u63d0\u4ea4BSA\u4efb\u52a1\u5230fat\u8282\u70b9\uff0c\u5e76\u884c4\u4e2a\u4efb\u52a1\uff0c\u6bcf\u4e2a\u4efb\u52a1\u4f7f\u752810\u4e2acpu,\u5c31\u662f\u5982\u4e0b\uff1a snakemake -c \"bsub -n 10 -q fat\" -j 4 -s BSA.py","title":"\u8fd0\u884c\u547d\u4ee4\u8c03\u7528SLF\u96c6\u7fa4\u7ba1\u7406\u7cfb\u7edf"},{"location":"tools/TOOLS-Snakemake%E7%94%A8%E4%BA%8E%E8%87%AA%E5%8A%A8%E5%8C%96%E4%BB%BB%E5%8A%A1%E6%8A%95%E9%80%92%EF%BC%8Cshell%E8%84%9A%E6%9C%AC%E7%9A%84%E6%9B%BF%E4%BB%A3%E8%80%85/#qsub","text":"snakemake -c \"qsub -V -cwd -q \u961f\u5217\u540d\u79f0\" -j 8 -s QC.snakefile","title":"\u4f7f\u7528qsub\u96c6\u7fa4\u5173\u95ed\u7cfb\u7edf"},{"location":"tools/TOOLS-Snakemake%E7%94%A8%E4%BA%8E%E8%87%AA%E5%8A%A8%E5%8C%96%E4%BB%BB%E5%8A%A1%E6%8A%95%E9%80%92%EF%BC%8Cshell%E8%84%9A%E6%9C%AC%E7%9A%84%E6%9B%BF%E4%BB%A3%E8%80%85/#_4","text":"","title":"\u6307\u5b9a\u6587\u4ef6\u540d\u79f0\u8fd0\u884c"},{"location":"tools/TOOLS-sambamba%E7%94%A8%E4%BA%8E%E6%9B%BF%E4%BB%A3samtools/","text":"sambamba github sambamba\u4ece\u540d\u5b57\u770b\u51fa\uff0c\u4e3b\u8981\u662f\u7528\u4e8e\u5904\u7406sam\u3001bam\u683c\u5f0f\u7684\u6587\u4ef6\u3002\u6700\u521d\u5f00\u53d1\u7684\u76ee\u7684\u7528\u6765\u66ff\u4ee3samtools\u3002 \u76f4\u63a5\u4f7f\u7528\u7f16\u8bd1\u597d\u7684\u9759\u6001\u6587\u4ef6 wget https://github.com/biod/sambamba/releases/download/v0.7.1/sambamba-0.7.1-linux-static.gz gzip -d sambamba-0.7.1-linux-static.gz mv sambamba-0.7.1-linux-static.gz sambamba chmod 757 sambamba #\u624b\u52a8\u6dfb\u52a0path ##\u6d4b\u8bd5 ./sambamba","title":"TOOLS sambamba\u7528\u4e8e\u66ff\u4ee3samtools"},{"location":"tools/TOOLS%EF%BC%9ALSF%E4%BB%BB%E5%8A%A1%E6%8A%95%E9%80%92%E9%9B%86%E7%BE%A4%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%E7%9A%84%E4%BD%BF%E7%94%A8/","text":"LSF\u7cfb\u7edf\u7c7b\u4f3c\u4e8ePBS/qsub\u7cfb\u7edf\u3002 \u6295\u9012\u4efb\u52a1\u547d\u4ee4\uff1a bsub -n 16 -o test.out -e test.err -q normal ./test.sh \u53c2\u6570\u8bf4\u660e\uff1a + -n \u6307\u5b9a\u8fd0\u884c\u7684cpu\u6570\u91cf\u53ef\u4ee5\u662f 16 \u6216\u8005 8,24 \u683c\u5f0f\u81ea\u5b9a\u4e49\u6700\u5c11\u548c\u6700\u5927\u3002\u6570\u91cf\u6700\u597d\u662f8\u7684\u500d\u6570\u3002 + -o \u6307\u5b9a\u8f93\u51fa\u6587\u4ef6\u540d + -e \u6307\u5b9a\u9519\u8bef\u8f93\u51fa\u6587\u4ef6\u540d + -q \u6307\u5b9a\u8fd0\u884c\u7684\u8282\u70b9 + ./test.sh \u662f\u771f\u6b63\u9700\u8981\u8fd0\u884c\u7684\u4efb\u52a1\u3002\u5148\u6dfb\u52a0\u53ef\u6267\u884c\u6743\u9650\uff0c chmod 757 ./test.sh \u67e5\u770b\u6709\u54ea\u4e9b\u8282\u70b9 bqueues \u53ef\u4ee5\u770b\u51fa\uff0c\u6709fat\u548cnormal\u8282\u70b9\uff0c\u4e00\u822c\u5c0f\u4efb\u52a1\u4f7f\u7528\u666e\u901a\u8282\u70b9\u3002 normal \u67e5\u770b\u8fd0\u884c\u7684\u4efb\u52a1 bjobs \u53c2\u6570 : + bjobs -u all \u67e5\u770b\u6240\u6709\u7528\u6237\u7684\u4efb\u52a1 + bjobs -u zhangsan \u67e5\u770bzhangsan\u7684\u4efb\u52a1 + bjobs -l \u67e5\u770b\u4efb\u52a1\u8be6\u7ec6\u4fe1\u606f + \u4ee5\u5bbd\u683c\u5f0f\u6765\u663e\u793a\u4f5c\u4e1a\u8fd0\u884c\u72b6\u6001\uff1a bjobs -w + \u663e\u793a\u6240\u6709\u4f5c\u4e1a\uff1a bjobs -a + \u663e\u793a\u6b63\u5728\u8fd0\u884c\u7684\u4f5c\u4e1a\uff1a bjobs -r + \u663e\u793a\u7b49\u5f85\u8fd0\u884c(pending)\u7684\u4f5c\u4e1a\u548c\u7b49\u5f85\u7684\u539f\u56e0\uff1a bjobs -p \u663e\u793a\u5df2\u7ecf\u6302\u8d77(suspending)\u7684\u4f5c\u4e1a\u548c\u6302\u8d77\u7684\u539f\u56e0\uff1a bjobs -s + \u663e\u793aJOBID\u8fd9\u4e2a\u4f5c\u4e1a\u7684\u6240\u6709\u4fe1\u606f\uff1a bjobs -l JOBID \u7ec8\u6b62\u4efb\u52a1 bkill JOBID \u5220\u9664\u6307\u5b9a\u7684\u4efb\u52a1id bkill 1441 \u5176\u4ed6\u5e38\u7528\u547d\u4ee4 bpeek \u67e5\u770b\u76ee\u524d\u7684\u4efb\u52a1\u7684\u6807\u6ce8\u8f93\u51fa bhist \u67e5\u770b\u4efb\u52a1\u5386\u53f2 yppasswd \u4fee\u6539\u7528\u6237\u7684\u5bc6\u7801","title":"TOOLS\uff1aLSF\u4efb\u52a1\u6295\u9012\u96c6\u7fa4\u7ba1\u7406\u7cfb\u7edf\u7684\u4f7f\u7528"},{"location":"tools/TOOLS%EF%BC%9ALSF%E4%BB%BB%E5%8A%A1%E6%8A%95%E9%80%92%E9%9B%86%E7%BE%A4%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%E7%9A%84%E4%BD%BF%E7%94%A8/#_1","text":"bqueues \u53ef\u4ee5\u770b\u51fa\uff0c\u6709fat\u548cnormal\u8282\u70b9\uff0c\u4e00\u822c\u5c0f\u4efb\u52a1\u4f7f\u7528\u666e\u901a\u8282\u70b9\u3002 normal","title":"\u67e5\u770b\u6709\u54ea\u4e9b\u8282\u70b9"},{"location":"tools/TOOLS%EF%BC%9ALSF%E4%BB%BB%E5%8A%A1%E6%8A%95%E9%80%92%E9%9B%86%E7%BE%A4%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%E7%9A%84%E4%BD%BF%E7%94%A8/#_2","text":"bjobs \u53c2\u6570 : + bjobs -u all \u67e5\u770b\u6240\u6709\u7528\u6237\u7684\u4efb\u52a1 + bjobs -u zhangsan \u67e5\u770bzhangsan\u7684\u4efb\u52a1 + bjobs -l \u67e5\u770b\u4efb\u52a1\u8be6\u7ec6\u4fe1\u606f + \u4ee5\u5bbd\u683c\u5f0f\u6765\u663e\u793a\u4f5c\u4e1a\u8fd0\u884c\u72b6\u6001\uff1a bjobs -w + \u663e\u793a\u6240\u6709\u4f5c\u4e1a\uff1a bjobs -a + \u663e\u793a\u6b63\u5728\u8fd0\u884c\u7684\u4f5c\u4e1a\uff1a bjobs -r + \u663e\u793a\u7b49\u5f85\u8fd0\u884c(pending)\u7684\u4f5c\u4e1a\u548c\u7b49\u5f85\u7684\u539f\u56e0\uff1a bjobs -p \u663e\u793a\u5df2\u7ecf\u6302\u8d77(suspending)\u7684\u4f5c\u4e1a\u548c\u6302\u8d77\u7684\u539f\u56e0\uff1a bjobs -s + \u663e\u793aJOBID\u8fd9\u4e2a\u4f5c\u4e1a\u7684\u6240\u6709\u4fe1\u606f\uff1a bjobs -l JOBID","title":"\u67e5\u770b\u8fd0\u884c\u7684\u4efb\u52a1"},{"location":"tools/TOOLS%EF%BC%9ALSF%E4%BB%BB%E5%8A%A1%E6%8A%95%E9%80%92%E9%9B%86%E7%BE%A4%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%E7%9A%84%E4%BD%BF%E7%94%A8/#_3","text":"bkill JOBID \u5220\u9664\u6307\u5b9a\u7684\u4efb\u52a1id bkill 1441","title":"\u7ec8\u6b62\u4efb\u52a1"},{"location":"tools/TOOLS%EF%BC%9ALSF%E4%BB%BB%E5%8A%A1%E6%8A%95%E9%80%92%E9%9B%86%E7%BE%A4%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%E7%9A%84%E4%BD%BF%E7%94%A8/#_4","text":"bpeek \u67e5\u770b\u76ee\u524d\u7684\u4efb\u52a1\u7684\u6807\u6ce8\u8f93\u51fa bhist \u67e5\u770b\u4efb\u52a1\u5386\u53f2 yppasswd \u4fee\u6539\u7528\u6237\u7684\u5bc6\u7801","title":"\u5176\u4ed6\u5e38\u7528\u547d\u4ee4"},{"location":"tools/TOOLs-slurm%E9%9B%86%E7%BE%A4%E7%9A%84%E4%BD%BF%E7%94%A8/","text":"\u76ee\u524d\u7528\u8fc7\u7684\u96c6\u7fa4\u7cfb\u7edf\u6709PBS/qsub\u7cfb\u7edf\uff0c\u611f\u89c9\u662f\u547d\u4ee4\u7b80\u5355\uff0c\u5bb9\u6613\u4e0a\u624b\u3002 \u73b0\u5728\u4f7f\u7528\u7684\u662fSLURM\u7cfb\u7edf\uff0c SLURM\u7cfb\u7edf\u5e38\u7528\u547d\u4ee4\u5982\u4e0b\uff1a \u6ce8\u610f\u628a username \u66ff\u6362\u6210\u4f60\u81ea\u5df1\u7684\u8d26\u6237\u540d 1.\u5e38\u7528\u7684\u67e5\u770b\u3001\u53d6\u6d88\u3001\u8fd0\u884c\u547d\u4ee4 sinfo #\u67e5\u770b\u670d\u52a1\u5668\u8282\u70b9\u548c\u5206\u533a squeue -u username #\u67e5\u770b\u4f60\u5f53\u524d\u8fd0\u884c\u7684\u4efb\u52a1 scontrol show job JOBID #\u67e5\u770b\u6307\u5b9a\u7684jobID\u7684\u72b6\u6001 scancel jobid #\u53d6\u6d88\u5bf9\u5e94jobid\u4efb\u52a1 sbatch test.s #\u4ee5\u6279\u547d\u4ee4\u7684\u65b9\u5f0f\u8fd0\u884ctest.s\u8fd9\u4e2a\u6587\u4ef6\u3002 scontrol show node #\u663e\u793a\u6240\u6709node\u8282\u70b9\u7684\u786c\u4ef6\u4fe1\u606f scontrol show node node02\"#\u67e5\u770b\u540d\u5b57\u4e3anode02\u7684\u8282\u70b9\u7684\u786c\u4ef6\u4fe1\u606f smap #\u4ee5\u56fe\u5f62\u7684\u65b9\u5f0f\u663e\u793a\u8fd0\u884c\u7684\u4efb\u52a1 \u4efb\u52a1\u72b6\u6001\u7801\u8bf4\u660e\uff1aPD\u6392\u961f\uff1bR\u8fd0\u884c\uff1bS\u6302\u8d77\uff1bCG\u6b63\u5728\u9000\u51fa \u4e2d\u5fc3\u7684\u670d\u52a1\u5668node01\u5927\u8282\u70b9\uff0c80\u6838\uff0c500G mem,node02-09\u5c0f\u8282\u70b9\uff0c56\u6838\uff0c120G mem\u3002 \u5f53\u63d0\u4ea4\u7684\u4efb\u52a1\u7684cpu\u6570\u91cf\u8d85\u8fc7node\u7684\u603bcpu\u6570\u91cf\u65f6\u5019\uff0c\u4efb\u52a1\u53ef\u4ee5\u88ab\u6b63\u5e38\u63d0\u4ea4\uff0c\u4f46\u662f\u65e0\u6cd5\u88ab\u6267\u884c\u3002 2.test.s\u7684\u5185\u5bb9\u548c\u53c2\u6570 #!/bin/bash #SBATCH -J hisat2 #\u4f5c\u4e1a\u540d #SBATCH -N 1 #\u8282\u70b9\u6570\u91cf #SBATCH -n 4 # \u542f\u52a8\u7684\u6838\u6570\u91cf #SBATCH -t 192:00:00 #\u6700\u5927\u8fd0\u884c\u65f6\u95f4 ##SBATCH --partition=compute* #\u8bbe\u7f6e\u8fd0\u884c\u7684\u5206\u533a\uff0c\u4e0d\u540c\u7684\u5206\u533a\u7684\u786c\u4ef6\u4e0d\u540c\uff08\u4e2d\u5fc3\u7684\u670d\u52a1\u5668\u67092\u4e2a\u5206\u533a\uff0ccompute*\u662f\u5c0f\u8282\u70b9nodes=02-09\uff0cbig\u662f\u5927\u8282\u70b9,nodes=01,\uff09 # set batch script's standard output #SBATCH --output=~/human/hg38/index/hisat2.out echo \" my job id is $START:$SLURM_JOBID \"| tee ~/human/hg38/index/hisat2/hisat2.log echo run nodes is following: | tee -a ~/human/hg38/index/hisat2/hisat2.log echo begin time is `date` | tee -a ~/human/hg38/index/hisat2/hisat2.log id=`echo $PBS_JOBID|awk -F. '{print $1}' ` NP=`cat $PBS_NODEFILE|wc -l` cd /share/home/chaimao/human/hg38/index/ # run the application srun sh hisat2.sh echo end time is `date` | tee -a ~/human/hg38/index/hisat2/hisat2.log ##slurm\u8d44\u6e90\u7ba1\u7406\u7cfb\u7edf\u547d\u4ee4 #\u8fd0\u884c\u547d\u4ee4\u65b9\u5f0f\uff1asbatch run.sh srun sh test.sh #\u5206\u522b\u8fd0\u884c\u5bf9\u5e94\u7684sh\u811a\u672c srun python test.py #\u8fd0\u884cpython\u7a0b\u5e8f srun Rscript test.R #\u8fd0\u884cR\u7a0b\u5e8f \u6ce8\u610f\uff1apartition\u9700\u8981\u81ea\u5df1\u67e5\u770b\u81ea\u5df1\u7684\u670d\u52a1\u5668\u7684\u5206\u533a\u540d\u79f0\uff0c\u4f7f\u7528 sinfo \u547d\u4ee4\u53ef\u4ee5\u67e5\u770b\u5230\u3002 \u53c2\u80031 PBS\u548cslurm\u7684\u547d\u4ee4\u5bf9\u6bd4","title":"TOOLs slurm\u96c6\u7fa4\u7684\u4f7f\u7528"},{"location":"tools/TOOLs-%E9%AB%98%E9%80%9A%E9%87%8F%E6%B5%8B%E5%BA%8F%E6%95%B0%E6%8D%AE%E4%B8%8B%E8%BD%BD%E4%B9%8Baspera%E5%92%8CSRA-Toolkit/","text":"\u9ad8\u901a\u91cf\u6570\u636e\u5e93\u7684\u6570\u636e\uff0c\u4e0b\u8f7d\u65b9\u6cd5\u6709\u4e09\u79cd\uff1a 1. \u5e38\u89c4\u4e0b\u8f7d(wget,\u8fc5\u96f7\u3001IDM) 2. aspera 3. SRA Toolkit \u7684prefetch wget\u4e0b\u8f7d\u6570\u636e\u901f\u5ea6\u5f88\u6162\uff0c\u6bd4\u8f83\u5bb9\u6613\u65ad\u3002 wget -c \u4e0b\u8f7d\u5730\u5740 \u4fdd\u6301\u65ad\u70b9\u4e0b\u8f7d ENA\u6570\u636e\u4e0b\u8f7d\u65b9\u6cd5\u6c47\u603b https://ena-docs.readthedocs.io/en/latest/retrieval/file-download.html#using-wget \u4e0b\u8f7d\u6570\u636e\u5e93 \u4f18\u5148\u9009\u62e9 \u5feb\u901f\u4e0b\u8f7dfq\u683c\u5f0f\u7684\u6570\u636e\uff0c EBI\u6570\u636e\u5e93\u4e0b\u8f7d \u3002 \u4eceEBI\u6570\u636e\u5e93\u76f4\u63a5\u83b7\u53d6\u5230aspera\u7684\u4e0b\u8f7d\u4ee3\u7801\uff0c\u590d\u5236\u5230\u672c\u5730\u670d\u52a1\u5668\uff0c\u53ef\u4ee5\u76f4\u63a5\u8fd0\u884c\u3002 cd ~/wes_cancer/project/1.raw_fq ascp -QT -l 300m -P33001 -i $HOME/.aspera/connect/etc/asperaweb_id_dsa.openssh era-fasp@fasp.sra.ebi.ac.uk:vol1/fastq/SRR318/008/SRR3182418/SRR3182418_2.fastq.gz . ascp -QT -l 300m -P33001 -i $HOME/.aspera/connect/etc/asperaweb_id_dsa.openssh era-fasp@fasp.sra.ebi.ac.uk:vol1/fastq/SRR318/003/SRR3182423/SRR3182423_1.fastq.gz . \u6ce8\u610f\uff1a\u4e0a\u8ff0\u662fapera\u7684\u4e0b\u8f7d\u683c\u5f0f\uff0c\u6700\u540e\u9762\u7684 . \u4ee3\u8868\u4fdd\u5b58\u7684\u8def\u5f84\u662f\u672c\u76ee\u5f55\uff0c\u4e00\u5b9a\u4e0d\u80fd\u7701\u7565\uff0c\u4e0d\u7136\u4f1a\u62a5\u9519\u3002 \u7f51\u7edc\u6709\u65f6\u5019\u4f1a\u63d0\u793aSSH\u6216\u8005UDP\u9519\u8bef\uff0c\u53ef\u80fd\u662f\u670d\u52a1\u5668\u768433001\u7aef\u53e3\u6ca1\u6709\u5f00\uff0c\u6253\u5f00\u8fd9\u4e2a\u7aef\u53e3\u5373\u53ef\u3002 \u4e0a\u9762\u8fd9\u79cd\u4e0b\u8f7d\u65f6\u5019\uff0c\u641c\u7d22\u6846\u9700\u8981\u8f93\u5165SRA\u53f7\uff0c\u6700\u8fd1\u6709\u4e00\u4e2a\u9879\u76ee\u7684SRA\u53f7\u8fbe\u5230\u4e861785\u4e2a\u663e\u7136\u4e0d\u80fd\u6536\u5230\u4e00\u4e2a\u4e2a\u641c\u7d22\u5730\u5740\u3002 \u65b0\u7684\u5de5\u5177 ffq \u53ef\u4ee5\u7528\u6765\u6279\u91cf\u83b7\u53d6\u4e0b\u8f7d\u5730\u5740\u3002 ffq github \u76f4\u63a5pip\u5b89\u88c5\u5373\u53ef pip install ffq ffq \u53c2\u6570\u8bf4\u660e -o \u8f93\u51fa\u6587\u4ef6\u540d\u79f0 -t \u6307\u5b9a\u8f93\u5165\u7684\u7f16\u53f7\u7c7b\u578b\uff0c\u9ed8\u8ba4\u662f\uff1aSRR,\u53ef\u7528\u9009\u9879\uff1aSRR, ERR, DRR, SRP, ERP, DRP, GSE, DOI ffq\u8f93\u51fa\u7684\u7ed3\u679c\u683c\u5f0f\u662fjson #\u83b7\u53d6\u4e00\u4e2aSRR\u7684\u4e0b\u8f7d\u5730\u5740 ffq SRR12455819 \u8f93\u51fa\u4fe1\u606f\u5982\u4e0b\uff1a\u76f4\u63a5\u5305\u62ec\u6587\u7ae0\u7684\u6807\u9898\u6458\u8981\uff0c\u6570\u636e\u7c7b\u578b\uff0c\u6570\u636e\u4e0b\u8f7d\u5730\u5740\u548cmd5 { \"SRR12455819\": { \"accession\": \"SRR12455819\", \"experiment\": { \"accession\": \"SRX8950230\", \"title\": \"Illumina HiSeq 4000 sequencing; GH0202\", \"platform\": \"ILLUMINA\", \"instrument\": \"Illumina HiSeq 4000\" }, \"study\": { \"accession\": \"SRP275570\", \"title\": \"Genebank resequencing of tetraploid cottons\", \"abstract\": \"Modern cultivated tetraploid cottons contain two species, Gossypium barbadense and Gossypium hirsutum. Among them, G. hirsutum is the significant species cultivated worldwide and contributes more than 90% natural fiber for the industry. To completely reveal the genetic diversity and population divergence within cultivated tetraploid cotton, we resequenced more than 1,700 accessions, which mostly included the South-China landraces, the elite introgression lines, and the obsoleted historic varieties. After integrating them with the major public resequencing data (PRJNA257154, PRJNA336461, PRJNA375965, PRJNA399050, and PRJNA414461), we obtained a whole Genebank variation map contained 3,248 tetraploid cottons (included 2,922 G. hirsutum). This variation map covered more than 1/3 of current G. hirsutum Genebank in China (~9,000 accessions), which could represent the genetic diversity of G. hirsutum.\" }, \"sample\": { \"accession\": \"SRS7128615\", \"title\": \"Gossypium hirsutum\", \"organism\": \"Gossypium hirsutum\", \"attributes\": { \"isolate\": \"not applicable\", \"cultivar\": \"GH0202\", \"ecotype\": \"not applicable\", \"age\": \"not applicable\", \"dev_stage\": \"not applicable\", \"geo_loc_name\": \"not applicable\", \"tissue\": \"Leaf\", \"BioSampleModel\": \"Plant\", \"ENA-SPOT-COUNT\": \"231824444\", \"ENA-BASE-COUNT\": \"34773666600\", \"ENA-FIRST-PUBLIC\": \"2020-12-09\", \"ENA-LAST-UPDATE\": \"2020-12-09\" } }, \"title\": \"Illumina HiSeq 4000 sequencing; GH0202\", \"files\": [ { \"url\": \"ftp://ftp.sra.ebi.ac.uk/vol1/fastq/SRR124/019/SRR12455819/SRR12455819.fastq.gz\", \"md5\": \"056333e1c9fba8b9ff930496073cbb95\", \"size\": \"7552277314\" } ] } } \u83b7\u53d6\u7684\u5730\u5740 ftp://ftp.sra.ebi.ac.uk/vol1/fastq/SRR124/019/SRR12455819/SRR12455819.fastq.gz \u548c\u4e0a\u9762\u4f7f\u7528aspera\u4e0b\u8f7d\u7684\u5730\u5740 era-fasp@fasp.sra.ebi.ac.uk:vol1/fastq/SRR124/019/SRR12455819/SRR12455819.fastq.gz \u53ea\u6709\u524d\u9762\u7684 ftp://ftp \u4fee\u6539\u4e3a era-fasp@fasp \u5373\u53ef\u3002 \u6279\u91cf\u83b7\u53d6\u4e0b\u8f7d\u5730\u5740\u8f93\u51fa\u52301\u4e2ajson\u6587\u4ef6 ffq -o SRA_Acc.json SRR12455818 SRR12455819 SRR12455820 SRR12455821 SRR12455822 SRR12455823 SRR12455824 \u6240\u6709\u7684\u7ed3\u679c\u8f93\u51fa\u5230SRA_Acc.json\u6587\u4ef6 \u6279\u91cf\u83b7\u53d6\u4e0b\u8f7d\u5730\u5740\uff0c\u5e76\u81ea\u52a8\u751f\u6210ascp\u7684\u4e0b\u8f7d\u547d\u4ee4\u884c #\u8f93\u51fa\u6587\u4ef6\u5728NCBI.json ffq -o NCBI.json SRR12455818 SRR12455819 SRR12455820 SRR12455821 SRR12455822 SRR12455823 SRR12455824 json2tab.py\u811a\u672c\u5185\u5bb9\u5982\u4e0b\uff1a \u6b64\u811a\u672c\u76ee\u524d\u9002\u914d\u7684\u662fSRR\u548cERP\u7684\u8f93\u51fa\uff0c\u5176\u4ed6\u7684\u8f93\u51fa\u5982\u679c\u4e0d\u4e00\u81f4\uff0c\u9700\u8981\u81ea\u5df1\u624b\u52a8\u4fee\u6539\u3002 #!/usr/bin/python3 ##\u7528\u6cd5\uff1apython3 json2tab.py NCBI.json #\u8f93\u5165\u6587\u4ef6\u662fffq\u8f93\u51fa\u7684json\u6587\u4ef6 #\u8f93\u51fa\u662f\"projectID\",\"sampleID\",\"fq_url\",\"size\",\"md5\",\"organism\" import sys import pandas as pd import json #jsonfile = \"NCBI.json\" jsonfile = sys.argv[1] #filename = jsonfile.split('.')[0] #\u89e3\u6790\u8f93\u5165\u7684json\u6587\u4ef6 with open(jsonfile,\"r\") as load_f: load_dict = json.load(load_f) #\u8f93\u51fa\u6587\u4ef6\u5934\u90e8\u4fe1\u606f #print(\"projectID\",\"sampleID\",\"fq1_url\",\"fq2_url\",\"size_1\",\"size_1\",\"md5_1\",\"md5_2\") for i in load_dict.keys(): #i\u662f\u9879\u76ee\u7684\u7f16\u53f7\uff0c\u5f53\u6709\u591a\u4e2aNCBI\u7684\u53f7\u7684\u65f6\u5019 idlist=[] for j in load_dict[i].keys(): idlist.append(j) #\u628a\u6bcf\u4e00\u4e2a\u7684keys\u8f93\u51fa\u5230idlist,\u5982\u679ckeys\u91cc\u6709files\u9009\u9879\uff0c\u5219\u76f4\u63a5\u8f93\u51fa\uff0c\u5982\u679c\u6709runs\uff0c\u9700\u8981\u591a\u89e3\u6790\u4e00\u5c42 if \"files\" in idlist: data_ID=load_dict[i] #\u6b64\u65f6\u6709files\u76f4\u63a5\u89e3\u6790\u5373\u53ef for list_url in data_ID['files']: print(load_dict[i]['accession'],data_ID['accession'],list_url['url'],list_url['size'],list_url['md5'],data_ID['sample']['organism'],sep='\\t') elif \"runs\" in idlist: #\u6b64\u65f6\u662f\u9700\u8981\u591a\u89e3\u6790\u4e00\u5c42 for id in load_dict[i]['runs'].keys(): #id\u662f\u6bcf\u4e2a\u9879\u76ee\u91cc\uff0c\u5bf9\u5e94\u7684\u6587\u4ef6\u7684\u53f7 data_ID=load_dict[i]['runs'][id] for list_url in data_ID['files']: print(load_dict[i]['accession'],data_ID['accession'],list_url['url'],list_url['size'],list_url['md5'],data_ID['sample']['organism'],sep='\\t') else: #\u6b64\u65f6\u53ef\u80fd\u662f\u5176\u4ed6\u60c5\u51b5\uff0c\u81ea\u884c\u89e3\u51b3 print(\"\u4e0d\u7b26\u5408\u5df2\u77e5\u7684\u5b57\u6bb5\uff0c\u9700\u8981\u81ea\u884c\u89e3\u6790\u5982\u4e0b\u5185\u5bb9\uff1a\") print(load_dict[i]) \u811a\u672c\u8f93\u51fa\u7684\u683c\u5f0f\u5982\u4e0b\uff1a SRR12455818 SRR12455818 ftp://ftp.sra.ebi.ac.uk/vol1/fastq/SRR124/018/SRR12455818/SRR12455818.fastq.gz 5425719230 67a1ba5cafd70f6137916589bf9bb437 Gossypium hirsutum SRR12455819 SRR12455819 ftp://ftp.sra.ebi.ac.uk/vol1/fastq/SRR124/019/SRR12455819/SRR12455819.fastq.gz 7552277314 056333e1c9fba8b9ff930496073cbb95 Gossypium hirsutum \u76f4\u63a5\u751f\u6210\u8f6c\u6362\u540e\u7684\u4e0b\u8f7d\u5730\u5740 python3 json2tab.py NCBI.json >info.list cat info.list|awk '{print $3}'|sed 's/ftp:\\/\\/ftp.sra.ebi.ac.uk/ascp -QT -l 30m -P33001 -i \\$HOME\\/.aspera\\/connect\\/etc\\/asperaweb_id_dsa.openssh era-fasp\\@fasp.sra.ebi.ac.uk:/g;s/$/ ./g' >download.sh nohup bash download.sh & #\u76f4\u63a5\u5373\u53ef\u4e0b\u8f7d download.sh\u7684\u5185\u5bb9\u5982\u4e0b\uff1a ascp -QT -l 30m -P33001 -i $HOME/.aspera/connect/etc/asperaweb_id_dsa.openssh era-fasp@fasp.sra.ebi.ac.uk:/vol1/fastq/SRR124/018/SRR12455818/SRR12455818.fastq.gz . ascp -QT -l 30m -P33001 -i $HOME/.aspera/connect/etc/asperaweb_id_dsa.openssh era-fasp@fasp.sra.ebi.ac.uk:/vol1/fastq/SRR124/019/SRR12455819/SRR12455819.fastq.gz . md5\u68c0\u6d4b\u4e0b\u8f7d\u7684\u6570\u636e\u662f\u5426\u5b8c\u6574 awk '{print $3,$5}' info.list|rev|cut -d \"/\" -f1|rev|awk '{print $2,$1}' >md5.txt md5sum -c md5.txt \u5982\u679c\u5168\u90e8ok,\u5c31\u8bf4\u660e\u6570\u636e\u6ca1\u95ee\u9898\u3002 \u4e0b\u9762\u5185\u5bb9\u53ef\u5ffd\u7565 \u6279\u91cf\u83b7\u53d6\u4e0b\u8f7d\u5730\u5740\u5206\u522b\u8f93\u51fa\u5230json\u6587\u4ef6 ffq -o srr_split --split SRR12455818 SRR12455819 SRR12455820 SRR12455821 SRR12455822 SRR12455823 SRR12455824 \u6240\u6709\u7684\u7ed3\u679c\u8f93\u51fa\u5230srr_split\u7684\u76ee\u5f55\u91cc\uff0c\u5206\u522b\u662fSRR12455818.json \u2026\u2026 SRR12455824.json \u4e0d\u63a8\u8350 \u4e0b\u8f7d\u539f\u59cb\u7684SRA\u683c\u5f0f\uff0c NCBI\u6570\u636e\u5e93 \u5728NCBI\u6570\u636e\u5e93\u4f1a\u83b7\u53d6\u5230Accession List\u91cc\u9762\u662fSRR\u7684\u5217\u8868\u3002 \u4f7f\u7528prefetch\u4e0b\u8f7d ##\u5355\u884c\u624b\u52a8\u4e0b\u8f7d prefetch SRR3182423 ##\u6279\u91cf\u81ea\u52a8\u5316\u4e0b\u8f7d cat SRR_Acc_List.txt | while read id do prefetch ${id} -O ./ done \u6570\u636e\u683c\u5f0f SRA\u6570\u636e\u683c\u5f0f\uff0c\u662fNCBI\u6570\u636e\u5e93\u7684\u683c\u5f0f\uff0c\u6211\u4eec\u4e0b\u8f7d\u4e4b\u540e\uff0c\u9700\u8981\u81ea\u5df1\u624b\u52a8\u8f6c\u6362\u6210fq\u683c\u5f0f\u3002 SRA\u7684\u6570\u636e\u662f\u6bcf\u4e00\u4e2aSRR\u6570\u636e\uff0c\u662f\u4e00\u4e2a\u6587\u4ef6\u5939\u3002","title":"TOOLs \u9ad8\u901a\u91cf\u6d4b\u5e8f\u6570\u636e\u4e0b\u8f7d\u4e4baspera\u548cSRA Toolkit"},{"location":"tools/TOOLs-%E9%AB%98%E9%80%9A%E9%87%8F%E6%B5%8B%E5%BA%8F%E6%95%B0%E6%8D%AE%E4%B8%8B%E8%BD%BD%E4%B9%8Baspera%E5%92%8CSRA-Toolkit/#_1","text":"\u4f18\u5148\u9009\u62e9 \u5feb\u901f\u4e0b\u8f7dfq\u683c\u5f0f\u7684\u6570\u636e\uff0c EBI\u6570\u636e\u5e93\u4e0b\u8f7d \u3002 \u4eceEBI\u6570\u636e\u5e93\u76f4\u63a5\u83b7\u53d6\u5230aspera\u7684\u4e0b\u8f7d\u4ee3\u7801\uff0c\u590d\u5236\u5230\u672c\u5730\u670d\u52a1\u5668\uff0c\u53ef\u4ee5\u76f4\u63a5\u8fd0\u884c\u3002 cd ~/wes_cancer/project/1.raw_fq ascp -QT -l 300m -P33001 -i $HOME/.aspera/connect/etc/asperaweb_id_dsa.openssh era-fasp@fasp.sra.ebi.ac.uk:vol1/fastq/SRR318/008/SRR3182418/SRR3182418_2.fastq.gz . ascp -QT -l 300m -P33001 -i $HOME/.aspera/connect/etc/asperaweb_id_dsa.openssh era-fasp@fasp.sra.ebi.ac.uk:vol1/fastq/SRR318/003/SRR3182423/SRR3182423_1.fastq.gz . \u6ce8\u610f\uff1a\u4e0a\u8ff0\u662fapera\u7684\u4e0b\u8f7d\u683c\u5f0f\uff0c\u6700\u540e\u9762\u7684 . \u4ee3\u8868\u4fdd\u5b58\u7684\u8def\u5f84\u662f\u672c\u76ee\u5f55\uff0c\u4e00\u5b9a\u4e0d\u80fd\u7701\u7565\uff0c\u4e0d\u7136\u4f1a\u62a5\u9519\u3002 \u7f51\u7edc\u6709\u65f6\u5019\u4f1a\u63d0\u793aSSH\u6216\u8005UDP\u9519\u8bef\uff0c\u53ef\u80fd\u662f\u670d\u52a1\u5668\u768433001\u7aef\u53e3\u6ca1\u6709\u5f00\uff0c\u6253\u5f00\u8fd9\u4e2a\u7aef\u53e3\u5373\u53ef\u3002","title":"\u4e0b\u8f7d\u6570\u636e\u5e93"},{"location":"tools/TOOLs-%E9%AB%98%E9%80%9A%E9%87%8F%E6%B5%8B%E5%BA%8F%E6%95%B0%E6%8D%AE%E4%B8%8B%E8%BD%BD%E4%B9%8Baspera%E5%92%8CSRA-Toolkit/#srasra1785","text":"\u65b0\u7684\u5de5\u5177 ffq \u53ef\u4ee5\u7528\u6765\u6279\u91cf\u83b7\u53d6\u4e0b\u8f7d\u5730\u5740\u3002 ffq github \u76f4\u63a5pip\u5b89\u88c5\u5373\u53ef pip install ffq ffq \u53c2\u6570\u8bf4\u660e -o \u8f93\u51fa\u6587\u4ef6\u540d\u79f0 -t \u6307\u5b9a\u8f93\u5165\u7684\u7f16\u53f7\u7c7b\u578b\uff0c\u9ed8\u8ba4\u662f\uff1aSRR,\u53ef\u7528\u9009\u9879\uff1aSRR, ERR, DRR, SRP, ERP, DRP, GSE, DOI ffq\u8f93\u51fa\u7684\u7ed3\u679c\u683c\u5f0f\u662fjson #\u83b7\u53d6\u4e00\u4e2aSRR\u7684\u4e0b\u8f7d\u5730\u5740 ffq SRR12455819 \u8f93\u51fa\u4fe1\u606f\u5982\u4e0b\uff1a\u76f4\u63a5\u5305\u62ec\u6587\u7ae0\u7684\u6807\u9898\u6458\u8981\uff0c\u6570\u636e\u7c7b\u578b\uff0c\u6570\u636e\u4e0b\u8f7d\u5730\u5740\u548cmd5 { \"SRR12455819\": { \"accession\": \"SRR12455819\", \"experiment\": { \"accession\": \"SRX8950230\", \"title\": \"Illumina HiSeq 4000 sequencing; GH0202\", \"platform\": \"ILLUMINA\", \"instrument\": \"Illumina HiSeq 4000\" }, \"study\": { \"accession\": \"SRP275570\", \"title\": \"Genebank resequencing of tetraploid cottons\", \"abstract\": \"Modern cultivated tetraploid cottons contain two species, Gossypium barbadense and Gossypium hirsutum. Among them, G. hirsutum is the significant species cultivated worldwide and contributes more than 90% natural fiber for the industry. To completely reveal the genetic diversity and population divergence within cultivated tetraploid cotton, we resequenced more than 1,700 accessions, which mostly included the South-China landraces, the elite introgression lines, and the obsoleted historic varieties. After integrating them with the major public resequencing data (PRJNA257154, PRJNA336461, PRJNA375965, PRJNA399050, and PRJNA414461), we obtained a whole Genebank variation map contained 3,248 tetraploid cottons (included 2,922 G. hirsutum). This variation map covered more than 1/3 of current G. hirsutum Genebank in China (~9,000 accessions), which could represent the genetic diversity of G. hirsutum.\" }, \"sample\": { \"accession\": \"SRS7128615\", \"title\": \"Gossypium hirsutum\", \"organism\": \"Gossypium hirsutum\", \"attributes\": { \"isolate\": \"not applicable\", \"cultivar\": \"GH0202\", \"ecotype\": \"not applicable\", \"age\": \"not applicable\", \"dev_stage\": \"not applicable\", \"geo_loc_name\": \"not applicable\", \"tissue\": \"Leaf\", \"BioSampleModel\": \"Plant\", \"ENA-SPOT-COUNT\": \"231824444\", \"ENA-BASE-COUNT\": \"34773666600\", \"ENA-FIRST-PUBLIC\": \"2020-12-09\", \"ENA-LAST-UPDATE\": \"2020-12-09\" } }, \"title\": \"Illumina HiSeq 4000 sequencing; GH0202\", \"files\": [ { \"url\": \"ftp://ftp.sra.ebi.ac.uk/vol1/fastq/SRR124/019/SRR12455819/SRR12455819.fastq.gz\", \"md5\": \"056333e1c9fba8b9ff930496073cbb95\", \"size\": \"7552277314\" } ] } } \u83b7\u53d6\u7684\u5730\u5740 ftp://ftp.sra.ebi.ac.uk/vol1/fastq/SRR124/019/SRR12455819/SRR12455819.fastq.gz \u548c\u4e0a\u9762\u4f7f\u7528aspera\u4e0b\u8f7d\u7684\u5730\u5740 era-fasp@fasp.sra.ebi.ac.uk:vol1/fastq/SRR124/019/SRR12455819/SRR12455819.fastq.gz \u53ea\u6709\u524d\u9762\u7684 ftp://ftp \u4fee\u6539\u4e3a era-fasp@fasp \u5373\u53ef\u3002","title":"\u4e0a\u9762\u8fd9\u79cd\u4e0b\u8f7d\u65f6\u5019\uff0c\u641c\u7d22\u6846\u9700\u8981\u8f93\u5165SRA\u53f7\uff0c\u6700\u8fd1\u6709\u4e00\u4e2a\u9879\u76ee\u7684SRA\u53f7\u8fbe\u5230\u4e861785\u4e2a\u663e\u7136\u4e0d\u80fd\u6536\u5230\u4e00\u4e2a\u4e2a\u641c\u7d22\u5730\u5740\u3002"},{"location":"tools/TOOLs-%E9%AB%98%E9%80%9A%E9%87%8F%E6%B5%8B%E5%BA%8F%E6%95%B0%E6%8D%AE%E4%B8%8B%E8%BD%BD%E4%B9%8Baspera%E5%92%8CSRA-Toolkit/#1json","text":"ffq -o SRA_Acc.json SRR12455818 SRR12455819 SRR12455820 SRR12455821 SRR12455822 SRR12455823 SRR12455824 \u6240\u6709\u7684\u7ed3\u679c\u8f93\u51fa\u5230SRA_Acc.json\u6587\u4ef6","title":"\u6279\u91cf\u83b7\u53d6\u4e0b\u8f7d\u5730\u5740\u8f93\u51fa\u52301\u4e2ajson\u6587\u4ef6"},{"location":"tools/TOOLs-%E9%AB%98%E9%80%9A%E9%87%8F%E6%B5%8B%E5%BA%8F%E6%95%B0%E6%8D%AE%E4%B8%8B%E8%BD%BD%E4%B9%8Baspera%E5%92%8CSRA-Toolkit/#ascp","text":"#\u8f93\u51fa\u6587\u4ef6\u5728NCBI.json ffq -o NCBI.json SRR12455818 SRR12455819 SRR12455820 SRR12455821 SRR12455822 SRR12455823 SRR12455824 json2tab.py\u811a\u672c\u5185\u5bb9\u5982\u4e0b\uff1a \u6b64\u811a\u672c\u76ee\u524d\u9002\u914d\u7684\u662fSRR\u548cERP\u7684\u8f93\u51fa\uff0c\u5176\u4ed6\u7684\u8f93\u51fa\u5982\u679c\u4e0d\u4e00\u81f4\uff0c\u9700\u8981\u81ea\u5df1\u624b\u52a8\u4fee\u6539\u3002 #!/usr/bin/python3 ##\u7528\u6cd5\uff1apython3 json2tab.py NCBI.json #\u8f93\u5165\u6587\u4ef6\u662fffq\u8f93\u51fa\u7684json\u6587\u4ef6 #\u8f93\u51fa\u662f\"projectID\",\"sampleID\",\"fq_url\",\"size\",\"md5\",\"organism\" import sys import pandas as pd import json #jsonfile = \"NCBI.json\" jsonfile = sys.argv[1] #filename = jsonfile.split('.')[0] #\u89e3\u6790\u8f93\u5165\u7684json\u6587\u4ef6 with open(jsonfile,\"r\") as load_f: load_dict = json.load(load_f) #\u8f93\u51fa\u6587\u4ef6\u5934\u90e8\u4fe1\u606f #print(\"projectID\",\"sampleID\",\"fq1_url\",\"fq2_url\",\"size_1\",\"size_1\",\"md5_1\",\"md5_2\") for i in load_dict.keys(): #i\u662f\u9879\u76ee\u7684\u7f16\u53f7\uff0c\u5f53\u6709\u591a\u4e2aNCBI\u7684\u53f7\u7684\u65f6\u5019 idlist=[] for j in load_dict[i].keys(): idlist.append(j) #\u628a\u6bcf\u4e00\u4e2a\u7684keys\u8f93\u51fa\u5230idlist,\u5982\u679ckeys\u91cc\u6709files\u9009\u9879\uff0c\u5219\u76f4\u63a5\u8f93\u51fa\uff0c\u5982\u679c\u6709runs\uff0c\u9700\u8981\u591a\u89e3\u6790\u4e00\u5c42 if \"files\" in idlist: data_ID=load_dict[i] #\u6b64\u65f6\u6709files\u76f4\u63a5\u89e3\u6790\u5373\u53ef for list_url in data_ID['files']: print(load_dict[i]['accession'],data_ID['accession'],list_url['url'],list_url['size'],list_url['md5'],data_ID['sample']['organism'],sep='\\t') elif \"runs\" in idlist: #\u6b64\u65f6\u662f\u9700\u8981\u591a\u89e3\u6790\u4e00\u5c42 for id in load_dict[i]['runs'].keys(): #id\u662f\u6bcf\u4e2a\u9879\u76ee\u91cc\uff0c\u5bf9\u5e94\u7684\u6587\u4ef6\u7684\u53f7 data_ID=load_dict[i]['runs'][id] for list_url in data_ID['files']: print(load_dict[i]['accession'],data_ID['accession'],list_url['url'],list_url['size'],list_url['md5'],data_ID['sample']['organism'],sep='\\t') else: #\u6b64\u65f6\u53ef\u80fd\u662f\u5176\u4ed6\u60c5\u51b5\uff0c\u81ea\u884c\u89e3\u51b3 print(\"\u4e0d\u7b26\u5408\u5df2\u77e5\u7684\u5b57\u6bb5\uff0c\u9700\u8981\u81ea\u884c\u89e3\u6790\u5982\u4e0b\u5185\u5bb9\uff1a\") print(load_dict[i]) \u811a\u672c\u8f93\u51fa\u7684\u683c\u5f0f\u5982\u4e0b\uff1a SRR12455818 SRR12455818 ftp://ftp.sra.ebi.ac.uk/vol1/fastq/SRR124/018/SRR12455818/SRR12455818.fastq.gz 5425719230 67a1ba5cafd70f6137916589bf9bb437 Gossypium hirsutum SRR12455819 SRR12455819 ftp://ftp.sra.ebi.ac.uk/vol1/fastq/SRR124/019/SRR12455819/SRR12455819.fastq.gz 7552277314 056333e1c9fba8b9ff930496073cbb95 Gossypium hirsutum \u76f4\u63a5\u751f\u6210\u8f6c\u6362\u540e\u7684\u4e0b\u8f7d\u5730\u5740 python3 json2tab.py NCBI.json >info.list cat info.list|awk '{print $3}'|sed 's/ftp:\\/\\/ftp.sra.ebi.ac.uk/ascp -QT -l 30m -P33001 -i \\$HOME\\/.aspera\\/connect\\/etc\\/asperaweb_id_dsa.openssh era-fasp\\@fasp.sra.ebi.ac.uk:/g;s/$/ ./g' >download.sh nohup bash download.sh & #\u76f4\u63a5\u5373\u53ef\u4e0b\u8f7d download.sh\u7684\u5185\u5bb9\u5982\u4e0b\uff1a ascp -QT -l 30m -P33001 -i $HOME/.aspera/connect/etc/asperaweb_id_dsa.openssh era-fasp@fasp.sra.ebi.ac.uk:/vol1/fastq/SRR124/018/SRR12455818/SRR12455818.fastq.gz . ascp -QT -l 30m -P33001 -i $HOME/.aspera/connect/etc/asperaweb_id_dsa.openssh era-fasp@fasp.sra.ebi.ac.uk:/vol1/fastq/SRR124/019/SRR12455819/SRR12455819.fastq.gz . md5\u68c0\u6d4b\u4e0b\u8f7d\u7684\u6570\u636e\u662f\u5426\u5b8c\u6574 awk '{print $3,$5}' info.list|rev|cut -d \"/\" -f1|rev|awk '{print $2,$1}' >md5.txt md5sum -c md5.txt \u5982\u679c\u5168\u90e8ok,\u5c31\u8bf4\u660e\u6570\u636e\u6ca1\u95ee\u9898\u3002 \u4e0b\u9762\u5185\u5bb9\u53ef\u5ffd\u7565","title":"\u6279\u91cf\u83b7\u53d6\u4e0b\u8f7d\u5730\u5740\uff0c\u5e76\u81ea\u52a8\u751f\u6210ascp\u7684\u4e0b\u8f7d\u547d\u4ee4\u884c"},{"location":"tools/TOOLs-%E9%AB%98%E9%80%9A%E9%87%8F%E6%B5%8B%E5%BA%8F%E6%95%B0%E6%8D%AE%E4%B8%8B%E8%BD%BD%E4%B9%8Baspera%E5%92%8CSRA-Toolkit/#json","text":"ffq -o srr_split --split SRR12455818 SRR12455819 SRR12455820 SRR12455821 SRR12455822 SRR12455823 SRR12455824 \u6240\u6709\u7684\u7ed3\u679c\u8f93\u51fa\u5230srr_split\u7684\u76ee\u5f55\u91cc\uff0c\u5206\u522b\u662fSRR12455818.json \u2026\u2026 SRR12455824.json \u4e0d\u63a8\u8350 \u4e0b\u8f7d\u539f\u59cb\u7684SRA\u683c\u5f0f\uff0c NCBI\u6570\u636e\u5e93 \u5728NCBI\u6570\u636e\u5e93\u4f1a\u83b7\u53d6\u5230Accession List\u91cc\u9762\u662fSRR\u7684\u5217\u8868\u3002 \u4f7f\u7528prefetch\u4e0b\u8f7d ##\u5355\u884c\u624b\u52a8\u4e0b\u8f7d prefetch SRR3182423 ##\u6279\u91cf\u81ea\u52a8\u5316\u4e0b\u8f7d cat SRR_Acc_List.txt | while read id do prefetch ${id} -O ./ done","title":"\u6279\u91cf\u83b7\u53d6\u4e0b\u8f7d\u5730\u5740\u5206\u522b\u8f93\u51fa\u5230json\u6587\u4ef6"},{"location":"tools/TOOLs-%E9%AB%98%E9%80%9A%E9%87%8F%E6%B5%8B%E5%BA%8F%E6%95%B0%E6%8D%AE%E4%B8%8B%E8%BD%BD%E4%B9%8Baspera%E5%92%8CSRA-Toolkit/#_2","text":"SRA\u6570\u636e\u683c\u5f0f\uff0c\u662fNCBI\u6570\u636e\u5e93\u7684\u683c\u5f0f\uff0c\u6211\u4eec\u4e0b\u8f7d\u4e4b\u540e\uff0c\u9700\u8981\u81ea\u5df1\u624b\u52a8\u8f6c\u6362\u6210fq\u683c\u5f0f\u3002 SRA\u7684\u6570\u636e\u662f\u6bcf\u4e00\u4e2aSRR\u6570\u636e\uff0c\u662f\u4e00\u4e2a\u6587\u4ef6\u5939\u3002","title":"\u6570\u636e\u683c\u5f0f"},{"location":"tools/Tools-CrossMap%E7%94%A8%E4%BA%8E%E5%9F%BA%E5%9B%A0%E5%9D%90%E6%A0%87%E8%BD%AC%E6%8D%A2/","text":"\u57fa\u56e0\u7ec4\u4e0d\u540c\u7248\u672c\u4e4b\u95f4\u7684\u8f6c\u6362\u5de5\u5177\u5e38\u7528\u7684\u6709\uff1a CrossMap\uff08\u5404\u79cd\u8f6c\u6362\uff09,liftover\uff08bed\u8f6c\u6362\uff09,picard(VCF\u8f6c\u6362) \u8be6\u7ec6\u8bb2\u89e3\u5404\u7ec4\u5de5\u5177\u7684\u5730\u5740 https://www.biostars.org/p/65558/ \u57fa\u56e0\u5750\u6807\u8f6c\u6362\u5de5\u5177\u5408\u96c6 CrossMap\u4f7f\u7528\u6559\u7a0b\u5b98\u7f51 CrossMap\u8f6f\u4ef6\u7248\u672c\u76ee\u5f55 \u4e0b\u8f7d\u539f\u59cb\u7684tar.gzw\u6587\u4ef6 \u5b89\u88c5 tar -zxvf CrossMap-0.4.0.tar.gz cd CrossMap-0.4.0 python3 setup.py install --root=/public//home/tang/soft/CrossMap \u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u6839\u636e \u94fe\u63a5 \uff0c\u4fee\u6539path,\u6216\u8005\u76f4\u63a5\u4f7f\u7528\u3002 #\u627e\u5230\u6587\u4ef6\u7684\u8def\u5f84 which CrossMap.py #\u76f4\u63a5\u8fd0\u884c python3 /public//home/tang/soft/CrossMap/CrossMap-0.3.9/bin/CrossMap.py ##/public//home/tang/soft/CrossMap/\u8def\u5f84\u662f\u6211\u5b58\u653eCrossMap-0.3.9.tar.gz\u7684\u76ee\u5f55\u4f4d\u7f6e\u3002 \u81ea\u5df1\u4fee\u6539\u4e0a\u8ff0\u7684\u5b89\u88c5\u76ee\u5f55\uff0c\u6bd5\u7adf\u5927\u591a\u6570\u4eba\u90fd\u4e0d\u662froot\u7ba1\u7406\u5458\u3002 \u65b9\u6cd5\u4e8c\uff1a\uff08\u9700\u8981\u81ea\u884c\u89e3\u51b3\u4f9d\u8d56\u5305\u5b89\u88c5\uff09 pip3 install CrossMap --user CrossMap\u4f9d\u8d56\u5176\u4ed6\u7684\u5305 pyBigWig pysam bx bx.intervals \u4f9d\u8d56\u6bd4\u8f83\u591a\uff0c\u6839\u636e\u63d0\u793a\u5728\u5b89\u88c53-5\u4e2a\u4f9d\u8d56\u540e\uff0c\u57fa\u672c\u53ef\u4ee5\u89e3\u51b3\u3002\u76ee\u524d\u4f7f\u7528\u7684\u662f0.3.9\u7248\u672c\u3002 \u4e0b\u8f7d\u5730\u5740 \u4e00\u5b9a\u8981\u6ce8\u610f\uff0c\u8fd9\u4e9b\u7248\u672c\u4e0d\u652f\u6301python2\uff0c\u5fc5\u987b\u8981python3\u3002 * CrossMap (version 0.2.3 to 0.2.9) supports Python2.7.* * CrossMap (>= 0.3.0) supports Python3 #conda create --name CrossMap source activate CrossMap pip install CrossMap which CrossMap.py python3 <path>/CrossMap.py \u53ef\u80fd\u4f1a\u9047\u5230numpy\u7684\u9519\u8bef\uff0c \u89e3\u51b3\u65b9\u6cd5: pip uninstall numpy pip install numpy pip uninstall CrossMap pip3 install CrossMap conda\u7684\u4f7f\u7528 jian\u4e66\u7684\u94fe\u63a5\u4e0d\u652f\u6301ftp\u5730\u5740\uff0c\u76f4\u63a5\u590d\u5236\u94fe\u63a5\u8bbf\u95ee \u5bf9\u4e8e\u975e\u6a21\u5f0f\u751f\u7269\u7684chain\u6587\u4ef6\u4e0b\u8f7d\uff1a\u53ef\u4ee5\u76f4\u63a5\u5230\u5bf9\u5e94\u7269\u79cdensembl\u7ad9\u70b9\uff0c\u9009\u62e9Assembly_chain\u3002 \u7389\u7c73\u7684Assembly_chain\u5730\u5740 ftp://ftp.gramene.org/pub/gramene/CURRENT_RELEASE/assembly_chain/zea_mays/ \u4f7f\u7528CrossMap\u8f6c\u6362vcf\u5750\u6807 #\u6b64\u5904\u662f\u5c06hg19\u8f6c\u6362\u4e3ahg38 CrossMap.py vcf GRCh37_to_GRCh38.chain.gz genes_noINS.vcf hg38.fa hg38.genes_noINS.vcf","title":"Tools CrossMap\u7528\u4e8e\u57fa\u56e0\u5750\u6807\u8f6c\u6362"},{"location":"tools/Tools-CrossMap%E7%94%A8%E4%BA%8E%E5%9F%BA%E5%9B%A0%E5%9D%90%E6%A0%87%E8%BD%AC%E6%8D%A2/#numpy","text":"\u89e3\u51b3\u65b9\u6cd5: pip uninstall numpy pip install numpy pip uninstall CrossMap pip3 install CrossMap conda\u7684\u4f7f\u7528 jian\u4e66\u7684\u94fe\u63a5\u4e0d\u652f\u6301ftp\u5730\u5740\uff0c\u76f4\u63a5\u590d\u5236\u94fe\u63a5\u8bbf\u95ee \u5bf9\u4e8e\u975e\u6a21\u5f0f\u751f\u7269\u7684chain\u6587\u4ef6\u4e0b\u8f7d\uff1a\u53ef\u4ee5\u76f4\u63a5\u5230\u5bf9\u5e94\u7269\u79cdensembl\u7ad9\u70b9\uff0c\u9009\u62e9Assembly_chain\u3002 \u7389\u7c73\u7684Assembly_chain\u5730\u5740 ftp://ftp.gramene.org/pub/gramene/CURRENT_RELEASE/assembly_chain/zea_mays/ \u4f7f\u7528CrossMap\u8f6c\u6362vcf\u5750\u6807 #\u6b64\u5904\u662f\u5c06hg19\u8f6c\u6362\u4e3ahg38 CrossMap.py vcf GRCh37_to_GRCh38.chain.gz genes_noINS.vcf hg38.fa hg38.genes_noINS.vcf","title":"\u53ef\u80fd\u4f1a\u9047\u5230numpy\u7684\u9519\u8bef\uff0c"},{"location":"tools/Tools-MEGENA%E5%A4%9A%E5%B0%BA%E5%BA%A6%E5%85%B1%E8%A1%A8%E8%BE%BE%E7%BD%91%E7%BB%9C%E5%88%86%E6%9E%90/","text":"MEGENA\u7c7b\u4f3c\u4e8eWGCNA.","title":"Tools MEGENA\u591a\u5c3a\u5ea6\u5171\u8868\u8fbe\u7f51\u7edc\u5206\u6790"},{"location":"tools/Tools-aspera%E4%B8%8A%E4%BC%A0%E6%95%B0%E6%8D%AE%E5%88%B0SRA%E6%95%B0%E6%8D%AE%E5%BA%93/","text":"1.\u5148\u6ce8\u518cNCBI\u8d26\u6237,\u7136\u540e\u8bbf\u95ee https://submit.ncbi.nlm.nih.gov/subs/sra/ \uff0c\u521b\u5efa\u65b0\u7684\u63d0\u4ea4 2. \u6309\u7167\u6b65\u9aa4\uff0c\u4e00\u6b65\u6b65\u586b\u5199\u5185\u5bb9\uff0c\u7b2c5\u548c6\u6b65\u9aa4\u6bd4\u8f83\u8d39\u65f6\u95f4\uff0c\u9700\u8981\u4e0b\u8f7d\u6a21\u677fexcel\u6309\u7167\u8981\u6c42\u586b\u5199\u3002 \u6ce8\u610f\uff1a\u7b2c6\u6b65\uff0c\u6587\u4ef6\u540d\uff0c\u6d4b\u5e8f\u662fR1\u548cR2\u8fd9\u79cd\uff0c\u628aR1\u548cR2\u653e\u5728\u540c\u4e00\u884c\uff0c\u6700\u540e\u9762\u4e00\u680ffilename\uff0cfilename2\u5206\u522b\u586b\u5199R1\u548cR2\u7684\u5b8c\u6574\u6587\u4ef6\u540d\u3002 3. \u4e0a\u4f20\u6570\u636e\u5230\u6570\u636e\u5e93\u3002 \u9009\u62e9aspera\u7684\u6a21\u5f0f\u4e0a\u4f20 ascp -i <path/to/key_file> -QT -l100m -k1 -d <path/to/folder/containing files> subasp@upload.ncbi.nlm.nih.gov:uploads/demol_163.com_zs******** \u662f\u4f60\u672c\u673a\u7684aspera.openssh\u7684\u8def\u5f84\uff0c\u8fd9\u4e2a\u6587\u4ef6\u4e5f\u662f\u4ece\u7b2c7\u4e2a\u9875\u9762\u91cc\u4e0b\u8f7d\u3002\u6839\u636e\u4f60\u7684\u90ae\u7bb1\u51b3\u5b9a\u7684\u3002 \u662f\u4f60\u9700\u8981\u4e0a\u4f20\u7684\u6570\u636e\u7684\u6587\u4ef6\u5939\u8def\u5f84\uff0c \u4e00\u5b9a\u662f\u6587\u4ef6\u5939 \uff0c\u76f4\u63a5\u4e0a\u4f20\u6587\u4ef6\u4f1a\u5230\u6839\u76ee\u5f55\uff0c\u4f60\u65e0\u6cd5\u8bbf\u95ee\u3002","title":"Tools aspera\u4e0a\u4f20\u6570\u636e\u5230SRA\u6570\u636e\u5e93"},{"location":"tools/Tools-bam%E6%96%87%E4%BB%B6%E8%B4%A8%E6%8E%A7%E5%B7%A5%E5%85%B7/","text":"\u76ee\u524d\u7528\u5230\u7684bam\u6587\u4ef6\u8d28\u63a7\u5de5\u5177\u6709\u4e09\u79cd\uff1a Picard https://broadinstitute.github.io/picard/ RSeQC http://rseqc.sourceforge.net/ Qualimap http://qualimap.bioinfo.cipf.es/ \u4e09\u8005\u4e2d\uff0c RSeQC\u53ea\u80fd\u7528\u4e8e\u8f6c\u5f55\u7ec4\u7684bam\u6587\u4ef6\u8d28\u63a7\u3002\u4f9d\u8d56gcc\u3001numpy,\u5728python2.7\u4e0b\u8fd0\u884c Qualimap\u53ef\u7528\u4e8e\u91cd\u6d4b\u5e8f\u3001CHIP\u3001\u8f6c\u5f55\u7ec4\u7684bam\u3001sam\u6587\u4ef6\u8d28\u63a7\u3002\u57fa\u4e8eJava\u548cR Picard\u53ef\u7528\u4e8e\u8d28\u63a7\u3002\u57fa\u4e8eJava\u3002 \u76ee\u524d\u7684\u6559\u7a0b\u4e2d\uff0c\u57fa\u4e8eRSeQC\u548cQualimap\u7684\u6bd4\u8f83\u591a\u3002","title":"Tools bam\u6587\u4ef6\u8d28\u63a7\u5de5\u5177"},{"location":"tools/Tools-bpipe-%E7%94%A8%E4%BA%8E%E6%9E%84%E5%BB%BA%E5%88%86%E6%9E%90%E6%B5%81%E7%A8%8B/","text":"bpipe\u662f\u7528\u4e8e\u6784\u5efa\u5206\u6790\u6d41\u7a0b\u7684\u8f6f\u4ef6\uff0c\u8bed\u6cd5\u57fa\u672c\u4e0eshell\u4e00\u81f4[bpipe\u8bed\u6cd5\u8be6\u60c5(http://docs.bpipe.org/Guides/ParallelTasks/)\u3002 bpipe\u811a\u672c\u7684\u4f8b\u5b50\u53c2\u6570\u89e3\u6790\uff1a \u6ce8\u91ca @Transform(\"align the fq to reference genome\") \u548c @Filter(\"use picard to make duplicates\") \u662f\u6ce8\u91ca\u8bed\u6cd5\uff0c\u7528\u6765\u6ce8\u91ca\u67d0\u4e00\u6b65\u9aa4\u7684\u4f5c\u7528 @Transform(\"align the fq to reference genome\") align = { exec \"\"\" bwa aln $REFERENCE $input > $output.sai; bwa samse $REFERENCE $output.sai $input > $output.sam \"\"\" } \u6b65\u9aa4 \u4e0a\u8ff0\u6b65\u9aa4\u540d\u5b57\u662f align ,\u540e\u9762\u4f7f\u7528 {exec \"\"\" \"\"\"} \u4e2d\u95f4\u662f\u9700\u8981\u6267\u884c\u7684shell\u547d\u4ee4\u3002 $input \u548c $output \u662f\u8f93\u5165\u548c\u8f93\u51fa\u6587\u4ef6\uff0c\u6700\u597d\u662f\u8ddf\u4e0a\u5bf9\u5e94\u7684\u540e\u7f00\uff0cbpipe\u4f1a\u5728\u6d41\u7a0b\u5408\u5e76\u8d77\u6765run\u7684\u65f6\u5019\uff0c\u81ea\u52a8\u5224\u65ad\u524d\u540e\u547d\u4ee4\u7684\u8f93\u5165\u548c\u8f93\u51fa\uff0c\u524d\u4e00\u6b65\u7684\u8f93\u51fa\u662f\u540e\u4e00\u6b65\u7684\u8f93\u5165\u3002\u5982\u679c\u524d\u4e00\u6b65\u7684\u8f93\u51fa\u4e0d\u662f\u540e\u4e00\u6b65\u7684\u8f93\u5165\uff0c\u9700\u8981\u5728 exec \u201c\u201d\u201c \u201d\u201c\u201d \u4e0b\u9762\u52a0\u4e0a\u4e00\u884c forward input \u3002\u5f53\u4f7f\u7528\u6709\u540e\u7f00\u7684\u8f93\u5165\u548c\u8f93\u51fa\u65f6\uff0c\u8fd9\u79cd\u60c5\u51b5\u5c31\u53ef\u4ee5\u5927\u5927\u964d\u4f4e\u3002 \u5e76\u884c\u4efb\u52a1 [task1,task2]\u5e76\u884ctask1\u548ctask2,task\u91cc\u9762\u53ef\u4ee5\u7ee7\u7eed\u5d4c\u5957\u5176\u4ed6\u7684\u5e76\u884c\u6216\u4e32\u884c\u4efb\u52a1 \u4f8b\u5982\u6700\u4e0b\u9762\u7684\u5b8c\u6574\u7684\u5b9e\u4f8b\u4e2d\uff0c index \u53ef\u4ee5\u548c call_variants \u4e00\u540c\u6267\u884c\uff0c\u5219run\u5e94\u8be5\u4fee\u6539\u4e3a\uff1a run { align + sort + dedupe + [index , call_variants] } \u8f6c\u8f7d\u53c2\u8003https://mp.weixin.qq.com/s?__biz=MzUzMTEwODk0Ng==&mid=2247487816&idx=1&sn=c87971a6a506c24ac80bc0d988287d55&scene=21#wechat_redirect bpipe1.txt\u5185\u5bb9\u5982\u4e0b\uff1a PICARD_HOME=\"/usr/local/picard-tools/\" REFERENCE=\"reference.fa\" @Transform(\"align the fq to reference genome\") align = { exec \"\"\" bwa aln $REFERENCE $input > $output.sai; bwa samse $REFERENCE $output.sai $input > $output.sam \"\"\" } @Transform(\"sort sam file to bam\") sort = { exec \"samtools view -bSu $input.sam | samtools sort -o - - > $output.bam\" } @Filter(\"use picard to make duplicates\") dedupe = { exec \"\"\" java -Xmx1g -jar $PICARD_HOME/MarkDuplicates.jar MAX_FILE_HANDLES_FOR_READ_ENDS_MAP=1000 METRICS_FILE=out.metrics REMOVE_DUPLICATES=true ASSUME_SORTED=true VALIDATION_STRINGENCY=LENIENT INPUT=$input.bam OUTPUT=$output.bam \"\"\" } @Transform(\"build a index of bam file\") index = { exec \"samtools index $input.bam\" } call_variants = { exec \"samtools mpileup -uf $REFERENCE $input.bam | bcftools view -bvcg - > $output.vcf\" } run { align + sort + dedupe + index + call_variants } \u8fd0\u884c\u65b9\u5f0f bpipe run pipeline1.txt s_1.fq \u4e0d\u9700\u8981\u67d0\u4e2a\u6b65\u9aa4\u65f6\uff0c\u76f4\u63a5\u4fee\u6539pipeline1.txt\u6587\u4ef6\u91ccrun\u7684\u53c2\u6570\uff0c\u4f8b\u5982\uff1a\u4e0d\u9700\u8981index,\u5219run\u5e94\u8be5\u662f\uff1a run{ align + sort + dedupe + call_variants } bpipe\u652f\u6301\u6309\u7167\u67d3\u8272\u4f53\u5e76\u884c\u5316 hello = { exec \"\"\"samtools view test.bam $chr | some_other_tool \"\"\" } Bpipe.run { chr(1..10, 'X','Y') * [ hello ] } \u4e0a\u9762\u4f1a\u9ed8\u8ba4\u4f7f\u7528UCSC\u7684\u57fa\u56e0\u7ec4\u3002 hg19.split(40) * [ stage1 + stage2 ] \u53ef\u4ee5\u628a\u57fa\u56e0\u7ec4\u5206\u621040\u4efd\u6765\u5e76\u884c \u591a\u4e2a\u6587\u4ef6\u5e76\u884c\u8fd0\u884c\u540c\u4e00\u4e2a\u547d\u4ee4 \u65b9\u6cd51\uff1a Bpipe.run { \"input_%.txt\" * [ hello + world ] + nice_to_see_you } bpipe run helloworld.pipe input*.txt \u6ce8\u610f\uff1a\u6b64\u65f6\u9700\u8981\u540c\u65f6\u4fee\u6539helloworld.pipe\u6587\u4ef6\u91cc\u7684run\u7684\u4fe1\u606f\uff0c\u540c\u65f6\u5728\u4f7f\u7528bpipe\u8c03\u7528\u7684\u65f6\u5019\uff0c\u4e5f\u9700\u8981\u52a0\u4e0a input*.txt .\u8fd9\u6837\u624d\u80fd\u6279\u91cf\u5e76\u884c\u6267\u884c\u811a\u672c\u3002 \u65b9\u6cd52\uff1a // Create a data structure (Map) that maps branches to files def branches = [ sample1: [\"sample1_2.fastq.gz\"], sample2: [\"sample2_2.fastq.gz\"], sample3: [\"sample3_2.fastq.gz\"] ] align = { // keep the sample name as a branch variable branch.sample = branch.name ... } run { branches * [ align ] } \u8fd9\u6837\u4e00\u6b21\u8fd0\u884c\u4e09\u4e2a\u6587\u4ef6\u3002 http://docs.bpipe.org/Guides/ParallelTasks/ WGS\u7684bpipe\u7684\u793a\u4f8b github","title":"Tools bpipe \u7528\u4e8e\u6784\u5efa\u5206\u6790\u6d41\u7a0b"},{"location":"tools/Tools-bpipe-%E7%94%A8%E4%BA%8E%E6%9E%84%E5%BB%BA%E5%88%86%E6%9E%90%E6%B5%81%E7%A8%8B/#_1","text":"@Transform(\"align the fq to reference genome\") \u548c @Filter(\"use picard to make duplicates\") \u662f\u6ce8\u91ca\u8bed\u6cd5\uff0c\u7528\u6765\u6ce8\u91ca\u67d0\u4e00\u6b65\u9aa4\u7684\u4f5c\u7528 @Transform(\"align the fq to reference genome\") align = { exec \"\"\" bwa aln $REFERENCE $input > $output.sai; bwa samse $REFERENCE $output.sai $input > $output.sam \"\"\" }","title":"\u6ce8\u91ca"},{"location":"tools/Tools-bpipe-%E7%94%A8%E4%BA%8E%E6%9E%84%E5%BB%BA%E5%88%86%E6%9E%90%E6%B5%81%E7%A8%8B/#_2","text":"\u4e0a\u8ff0\u6b65\u9aa4\u540d\u5b57\u662f align ,\u540e\u9762\u4f7f\u7528 {exec \"\"\" \"\"\"} \u4e2d\u95f4\u662f\u9700\u8981\u6267\u884c\u7684shell\u547d\u4ee4\u3002 $input \u548c $output \u662f\u8f93\u5165\u548c\u8f93\u51fa\u6587\u4ef6\uff0c\u6700\u597d\u662f\u8ddf\u4e0a\u5bf9\u5e94\u7684\u540e\u7f00\uff0cbpipe\u4f1a\u5728\u6d41\u7a0b\u5408\u5e76\u8d77\u6765run\u7684\u65f6\u5019\uff0c\u81ea\u52a8\u5224\u65ad\u524d\u540e\u547d\u4ee4\u7684\u8f93\u5165\u548c\u8f93\u51fa\uff0c\u524d\u4e00\u6b65\u7684\u8f93\u51fa\u662f\u540e\u4e00\u6b65\u7684\u8f93\u5165\u3002\u5982\u679c\u524d\u4e00\u6b65\u7684\u8f93\u51fa\u4e0d\u662f\u540e\u4e00\u6b65\u7684\u8f93\u5165\uff0c\u9700\u8981\u5728 exec \u201c\u201d\u201c \u201d\u201c\u201d \u4e0b\u9762\u52a0\u4e0a\u4e00\u884c forward input \u3002\u5f53\u4f7f\u7528\u6709\u540e\u7f00\u7684\u8f93\u5165\u548c\u8f93\u51fa\u65f6\uff0c\u8fd9\u79cd\u60c5\u51b5\u5c31\u53ef\u4ee5\u5927\u5927\u964d\u4f4e\u3002","title":"\u6b65\u9aa4"},{"location":"tools/Tools-bpipe-%E7%94%A8%E4%BA%8E%E6%9E%84%E5%BB%BA%E5%88%86%E6%9E%90%E6%B5%81%E7%A8%8B/#_3","text":"[task1,task2]\u5e76\u884ctask1\u548ctask2,task\u91cc\u9762\u53ef\u4ee5\u7ee7\u7eed\u5d4c\u5957\u5176\u4ed6\u7684\u5e76\u884c\u6216\u4e32\u884c\u4efb\u52a1 \u4f8b\u5982\u6700\u4e0b\u9762\u7684\u5b8c\u6574\u7684\u5b9e\u4f8b\u4e2d\uff0c index \u53ef\u4ee5\u548c call_variants \u4e00\u540c\u6267\u884c\uff0c\u5219run\u5e94\u8be5\u4fee\u6539\u4e3a\uff1a run { align + sort + dedupe + [index , call_variants] } \u8f6c\u8f7d\u53c2\u8003https://mp.weixin.qq.com/s?__biz=MzUzMTEwODk0Ng==&mid=2247487816&idx=1&sn=c87971a6a506c24ac80bc0d988287d55&scene=21#wechat_redirect bpipe1.txt\u5185\u5bb9\u5982\u4e0b\uff1a PICARD_HOME=\"/usr/local/picard-tools/\" REFERENCE=\"reference.fa\" @Transform(\"align the fq to reference genome\") align = { exec \"\"\" bwa aln $REFERENCE $input > $output.sai; bwa samse $REFERENCE $output.sai $input > $output.sam \"\"\" } @Transform(\"sort sam file to bam\") sort = { exec \"samtools view -bSu $input.sam | samtools sort -o - - > $output.bam\" } @Filter(\"use picard to make duplicates\") dedupe = { exec \"\"\" java -Xmx1g -jar $PICARD_HOME/MarkDuplicates.jar MAX_FILE_HANDLES_FOR_READ_ENDS_MAP=1000 METRICS_FILE=out.metrics REMOVE_DUPLICATES=true ASSUME_SORTED=true VALIDATION_STRINGENCY=LENIENT INPUT=$input.bam OUTPUT=$output.bam \"\"\" } @Transform(\"build a index of bam file\") index = { exec \"samtools index $input.bam\" } call_variants = { exec \"samtools mpileup -uf $REFERENCE $input.bam | bcftools view -bvcg - > $output.vcf\" } run { align + sort + dedupe + index + call_variants } \u8fd0\u884c\u65b9\u5f0f bpipe run pipeline1.txt s_1.fq","title":"\u5e76\u884c\u4efb\u52a1"},{"location":"tools/Tools-bpipe-%E7%94%A8%E4%BA%8E%E6%9E%84%E5%BB%BA%E5%88%86%E6%9E%90%E6%B5%81%E7%A8%8B/#pipeline1txtrunindexrun","text":"run{ align + sort + dedupe + call_variants }","title":"\u4e0d\u9700\u8981\u67d0\u4e2a\u6b65\u9aa4\u65f6\uff0c\u76f4\u63a5\u4fee\u6539pipeline1.txt\u6587\u4ef6\u91ccrun\u7684\u53c2\u6570\uff0c\u4f8b\u5982\uff1a\u4e0d\u9700\u8981index,\u5219run\u5e94\u8be5\u662f\uff1a"},{"location":"tools/Tools-bpipe-%E7%94%A8%E4%BA%8E%E6%9E%84%E5%BB%BA%E5%88%86%E6%9E%90%E6%B5%81%E7%A8%8B/#bpipe","text":"hello = { exec \"\"\"samtools view test.bam $chr | some_other_tool \"\"\" } Bpipe.run { chr(1..10, 'X','Y') * [ hello ] } \u4e0a\u9762\u4f1a\u9ed8\u8ba4\u4f7f\u7528UCSC\u7684\u57fa\u56e0\u7ec4\u3002 hg19.split(40) * [ stage1 + stage2 ] \u53ef\u4ee5\u628a\u57fa\u56e0\u7ec4\u5206\u621040\u4efd\u6765\u5e76\u884c","title":"bpipe\u652f\u6301\u6309\u7167\u67d3\u8272\u4f53\u5e76\u884c\u5316"},{"location":"tools/Tools-bpipe-%E7%94%A8%E4%BA%8E%E6%9E%84%E5%BB%BA%E5%88%86%E6%9E%90%E6%B5%81%E7%A8%8B/#_4","text":"\u65b9\u6cd51\uff1a Bpipe.run { \"input_%.txt\" * [ hello + world ] + nice_to_see_you } bpipe run helloworld.pipe input*.txt","title":"\u591a\u4e2a\u6587\u4ef6\u5e76\u884c\u8fd0\u884c\u540c\u4e00\u4e2a\u547d\u4ee4"},{"location":"tools/Tools-bpipe-%E7%94%A8%E4%BA%8E%E6%9E%84%E5%BB%BA%E5%88%86%E6%9E%90%E6%B5%81%E7%A8%8B/#helloworldpiperunbpipeinputtxt","text":"\u65b9\u6cd52\uff1a // Create a data structure (Map) that maps branches to files def branches = [ sample1: [\"sample1_2.fastq.gz\"], sample2: [\"sample2_2.fastq.gz\"], sample3: [\"sample3_2.fastq.gz\"] ] align = { // keep the sample name as a branch variable branch.sample = branch.name ... } run { branches * [ align ] } \u8fd9\u6837\u4e00\u6b21\u8fd0\u884c\u4e09\u4e2a\u6587\u4ef6\u3002 http://docs.bpipe.org/Guides/ParallelTasks/ WGS\u7684bpipe\u7684\u793a\u4f8b github","title":"\u6ce8\u610f\uff1a\u6b64\u65f6\u9700\u8981\u540c\u65f6\u4fee\u6539helloworld.pipe\u6587\u4ef6\u91cc\u7684run\u7684\u4fe1\u606f\uff0c\u540c\u65f6\u5728\u4f7f\u7528bpipe\u8c03\u7528\u7684\u65f6\u5019\uff0c\u4e5f\u9700\u8981\u52a0\u4e0ainput*.txt.\u8fd9\u6837\u624d\u80fd\u6279\u91cf\u5e76\u884c\u6267\u884c\u811a\u672c\u3002"},{"location":"tools/Tools-csvtk%E4%B8%93%E4%B8%9A%E5%A4%84%E7%90%86csv%E6%96%87%E4%BB%B6/","text":"csvtk\u662fshen wei\u7684\u4f5c\u54c1\uff0cseqkit\u4e5f\u662f\u4ed6\u5199\u7684\u3002 csvtk githubs \u5b89\u88c5 conda install -c bioconda csvtk \u6216\u8005\u4ecehttps://github.com/shenwei356/csvtk/releases \u4e0b\u8f7d\u4e8c\u8fdb\u5236\u6587\u4ef6\u3002 \u652f\u6301Linux\uff0cmac,windows. \u76f8\u5f53\u4e8eshell\u7684sed,grep,awk,cut,uniq,sort,join\u7684\u5408\u96c6\u3002\u4f18\u70b9\u662f\u652f\u6301\u591a\u7ebf\u7a0b\uff0c\u652f\u6301\u8bfb\u5199gz\u538b\u7f29\u6587\u4ef6\u3002 \u4e00\u822c\u9ed8\u8ba4\u8f93\u51fa\u5230\u6807\u51c6\u8f93\u51fa\u6d41\uff0c\u53ef\u4ee5\u914d\u5408\u7ba1\u9053\u7b26\u4f7f\u7528 \u5168\u5c40\u547d\u4ee4\u53c2\u6570 \u9ed8\u8ba4\u7684\u8f93\u5165\u548c\u8f93\u51fa\u6587\u4ef6\u90fd\u662fcsv\u683c\u5f0f\u3002 \u53c2\u6570\u5982\u679c\u9700\u8981\u4f7f\u7528\u5f15\u53f7\uff0c \u4e00\u5b9a\u8981\u7528\u5355\u5f15\u53f7\uff0c\u4e0d\u8981\u7528\u53cc\u5f15\u53f7\u3002 \u53ef\u4ee5\u76f4\u63a5\u8bfb\u5199gz\u538b\u7f29\u6587\u4ef6 -t \u8f93\u5165\u6587\u4ef6\u5206\u5272\u7b26\u4e3atab -T \u8f93\u51fa\u6587\u4ef6\u5206\u9694\u7b26\u4e3atab -j 32 \u6307\u5b9a32\u4e2acpu\u8fd0\u884c\uff0c\u9ed8\u8ba416. -o output.gz \u6307\u5b9a\u8f93\u51fa\u6587\u4ef6\uff0c\u540e\u7f00\u662fgz,\u5219\u76f4\u63a5\u8f93\u51fagz\u538b\u7f29\u6587\u4ef6\u3002 \u5e38\u7528\u53c2\u6570 -csvtk xlsx2csv csvtk xlsx2csv -a test.xlsx #\u67e5\u770b\u6709\u51e0\u4e2asheet csvtk xlsx2csv -i 2 -t test.xlsx #\u63d0\u53d6\u7b2c2\u4e2asheet\uff0c\u8f93\u51fa\u683c\u5f0f\u4e3atab\u5206\u9694\u7b26 csvtk xlsx2csv -i 2 test.xlsx #\u63d0\u53d6\u7b2c2\u4e2asheet\uff0c\u8f93\u51fa\u683c\u5f0f\u4e3acsv\u683c\u5f0f csvtk nrow csvtk nrow test.csv # \u67e5\u770bcsv\u6587\u4ef6\u7684\u884c\u6570 csvtk nrow -t test.txt # \u67e5\u770btab\u5206\u5272\u7b26\u7684\u6587\u4ef6\u7684\u884c\u6570 -csvtk ncol \uff08\u7528\u6cd5\u548cnrow\u4e00\u6837\uff09 csvtk xlsx2csv -i 3 test.xlsx|csvtk ncol #\u8054\u5408\u4f7f\u7528\uff0c\u4ecexlsx\u91cc\u83b7\u53d6\u6307\u5b9asheet\u7684\u5217\u6570 -csvtk filter2 csvtk filter2 -f '$5<0.05' test.csv \u6216\u8005 csvtk filter2 -f '$padj<0.05' test.csv #\u53ef\u4ee5\u4f7f\u7528 $5 \u6307\u5b9a\u7b2c5\u5217\u8fc7\u6ee4\u6216\u8005 $padj \u76f4\u63a5\u4f7f\u7528\u5217\u540d\u8fc7\u6ee4\u3002 csvtk filter2 -f '$5>$4' test.csv #\u8fc7\u6ee4\u7b2c5\u5217\u5927\u4e8e\u7b2c4\u5217\u7684 csvtk filter2 -t -f '$5>0.03' test.tab \u8fc7\u6ee4tab\u5206\u5272\u7b26\u7684\u7b2c5\u5217\u5927\u4e8e0.03\u7684 -csv2xlsx csvtk csv2xlsx test.csv #\u4f1a\u76f4\u63a5\u8f93\u51fa\u6587\u4ef6 test.csv.xlsx csv2 -del-header csvtk del-header test.csv #\u5220\u9664\u5934\u90e8 -add-header csvtk add-header -n 'genename,count,foldchange,pval,padj' test.csv #\u6dfb\u52a0\u65b0\u7684\u6587\u4ef6\u5934 -rename csvtk rename -f 1,2,3,4,5 -n 'gene,count,foldchange,pvalue,padj' test.csv #\u76f4\u63a5\u91cd\u547d\u540d\u6307\u5b9a\u5217\u7684\u5217\u540d csvtk rename -f 3 -n 'log2Foldchange' test.csv #\u6307\u5b9a\u5217\u540d\u91cd\u547d\u540d -csvtk transpose csvtk transpose test.csv #\u8f6c\u7f6e","title":"Tools csvtk\u4e13\u4e1a\u5904\u7406csv\u6587\u4ef6"},{"location":"tools/Tools-csvtk%E4%B8%93%E4%B8%9A%E5%A4%84%E7%90%86csv%E6%96%87%E4%BB%B6/#shellsedgrepawkcutuniqsortjoingz","text":"","title":"\u76f8\u5f53\u4e8eshell\u7684sed,grep,awk,cut,uniq,sort,join\u7684\u5408\u96c6\u3002\u4f18\u70b9\u662f\u652f\u6301\u591a\u7ebf\u7a0b\uff0c\u652f\u6301\u8bfb\u5199gz\u538b\u7f29\u6587\u4ef6\u3002"},{"location":"tools/Tools-csvtk%E4%B8%93%E4%B8%9A%E5%A4%84%E7%90%86csv%E6%96%87%E4%BB%B6/#_1","text":"","title":"\u4e00\u822c\u9ed8\u8ba4\u8f93\u51fa\u5230\u6807\u51c6\u8f93\u51fa\u6d41\uff0c\u53ef\u4ee5\u914d\u5408\u7ba1\u9053\u7b26\u4f7f\u7528"},{"location":"tools/Tools-csvtk%E4%B8%93%E4%B8%9A%E5%A4%84%E7%90%86csv%E6%96%87%E4%BB%B6/#_2","text":"\u9ed8\u8ba4\u7684\u8f93\u5165\u548c\u8f93\u51fa\u6587\u4ef6\u90fd\u662fcsv\u683c\u5f0f\u3002 \u53c2\u6570\u5982\u679c\u9700\u8981\u4f7f\u7528\u5f15\u53f7\uff0c \u4e00\u5b9a\u8981\u7528\u5355\u5f15\u53f7\uff0c\u4e0d\u8981\u7528\u53cc\u5f15\u53f7\u3002 \u53ef\u4ee5\u76f4\u63a5\u8bfb\u5199gz\u538b\u7f29\u6587\u4ef6 -t \u8f93\u5165\u6587\u4ef6\u5206\u5272\u7b26\u4e3atab -T \u8f93\u51fa\u6587\u4ef6\u5206\u9694\u7b26\u4e3atab -j 32 \u6307\u5b9a32\u4e2acpu\u8fd0\u884c\uff0c\u9ed8\u8ba416. -o output.gz \u6307\u5b9a\u8f93\u51fa\u6587\u4ef6\uff0c\u540e\u7f00\u662fgz,\u5219\u76f4\u63a5\u8f93\u51fagz\u538b\u7f29\u6587\u4ef6\u3002","title":"\u5168\u5c40\u547d\u4ee4\u53c2\u6570"},{"location":"tools/Tools-csvtk%E4%B8%93%E4%B8%9A%E5%A4%84%E7%90%86csv%E6%96%87%E4%BB%B6/#_3","text":"-csvtk xlsx2csv csvtk xlsx2csv -a test.xlsx #\u67e5\u770b\u6709\u51e0\u4e2asheet csvtk xlsx2csv -i 2 -t test.xlsx #\u63d0\u53d6\u7b2c2\u4e2asheet\uff0c\u8f93\u51fa\u683c\u5f0f\u4e3atab\u5206\u9694\u7b26 csvtk xlsx2csv -i 2 test.xlsx #\u63d0\u53d6\u7b2c2\u4e2asheet\uff0c\u8f93\u51fa\u683c\u5f0f\u4e3acsv\u683c\u5f0f csvtk nrow csvtk nrow test.csv # \u67e5\u770bcsv\u6587\u4ef6\u7684\u884c\u6570 csvtk nrow -t test.txt # \u67e5\u770btab\u5206\u5272\u7b26\u7684\u6587\u4ef6\u7684\u884c\u6570 -csvtk ncol \uff08\u7528\u6cd5\u548cnrow\u4e00\u6837\uff09 csvtk xlsx2csv -i 3 test.xlsx|csvtk ncol #\u8054\u5408\u4f7f\u7528\uff0c\u4ecexlsx\u91cc\u83b7\u53d6\u6307\u5b9asheet\u7684\u5217\u6570 -csvtk filter2 csvtk filter2 -f '$5<0.05' test.csv \u6216\u8005 csvtk filter2 -f '$padj<0.05' test.csv #\u53ef\u4ee5\u4f7f\u7528 $5 \u6307\u5b9a\u7b2c5\u5217\u8fc7\u6ee4\u6216\u8005 $padj \u76f4\u63a5\u4f7f\u7528\u5217\u540d\u8fc7\u6ee4\u3002 csvtk filter2 -f '$5>$4' test.csv #\u8fc7\u6ee4\u7b2c5\u5217\u5927\u4e8e\u7b2c4\u5217\u7684 csvtk filter2 -t -f '$5>0.03' test.tab \u8fc7\u6ee4tab\u5206\u5272\u7b26\u7684\u7b2c5\u5217\u5927\u4e8e0.03\u7684 -csv2xlsx csvtk csv2xlsx test.csv #\u4f1a\u76f4\u63a5\u8f93\u51fa\u6587\u4ef6 test.csv.xlsx csv2 -del-header csvtk del-header test.csv #\u5220\u9664\u5934\u90e8 -add-header csvtk add-header -n 'genename,count,foldchange,pval,padj' test.csv #\u6dfb\u52a0\u65b0\u7684\u6587\u4ef6\u5934 -rename csvtk rename -f 1,2,3,4,5 -n 'gene,count,foldchange,pvalue,padj' test.csv #\u76f4\u63a5\u91cd\u547d\u540d\u6307\u5b9a\u5217\u7684\u5217\u540d csvtk rename -f 3 -n 'log2Foldchange' test.csv #\u6307\u5b9a\u5217\u540d\u91cd\u547d\u540d -csvtk transpose csvtk transpose test.csv #\u8f6c\u7f6e","title":"\u5e38\u7528\u53c2\u6570"},{"location":"tools/Tools-eggnog-mapper%E5%85%A8%E6%96%B0%E7%9A%84%E5%8A%9F%E8%83%BD%E6%B3%A8%E9%87%8A%E5%B7%A5%E5%85%B7/","text":"\u4e0d\u8981\u8fd8\u5b88\u7740GO\u5206\u6790\u4e0d\u653e\u624b\u4e86\u3002\u6765\u770b\u770b\u65b0\u7684\u5de5\u5177\u3002 eggnog-mapper\u5b98\u7f51 \u5f90\u5dde\u66f4\u7684\u6559\u7a0b \u4e3b\u8981\u662f\u6570\u636e\u5e93\u529f\u80fd\u6bd4\u8f83\u5168\uff0c\u95ee\u9898\u662f\u6570\u636e\u5e93\u6bd4\u8f83\u5927\uff0c\u9700\u8981\u4e0b\u8f7d\u65f6\u95f4\u6bd4\u8f83\u957f\u3002\u800c\u4e14\u90e8\u5206\u5185\u5bb9\u4e0d\u662f\u6700\u65b0\u7248\u7684\u3002 \u4e3b\u8981\u4f7f\u7528\u73af\u5883\u662f\uff1a\u7528\u4e8e\u6ce8\u91ca\u65b0\u7684\u57fa\u56e0\u7ec4\u3001\u8f6c\u5f55\u7ec4\u3001\u5fae\u751f\u7269\uff08\u5b8f\u57fa\u56e0\u7ec4\uff09 \u6700\u65b0\u7248\u672c\u7684\u662fV2\u7248\u672c github \u65b0\u589e\u52a0\u4e86GO\u3001KEGG\u7684\u6570\u636e\u5e93 \u4f18\u70b9\u662f\uff1a \u4f7f\u7528\u7684\u662f\u76f4\u7cfb\u540c\u6e90\u7684\u5e8f\u5217\u8fdb\u884c\u529f\u80fd\u6ce8\u91ca","title":"Tools eggnog mapper\u5168\u65b0\u7684\u529f\u80fd\u6ce8\u91ca\u5de5\u5177"},{"location":"tools/Tools-mathpix_snipping%E7%94%A8%E4%BA%8E%E8%AF%86%E5%88%AB%E5%87%BD%E6%95%B0%E5%85%AC%E5%BC%8F/","text":"\u5199\u8bba\u6587\u65f6\u6709\u590d\u6742\u7684\u516c\u5f0f\u6216\u51fd\u6570\u5f0f\uff0c\u53ef\u4ee5\u4f7f\u7528\u8fd9\u4e2a\u5de5\u5177\u5feb\u901f\u622a\u56fe\uff0c\u81ea\u52a8\u8bc6\u522b\u51fa\u76f8\u5e94\u516c\u5f0f\u3002\u65b9\u4fbf\u5feb\u901f\u63d2\u5165\u6587\u6863\u3002 \u4f7f\u7528\u622a\u56fe\u5feb\u6377\u952e\uff1actrl+alt+m","title":"Tools mathpix snipping\u7528\u4e8e\u8bc6\u522b\u51fd\u6570\u516c\u5f0f"},{"location":"tools/Tools-seqkit%E5%BF%AB%E9%80%9F%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%85%A8%E5%B9%B3%E5%8F%B0fastq%E5%A4%84%E7%90%86%E5%B7%A5%E5%85%B7/","text":"seqkit\u7684\u4f7f\u7528\u65b9\u6cd5 seqkit github mp.weixin.qq.com/s/OJsxFR33ej0ACozNbF_dNA \u53c2\u6570\u5982\u4e0b\uff1a amplicon \u901a\u8fc7\u5f15\u7269\u68c0\u7d22\u6269\u589e\u5b50(\u6216\u5176\u5468\u56f4\u7684\u7279\u5b9a\u533a\u57df) bam \u68c0\u67e5\u548c\u5728\u7ebf\u7ed8\u5236BAM\u8bb0\u5f55\u6587\u4ef6\u7684\u76f4\u65b9\u56fe common \u901a\u8fc7id/\u540d\u79f0/\u5e8f\u5217\u67e5\u627e\u591a\u4e2a\u6587\u4ef6\u7684\u516c\u5171\u5e8f\u5217 concat \u8fde\u63a5\u591a\u4e2a\u6587\u4ef6\u4e2d\u5177\u6709\u76f8\u540cID\u7684\u5e8f\u5217 convert \u8f6c\u6362FASTQ\u8d28\u91cf\u7f16\u7801\u683c\u5f0f\uff1a\u652f\u6301\u683c\u5f0f\u5305\u62ec\uff1a\u6851\u683c\uff0cSolexa\u548cIllumina duplicate \u91cd\u590d\u5e8f\u5217N\u6b21 faidx \u521b\u5efaFASTA\u7d22\u5f15\u6587\u4ef6\u5e76\u63d0\u53d6\u5b50\u5e8f\u5217 fish \u4f7f\u7528\u5c40\u90e8\u6bd4\u5bf9\u5728\u8f83\u5927\u7684\u5e8f\u5217\u4e2d\u5bfb\u627e\u77ed\u5e8f\u5217 fq2fa \u8f6c\u6362FASTQ\u5230FASTA fx2tab \u5c06FASTA/Q\u8f6c\u6362\u4e3a\u8868\u683c\u683c\u5f0f(\u5305\u542b\u957f\u5ea6/GC\u542b\u91cf/GC\u504f\u597d) genautocomplete \u751f\u6210shell\u81ea\u52a8\u5b8c\u6210\u811a\u672c grep \u901a\u8fc7ID/name/sequence/sequence motif\u641c\u7d22\u5e8f\u5217\uff0c\u5141\u8bb8\u9519\u914d head \u6253\u5370\u7b2c\u4e00\u6761\u5e8f\u5217 help \u6253\u5370\u5e2e\u52a9\u4fe1\u606f locate \u5b9a\u4f4d\u5e8f\u5217\uff0c\u6216\u8005motifs\uff0c\u5141\u8bb8\u9519\u914d mutate \u7f16\u8f91\u5e8f\u5217(\u70b9\u7a81\u53d8\u3001\u63d2\u5165\u3001\u5220\u9664) pair \u5339\u914d\u53cc\u7aef\u5e8f\u5217\u6587\u4ef6 range \u6253\u5370\u4e00\u4e2a\u8303\u56f4\u5185\u7684\u5e8f\u5217 rename \u91cd\u547d\u540d\u91cd\u590d\u5e8f\u5217ID replace \u4f7f\u7528\u6b63\u5219\u8868\u8fbe\u5f0f\u4fee\u6539\u540d\u79f0\u6216\u8005\u5e8f\u5217 restart \u91cd\u7f6e\u73af\u72b6\u57fa\u56e0\u7ec4\u7684\u8d77\u59cb\u4f4d\u7f6e rmdup \u901a\u8fc7id/\u540d\u79f0/\u5e8f\u5217\u5220\u9664\u91cd\u590d\u7684\u5e8f\u5217 sample \u6309\u6570\u91cf\u6216\u6bd4\u4f8b\u5bf9\u5e8f\u5217\u8fdb\u884c\u62bd\u6837 sana \u6e05\u7406\u635f\u574f\u7684\u5355\u884cfastq\u6587\u4ef6 scat real time recursive concatenation and streaming of fastx files seq \u8f6c\u6362\u5e8f\u5217(\u53cd\u5411\uff0c\u8865\u5145\uff0c\u63d0\u53d6ID\u2026) shuffle \u968f\u673a\u5e8f\u5217 sliding \u5e8f\u5217\u6ed1\u7a97\u63d0\u53d6\uff0c\u652f\u6301\u73af\u5f62\u57fa\u56e0\u7ec4 sort \u6309id/\u540d\u79f0/\u5e8f\u5217/\u957f\u5ea6\u6392\u5e8f\u5e8f\u5217 split \u6309id/seq\u533a\u57df/\u5927\u5c0f/\u90e8\u4ef6\u5c06\u5e8f\u5217\u62c6\u5206\u4e3a\u6587\u4ef6(\u4e3b\u8981\u7528\u4e8eFASTA) split2 \u6309\u5e8f\u5217\u6570\u91cf/\u6587\u4ef6\u6570\u5c06\u5e8f\u5217\u62c6\u5206\u4e3a\u591a\u4e2a\u6587\u4ef6(FASTA, PE/SE FASTQ) stats FASTA/Q\u6587\u4ef6\u7684\u7b80\u5355\u7edf\u8ba1 subseq \u901a\u8fc7region/gtf/bed\u5f97\u5230\u5b50\u5e8f\u5217\uff0c\u5305\u62ec\u4fa7\u7ffc\u5e8f\u5217 tab2fx \u8f6c\u6362\u8868\u683c\u683c\u5f0f\u4e3aFASTA/Q\u683c\u5f0f translate \u7ffb\u8bd1DNA/RNA\u5230\u86cb\u767d\u8d28\u5e8f\u5217(\u652f\u6301\u6b67\u4e49\u78b1\u57fa) version \u6253\u5370\u7248\u672c\u4fe1\u606f\u5e76\u68c0\u67e5\u662f\u5426\u66f4\u65b0 watch \u5e8f\u5217\u7279\u5f81\u7684\u76d1\u6d4b\u548c\u5728\u7ebf\u76f4\u65b9\u56fe \u5355\u72ec\u67e5\u770b\u5e2e\u52a9 seqkit rename --help \u591a\u884c\u8f6c\u5355\u884c seqkit seq test.fa -w 0 \u628a\u591a\u884c\u7684\u8f6c\u4e3a\u4e00\u884c \u5355\u884c\u8f6c\u591a\u884c seqkit seq demo.fa -w 100 \u628a\u4e00\u884c\u7684\u8f6c\u4e3a\u591a\u884c\uff0c\u6bcf\u884c100\u4e2a\u5b57\u7b26 \u63d0\u53d6\u5e8f\u5217\u7684\u540d\u79f0 seqkit seq -n test.fa \u83b7\u53d6\u6240\u6709\u5e8f\u5217\u7684\u540d\u79f0 DNA\u8f6c\u86cb\u767d\u8d28 seqkit translate -T 1 demo.fa -T\u53c2\u6570\u6307\u5b9a\u4f7f\u7528\u7684\u8f6c\u6362\u6a21\u5f0f\uff0c1\u662f\u4e00\u822c\u6a21\u5f0f\u3002 \u63d0\u53d6\u53ea\u5305\u542bID\u7684\u5e8f\u5217 seqkit seq -i 2.fa >3.fa head 2.fa >XP_012434104.1 PREDICTED: probable ribonuclease P/MRP protein subunit POP5 MVGFKNSYMVMEVLLDPNKEISGDDPIVVTQFNISKAIKDGILVNFGECGLASSLGSFQV \u63d0\u53d6\u540e\uff0cheader\u53ea\u4fdd\u7559 XP_012434104.1 head 3.fa >XP_012434104.1 MVGFKNSYMVMEVLLDPNKEISGDDPIVVTQFNISKAIKDGILVNFGECGLASSLGSFQV \u63d0\u53d6ID\u548c\u5e8f\u5217\uff08\u4f7f\u7528\u6b63\u5219\uff09\u5728\u7ebf\u6b63\u5219\u8868\u8fbe\u5de5\u5177https://c.runoob.com/front-end/854 seqkit seq -i --id-regexp \"([A-Za-z0-9.]{1,30})\" -w 0 CAZyDB.07312020.fa >CAZyDB.07312020.fasta \u4e3b\u8981\u662f\u4f7f\u7528 --id-regexp \u8fd9\u4e2a\u53c2\u6570\uff0c\u5339\u914d\u7684\u65f6\u5019\u4e0d\u9700\u8981\u5339\u914d ^> \uff0c\u7a0b\u5e8f\u4f1a\u81ea\u52a8\u5339\u914dID\u6240\u5728\u7684\u884c\uff0c\u4e2d\u95f4\u7684\u6b63\u5219\uff0c\u5fc5\u987b\u7528\u53cc\u5f15\u53f7\u5305\u62ec\u4e00\u5bf9\u5c0f\u62ec\u53f7\u3002\u5c0f\u62ec\u53f7\u5185\u662f\u5339\u914d\u8981\u4fdd\u7559ID\u7684\u5b57\u7b26 head CAZyDB.07312020.fa >CBL17682.1|CBM22|CBM6|GH10|GH43_16|3.2.1.55|3.2.1.8 MQLRITSRKKLTALLCALGLISIVAIYPRQTVNFFYSTAVQITDYIHFYGYRPVKSFAIRIPASYTIHGLDVSRWQERIDWQRVAKMRDNDIRLQFAFIKATEGEKLVDPYFSRNWQLSRENGLLRGAYHYFSPSVSASVQARLFLQTVDFSQGDFPAVLDVEERGKLSAKELRKRVSQWLKMVEKRTGKKPIIYSGAVFYHTNLAGYFNEYPWWVAHYYQRRPDNDGMAWRFWQHSDRGQVDGINGPVDFNVFNGTGMSCRHSLMGLKKRLK head CAZyDB.07312020.fasta >CBL17682.1 MQLRITSRKKLTALLCALGLISIVAIYPRQTVNFFYSTAVQITDYIHFYGYRPVKSFAIRIPASYTIHGLDVSRWQERIDWQRVAKMRDNDIRLQFAFIKATEGEKLVDPYFSRNWQLSRENGLLRGAYHYFSPSVSASVQARLFLQTVDFSQGDFPAVLDVEERGKLSAKELRKRVSQWLKMVEKRTGKKPIIYSGAVFYHTNLAGYFNEYPWWVAHYYQRRPDNDGMAWRFWQHSDRGQVDGINGPVDFNVFNGTGMSCRHSLMGLKKRLK DNA\u8f6cRNA seqkit seq --dna2rna Chr_genome_final.fa RNA\u8f6cDNA seqkit seq --rna2dna Chr_final.fa \u5927\u5199\u8f6c\u5c0f\u5199 seqkit seq --lower-case test.fa \u5c0f\u5199\u8f6c\u5927\u5199 seqkit seq --upper-case test.fa \u4e92\u8865\u5e8f\u5217(-t \u53c2\u6570\u6307\u5b9a\u5e8f\u5217\u7c7b\u578b\uff0c\u4e0d\u6307\u5b9a\u4e5f\u4f1a\u81ea\u52a8\u8bc6\u522b\uff0c\u4e0d\u8fc7\u4f1a\u6709warning\uff0c\u8981\u6c42\u6307\u5b9a\u7c7b\u578b) seqkit seq -t DNA --complement test.fa seqkit seq -t RNA --complement test.RNA.fa \u53cd\u5411\u5e8f\u5217 seqkit seq --reverse test.cds.fa \u53cd\u5411\u5e8f\u5217 seqkit seq -t DNA --complement --reverse test.cds.fa \u53cd\u5411\u4e92\u8865\u5e8f\u5217 \u5e8f\u5217\u63d0\u53d6(-n\u6307\u5b9a\u63d0\u53d6\u6570\u91cf\uff0c-s\u6307\u5b9a\u968f\u673a\u6570\uff0c-p\u6307\u5b9a\u62bd\u53d6\u6bd4\u4f8b\uff0c-o\u8f93\u51fa) seqkit sample -n 10000 -s 10 test_1.fq -o sample.fq \u968f\u673a\u63d0\u53d610000\u6761\u5e8f\u5217 seqkit sample -p 0.1 -s 10 test_1.fq -o sample.fq \u968f\u673a\u63d0\u53d6\u603b\u5e8f\u5217\u768410%\u7684\u5e8f\u5217","title":"Tools seqkit\u5feb\u901f\u591a\u7ebf\u7a0b\u5168\u5e73\u53f0fastq\u5904\u7406\u5de5\u5177"},{"location":"tools/Tools-seqkit%E5%BF%AB%E9%80%9F%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%85%A8%E5%B9%B3%E5%8F%B0fastq%E5%A4%84%E7%90%86%E5%B7%A5%E5%85%B7/#_1","text":"seqkit rename --help","title":"\u5355\u72ec\u67e5\u770b\u5e2e\u52a9"},{"location":"tools/Tools-seqkit%E5%BF%AB%E9%80%9F%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%85%A8%E5%B9%B3%E5%8F%B0fastq%E5%A4%84%E7%90%86%E5%B7%A5%E5%85%B7/#_2","text":"seqkit seq test.fa -w 0 \u628a\u591a\u884c\u7684\u8f6c\u4e3a\u4e00\u884c","title":"\u591a\u884c\u8f6c\u5355\u884c"},{"location":"tools/Tools-seqkit%E5%BF%AB%E9%80%9F%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%85%A8%E5%B9%B3%E5%8F%B0fastq%E5%A4%84%E7%90%86%E5%B7%A5%E5%85%B7/#_3","text":"seqkit seq demo.fa -w 100 \u628a\u4e00\u884c\u7684\u8f6c\u4e3a\u591a\u884c\uff0c\u6bcf\u884c100\u4e2a\u5b57\u7b26","title":"\u5355\u884c\u8f6c\u591a\u884c"},{"location":"tools/Tools-seqkit%E5%BF%AB%E9%80%9F%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%85%A8%E5%B9%B3%E5%8F%B0fastq%E5%A4%84%E7%90%86%E5%B7%A5%E5%85%B7/#_4","text":"seqkit seq -n test.fa \u83b7\u53d6\u6240\u6709\u5e8f\u5217\u7684\u540d\u79f0","title":"\u63d0\u53d6\u5e8f\u5217\u7684\u540d\u79f0"},{"location":"tools/Tools-seqkit%E5%BF%AB%E9%80%9F%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%85%A8%E5%B9%B3%E5%8F%B0fastq%E5%A4%84%E7%90%86%E5%B7%A5%E5%85%B7/#dna","text":"seqkit translate -T 1 demo.fa -T\u53c2\u6570\u6307\u5b9a\u4f7f\u7528\u7684\u8f6c\u6362\u6a21\u5f0f\uff0c1\u662f\u4e00\u822c\u6a21\u5f0f\u3002","title":"DNA\u8f6c\u86cb\u767d\u8d28"},{"location":"tools/Tools-seqkit%E5%BF%AB%E9%80%9F%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%85%A8%E5%B9%B3%E5%8F%B0fastq%E5%A4%84%E7%90%86%E5%B7%A5%E5%85%B7/#id","text":"seqkit seq -i 2.fa >3.fa head 2.fa >XP_012434104.1 PREDICTED: probable ribonuclease P/MRP protein subunit POP5 MVGFKNSYMVMEVLLDPNKEISGDDPIVVTQFNISKAIKDGILVNFGECGLASSLGSFQV \u63d0\u53d6\u540e\uff0cheader\u53ea\u4fdd\u7559 XP_012434104.1 head 3.fa >XP_012434104.1 MVGFKNSYMVMEVLLDPNKEISGDDPIVVTQFNISKAIKDGILVNFGECGLASSLGSFQV","title":"\u63d0\u53d6\u53ea\u5305\u542bID\u7684\u5e8f\u5217"},{"location":"tools/Tools-seqkit%E5%BF%AB%E9%80%9F%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%85%A8%E5%B9%B3%E5%8F%B0fastq%E5%A4%84%E7%90%86%E5%B7%A5%E5%85%B7/#idhttpscrunoobcomfront-end854","text":"seqkit seq -i --id-regexp \"([A-Za-z0-9.]{1,30})\" -w 0 CAZyDB.07312020.fa >CAZyDB.07312020.fasta \u4e3b\u8981\u662f\u4f7f\u7528 --id-regexp \u8fd9\u4e2a\u53c2\u6570\uff0c\u5339\u914d\u7684\u65f6\u5019\u4e0d\u9700\u8981\u5339\u914d ^> \uff0c\u7a0b\u5e8f\u4f1a\u81ea\u52a8\u5339\u914dID\u6240\u5728\u7684\u884c\uff0c\u4e2d\u95f4\u7684\u6b63\u5219\uff0c\u5fc5\u987b\u7528\u53cc\u5f15\u53f7\u5305\u62ec\u4e00\u5bf9\u5c0f\u62ec\u53f7\u3002\u5c0f\u62ec\u53f7\u5185\u662f\u5339\u914d\u8981\u4fdd\u7559ID\u7684\u5b57\u7b26 head CAZyDB.07312020.fa >CBL17682.1|CBM22|CBM6|GH10|GH43_16|3.2.1.55|3.2.1.8 MQLRITSRKKLTALLCALGLISIVAIYPRQTVNFFYSTAVQITDYIHFYGYRPVKSFAIRIPASYTIHGLDVSRWQERIDWQRVAKMRDNDIRLQFAFIKATEGEKLVDPYFSRNWQLSRENGLLRGAYHYFSPSVSASVQARLFLQTVDFSQGDFPAVLDVEERGKLSAKELRKRVSQWLKMVEKRTGKKPIIYSGAVFYHTNLAGYFNEYPWWVAHYYQRRPDNDGMAWRFWQHSDRGQVDGINGPVDFNVFNGTGMSCRHSLMGLKKRLK head CAZyDB.07312020.fasta >CBL17682.1 MQLRITSRKKLTALLCALGLISIVAIYPRQTVNFFYSTAVQITDYIHFYGYRPVKSFAIRIPASYTIHGLDVSRWQERIDWQRVAKMRDNDIRLQFAFIKATEGEKLVDPYFSRNWQLSRENGLLRGAYHYFSPSVSASVQARLFLQTVDFSQGDFPAVLDVEERGKLSAKELRKRVSQWLKMVEKRTGKKPIIYSGAVFYHTNLAGYFNEYPWWVAHYYQRRPDNDGMAWRFWQHSDRGQVDGINGPVDFNVFNGTGMSCRHSLMGLKKRLK","title":"\u63d0\u53d6ID\u548c\u5e8f\u5217\uff08\u4f7f\u7528\u6b63\u5219\uff09\u5728\u7ebf\u6b63\u5219\u8868\u8fbe\u5de5\u5177https://c.runoob.com/front-end/854"},{"location":"tools/Tools-seqkit%E5%BF%AB%E9%80%9F%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%85%A8%E5%B9%B3%E5%8F%B0fastq%E5%A4%84%E7%90%86%E5%B7%A5%E5%85%B7/#dnarna","text":"seqkit seq --dna2rna Chr_genome_final.fa","title":"DNA\u8f6cRNA"},{"location":"tools/Tools-seqkit%E5%BF%AB%E9%80%9F%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%85%A8%E5%B9%B3%E5%8F%B0fastq%E5%A4%84%E7%90%86%E5%B7%A5%E5%85%B7/#rnadna","text":"seqkit seq --rna2dna Chr_final.fa","title":"RNA\u8f6cDNA"},{"location":"tools/Tools-seqkit%E5%BF%AB%E9%80%9F%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%85%A8%E5%B9%B3%E5%8F%B0fastq%E5%A4%84%E7%90%86%E5%B7%A5%E5%85%B7/#_5","text":"seqkit seq --lower-case test.fa","title":"\u5927\u5199\u8f6c\u5c0f\u5199"},{"location":"tools/Tools-seqkit%E5%BF%AB%E9%80%9F%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%85%A8%E5%B9%B3%E5%8F%B0fastq%E5%A4%84%E7%90%86%E5%B7%A5%E5%85%B7/#_6","text":"seqkit seq --upper-case test.fa","title":"\u5c0f\u5199\u8f6c\u5927\u5199"},{"location":"tools/Tools-seqkit%E5%BF%AB%E9%80%9F%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%85%A8%E5%B9%B3%E5%8F%B0fastq%E5%A4%84%E7%90%86%E5%B7%A5%E5%85%B7/#-t-warning","text":"seqkit seq -t DNA --complement test.fa seqkit seq -t RNA --complement test.RNA.fa","title":"\u4e92\u8865\u5e8f\u5217(-t \u53c2\u6570\u6307\u5b9a\u5e8f\u5217\u7c7b\u578b\uff0c\u4e0d\u6307\u5b9a\u4e5f\u4f1a\u81ea\u52a8\u8bc6\u522b\uff0c\u4e0d\u8fc7\u4f1a\u6709warning\uff0c\u8981\u6c42\u6307\u5b9a\u7c7b\u578b)"},{"location":"tools/Tools-seqkit%E5%BF%AB%E9%80%9F%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%85%A8%E5%B9%B3%E5%8F%B0fastq%E5%A4%84%E7%90%86%E5%B7%A5%E5%85%B7/#_7","text":"seqkit seq --reverse test.cds.fa \u53cd\u5411\u5e8f\u5217 seqkit seq -t DNA --complement --reverse test.cds.fa \u53cd\u5411\u4e92\u8865\u5e8f\u5217","title":"\u53cd\u5411\u5e8f\u5217"},{"location":"tools/Tools-seqkit%E5%BF%AB%E9%80%9F%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%85%A8%E5%B9%B3%E5%8F%B0fastq%E5%A4%84%E7%90%86%E5%B7%A5%E5%85%B7/#-n-s-p-o","text":"seqkit sample -n 10000 -s 10 test_1.fq -o sample.fq \u968f\u673a\u63d0\u53d610000\u6761\u5e8f\u5217 seqkit sample -p 0.1 -s 10 test_1.fq -o sample.fq \u968f\u673a\u63d0\u53d6\u603b\u5e8f\u5217\u768410%\u7684\u5e8f\u5217","title":"\u5e8f\u5217\u63d0\u53d6(-n\u6307\u5b9a\u63d0\u53d6\u6570\u91cf\uff0c-s\u6307\u5b9a\u968f\u673a\u6570\uff0c-p\u6307\u5b9a\u62bd\u53d6\u6bd4\u4f8b\uff0c-o\u8f93\u51fa)"},{"location":"tools/Tools-vcftools%E7%9A%84%E4%BD%BF%E7%94%A8/","text":"\u53c2\u8003 \u57fa\u56e0\u7ec4\u7ec4\u88c5 Vcftools\u4f7f\u7528\u5b8c\u5168\u624b\u518c\uff1a \u7b5b\u9009\u7279\u5b9a\u7a81\u53d8 \u6bd4\u8f83\u6587\u4ef6 \u603b\u7ed3\u7a81\u53d8 \u8f6c\u5316\u6587\u4ef6\u683c\u5f0f \u9a8c\u8bc1\u5e76\u5408\u5e76\u6587\u4ef6 \u53d6\u7a81\u53d8\u4ea4\u96c6\u548c\u5dee\u96c6 1.\u5b89\u88c5vcftools sudo apt-get install vcftools Ubuntu\u53ef\u4ee5\u76f4\u63a5\u5b89\u88c5\uff0c\u5982\u679c\u4ecegithub\u5b89\u88c5\uff0c\u9700\u8981\u5148\u5b89\u88c5\u4f9d\u8d56\u5305\u3002\u4e0d\u7136\u7f16\u8bd1\u65e0\u6cd5\u901a\u8fc7\u3002 |\u4f9d\u8d56\u9879|\u7248\u672c\u8981\u6c42| |:----:|:----:| | libc6 | > = 2.29 | | libgcc-s1 | > = 3.0 | | libstdc ++ 6 | > = 9 | | perl\uff1a\u4efb\u4f55 | -- | | zlib1g | > = 1\uff1a1.2.6 | 2.\u4f7f\u7528vcftools","title":"Tools vcftools\u7684\u4f7f\u7528"},{"location":"tools/Tools-vcftools%E7%9A%84%E4%BD%BF%E7%94%A8/#vcftools","text":"\u7b5b\u9009\u7279\u5b9a\u7a81\u53d8 \u6bd4\u8f83\u6587\u4ef6 \u603b\u7ed3\u7a81\u53d8 \u8f6c\u5316\u6587\u4ef6\u683c\u5f0f \u9a8c\u8bc1\u5e76\u5408\u5e76\u6587\u4ef6 \u53d6\u7a81\u53d8\u4ea4\u96c6\u548c\u5dee\u96c6","title":"Vcftools\u4f7f\u7528\u5b8c\u5168\u624b\u518c\uff1a"},{"location":"tools/Tools-vcftools%E7%9A%84%E4%BD%BF%E7%94%A8/#1vcftools","text":"sudo apt-get install vcftools Ubuntu\u53ef\u4ee5\u76f4\u63a5\u5b89\u88c5\uff0c\u5982\u679c\u4ecegithub\u5b89\u88c5\uff0c\u9700\u8981\u5148\u5b89\u88c5\u4f9d\u8d56\u5305\u3002\u4e0d\u7136\u7f16\u8bd1\u65e0\u6cd5\u901a\u8fc7\u3002 |\u4f9d\u8d56\u9879|\u7248\u672c\u8981\u6c42| |:----:|:----:| | libc6 | > = 2.29 | | libgcc-s1 | > = 3.0 | | libstdc ++ 6 | > = 9 | | perl\uff1a\u4efb\u4f55 | -- | | zlib1g | > = 1\uff1a1.2.6 |","title":"1.\u5b89\u88c5vcftools"},{"location":"tools/Tools-vcftools%E7%9A%84%E4%BD%BF%E7%94%A8/#2vcftools","text":"","title":"2.\u4f7f\u7528vcftools"},{"location":"tools/Tools-xpdf%E5%91%BD%E4%BB%A4%E8%A1%8C%E9%87%8C%E7%8E%A9%E8%BD%ACpdf%EF%BC%8Cpdf%E8%BD%AC%E5%85%B6%E4%BB%96%E6%A0%BC%E5%BC%8F/","text":"xpdf\u4e0b\u8f7d\u5730\u5740 http://www.xpdfreader.com/download.html win\u548clinux\u90fd\u53ef\u4ee5\u4f7f\u7528\uff0c\u90fd\u662f\u547d\u4ee4\u884c\u3002 \u4e0b\u8f7d\u540e\u76f4\u63a5\u89e3\u538b\uff0c\u8fdb\u5165\u5bf9\u5e94\u8def\u5f84\uff0c\u76f4\u63a5\u8c03\u7528\u5373\u53ef\u3002\u4e5f\u53ef\u6dfb\u52a0\u5230\u73af\u5883\u53d8\u91cf\u3002 pdf\u8f6ceps\u683c\u5f0f pdftops -eps figure.pdf figure.eps pdf\u8f6cpng pdftopng FigS6.pdf FigS6.png pdf\u8f6chtml pdftohtml Fig6.pdf Fig6.html pdf\u8f6ctxt pdftotext FigS6.pdf FigS6.txt","title":"Tools xpdf\u547d\u4ee4\u884c\u91cc\u73a9\u8f6cpdf\uff0cpdf\u8f6c\u5176\u4ed6\u683c\u5f0f"},{"location":"tools/Tools-xpdf%E5%91%BD%E4%BB%A4%E8%A1%8C%E9%87%8C%E7%8E%A9%E8%BD%ACpdf%EF%BC%8Cpdf%E8%BD%AC%E5%85%B6%E4%BB%96%E6%A0%BC%E5%BC%8F/#pdfeps","text":"pdftops -eps figure.pdf figure.eps","title":"pdf\u8f6ceps\u683c\u5f0f"},{"location":"tools/Tools-xpdf%E5%91%BD%E4%BB%A4%E8%A1%8C%E9%87%8C%E7%8E%A9%E8%BD%ACpdf%EF%BC%8Cpdf%E8%BD%AC%E5%85%B6%E4%BB%96%E6%A0%BC%E5%BC%8F/#pdfpng","text":"pdftopng FigS6.pdf FigS6.png","title":"pdf\u8f6cpng"},{"location":"tools/Tools-xpdf%E5%91%BD%E4%BB%A4%E8%A1%8C%E9%87%8C%E7%8E%A9%E8%BD%ACpdf%EF%BC%8Cpdf%E8%BD%AC%E5%85%B6%E4%BB%96%E6%A0%BC%E5%BC%8F/#pdfhtml","text":"pdftohtml Fig6.pdf Fig6.html","title":"pdf\u8f6chtml"},{"location":"tools/Tools-xpdf%E5%91%BD%E4%BB%A4%E8%A1%8C%E9%87%8C%E7%8E%A9%E8%BD%ACpdf%EF%BC%8Cpdf%E8%BD%AC%E5%85%B6%E4%BB%96%E6%A0%BC%E5%BC%8F/#pdftxt","text":"pdftotext FigS6.pdf FigS6.txt","title":"pdf\u8f6ctxt"},{"location":"tools/Tools-%E5%91%BD%E4%BB%A4%E8%A1%8Cpdf%E7%BC%96%E8%BE%91%E5%99%A8/","text":"\u5de5\u51771\uff1alinux\u81ea\u5e26\u7684 pdfunite \u5408\u5e76\u591a\u4e2apdf\u6587\u4ef6\uff0c\u6700\u540e\u4e00\u4e2a\u662f\u5408\u5e76\u540e\u8f93\u51fa\u7684\u6587\u4ef6\u7684\u540d\u79f0 pdfunite file1.pdf file2.pdf filen.pdf all.pdf \u5de5\u51772\uff1apdftk #\u5b89\u88c5pdftk sudo apt-get install pdftk #\u5408\u5e76\u6587\u4ef6 pdftk 1.pdf 2.pdf 4.pdf n.pdf output allfile.pdf #\u53ea\u6253\u5370\u5355\u6570\u9875\u9762 pdftk file.pdf cat 1-endodd output odd-file.pdf #\u53ea\u8f93\u51fa\u53cc\u6570\u9875\u9762 pdftk file.pdf cat 1-endeven output even-file.pdf #\u53ea\u8f93\u51fa\u6307\u5b9a\u9875\u7801\u7684\u9875\u9762 pdftk file.pdf cat 1-3 6-end output part-file.pdf #\u8f6c\u6362\u6210\u5355\u9875\u9762PDF pdftk file.pdf burst #\u65cb\u8f6cpdf\u65b9\u5411\u662f\u4ee5\u4e0a\u5317\u4e3a\u57fa\u51c6\uff0c\u7b2c5-8\u9875\uff0ceast\uff0c\u5c31\u662f\u5411\u53f3\u8f6c90\u5ea6\u3002\u7b2c1-4\u9875\u5411\u5de6\uff08west\uff09\u65cb\u8f6c90\u5ea6\uff0c\u540c\u65f6\u628a5-8\u9875\u6309\u987a\u5e8f\u6392\u57281-4\u9875\u4e4b\u524d\u3002 pdftk file1.pdf cat 5-8east 1-4west ouput turn-file.pdf #\u63d0\u53d6PDF\u4e2d\u7684\u56fe\u7247(\u5206\u522b\u662f\u63d0\u51fapng\u3001jpg\u3001tiff\u683c\u5f0f) pdfimages -png file.pdf img pdfimages -jpg file.pdf img pdfimages -tiff file.pdf img #\u591a\u6587\u4ef6\u64cd\u4f5c(\u63d0\u53d6\u6587\u4ef61\u76841-8\u9875\u9006\u65f6\u9488\u65cb\u8f6c90\u5ea6\uff0c\u6587\u4ef63\u7684\u5947\u6570\u9875\uff0c\u6587\u4ef62\u76841-9\u9875\uff0c\u6587\u4ef61\u7b2c9\u5230\u6700\u540e\u4e00\u9875\u3002) pdftk A=file1.pdf B=file2.pdf C=file3.pdf cat A1-8west C1-endodd B1-9 A9-end output all.pdf","title":"\u5de5\u51771\uff1alinux\u81ea\u5e26\u7684`pdfunite`"},{"location":"tools/Tools-%E5%91%BD%E4%BB%A4%E8%A1%8Cpdf%E7%BC%96%E8%BE%91%E5%99%A8/#1linuxpdfunite","text":"","title":"\u5de5\u51771\uff1alinux\u81ea\u5e26\u7684pdfunite"},{"location":"tools/Tools-%E5%91%BD%E4%BB%A4%E8%A1%8Cpdf%E7%BC%96%E8%BE%91%E5%99%A8/#pdf","text":"pdfunite file1.pdf file2.pdf filen.pdf all.pdf","title":"\u5408\u5e76\u591a\u4e2apdf\u6587\u4ef6\uff0c\u6700\u540e\u4e00\u4e2a\u662f\u5408\u5e76\u540e\u8f93\u51fa\u7684\u6587\u4ef6\u7684\u540d\u79f0"},{"location":"tools/Tools-%E5%91%BD%E4%BB%A4%E8%A1%8Cpdf%E7%BC%96%E8%BE%91%E5%99%A8/#2pdftk","text":"#\u5b89\u88c5pdftk sudo apt-get install pdftk #\u5408\u5e76\u6587\u4ef6 pdftk 1.pdf 2.pdf 4.pdf n.pdf output allfile.pdf #\u53ea\u6253\u5370\u5355\u6570\u9875\u9762 pdftk file.pdf cat 1-endodd output odd-file.pdf #\u53ea\u8f93\u51fa\u53cc\u6570\u9875\u9762 pdftk file.pdf cat 1-endeven output even-file.pdf #\u53ea\u8f93\u51fa\u6307\u5b9a\u9875\u7801\u7684\u9875\u9762 pdftk file.pdf cat 1-3 6-end output part-file.pdf #\u8f6c\u6362\u6210\u5355\u9875\u9762PDF pdftk file.pdf burst #\u65cb\u8f6cpdf\u65b9\u5411\u662f\u4ee5\u4e0a\u5317\u4e3a\u57fa\u51c6\uff0c\u7b2c5-8\u9875\uff0ceast\uff0c\u5c31\u662f\u5411\u53f3\u8f6c90\u5ea6\u3002\u7b2c1-4\u9875\u5411\u5de6\uff08west\uff09\u65cb\u8f6c90\u5ea6\uff0c\u540c\u65f6\u628a5-8\u9875\u6309\u987a\u5e8f\u6392\u57281-4\u9875\u4e4b\u524d\u3002 pdftk file1.pdf cat 5-8east 1-4west ouput turn-file.pdf #\u63d0\u53d6PDF\u4e2d\u7684\u56fe\u7247(\u5206\u522b\u662f\u63d0\u51fapng\u3001jpg\u3001tiff\u683c\u5f0f) pdfimages -png file.pdf img pdfimages -jpg file.pdf img pdfimages -tiff file.pdf img #\u591a\u6587\u4ef6\u64cd\u4f5c(\u63d0\u53d6\u6587\u4ef61\u76841-8\u9875\u9006\u65f6\u9488\u65cb\u8f6c90\u5ea6\uff0c\u6587\u4ef63\u7684\u5947\u6570\u9875\uff0c\u6587\u4ef62\u76841-9\u9875\uff0c\u6587\u4ef61\u7b2c9\u5230\u6700\u540e\u4e00\u9875\u3002) pdftk A=file1.pdf B=file2.pdf C=file3.pdf cat A1-8west C1-endodd B1-9 A9-end output all.pdf","title":"\u5de5\u51772\uff1apdftk"},{"location":"tools/Tools-%E7%94%9F%E7%89%A9%E4%BF%A1%E6%81%AF%E5%AD%A6%E7%AE%A1%E9%81%93%E5%B7%A5%E5%85%B7%E5%88%86%E7%B1%BB/","text":"\u5206\u7c7b\u5730\u5740github \u7cfb\u7edf\u7ba1\u7406\u5458","title":"Tools \u751f\u7269\u4fe1\u606f\u5b66\u7ba1\u9053\u5de5\u5177\u5206\u7c7b"},{"location":"tools/Tools-%E7%94%A8%E4%BA%8E%E9%87%8D%E6%B5%8B%E5%BA%8F%E5%88%86%E6%9E%90-Fast-and-accurate-genomic-analyses-using-genome-graphs/","text":"Fast and accurate genomic analyses using genome graphs\uff0c2019 \u53d1\u5e03\u4e0eNature genetic \u56fe\u8c31\u57fa\u56e0\u7ec4\uff0c\u65b9\u4fbf\u9ad8\u901f\u5feb\u6377\uff0c\u5904\u7406\u57fa\u56e0\u7ec4\u6570\u636e\u3002 NG \u539f\u6587\u5730\u5740 \u8f6f\u4ef6\u5b98\u7f51 \u4e0b\u8f7d\u5730\u5740 \u8f6f\u4ef6\u662f\u7528\u6765\u4e3a\u4eba\u7684\u57fa\u56e0\u7ec4\u7684\u5904\u7406\u3002\u5176\u4ed6\u7269\u79cd\u7684\u4fe1\u606f\uff0c\u6709\u673a\u4f1a\u770b\u770b\u80fd\u5426\u81ea\u5df1\u6dfb\u52a0\u3002","title":"Tools \u7528\u4e8e\u91cd\u6d4b\u5e8f\u5206\u6790 Fast and accurate genomic analyses using genome graphs"},{"location":"tools/Tools-%E7%B1%BB%E4%BC%BCIDM%E7%9A%84%E8%B6%85%E7%BA%A7%E4%B8%8B%E8%BD%BD%E5%B7%A5%E5%85%B7XDM%E5%92%8CFDM/","text":"IDM\u662f\u8d85\u7ea7\u4e0b\u8f7d\u5de5\u5177\uff0c\u7c7b\u4f3c\u56fd\u5185\u7684\u8fc5\u96f7\u3002\u4f46\u662fIDM\u662f\u4e0d\u9650\u901f\u7684\u3002 \u5728\u4e0b\u8f7d https://annotationhub.bioconductor.org/species \u7684\u6570\u636e\u65f6\uff0c\u9047\u5230\u901f\u5ea6\u7279\u522b\u6162\u7684\u95ee\u9898\u3002\u4e5f\u662fclusterprofiler\u4f7f\u7528AnnotationHub\u7684\u6570\u636e\uff0c\u4e0b\u8f7d\u6570\u636e\u5e93\u6570\u636e\u6162\u3002\u540c\u6837\u7684\u539f\u56e0\uff0c\u5982\u4e0b\u6240\u793a\u3002\u89e3\u51b3\u65b9\u6848\uff0c\u4f7f\u7528\u68af\u5b50\u3002 \u5728\u9047\u5230\u67d0\u4e9b\u65e0\u6cd5\u6b63\u5e38\u8bbf\u95ee\u7684\u8d44\u6e90\u65f6\uff0c\u4f8b\u5982\uff1aamazon S3\u7684github\u7b49\u67d0\u4e9b\u8d44\u6e90\u65e0\u6cd5\u8bbf\u95ee\uff0c\u5c31\u9700\u8981\u4f7f\u7528\u4ee3\u7406\u6765\u8bbf\u95ee\u3002 \u901a\u8fc7\u8bbe\u7f6eIDM\u4f7f\u7528\u4ee3\u7406\uff0csocks\u7684\u5730\u5740\u4e3a\u672c\u673a127.0.0.1 \u7aef\u53e3\u4e00\u822c\u662f1080\uff0c\u7ed3\u5408shadowsocks\u5373\u53ef\u5b8c\u7f8e\u4e0b\u8f7d\u3002 \u5bf9\u4e8e\u67d0\u4e9b\u6559\u7a0b\u8bf4\u7684\u4fee\u6539host\u6587\u4ef6\uff0c\u8fd9\u7c7b\u53ea\u9002\u5408\u4e8eDNS\u6c61\u67d3\u7684\u7f51\u5740\uff0c\u53ef\u4ee5\u901a\u8fc7\u76f4\u63a5\u8bbf\u95ee\u57df\u540d\u5bf9\u5e94\u7684\u4e3b\u673aIP\u6765\u52a0\u5feb\u901f\u5ea6\u3002\u4f46\u662fAmazon S3\u662f\u6574\u4f53\u88ab\u9650\u901f\uff0c\u4e3b\u5e72\u9053\u7684ISP\u9650\u901f\uff0c\u65e0\u6cd5\u901a\u8fc7\u76f4\u63a5\u8bbf\u95eeIP\u6765\u52a0\u901f\u3002 \u7c7b\u4f3cIDM\u7684\u5de5\u5177\u662fXDM\uff0cXDM\u662f\u5f00\u6e90\u514d\u8d39\u7684,\u4e0b\u8f7d\u5730\u57401 https://subhra74.github.io/xdm/ \u4e0b\u8f7d\u5730\u57402 https://www.52pojie.cn/thread-1135921-1-1.html FDM\u7c7b\u4f3cIDM,\u4f46\u662f\u5f00\u6e90\u514d\u8d39 https://www.freedownloadmanager.org/zh/","title":"Tools \u7c7b\u4f3cIDM\u7684\u8d85\u7ea7\u4e0b\u8f7d\u5de5\u5177XDM\u548cFDM"},{"location":"tools/bedtools-bed%2Cvcf%2Cfasta%E4%B9%8B%E9%97%B4%E7%9A%84%E5%A4%84%E7%90%86%E5%B7%A5%E5%85%B7/","text":"\u53c2\u8003\u8d44\u6599\uff1a bedtools\u8be6\u7ec6\u53c2\u6570 bedtools\u2014\u2014the swiss army knife for genome arithmetic \u4e0b\u8f7d \u6700\u65b0\u7248 \u7684bedtools,\u5efa\u8bae\u4e0b\u8f7d\u4e8c\u8fdb\u5236\u6587\u4ef6\uff0c\u56e0\u4e3a\u4e0d\u7528\u7f16\u8bd1\u3002\u76f4\u63a5\u6267\u884c\u5c31\u53ef\u4ee5\u7528\u3002 wget -c https://github.com/arq5x/bedtools2/releases/download/v2.29.2/bedtools.static.binary mv bedtools.static.binary bedtools chmod 757 bedtools #\u628a\u8def\u5f84\u6dfb\u52a0\u8fdb\u73af\u5883\u53d8\u91cf\u5373\u53ef \u63d0\u53d6\u6307\u5b9a\u4f4d\u7f6e\u7684\u78b1\u57fa\u5e8f\u5217 \u4f8b\uff1a\u63d0\u53d6chr1 1125152 133005\u4e4b\u95f4\u7684\u5e8f\u5217 cat test.bed #chr1 5 10 bedtools getfasta -fi test.fa -bed test.bed #>chr1:5-10 #AAACC # optionally write to an output file bedtools getfasta -fi test.fa -bed test.bed -fo test.fa.out cat test.fa.out #>chr1:5-10 #AAACC \u4f7f\u7528getfasta\u63d0\u53d6\u6307\u5b9a\u4f4d\u7f6e\u7684\u78b1\u57fa\u5e8f\u5217\u3002 \u53ef\u4ee5\u6307\u5b9a\u53c2\u6570( \u4f7f\u7528bedtools\u7248\u672cv2.29.2), \u4e0d\u540c\u7248\u672c\u6b64\u547d\u4ee4\u53c2\u6570\u53ef\u80fd\u4e0d\u4e00\u81f4 -nameOnly \u5728bed\u6587\u4ef6\u6700\u540e\u4e00\u4e2a\u662fname\uff0c\u63d0\u53d6\u540e\u8f93\u51fa\u7684\u5e8f\u5217\u540d\u79f0\u5373\u6b64\u5904\u7684name. -s \u53c2\u6570\uff0c\u5f3a\u5236\u8bf7\u6c42\u53cd\u5411\u4e92\u8865\u94fe Ghir_A13 105004822 105006822 GH1 + \u4e0a\u9762\u662fbed\u7684\u683c\u5f0f\uff0c\u5176\u4e2d\u4f7f\u7528\u7684tab\u5206\u9694\u7b26 bedtools getfasta -fi Gom.fa -bed file1.bed -nameOnly -s \u8f93\u51fa\u7684fa\u683c\u5f0f\u5f00\u5934\u5c31\u662f >GH1 - \u63d0\u53d6\u6307\u5b9a\u533a\u95f4\u7684\u57fa\u56e0(\u4f8b\u5982\uff1achr5:169741633-172553366)\u53ef\u4ee5\u4f7f\u7528shell\u811a\u672c cat genome.gtf|awk -F \"\\t\" '{if($3~/gene/&&$1~/5/&&$4>169741633&&$5<172553366)print $1\",\"$4\",\"$5\",\"$9}' - \u5bfb\u627e\u591a\u4e2a\u6750\u6599\u7684\u591a\u4e2a\u533a\u95f4\u7684\u5e76\u96c6\u6216\u4ea4\u96c6 \u6d89\u53ca\u5230\u7684\u5de5\u5177 bedtools intersect [OPTIONS] -a \\ -b bedtools subtract [OPTIONS] -a -b bedtools window [OPTIONS] [-a|-abam] -b bedtools map -a genes.bed -b peaks.bedgraph -c 4 -o mean gatk \u627e\u5230\u591a\u7ec4\u7fa4\u4f53\u7684snp\uff0c\u5bfb\u627e\u5176\u4e2d\u662f\u5426\u6709\u91cd\u53e0\u533a\u95f4 bedtools intersect -a F2-35.bed -b F2-95.bed RIL3.bed RIL9.bed \u8f93\u51fa\u7b2c\u4e00\u4e2a\u548c\u540e\u4e09\u4e2a\u7684\u91cd\u53e0\u533a\u95f4 bedtools intersect -wa -wb -a F2-35.bed -b F2-95.bed RIL3.bed RIL9.bed \u8f93\u51fa\u7b2c\u4e00\u4e2a\u548c\u540e\u4e09\u4e2a\u7684\u91cd\u53e0\u60c5\u51b5","title":"Bedtools bed,vcf,fasta\u4e4b\u95f4\u7684\u5904\u7406\u5de5\u5177"},{"location":"tools/bedtools-bed%2Cvcf%2Cfasta%E4%B9%8B%E9%97%B4%E7%9A%84%E5%A4%84%E7%90%86%E5%B7%A5%E5%85%B7/#gatk-snp","text":"bedtools intersect -a F2-35.bed -b F2-95.bed RIL3.bed RIL9.bed \u8f93\u51fa\u7b2c\u4e00\u4e2a\u548c\u540e\u4e09\u4e2a\u7684\u91cd\u53e0\u533a\u95f4 bedtools intersect -wa -wb -a F2-35.bed -b F2-95.bed RIL3.bed RIL9.bed \u8f93\u51fa\u7b2c\u4e00\u4e2a\u548c\u540e\u4e09\u4e2a\u7684\u91cd\u53e0\u60c5\u51b5","title":"gatk \u627e\u5230\u591a\u7ec4\u7fa4\u4f53\u7684snp\uff0c\u5bfb\u627e\u5176\u4e2d\u662f\u5426\u6709\u91cd\u53e0\u533a\u95f4"},{"location":"tools/ping%E5%B7%A5%E5%85%B7%EF%BC%9A%E7%94%A8%E4%BA%8E%E6%A3%80%E6%B5%8B%E7%AB%99%E7%82%B9%E7%9A%84%E5%8F%AF%E8%AE%BF%E9%97%AE%E6%83%85%E5%86%B5/","text":"\u7ecf\u5e38\u9700\u8981\u5224\u65ad\u5168\u7403\u5bf9\u67d0\u4e00\u4e2aip\u7684\u8bbf\u95ee\u7545\u901a\u60c5\u51b5\u3002 \u6240\u4ee5\u5c31\u9700\u8981\u6709\u4f4d\u4e8e\u5168\u7403\u5404\u5730\u7684\u8282\u70b9\u6765ping \u6211\u4eec\u7684\u76ee\u6807\u4e3b\u673a\u3002 ping ip\u6216\u8005\u7f51\u5740\u90fd\u53ef\u4ee5\u3002\uff08\u524d\u63d0\u6761\u4ef6\u662f\u7f51\u5740\u80fd\u591f\u88ab\u6b63\u786e\u89e3\u6790\u5230ip\u5730\u5740\uff09 \u4f8b\u5982\uff1a ping www.baidu.com \u68c0\u6d4b\u672c\u5730\u7535\u8111\u662f\u5426\u80fd\u5426\u95eebaidu. \u4f7f\u7528\u94fe\u63a5 ipip \u7f51\u7ad9\u63d0\u4f9b\u7684ping ping pe \u67d0\u74e6\u5de5\u81ea\u5df1\u4e5f\u63d0\u4f9b\u6709ip\u68c0\u6d4b\u7ad9\u70b9\uff0c\u5982\u679c\u4f60\u7684\u4e91\u670d\u52a1\u5668\u7a81\u7136\u65e0\u6cd5\u8bbf\u95ee\uff0c\u8bd5\u7740\u4f7f\u7528ip\u68c0\u6d4b\u5de5\u5177\u68c0\u6d4b\u5404\u8282\u70b9\u7545\u901a\u60c5\u51b5\u3002\u5f88\u53ef\u80fd\u56fd\u5185\u8282\u70b9\u4e22\u5305\u7387100%\uff0c\u7136\u540e\u4f60\u7684ip\u5c31\u53ea\u80fd\u5728\u7edd\u5883\u957f\u57ce\u4e4b\u5916\u8bbf\u95ee\u3002","title":"Ping\u5de5\u5177\uff1a\u7528\u4e8e\u68c0\u6d4b\u7ad9\u70b9\u7684\u53ef\u8bbf\u95ee\u60c5\u51b5"},{"location":"tools/%E5%8D%95%E7%BB%86%E8%83%9E%E6%B5%8B%E5%BA%8Fpipeline-liger/","text":"liger \u7efc\u5408\u591a\u79cd\u5355\u7ec6\u80de\u7ec4\u5b66\uff0c\u8fdb\u884c\u8054\u5408\u5206\u6790\u7684R pipline. Single-Cell Multi-omic Integration Compares and Contrasts Features of Brain Cell Identity\u8fd9\u7bc7\u6587\u7ae0\u8bb2\u8ff0\u5de5\u5177\u7684\u4f7f\u7528\u3002","title":"\u5355\u7ec6\u80de\u6d4b\u5e8fpipeline liger"},{"location":"tools/%E6%87%92%E4%BA%BA%E5%B7%A5%E5%85%B7%EF%BC%9A%E5%9C%A8%E7%BA%BFGO%2CKEGG%2C%E5%90%8C%E6%BA%90%E5%9F%BA%E5%9B%A0%E6%9F%A5%E6%89%BE/","text":"\u4f7f\u7528\u5728\u7ebf\u5de5\u5177 https://biit.cs.ut.ee/gprofiler/gost \u652f\u6301\u81ea\u5b9a\u4e49\u80cc\u666f\u6570\u636e\u96c6\uff0c\u652f\u6301\u591a\u7269\u79cd\uff0c\u6765\u6e90\u4e8eEnsembl\u3002\u652f\u6301python\u811a\u672c\u3002\u652f\u6301R\u8bed\u8a00\u3002 \u652f\u6301\u7684\u7269\u79cd\u540d\u79f0\u548c\u7248\u672c\u67e5\u8be2\u5730\u5740 \u5305\u542b\u652f\u6301\u7684\u5bcc\u96c6\u7684\u79cd\u7c7b R\u8bed\u8a00\u91cc\u5206\u6790\u65b9\u6cd5\uff1a install.packages(\"gprofiler2\") library(gprofiler2) #\u5bcc\u96c6\u5206\u6790 gostres <- gost(query = c(\"X:1000:1000000\", \"rs17396340\", \"GO:0005005\", \"ENSG00000156103\", \"NLRP1\"), organism = \"hsapiens\") # The result is a named list where \u201cresult\u201d is a data.frame with the enrichment analysis results # and \u201cmeta\u201d containing a named list with all the metadata for the query. head(gostres$result) p <- gostplot(gostres, capped = FALSE, interactive = FALSE) p #\u505a\u51fa\u5bcc\u96c6\u5206\u6790\u7684plot\u56fe #\u67e5\u627e\u540c\u6e90\u57fa\u56e0 gorth(query = c(\"Klf4\", \"Sox2\", \"71950\"), source_organism = \"mmusculus\", target_organism = \"hsapiens\", numeric_ns = \"ENTREZGENE_ACC\")","title":"\u61d2\u4eba\u5de5\u5177\uff1a\u5728\u7ebfGO,KEGG,\u540c\u6e90\u57fa\u56e0\u67e5\u627e"},{"location":"tools/%E7%94%9F%E7%89%A9%E4%BF%A1%E6%81%AF%E5%AD%A6%E7%A0%94%E7%A9%B6%E6%95%B0%E6%8D%AE%E5%BA%93ExPASy%EF%BC%9A%E9%9B%86%E5%A4%A7%E6%88%90%E4%BA%8E%E4%B8%80%E4%BD%93%E7%9A%84%E7%BB%BC%E5%90%88%E5%9C%A8%E7%BA%BF%E5%B7%A5%E5%85%B7/","text":"ExPASy\u662f\u4e00\u4e2a\u5927\u578b\u7efc\u5408\u6027\u5728\u7ebf\u5de5\u5177\uff0c\u7528\u4e8e\u751f\u7269\u4fe1\u606f\u5b66\u7684\u5728\u7ebf\u5de5\u5177\u5408\u96c6\u3002 https://www.expasy.org/ \u6709\u4e0a\u8ff0\u56fe\u6807\u7684\u662f SIB\u7ef4\u62a4\u7684\u3002 \u4e0a\u8ff0\u662f\u975eExPASy\u56e2\u961f\u7ef4\u62a4\u7684\u5de5\u5177\u3002 \u4e3b\u8981\u5206\u4e3aDNA\u3001RNA\u3001\u86cb\u767d\u8d28\u3001\u7fa4\u4f53\u3001\u7ec6\u80de\u7b49\u51e0\u4e2a\u9886\u57df\u3002 \u6839\u636e\u7ec4\u5b66\u5206\u4e3a\u86cb\u767d\u8d28\u7ec4\u3001\u57fa\u56e0\u7ec4\u3001\u8f6c\u5f55\u7ec4\u3001\u7ed3\u6784\u5206\u6790\u3001\u7fa4\u4f53\u9057\u4f20\u7b49\u3002 \u4f7f\u7528\u8fc7\u7684\u5217\u8868\u5982\u4e0b\uff08\u5de5\u5177\u592a\u591a\uff0c\u6ca1\u6709\u4e00\u4e00\u4f7f\u7528\u8fc7\uff09\uff1a ClustalW \u591a\u5e8f\u5217\u6bd4\u5bf9 https://embnet.vital-it.ch/software/ClustalW.html Portparam\u9884\u6d4b\u86cb\u767d\u8d28\u5404\u79cd\u7406\u5316\u6027\u8d28\u5305\u62ecpI,MW https://web.expasy.org/protparam/ VMD \u86cb\u767d\u8d28\u4e09\u7ef4\u7ed3\u6784\u53ef\u89c6\u5316 http://www.ks.uiuc.edu/Research/vmd/","title":"\u751f\u7269\u4fe1\u606f\u5b66\u7814\u7a76\u6570\u636e\u5e93ExPASy\uff1a\u96c6\u5927\u6210\u4e8e\u4e00\u4f53\u7684\u7efc\u5408\u5728\u7ebf\u5de5\u5177"},{"location":"visualization/R-Circos%E5%9B%BE%E9%80%9A%E8%BF%87circlize/","text":"Circos\u56fe\u53ef\u4ee5\u901a\u8fc7Circos\u5b98\u65b9\u4e0b\u8f7d\u3002 \u4f7f\u7528\u6559\u7a0b \u4e2a\u4eba\u611f\u89c9R\u753b\u51fa\u7684\u56fe\u83ab\u540d\u7684\u6709\u79cd\u4f18\u8d8a\u611f\u3002\u56fe\u7247\u4f18\u7f8e\uff0c\u6570\u636e\u8854\u63a5\u65b9\u4fbf\u3002\u53ef\u89c6\u5316\uff0c\u5c31\u9996\u9009R. \u534e\u4eba\u5c0f\u54e5\uff0c\u5f00\u53d1\u4e86R\u5305circlize\u7528\u4e8eCircos\u56fe\u3002 circlize github\u5730\u5740","title":"R Circos\u56fe\u901a\u8fc7circlize"},{"location":"visualization/R-%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8B%E7%BD%91%E9%A1%B5%E6%9E%84%E5%BB%BAshiny/","text":"R\u8bed\u8a00shiny\u6784\u5efa\u4ea4\u4e92\u5f0f\u7f51\u9875 \u4f7f\u7528R\u8bed\u8a00\u53ef\u4ee5\u5b9e\u73b0\u8bb8\u591a\u529f\u80fd\uff0c\u4f46\u662f\u6700\u597d\u662f\u7528GUI\uff0c\u5bf9\u666e\u901a\u7528\u6237\u4f1a\u66f4\u53cb\u597d\u3002\u6bd5\u7adf\u5927\u591a\u4eba\u4e0d\u61c2\u4ee3\u7801\u3002\u8bb8\u591a\u53ea\u559c\u6b22\u62ff\u9f20\u6807\u70b9\u70b9\u70b9\uff0cshiny\u662f\u5728R\u91cc\u9762\u7528\u4e8e\u6784\u5efa\u53ef\u89c6\u5316\u7684GUI\u754c\u9762\u3002","title":"R \u53ef\u89c6\u5316\u4e4b\u7f51\u9875\u6784\u5efashiny"},{"location":"visualization/R-%E9%9F%A6%E6%81%A9%E5%9B%BE%E5%8F%AF%E8%A7%86%E5%8C%96/","text":"\u753b\u97e6\u6069\u56fe\uff0c\u5e38\u89c1\u7684\u5982\u4e0b\u3002 \u5bf9\u4e8e\u5df2\u7ecf\u53f8\u7a7a\u89c1\u60ef\u7684veen\u56fe\uff0c\u5ba1\u7a3f\u4eba\u4e5f\u662f\u5ba1\u7f8e\u75b2\u52b3\u4e86\u3002\u90a3\u5c31\u6362\u4e00\u4e2a\u8ba9\u4ed6\u773c\u524d\u4e00\u4eae\u7684veen\u56fe\u3002 \u76ee\u524d\u6570\u636e\u4e0d\u5b8c\u5584\uff0c\u8ba1\u5212\u505a6\u5143Veen\u56fe\u3002\u6570\u636e\u6ca1\u51d1\u9f50\uff0c\u6682\u65f6\u4e0d\u505a\u3002 \u53c2\u8003\u94fe\u63a51 \u53c2\u8003\u94fe\u63a52 \u53c2\u8003\u94fe\u63a53 \u53c2\u8003\u94fe\u63a54 \u5e38\u89c1\u7684R\u5305\u6bd4\u5982gplots\u3001venneuler\u3001VennDiagram\u7b49\u6700\u591a\u53ea\u80fd\u753b5\u5143\u3002 R\u5305venn\uff0c\u5b83\u80fd\u7ed8\u52366\u5143\u30017\u5143\u97e6\u6069\u56fe\u3002 R\u5305UpSetR,\u662f\u505a\u51fa\u4e0a\u8ff0\u70b9\u7ebf\u56fe\u683c\u5f0f\u7684\u5de5\u5177\u3002 #\u6f14\u793a\u6570\u636e install.packages(\"UpSetR\") library(\"UpSetR\") require(ggplot2); require(plyr); require(gridExtra); require(grid); movies <- read.csv(system.file(\"extdata\",\"movies.csv\",package = \"UpSetR\"), header = TRUE, sep=\";\") upset(movies, nsets = 7, nintersects = 30, mb.ratio = c(0.5, 0.5), order.by = c(\"freq\", \"degree\"), decreasing = c(TRUE,FALSE)) \u5e38\u89c4\u97e6\u6069\u56fe\u4f7f\u7528VennDiagram\u5305\u3002 \u4e09\u5143\u97e6\u6069\u56fe m17 <- read.csv(\"m17_4g.dsg2.csv\") e28 <- read.csv(\"e28_4g.dsg2.csv\") m17_e28 <- read.csv(\"m17_e28_deg.csv\",header = TRUE) m17 <- as.vector(unlist(m17[1])) e28 <- as.vector(unlist(e28[1])) m17_e28 <- as.vector(unlist(m17_e28[1])) #\u4e3b\u8981\u662f\u83b7\u53d6\u5bf9\u5e94\u7684\u5dee\u5f02\u8868\u8fbe\u57fa\u56e0\uff0c\u8f6c\u6362\u6210\u5411\u91cf\u3002 #veen.diagram\u4e2d\u53d8\u91cf\u540d\u79f0\u4e0d\u80fd\u4f7f\u7528-,\u5426\u5219\u4f1a\u62a5\u9519\u3002\u53d8\u91cf\u540d\u8981\u6c42\u662f\u5b57\u6bcd\u5f00\u5934\u3002 venn.plot <- venn.diagram( x = list( Mo17_DY13 = m17, #\u5bf9\u5e94\u4e09\u4e2a\u5143\u7684\uff0c\u524d\u9762\u662f\u56fe\u4e2d\u663e\u793a\u5b57\u7b26\uff0c\u540e\u9762\u662f\u5b9e\u9645\u53d8\u91cf E28_DY13 = e28, Mo17_E28 = m17_e28 ), filename = \"DY13.tiff\", #\u8f93\u51fa\u7684\u6587\u4ef6\u540d col = \"transparent\", fill = c(\"red\", \"blue\", \"green\"), #\u5404\u4e2a\u5708\u5708\u7684\u989c\u8272 alpha = 0.5, #\u900f\u660e\u5ea6 label.col = c(\"darkred\", \"white\", \"darkblue\", \"white\", \"white\", \"white\", \"darkgreen\"), cex = 2.5, fontfamily = \"serif\", fontface = \"bold\", cat.default.pos = \"text\", #\u6b64\u5904\u9ed8\u8ba4\u662f\u6807\u7b7e\u5728\u5706\u5185\u90e8 cat.col = c(\"darkred\", \"darkblue\", \"darkgreen\"), cat.cex = 2.5, cat.fontfamily = \"serif\", cat.dist = c(0.06, 0.06, 0.03), cat.pos = 0 ) \u6807\u7b7e\u5728\u5706\u5708\u5916\u9762\u7684\u4ee3\u7801 venn.plot <- venn.diagram( x = list( Mo17_DY13 = m17, E28_DY13 = e28, Mo17_E28 = m17_e28 ), filename = \"DY13.tiff\", col = \"transparent\", fill = c(\"red\", \"blue\", \"green\"), alpha = 0.5, label.col = c(\"darkred\", \"white\", \"darkblue\", \"white\", \"white\", \"white\", \"darkgreen\"), cex = 2.5,#\u5185\u6807\u7b7e\u7684\u5b57\u4f53\u5927\u5c0f fontfamily = \"serif\", fontface = \"bold\", cat.default.pos = \"outer\",#\u8bbe\u7f6e\u6807\u7b7e\u5728\u5706\u5916\u9762 #cat.col = c(\"darkred\", \"darkblue\", \"darkgreen\"), cat.cex = 2,#\u5916\u6807\u7b7e\u7684\u5b57\u4f53\u5927\u5c0f cat.fontfamily = \"serif\", cat.dist = c(0.05, 0.05, 0.05),#\u76f8\u5bf9\u5706\u5708\u7684\u4f4d\u7f6e cat.pos = c(-20,20,180) #\u76f8\u5bf912\u70b9\u65b9\u5411\u65cb\u8f6c\u7684\u89d2\u5ea6 )","title":"R \u97e6\u6069\u56fe\u53ef\u89c6\u5316"},{"location":"visualization/R-%E9%9F%A6%E6%81%A9%E5%9B%BE%E5%8F%AF%E8%A7%86%E5%8C%96/#rgplotsvenneulervenndiagram5","text":"R\u5305venn\uff0c\u5b83\u80fd\u7ed8\u52366\u5143\u30017\u5143\u97e6\u6069\u56fe\u3002 R\u5305UpSetR,\u662f\u505a\u51fa\u4e0a\u8ff0\u70b9\u7ebf\u56fe\u683c\u5f0f\u7684\u5de5\u5177\u3002 #\u6f14\u793a\u6570\u636e install.packages(\"UpSetR\") library(\"UpSetR\") require(ggplot2); require(plyr); require(gridExtra); require(grid); movies <- read.csv(system.file(\"extdata\",\"movies.csv\",package = \"UpSetR\"), header = TRUE, sep=\";\") upset(movies, nsets = 7, nintersects = 30, mb.ratio = c(0.5, 0.5), order.by = c(\"freq\", \"degree\"), decreasing = c(TRUE,FALSE))","title":"\u5e38\u89c1\u7684R\u5305\u6bd4\u5982gplots\u3001venneuler\u3001VennDiagram\u7b49\u6700\u591a\u53ea\u80fd\u753b5\u5143\u3002"},{"location":"visualization/R-%E9%9F%A6%E6%81%A9%E5%9B%BE%E5%8F%AF%E8%A7%86%E5%8C%96/#venndiagram","text":"\u4e09\u5143\u97e6\u6069\u56fe m17 <- read.csv(\"m17_4g.dsg2.csv\") e28 <- read.csv(\"e28_4g.dsg2.csv\") m17_e28 <- read.csv(\"m17_e28_deg.csv\",header = TRUE) m17 <- as.vector(unlist(m17[1])) e28 <- as.vector(unlist(e28[1])) m17_e28 <- as.vector(unlist(m17_e28[1])) #\u4e3b\u8981\u662f\u83b7\u53d6\u5bf9\u5e94\u7684\u5dee\u5f02\u8868\u8fbe\u57fa\u56e0\uff0c\u8f6c\u6362\u6210\u5411\u91cf\u3002 #veen.diagram\u4e2d\u53d8\u91cf\u540d\u79f0\u4e0d\u80fd\u4f7f\u7528-,\u5426\u5219\u4f1a\u62a5\u9519\u3002\u53d8\u91cf\u540d\u8981\u6c42\u662f\u5b57\u6bcd\u5f00\u5934\u3002 venn.plot <- venn.diagram( x = list( Mo17_DY13 = m17, #\u5bf9\u5e94\u4e09\u4e2a\u5143\u7684\uff0c\u524d\u9762\u662f\u56fe\u4e2d\u663e\u793a\u5b57\u7b26\uff0c\u540e\u9762\u662f\u5b9e\u9645\u53d8\u91cf E28_DY13 = e28, Mo17_E28 = m17_e28 ), filename = \"DY13.tiff\", #\u8f93\u51fa\u7684\u6587\u4ef6\u540d col = \"transparent\", fill = c(\"red\", \"blue\", \"green\"), #\u5404\u4e2a\u5708\u5708\u7684\u989c\u8272 alpha = 0.5, #\u900f\u660e\u5ea6 label.col = c(\"darkred\", \"white\", \"darkblue\", \"white\", \"white\", \"white\", \"darkgreen\"), cex = 2.5, fontfamily = \"serif\", fontface = \"bold\", cat.default.pos = \"text\", #\u6b64\u5904\u9ed8\u8ba4\u662f\u6807\u7b7e\u5728\u5706\u5185\u90e8 cat.col = c(\"darkred\", \"darkblue\", \"darkgreen\"), cat.cex = 2.5, cat.fontfamily = \"serif\", cat.dist = c(0.06, 0.06, 0.03), cat.pos = 0 ) \u6807\u7b7e\u5728\u5706\u5708\u5916\u9762\u7684\u4ee3\u7801 venn.plot <- venn.diagram( x = list( Mo17_DY13 = m17, E28_DY13 = e28, Mo17_E28 = m17_e28 ), filename = \"DY13.tiff\", col = \"transparent\", fill = c(\"red\", \"blue\", \"green\"), alpha = 0.5, label.col = c(\"darkred\", \"white\", \"darkblue\", \"white\", \"white\", \"white\", \"darkgreen\"), cex = 2.5,#\u5185\u6807\u7b7e\u7684\u5b57\u4f53\u5927\u5c0f fontfamily = \"serif\", fontface = \"bold\", cat.default.pos = \"outer\",#\u8bbe\u7f6e\u6807\u7b7e\u5728\u5706\u5916\u9762 #cat.col = c(\"darkred\", \"darkblue\", \"darkgreen\"), cat.cex = 2,#\u5916\u6807\u7b7e\u7684\u5b57\u4f53\u5927\u5c0f cat.fontfamily = \"serif\", cat.dist = c(0.05, 0.05, 0.05),#\u76f8\u5bf9\u5706\u5708\u7684\u4f4d\u7f6e cat.pos = c(-20,20,180) #\u76f8\u5bf912\u70b9\u65b9\u5411\u65cb\u8f6c\u7684\u89d2\u5ea6 )","title":"\u5e38\u89c4\u97e6\u6069\u56fe\u4f7f\u7528VennDiagram\u5305\u3002"},{"location":"visualization/cite-Zeng-Jianming-%E5%85%A8%E5%9F%BA%E5%9B%A0%E8%8C%83%E5%9B%B4%E5%86%85%E7%9A%84%E6%9F%93%E8%89%B2%E4%BD%93reads%E8%A6%86%E7%9B%96%E5%9B%BE/","text":"1. trackViewer\u6587\u7ae0\u94fe\u63a5nature methods 2019\u5e74\u6700\u65b0\u7684\u5168\u57fa\u56e0\u7ec4\u8303\u56f4\u53ef\u89c6\u5316\u5de5\u5177\uff0cbiocon trackViewer\u7684\u4f7f\u7528\u8bf4\u660ebioconductor\u5730\u5740 2. ggplot2\u5b9e\u73b0\u5168\u57fa\u56e0\u7ec4\u53ef\u89c6\u5316 https://mp.weixin.qq.com/s/1qFslOpx-Yzugf_zliuZHw \u76ee\u6807\u662f\u5b9e\u73b0\u53ef\u89c6\u5316\uff0c\u6bcf\u6761\u67d3\u8272\u4f53\u7684\u6d4b\u5e8f\u7684\u6df1\u5ea6\u5206\u5e03\u60c5\u51b5\u3002 \u4ece\u8fd9\u4e2a\u56fe\u4e2d\u53ef\u4ee5\u770b\u51fa\uff1a 1\u53f7\u67d3\u8272\u4f53\u4e2d\u95f4\u7684\u6d4b\u5e8f\u6df1\u5ea6\u6709\u70b9\u4e0d\u7a33\u5b9a\uff0c\u4e2d\u95f4\u51fa\u73b0\u7684\u5f02\u5e38\u7684\u5cf0 9\u53f7\u67d3\u8272\u4f53\u7684\u4e2d\u95f4\u6709\u4e00\u6bb5\u6d4b\u5e8f\u6df1\u5ea6\u660e\u663e\u964d\u4f4e\u3002 13\uff0c14\uff0c15\uff0c21\uff0c22\u53f7\u67d3\u8272\u4f53\u5f00\u5934\u5904\u6709\u5927\u6bb5\u7684\u8986\u76d6\u5ea6\u4e3a0\u7684\u60c5\u51b5\u3002\u53ef\u80fd\u662f\u7aef\u7c92\u5904\u6ca1\u6709\u6d4b\u5230\uff0c\u4e5f\u53ef\u80fd\u8fd9\u4e9b\u4f4d\u7f6e\u5c31\u662fN\u78b1\u57fa\u3002 R\u7684\u5b9e\u73b0\u65b9\u6cd5\u5982\u4e0b\uff1a rm(list=ls()) file <- 'GC_stat.100k.txt' data <- read.table(file,sep=\"\\t\",fill=TRUE,stringsAsFactors = F) colnames(dat)=c('chr','number','length','GC','counts') keep_chr <- dat$chr %in% c(paste0('chr',c(1:22,'X','Y'))) dat <- dat[keep_chr,] dat$depth <- dat$counts/dat$length library(ggplot2) head(dat) # To change plot order of facet wrap, # change the order of varible levels with factor() dat$chr <- factor(dat$chr , levels =c(paste0('chr',c(1:22,'X','Y'))) ) png('coverage.png',height = 1000,width = 1000) p <- ggplot(dat,aes(number,depth))+geom_area(aes(fill=chr))+ylim(0, 100) p <- p+facet_wrap( ~ chr,ncol=2) print(p) dev.off() ChromHeatMap\u5305\u5b9e\u73b0\u53ef\u89c6\u5316 \u5065\u660e\u6559\u7a0b","title":"cite Zeng Jianming \u5168\u57fa\u56e0\u8303\u56f4\u5185\u7684\u67d3\u8272\u4f53reads\u8986\u76d6\u56fe"},{"location":"visualization/cite-Zeng-Jianming-%E5%85%A8%E5%9F%BA%E5%9B%A0%E8%8C%83%E5%9B%B4%E5%86%85%E7%9A%84%E6%9F%93%E8%89%B2%E4%BD%93reads%E8%A6%86%E7%9B%96%E5%9B%BE/#1-trackviewernature-methods","text":"2019\u5e74\u6700\u65b0\u7684\u5168\u57fa\u56e0\u7ec4\u8303\u56f4\u53ef\u89c6\u5316\u5de5\u5177\uff0cbiocon trackViewer\u7684\u4f7f\u7528\u8bf4\u660ebioconductor\u5730\u5740","title":"1. trackViewer\u6587\u7ae0\u94fe\u63a5nature methods"},{"location":"visualization/cite-Zeng-Jianming-%E5%85%A8%E5%9F%BA%E5%9B%A0%E8%8C%83%E5%9B%B4%E5%86%85%E7%9A%84%E6%9F%93%E8%89%B2%E4%BD%93reads%E8%A6%86%E7%9B%96%E5%9B%BE/#2-ggplot2","text":"https://mp.weixin.qq.com/s/1qFslOpx-Yzugf_zliuZHw \u76ee\u6807\u662f\u5b9e\u73b0\u53ef\u89c6\u5316\uff0c\u6bcf\u6761\u67d3\u8272\u4f53\u7684\u6d4b\u5e8f\u7684\u6df1\u5ea6\u5206\u5e03\u60c5\u51b5\u3002 \u4ece\u8fd9\u4e2a\u56fe\u4e2d\u53ef\u4ee5\u770b\u51fa\uff1a 1\u53f7\u67d3\u8272\u4f53\u4e2d\u95f4\u7684\u6d4b\u5e8f\u6df1\u5ea6\u6709\u70b9\u4e0d\u7a33\u5b9a\uff0c\u4e2d\u95f4\u51fa\u73b0\u7684\u5f02\u5e38\u7684\u5cf0 9\u53f7\u67d3\u8272\u4f53\u7684\u4e2d\u95f4\u6709\u4e00\u6bb5\u6d4b\u5e8f\u6df1\u5ea6\u660e\u663e\u964d\u4f4e\u3002 13\uff0c14\uff0c15\uff0c21\uff0c22\u53f7\u67d3\u8272\u4f53\u5f00\u5934\u5904\u6709\u5927\u6bb5\u7684\u8986\u76d6\u5ea6\u4e3a0\u7684\u60c5\u51b5\u3002\u53ef\u80fd\u662f\u7aef\u7c92\u5904\u6ca1\u6709\u6d4b\u5230\uff0c\u4e5f\u53ef\u80fd\u8fd9\u4e9b\u4f4d\u7f6e\u5c31\u662fN\u78b1\u57fa\u3002 R\u7684\u5b9e\u73b0\u65b9\u6cd5\u5982\u4e0b\uff1a rm(list=ls()) file <- 'GC_stat.100k.txt' data <- read.table(file,sep=\"\\t\",fill=TRUE,stringsAsFactors = F) colnames(dat)=c('chr','number','length','GC','counts') keep_chr <- dat$chr %in% c(paste0('chr',c(1:22,'X','Y'))) dat <- dat[keep_chr,] dat$depth <- dat$counts/dat$length library(ggplot2) head(dat) # To change plot order of facet wrap, # change the order of varible levels with factor() dat$chr <- factor(dat$chr , levels =c(paste0('chr',c(1:22,'X','Y'))) ) png('coverage.png',height = 1000,width = 1000) p <- ggplot(dat,aes(number,depth))+geom_area(aes(fill=chr))+ylim(0, 100) p <- p+facet_wrap( ~ chr,ncol=2) print(p) dev.off() ChromHeatMap\u5305\u5b9e\u73b0\u53ef\u89c6\u5316 \u5065\u660e\u6559\u7a0b","title":"2. ggplot2\u5b9e\u73b0\u5168\u57fa\u56e0\u7ec4\u53ef\u89c6\u5316"},{"location":"visualization/%E6%89%8B%E6%9C%BA%E8%A7%86%E9%A2%91%E6%96%87%E4%BB%B6m3u8%E6%A0%BC%E5%BC%8F%E8%A7%A3%E6%9E%90/","text":"\u73b0\u5728\u5927\u591a\u7f51\u7ad9\u7684\u89c6\u9891\u4e0d\u662f\u539f\u59cb\u7684mp4\u6216avi\u683c\u5f0f\uff0c\u800c\u662fts\u6587\u4ef6\u3002\u4e00\u4e2a\u539f\u59cb\u7684index.m3u8\u6587\u4ef6\u3002 \u4e0b\u8f7dindex.m3u8\u7684\u6587\u4ef6\u3002\u4f7f\u7528\u8bb0\u4e8b\u672c\u6253\u5f00\uff0c\u53d1\u73b0\u91cc\u9762\u662f\u5bf9\u5e94\u7684ts\u6587\u4ef6\u7684\u5730\u5740\u7684\u5217\u8868\u3002 \u540c\u65f6\u5305\u542b\u52a0\u5bc6\u65b9\u5f0fAES128. \u4f7f\u7528F12\u6253\u5f00\u6d4f\u89c8\u5668\u7f16\u8f91\u6a21\u5f0f\uff0c\u67e5\u627e\u5177\u4f53\u7684ts\u7684\u8def\u5f84\u3002\u5feb\u901f\u66ff\u6362\u8865\u5145\u8bb0\u4e8b\u672c\u6253\u5f00\u7684m3u8\u7684\u6bcf\u4e2ats\u7684\u8def\u5f84\uff0c\u5168\u9009\u590d\u5236\u3002 \u6253\u5f00IDM\uff0c\u9009\u62e9\u4efb\u52a1\u2014\u2014\u65b0\u5efa\u7c98\u8d34\u677f\u6279\u91cf\u4efb\u52a1\uff0c\u5373\u53ef\u540c\u65f6\u4e0b\u8f7d\u76ee\u6807ts\u6587\u4ef6\u3002 \u4e0b\u8f7d\u5b8c\u6210\u540e\uff0c\u4f7f\u7528ffmpeg\u5408\u5e76ts\u6587\u4ef6\u4e3a\u4e00\u4e2a\u6587\u4ef6\u3002 \u6b64\u65b9\u6cd5\u4f7f\u7528\u4e8e\uff1a\u5c06\u65e0\u6cd5\u4e0b\u8f7d\u7684\u89c6\u9891\uff0c\u4e0b\u8f7d\u5408\u5e76\u6210\u4e00\u4e2a\u89c6\u9891\u6587\u4ef6\u3002","title":"\u624b\u673a\u89c6\u9891\u6587\u4ef6m3u8\u683c\u5f0f\u89e3\u6790"},{"location":"visualization/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E8%BF%87%E7%A8%8B%E5%8F%AF%E8%A7%86%E5%8C%96-R-graph-gallery/","text":"R graph gallery \u57fa\u4e8eR,python\u5b9e\u73b0\u5404\u79cd\u6570\u636e\u53ef\u89c6\u5316\u3002 \u6e05\u6670\u4e3a\u5404\u79cd\u7c7b\u578b\u7684\u56fe\u63d0\u4f9b\u793a\u4f8b\u4ee3\u7801\uff0c\u6309\u56fe\u7d22\u9aa5\u7684\u597d\u53bb\u5904\u3002","title":"\u6570\u636e\u53ef\u89c6\u5316\u8fc7\u7a0b\u53ef\u89c6\u5316 R graph gallery"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/Funannotate%EF%BC%9A%E5%9F%BA%E5%9B%A0%E7%BB%84%E6%B3%A8%E9%87%8A%E3%80%81%E6%AF%94%E8%BE%83%E5%88%86%E6%9E%90%E8%BD%AF%E4%BB%B6%E5%8C%85/","text":"Funannotate \u662f\u4e00\u4e2a\u57fa\u56e0\u7ec4\u9884\u6d4b\u3001\u6ce8\u91ca\u548c\u6bd4\u8f83\u8f6f\u4ef6\u5305\uff0c\u80fd\u591f\u6ce8\u91ca\uff08\u5c0f\u578b\uff09\u771f\u6838\u751f\u7269\u57fa\u56e0\u7ec4\u5e76\u63d0\u4ea4\u7ed9 NCBI GenBank\u3002 \u4e5f\u662f\u4e00\u4e2a\u8f7b\u91cf\u7ea7\u7684\u6bd4\u8f83\u57fa\u56e0\u7ec4\u5b66\u5e73\u53f0\u3002\u901a\u8fc7\u547d\u4ee4\u6dfb\u52a0\u4e86\u529f\u80fd\u6ce8\u91ca\u7684\u57fa\u56e0\u7ec4\u53ef\u4ee5\u901a\u8fc7\u8f93\u51fa\u57fa\u4e8e html \u7684\u5168\u57fa\u56e0\u7ec4\u6bd4\u8f83\u7684\u811a\u672c\u8fd0\u884c\u3002\u8be5\u8f6f\u4ef6\u53ef\u4ee5\u8fd0\u884c\u76f4\u7cfb\u540c\u6e90\u805a\u7c7b\u3001\u6784\u5efa\u5168\u57fa\u56e0\u7ec4\u7cfb\u7edf\u53d1\u80b2\u3001\u8fd0\u884c\u57fa\u56e0\u672c\u4f53\u5bcc\u96c6\u5206\u6790\uff0c\u4ee5\u53ca\u8ba1\u7b97\u6b63\u9009\u62e9\u4e0b\u76f4\u7cfb\u540c\u6e90\u7c07\u7684 dN/dS \u6bd4\u3002 \u6700\u521d\u662f\u4e3a\u6ce8\u91ca\u771f\u83cc\u57fa\u56e0\u7ec4\u7f16\u5199\u7684\uff0c\u5982\u679c\u7528\u4e8e\u771f\u6838\u751f\u7269\u7684\u7ec4\u88c5\uff0c\u9700\u8981\u8c03\u6574\u90e8\u5206\u53c2\u6570\u3002","title":"Funannotate\uff1a\u57fa\u56e0\u7ec4\u6ce8\u91ca\u3001\u6bd4\u8f83\u5206\u6790\u8f6f\u4ef6\u5305"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/Hic%E7%9A%84%E6%9B%BF%E4%BB%A3%E6%8A%80%E6%9C%AFOmni-C%EF%BC%8C%E7%94%A8%E4%BA%8E%E6%9F%93%E8%89%B2%E4%BD%93%E5%AE%9A%E7%9B%B8/","text":"\u5185\u5bb9\u7ffb\u8bd1\u81ea\uff1ahttps://omni-c.readthedocs.io/en/latest/ Omni-C\u63d0\u4f9b\u4e86 Hi-C \u6587\u5e93\u7684\u6240\u6709\u7279\u5f81\uff0c\u800c\u6ca1\u6709\u57fa\u4e8e\u9650\u5236\u9176 (RE) \u7684 Hi-C \u65b9\u6cd5\u56fa\u6709\u7684\u5e8f\u5217\u504f\u5dee\u3002 Omni-C \u7684\u4e3b\u8981\u4f18\u52bf\uff1a \u4e0e\u5e8f\u5217\u65e0\u5173\u7684\u67d3\u8272\u8d28\u7247\u6bb5\u5316\u80fd\u591f\u5728\u5168\u57fa\u56e0\u7ec4\u8303\u56f4\u5185\u68c0\u6d4b\u67d3\u8272\u8d28\u63a5\u89e6\uff08\u4f7f\u7528\u57fa\u4e8e\u9650\u5236\u6027\u5185\u5207\u9176\u7684 Hi-C \u65b9\u6cd5\u65e0\u6cd5\u8986\u76d6\u591a\u8fbe 20% \u7684\u57fa\u56e0\u7ec4\uff09 \u7c7b\u4f3cShotgun\u6d4b\u5e8f\u7684\u5747\u5300\u57fa\u56e0\u7ec4\u8986\u76d6\uff0c\u652f\u6301 SNP \u8bc6\u522b\u3001\u67d3\u8272\u4f53\u5b9a\u76f8\u548c\u7ed3\u6784\u53d8\u5f02\u68c0\u6d4b \u964d\u4f4e\u6d4b\u5e8f\u8d1f\u62c5\u4ee5\u8fbe\u5230\u6240\u9700\u7684\u5e8f\u5217\u6df1\u5ea6\uff0c\u4ece\u800c\u8282\u7701\u65f6\u95f4\u548c\u6210\u672c \u4f7f\u7528\u573a\u666f SNP \u548c\u67d3\u8272\u4f53\u5b9a\u76f8\uff1aOmni-C\u2122 \u6587\u5e93\u7684\u5747\u5300\u5e8f\u5217\u8986\u76d6\u7387\u652f\u6301\u4f9d\u8d56 SNP \u4fe1\u606f\u7684\u5168\u57fa\u56e0\u7ec4 SNP \u8bc6\u522b\u548c\u4e0b\u6e38\u5e94\u7528\uff0c\u4f8b\u5982\u7531\u4e8e\u4f4e\u8f6c\u6362\u9519\u8bef\u7387\u800c\u5bfc\u81f4\u7684\u67d3\u8272\u4f53\u5b9a\u76f8\u3002Omni-C\u2122 \u6280\u672f\u63d0\u4f9b\u4e86\u4f7f\u7528 Illumina \u77ed\u8bfb\u957f\u8fdb\u884c\u5168\u57fa\u56e0\u7ec4\u7269\u7406\u5b9a\u76f8 \u7684\u6700\u4f73\u65b9\u6cd5\u3002 Omni-C\u2122 \u6570\u636e\u4e2d\u7684\u5927\u578b SV\uff1a\u90bb\u8fd1\u8fde\u63a5\u6570\u636e\u53ef\u7528\u4e8e\u4ee5\u9ad8\u5206\u8fa8\u7387\u68c0\u6d4b\u548c\u786e\u8ba4\u764c\u75c7\u6837\u672c\u4e2d\u7684\u67d3\u8272\u4f53\u91cd\u6392\u3002\u4f7f\u7528 HiGlass \u7b49\u5f00\u6e90\u8f6f\u4ef6\u5de5\u5177\uff0c\u63a5\u89e6\u77e9\u9635\u53ef\u4ee5\u5feb\u901f\u53ef\u89c6\u5316\u6b64\u7c7b\u5927\u578b\u7ed3\u6784\u53d8\u4f53\u3002","title":"Hic\u7684\u66ff\u4ee3\u6280\u672fOmni C\uff0c\u7528\u4e8e\u67d3\u8272\u4f53\u5b9a\u76f8"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/Hic%E7%9A%84%E6%9B%BF%E4%BB%A3%E6%8A%80%E6%9C%AFOmni-C%EF%BC%8C%E7%94%A8%E4%BA%8E%E6%9F%93%E8%89%B2%E4%BD%93%E5%AE%9A%E7%9B%B8/#omni-c","text":"\u4e0e\u5e8f\u5217\u65e0\u5173\u7684\u67d3\u8272\u8d28\u7247\u6bb5\u5316\u80fd\u591f\u5728\u5168\u57fa\u56e0\u7ec4\u8303\u56f4\u5185\u68c0\u6d4b\u67d3\u8272\u8d28\u63a5\u89e6\uff08\u4f7f\u7528\u57fa\u4e8e\u9650\u5236\u6027\u5185\u5207\u9176\u7684 Hi-C \u65b9\u6cd5\u65e0\u6cd5\u8986\u76d6\u591a\u8fbe 20% \u7684\u57fa\u56e0\u7ec4\uff09 \u7c7b\u4f3cShotgun\u6d4b\u5e8f\u7684\u5747\u5300\u57fa\u56e0\u7ec4\u8986\u76d6\uff0c\u652f\u6301 SNP \u8bc6\u522b\u3001\u67d3\u8272\u4f53\u5b9a\u76f8\u548c\u7ed3\u6784\u53d8\u5f02\u68c0\u6d4b \u964d\u4f4e\u6d4b\u5e8f\u8d1f\u62c5\u4ee5\u8fbe\u5230\u6240\u9700\u7684\u5e8f\u5217\u6df1\u5ea6\uff0c\u4ece\u800c\u8282\u7701\u65f6\u95f4\u548c\u6210\u672c","title":"Omni-C \u7684\u4e3b\u8981\u4f18\u52bf\uff1a"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/Hic%E7%9A%84%E6%9B%BF%E4%BB%A3%E6%8A%80%E6%9C%AFOmni-C%EF%BC%8C%E7%94%A8%E4%BA%8E%E6%9F%93%E8%89%B2%E4%BD%93%E5%AE%9A%E7%9B%B8/#_1","text":"SNP \u548c\u67d3\u8272\u4f53\u5b9a\u76f8\uff1aOmni-C\u2122 \u6587\u5e93\u7684\u5747\u5300\u5e8f\u5217\u8986\u76d6\u7387\u652f\u6301\u4f9d\u8d56 SNP \u4fe1\u606f\u7684\u5168\u57fa\u56e0\u7ec4 SNP \u8bc6\u522b\u548c\u4e0b\u6e38\u5e94\u7528\uff0c\u4f8b\u5982\u7531\u4e8e\u4f4e\u8f6c\u6362\u9519\u8bef\u7387\u800c\u5bfc\u81f4\u7684\u67d3\u8272\u4f53\u5b9a\u76f8\u3002Omni-C\u2122 \u6280\u672f\u63d0\u4f9b\u4e86\u4f7f\u7528 Illumina \u77ed\u8bfb\u957f\u8fdb\u884c\u5168\u57fa\u56e0\u7ec4\u7269\u7406\u5b9a\u76f8 \u7684\u6700\u4f73\u65b9\u6cd5\u3002 Omni-C\u2122 \u6570\u636e\u4e2d\u7684\u5927\u578b SV\uff1a\u90bb\u8fd1\u8fde\u63a5\u6570\u636e\u53ef\u7528\u4e8e\u4ee5\u9ad8\u5206\u8fa8\u7387\u68c0\u6d4b\u548c\u786e\u8ba4\u764c\u75c7\u6837\u672c\u4e2d\u7684\u67d3\u8272\u4f53\u91cd\u6392\u3002\u4f7f\u7528 HiGlass \u7b49\u5f00\u6e90\u8f6f\u4ef6\u5de5\u5177\uff0c\u63a5\u89e6\u77e9\u9635\u53ef\u4ee5\u5feb\u901f\u53ef\u89c6\u5316\u6b64\u7c7b\u5927\u578b\u7ed3\u6784\u53d8\u4f53\u3002","title":"\u4f7f\u7528\u573a\u666f"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/Ka-Ks%E5%92%8C4DTv%E8%AE%A1%E7%AE%97%E5%8F%AF%E8%A7%86%E5%8C%96/","text":"\u53c2\u8003\u5730\u5740 Ka/Ks\u548c4DTv\u7528\u4e8e\u5206\u6790\u57fa\u56e0\u7ec4\u7684\u590d\u5236\u60c5\u51b5\uff0c\u53ef\u5171\u7ebf\u6027\u5206\u6790\u3002\u5c5e\u4e8e\u6bd4\u8f83\u57fa\u56e0\u7ec4\u5b66\u3002 Ka:\u975e\u540c\u4e49\u66ff\u6362 Ks:\u540c\u4e49\u66ff\u6362 Ka\uff1e\uff1eKs\uff0c\u57fa\u56e0\u53d7\u6b63\u5411\u9009\u62e9positive selection\uff0c\u8bf4\u660e\u57fa\u56e0\u53d7\u5f3a\u70c8\u6b63\u5411\u9009\u62e9\uff0c\u662f\u8fd1\u671f\u6b63\u5728\u5feb\u901f\u8fdb\u5316\u7684\u57fa\u56e0\u3002 Ka=Ks\uff0c\u57fa\u56e0\u4e2d\u6027\u8fdb\u5316neutral evolution Ka\uff1c\uff1cKs\uff0c\u57fa\u56e0\u53d7\u7eaf\u5316\u9009\u62e9purify selection Ka/Ks: Ka/Ks > 1\uff0c\u5219\u8ba4\u4e3a\u5b58\u5728\u6b63\u9009\u62e9\u6548\u5e94\uff08positive selection\uff09\uff1b\u82e5Ka/Ks = 1\uff0c\u5219\u8ba4\u4e3a\u5b58\u5728\u4e2d\u6027\u9009\u62e9\u6548\u5e94\uff1b\u5982\u82e5Ka/Ks < 1\uff0c\u5219\u8ba4\u4e3a\u5b58\u5728\u8d1f\u9009\u62e9\u6548\u5e94\uff0c\u5373\u7eaf\u5316\u6548\u5e94\u6216\u51c0\u5316\u9009\u62e9\uff08purifying selection\uff09\u3002 \u4e00\u822c\u6211\u4eec\u8ba4\u4e3a\u975e\u540c\u4e49\u7a81\u53d8\u4f1a\u906d\u53d7\u81ea\u7136\u9009\u62e9\u4f5c\u7528\u3002Ka\u6bd4\u8f83\u5927\uff0c\u8bf4\u660e\u975e\u540c\u4e49\u7a81\u53d8\u6bd4\u8f83\u591a\uff0c\u5373\u8be5\u57fa\u56e0\u5bb6\u65cf\u6b63\u5728\u53d7\u5230\u5f3a\u70c8\u7684\u81ea\u7136\u9009\u62e9\u4f5c\u7528\uff0c\u610f\u601d\u662f\u6b63\u5728\u5feb\u901f\u8fdb\u5316\u7684\u57fa\u56e0\u3002 4DTv\uff1a\u56db\u500d\u517c\u5e76\u4f4d\u70b9,\u7b80\u5355\u8bf4\u5c31\u662f\u4e00\u4e2a\u5bc6\u7801\u5b50\uff0c3\u4e2a\u78b1\u57fa\u4e2d\uff0c\u6709\u4e00\u4e2a\u4f4d\u7f6e\u7684\u78b1\u57fa\u65e0\u8bba\u662fA,T,C,G\u4e2d\u7684\u54ea\u4e00\u4e2a\uff0c\u90fd\u662f\u7f16\u7801\u540c\u4e00\u4e2a\u6c28\u57fa\u9178\uff0c\u8fd9\u4e2a\u4f4d\u70b9\u5c31\u662f\u56db\u500d\u517c\u5e76\u4f4d\u70b9\u3002\u4f8b\u5982\uff1a\"TCA/TCT/TCC/TCG\"\u4e2d\u7684\u7b2c\u4e09\u4f4d\u5c31\u662f\u4e00\u4e2a4DTV\uff0c\u5728\u8fd9\u4e2a\u4f4d\u70b9\u7684\u78b1\u57fa\uff0c\u65e0\u8bba\u600e\u4e48\u7a81\u53d8\u6700\u7ec8\u90fd\u662f\u4e1d\u6c28\u9178(Ser)\u3002 \u8f6c\u8f7d\u81eahttps://www.jianshu.com/p/9d28de3d18e6 \u68c0\u6d4b4DTv\u4f7f\u7528 MCscan 1.\u51c6\u5907\u6570\u636e Arabidopsis_thaliana.cds\u3001Arabidopsis_thaliana.pep\u3001Arabidopsis_thaliana.gff3\uff1bCitrus_grandis.cds\u3001Citrus_grandis.pep\u3001Citrus_grandis.gff3\uff1bCitrus_sinensis.cds\u3001Citrus_sinensis.pep\u3001Citrus_sinensis.gff3\uff1bMalus_domestica.cds\u3001Malus_domestica.pep\u3001Malus_domestica.gff3\uff1b 2. \u6570\u636e\u5904\u7406 awk '$3==\"gene\"' Arabidopsis_thaliana.gff3|wc -l \u67e5\u770b\u57fa\u56e0\u7684\u6570\u91cf awk '$3==\"mRNA\"' Arabidopsis_thaliana.gff3|wc -l \u67e5\u770b\u8f6c\u5f55\u672c\u7684\u6570\u91cf \u65e0\u8bba\u662f\u5171\u7ebf\u6027\u5206\u6790\u6216\u8ba1\u7b97KaKs,\u4f7f\u7528\u7684\u90fd\u662f\u9700\u8981\u548c\u57fa\u56e0\u6570\u91cf\u76f8\u540c\u7684\u86cb\u767d\u5e8f\u5217\u3002\u5982\u679c\u4f60\u7684\u86cb\u767d\u5e8f\u5217\u7684\u6761\u6570\u548c\u8f6c\u5f55\u672c\u7684\u6570\u91cf\u4e00\u6837\uff0c\u5219\u8bf4\u660e\u4f60\u6709\u5197\u4f59\uff0c\u4ed4\u7ec6\u68c0\u6d4b\u662f\u5426\u771f\u7684\u6210\u529f\u83b7\u53d6\u4e86\u6700\u957f\u7684\u8f6c\u5f55\u672c \u53d6file.pep\u4e2d\u6700\u957f\u8f6c\u5f55\u672c\u5e8f\u5217\uff0c\u53bb\u5197\u4f59\u3002\u4e00\u4e2a\u57fa\u56e0\u53ef\u80fd\u6709\u591a\u4e2a\u8f6c\u5f55\u672c\uff0c\u4ece\u4e2d\u627e\u51fa\u6700\u957f\u7684\u8f6c\u5f55\u672c\u3002 removeRedundantProteins.py\u4f7f\u7528\u65f6\u5019\u9700\u8981\u6ce8\u610f\u4f60\u7684ID\uff0c\u9700\u8981\u4fee\u6539\u4e3a\u5206\u5272\u5b57\u7b26\u662f . ,\u57fa\u56e0\u540d\u662f\u7b2c1\u5404\u5b57\u6bb5\uff0c\u5219 li = line2[0] ,\u5982\u679c\u57fa\u56e0\u540d\u662f\u7b2c2\u4e2a\u5b57\u6bb5\uff0c\u5219 li = line2[1] gn005G428000.1 \u8fd9\u79cd\u662f\u9ed8\u8ba4\u7684\u683c\u5f0f\uff0c\u76f4\u63a5\u4f7f\u7528\u811a\u672c\u5373\u53ef\u3002 >gn.005G428000.1 \u8fd9\u79cd\u57fa\u56e0\u540d\u662f\u7b2c2\u4e2a\u5b57\u6bb5\uff0c\u9700\u8981\u8c03\u6574 li = line2[1] removeRedundantProteins.py\u7684\u4ee3\u7801\u5982\u4e0b\uff1a #!/usr/bin/env python3 import sys,getopt def usage(): print('usage:python3 removeRedundantProteins.py -i <in_fasta> -o <out_fasta> <-h>') return def removeRedundant(in_file,out_file): gene_dic = {} flag = '' with open (in_file) as in_fasta: for line in in_fasta: if '>' in line: line1 = line.strip('>\\n') line2 = line1.split('.') li = line2[0] flag = li try: gene_dic[li] except KeyError: gene_dic[li] = [line] else: gene_dic[li].append(line) else: gene_dic[flag][-1] += line with open (out_file,'w') as out_fasta: for k,v in gene_dic.items(): if len(v) == 1: out_fasta.write(gene_dic[k][0]) else: trans_max = '' for trans in gene_dic[k]: a = len(list(trans)) b = len(list(trans_max)) if a > b: trans_max = trans out_fasta.write(trans_max) def main(argv): try: opts, args = getopt.getopt(argv,'hi:o:') except getopt.GetoptError: usage() sys.exit() for opt, arg in opts: if opt == '-h': usage() sys.exit() elif opt == '-i': in_fasta_name = arg elif opt == '-o': outfile_name = arg try: removeRedundant(in_fasta_name,outfile_name) except UnboundLocalError: usage() return if __name__ == '__main__': main(sys.argv[1:]) \u5904\u7406\u5b8c\u6210\u540e\uff0c\u83b7\u53d6\u57fa\u56e0\u7ec4\u86cb\u767d\u8d28\u6700\u957f\u8f6c\u5f55\u672c\u3002 3.\u83b7\u53d6\u5171\u7ebf\u6027\u57fa\u56e0\u5bf9 \u4f7f\u7528\u7684\u662fblast,\u672c\u5730\u4f7f\u7528conda\u5b89\u88c5\u3002 conda install -c bioconda blast # blast\u5b89\u88c5perl\u6a21\u5757\u7684\u65b9\u6cd5 conda install perl-digest-md5 \uff081\uff09\u5bf9\u86cb\u767d\u5e8f\u5217\u6784\u5efa\u7d22\u5f15 makeblastdb -in Citrus_sinensis.pep -dbtype prot -parse_seqids -out Citrus_sinensis \uff082\uff09blastp\u6bd4\u5bf9 nohup blastp -query Citrus_sinensis.pep -out Citrus_sinensis.blast -db Citrus_sinensis -outfmt 6 -evalue 1e-10 -num_threads 8 -qcov_hsp_perc 50.0 -num_alignments 5 2> blastp.log & \uff083\uff09gff3\u6587\u4ef6\u5904\u7406 grep '\\smRNA\\s' Citrus_sinensis.gff3 | awk '{print $1\"\\t\"$4\"\\t\"$5\"\\t\"$9}' | awk -F 'ID=' '{print $1$2}' | awk -F 'Parent=' '{print $1}' | awk '{print $1\"\\t\"$4\"\\t\"$2\"\\t\"$3}' | awk -F ';' '{print $1\"\\t\"$3}' | awk '{print $1\"\\t\"$2\"\\t\"$3\"\\t\"$4}' > Citrus_sinensis.gff \uff084\uff09\u8fd0\u884cMCScanX(.blast & .gff\u6587\u4ef6 ) \u4e0b\u8f7dMCScanX, \u4e0b\u8f7d\u5730\u5740 \u4f7f\u7528\u65b9\u6cd5 MCscan2 github unzip MCScanX.zip cd MCScanX make \u5b89\u88c5MCScanX,\u9047\u52303\u5904\u9519\u8bef\u548c1\u4e2a\u7f3a\u5c11Java\u7684\u8b66\u544a\u3002\u89e3\u51b3\u65b9\u6cd5\u524d\u4e09\u6b21\u662f\uff0c\u4fee\u6539\u62a5\u9519\u7684\u6587\u4ef6\u7684\u5934\u90e8\uff0c\u589e\u52a0\u4e00\u884c #include <getopt.h> .\u6700\u540e\u4e00\u5904\u9519\u8bef\u662f\u9700\u8981\u5b89\u88c5jdk. \u9519\u8bef\u89e3\u51b3\u8be6\u60c5\u53c2\u8003 JDK\u4e0b\u8f7d\u5730\u5740 https://www.oracle.com/technetwork/java/javase/downloads/index.html \u4e0b\u8f7dlinux\u7248\u5f97\u5230tar.gz\uff0c\u76f4\u63a5\u89e3\u538b\uff0c\u8fdb\u5165\u76ee\u5f55\uff0c\u6dfb\u52a0\u73af\u5883\u53d8\u91cf\u5c31\u53ef\u4ee5\u4f7f\u7528\u3002 \u8fd0\u884cMCScanX\uff0c\u83b7\u53d6\u5171\u7ebf\u6027\u57fa\u56e0\u5bf9 MCScanX Citrus_sinensis -g -3 -e 1e-10 \u5f97\u5230 Citrus_sinensis.collinearity\u3001Citrus_sinensis.tandem\u6587\u4ef6\u53caCitrus_sinensis.html\u6587\u4ef6\u5939\uff0c\u5176\u4e2d\u6211\u4eec\u9700\u8981\u7684\u4fe1\u606f\u5c31\u5728Citrus_sinensis.collinearity\u7ed3\u679c\u6587\u4ef6\u4e2d \uff085\uff09\u63d0\u53d6\u5171\u7ebf\u6027\u57fa\u56e0\u5bf9 cat Citrus_sinensis.collinearity | grep \"Cs\" | awk '{print $3\"\\t\"$4}' > Citrus_sinensis.homolog 4\u3001Ka\u3001Ks\u53ca4Dtv\u503c\u8ba1\u7b97 \uff081\uff09\u51c6\u5907\u8f6f\u4ef6\u548c\u811a\u672c KaKs_Calculator2.0\u5b89\u88c5\u4f7f\u7528 \u4e8c\u8fdb\u5236\u6587\u4ef6\uff0c\u7701\u5fc3\u7701\u529b\u3002 ParaAT\u5b98\u7f51 \u4e0b\u8f7d\u540e\u89e3\u538b\u7f29\uff0c\u6dfb\u52a0\u73af\u5883\u53d8\u91cf\u5373\u53ef\u76f4\u63a5\u8fd0\u884c\u3002 \u9700\u8981\u7528\u5230\u7684\u811a\u672c\uff1acalculate_4DTV_correction.pl\uff1baxt2one-line.py https://github.com/JinfengChen/Scripts/blob/master/FFgenome/03.evolution/distance_kaks_4dtv/bin/calculate_4DTV_correction.pl https://github.com/scbgfengchao/4DTv/blob/master/axt2one-line.py calculate_4DTV_correction.pl\u5185\u5bb9\u5982\u4e0b #!/usr/bin/perl use strict; ##author: sun ming'an, sunma@genomics.org.cn ##modifier: fanwei, fanw@genomics.org.cn ##correction: LiJun, junli@genomics.org.cn ##Date: 2008-9-24 ##4dtv (transversion rate on 4-fold degenerated sites) are calculated with HKY substitution models ##Reference: M. Hasegawa, H. Kishino, and T. Yano, J. Mol. Evol. 22 (2), 160 (1985) die \"perl $0 AXTfile > outfile\\n\" unless( @ARGV == 1); # %codons was changed to DNA codon according to the poster below. Thanks to \u5c0f\u9716123. # https://www.jianshu.com/p/6d704378c342 my %codons=( 'CTT'=>'L', 'CTC'=>'L', 'CTA'=>'L', 'CTG'=>'L', 'GTT'=>'V', 'GTC'=>'V', 'GTA'=>'V', 'GTG'=>'V', 'TCT'=>'S', 'TCC'=>'S', 'TCA'=>'S', 'TCG'=>'S', 'CCT'=>'P', 'CCC'=>'P', 'CCA'=>'P', 'CCG'=>'P', 'ACT'=>'T', 'ACC'=>'T', 'ACA'=>'T', 'ACG'=>'T', 'GCT'=>'A', 'GCC'=>'A', 'GCA'=>'A', 'GCG'=>'A', 'CGT'=>'R', 'CGC'=>'R', 'CGA'=>'R', 'CGG'=>'R', 'GGT'=>'G', 'GGC'=>'G', 'GGA'=>'G', 'GGG'=>'G' ); my %transversion = ( \"A\" => \"TC\", \"C\" => \"AG\", \"G\" => \"TC\", \"T\" => \"AG\", ); my $axtFile = shift; open(AXT,\"$axtFile\")||die\"Cannot open $axtFile\\n\"; $/ = \"\\n\\n\"; my @seqs = <AXT>; $/ =\"\\n\"; close AXT; print \"tag\\t4dtv_corrected\\t4dtv_raw\\tcondon_4d\\tcodon_4dt\\n\"; foreach my $line ( @seqs ){ chomp $line; if( $line =~ /^(\\S+)\\n(\\S+)\\n(\\S+)$/ ){ my $tag = $1; my $seq1 =$2; my $seq2 =$3; my ($corrected_4dtv, $raw_4dtv, $condon_4d, $codon_4dt) = &calculate_4dtv($seq1, $seq2); print \"$tag\\t$corrected_4dtv\\t$raw_4dtv\\t$condon_4d\\t$codon_4dt\\n\"; } } sub calculate_4dtv { my($str1, $str2) = @_; my ($condon_4d, $codon_4dt) = (0,0); my ($V,$a,$b,$d) = (0,0,0,0); my %fre=(); for( my $i = 0; $i < length($str1); $i += 3){ my $codon1 = substr($str1, $i, 3); my $codon2 = substr($str2, $i, 3); my $base1= uc(substr($str1, $i+2, 1)); my $base2= uc(substr($str2, $i+2, 1)); if( exists $codons{$codon1} && exists $codons{$codon2} && $codons{$codon1} eq $codons{$codon2} ){ $fre{$base1}++; $fre{$base2}++; $condon_4d++; $codon_4dt++ if(is_transversion($codon1,$codon2)); } } if($condon_4d > 0){ $V=$codon_4dt / $condon_4d; ##this is raw 4dtv value ##correction the raw 4dtv values by HKY substitution model $fre{\"Y\"}=$fre{\"T\"}+$fre{\"C\"}; $fre{\"R\"}=$fre{\"A\"}+$fre{\"G\"}; foreach (keys %fre){ $fre{$_}=0.5*$fre{$_}/$condon_4d; } if($fre{Y}!=0 && $fre{R}!=0 && $fre{A}!=0 && $fre{C}!=0 && $fre{G}!=0 && $fre{T}!=0){ $a=-1*log(1-$V*($fre{T}*$fre{C}*$fre{R}/$fre{Y}+$fre{A}*$fre{G}*$fre{Y}/$fre{R})/(2*($fre{T}*$fre{C}*$fre{R}+$fre{A}*$fre{G}*$fre{Y}))); if (1-$V/(2*$fre{Y}*$fre{R}) > 0) { $b=-1*log(1-$V/(2*$fre{Y}*$fre{R})); $d=2*$a*($fre{T}*$fre{C}/$fre{Y}+$fre{A}*$fre{G}/$fre{R})-2*$b*($fre{T}*$fre{C}*$fre{R}/$fre{Y}+$fre{A}*$fre{G}*$fre{Y}/$fre{R}-$fre{Y}*$fre{R}); }else{ $d = \"NA\"; } }else{ $d = \"NA\"; } }else{ $V=\"NA\"; $d=\"NA\"; } return ($d,$V,$condon_4d, $codon_4dt); } sub is_transversion{ my ($codon1,$codon2) = @_; my $is_transversion = 0; my $base1 = substr($codon1,2,1); my $base2 = substr($codon2,2,1); $is_transversion = 1 if (exists $transversion{$base1} && $transversion{$base1} =~ /$base2/); return $is_transversion; } axt2one-line.py\u5185\u5bb9\u5982\u4e0b\uff1a #!/usr/bin/python #name: axt2one-line.py import sys import re mydict = {} args = sys.argv reader = args[1] writer = open(args[2],\"w\") with open(reader) as fh: for line in fh: if re.search(r\"\\d+\",line): header = line.strip() mydict[header] = [] else: mydict[header].append(line.strip()) for key,value in mydict.items(): seqs = \"\".join(value) length = len(seqs) mid = int(length/2) seq1 = seqs[0:mid] seq2 = seqs[mid:] writer.write(key + \"\\n\" + \"\\n\".join([seq1,seq2])) \uff082\uff09\u6570\u636e\u51c6\u5907 Citrus_sinensis.homolog\u3001Citrus_sinensis.cds\u3001Citrus_sinensis.pep\uff1bCitrus_grandis.homolog\u3001Citrus_grandis.cds\u3001Citrus_grandis.pep\uff1bArabidopsis_thaliana.homolog\u3001Arabidopsis_thaliana.cds\u3001Arabidopsis_thaliana.pep\uff1bMalus_domestica.homolog\u3001Malus_domestica.cds\u3001Malus_domestica.pep\uff1b \uff083\uff09\u4f7f\u7528ParaAT\u7a0b\u5e8f\u5c06\u86cb\u767d\u5e8f\u5217\u6bd4\u5bf9\u7ed3\u679c\u8f6c\u5316\u4e3acds\u5e8f\u5217\u6bd4\u5bf9\u7ed3\u679c \u65b0\u5efaproc\u6587\u4ef6, \u8bbe\u5b9a12\u4e2a\u7ebf\u7a0b echo \"12\" >proc -m\u53c2\u6570\u6307\u5b9a\u591a\u5e8f\u5217\u6bd4\u5bf9\u7a0b\u5e8f\u4e3aclustalw2 (\u53ef\u4ee5\u662f\u5176\u4e2d\u4efb\u4e00\u4e2a clustalw2 | t_coffee | mafft | muscle)\uff0c-p\u53c2\u6570\u6307\u5b9a\u591a\u7ebf\u7a0b\u6587\u4ef6\uff0c-f\u53c2\u6570\u6307\u5b9a\u8f93\u51fa\u6587\u4ef6\u683c\u5f0f\u4e3aaxt ParaAT.pl -h Citrus_sinensis.homolog -n Citrus_sinensis.cds -a Citrus_sinensis.pep -m clustalw2 -p proc -f axt -o Citrus_sinensis_out 2> ParaAT.log file.homolog\u3001file.cds\u3001file.pep\u4e09\u4e2a\u6587\u4ef6\u7684\u57fa\u56e0ID\u9700\u4fdd\u6301\u4e00\u81f4\uff0c\u4e14file.cds\u53cafile.pep\u4e3afasta\u683c\u5f0f \u5f53\u6709\u4e24\u4e2a\u7269\u79cd\u65f6\uff0c homolog\uff0ccds,pep \u8fd9\u4e09\u4e2a\u6587\u4ef6\uff0c\u90fd\u662f2\u4e2a\u7269\u79cd\u7684\u3002\u4f7f\u7528 cat Citrus_sinensis.homolog Arabidopsis_thaliana.homolog >file.homology \u5408\u5e76\u6210\u4e3a\u4e00\u4e2a\u3002 \u5f53\u4e00\u4e2a\u7269\u79cd\u5185\u90e8\u8ba1\u7b97\u65f6\uff0c\u5c31\u4f7f\u7528\u8fd9\u4e00\u4e2a\u7269\u79cd\u7684\u5373\u53ef\u3002 (4\uff09\u4f7f\u7528KaKs_Calculator\u8ba1\u7b97ka\u3001ks\u503c, -m\u53c2\u6570\u6307\u5b9akaks\u503c\u7684\u8ba1\u7b97\u65b9\u6cd5\u4e3aYN\u6a21\u578b for i in `ls *.axt`;do KaKs_Calculator -i $i -o ${i}.kaks -m YN;done # \u5c06\u591a\u884caxt\u6587\u4ef6\u8f6c\u6362\u6210\u5355\u884c for i in `ls *.axt`;do axt2one-line.py $i ${i}.one-line;done #\uff085\uff09\u4f7f\u7528calculate_4DTV_correction.pl\u811a\u672c\u8ba1\u7b974dtv\u503c ls *.axt.one-line|while read id;do calculate_4DTV_correction.pl $id >${id%%one-line}4dtv;done #\uff086\uff09\u5408\u5e76\u6240\u6709\u540c\u6e90\u57fa\u56e0\u5bf9\u76844dtv for i in `ls *.4dtv`;do awk 'NR>1{print $1\"\\t\"$3}' $i >>all-4dtv.txt;done #\uff087\uff09\u5408\u5e76\u6240\u6709\u540c\u6e90\u57fa\u56e0\u5bf9\u7684kaks\u503c for i in `ls *.kaks`;do awk 'NR>1{print $1\"\\t\"$3\"\\t\"$4\"\\t\"$5}' $i >>all-kaks.txt;done #\uff088\uff09\u7ed9\u7ed3\u679c\u6587\u4ef6\u8fdb\u884c\u6392\u5e8f\u548c\u53bb\u5197\u4f59 sort all-4dtv.txt|uniq >all-4dtv.results sort all-kaks.txt|uniq >all-kaks.results #\uff089\uff09\u5c06kaks\u7ed3\u679c\u548c4Dtv\u7ed3\u679c\u5408\u5e76 join -1 1 -2 1 all-kaks.results all-4dtv.results >all-results.txt #\uff0810\uff09\u7ed9\u7ed3\u679c\u6587\u4ef6\u6dfb\u52a0\u6807\u9898 sed -i '1i\\Seq\\tKa\\tKs\\tKa/Ks\\t4dtv_corrected' all-results.txt \u56db\u3001\u53ef\u89c6\u5316\u4f5c\u56fe 1\u3001\u6570\u636e\u51c6\u5907 Arabidopsis_thaliana-4dtv.txt\u3001Citrus_grandis-4dtv.txt\u3001Citrus_sinensis-4dtv.txt\u3001Malus_domestic-4dtv.txt 2\u3001\u6570\u636e\u5904\u7406 cat citrus_sinensisl-4dtv.txt | awk '{print \"C.sinensis\"\"\\t\"$2}' > C.sinensis-4dtv.txt \u5408\u5e76A.thaliana-4dtv.txt\u3001C.grandis-4dtv.txt\u3001C.sinensis-4dtv.txt\u3001M.domestic-4dtv.txt\u6587\u4ef6 cat A.thaliana-4dtv.txt C.grandis-4dtv.txt C.sinensis-4dtv.txt M.domestic-4dtv.txt > 4species-4dtv.txt \u7ed94species-4dtv.txt \u6587\u4ef6\u6dfb\u52a0\u6807\u9898 sed -i '1i\\Species\\tValue' 4species-4dtv.txt 3\u3001RStudio\u4f5c\u56fe setwd(\"C:/Users/***/Desktop/4Dtv/\") ### \u8bfb\u51654species-4dtv.txt\u6587\u4ef6 dtv <- read.table(\"4species-4dtv.txt\", header = T, check.names =F, sep = \"\\t\") ### \u8f7d\u5165R\u5305 library(ggplot2) library(hrbrthemes) library(dplyr) library(tidyr) library(viridis) ### \u7ed8\u56fe p <- ggplot(data=dtv, aes(x=Value, group=Species, fill=Species)) + geom_density(adjust=1.5, alpha=.4) + theme_ipsum() + labs(title = \"Distribution of 4Dtv distances\", x = \"4Dtv Value\", y= \"Density\", size = 1.5) \u4e0a\u8ff0\u811a\u672c\u5df2\u7ecf\u6253\u5305\u6210\u6d41\u7a0b KK4D \u3002\u76ee\u524d\u53ef\u89c6\u5316\u6a21\u5757\u8fd8\u6ca1\u6709\u5b9e\u73b0\uff0c\u5171\u7ebf\u6027\u4f7f\u7528\u7684\u662fjcvi,\u540e\u671f\u53ef\u80fd\u4f1a\u589e\u52a0MCScanX\u7684\u5b9e\u73b0\u3002\u5176\u5b9e\u81ea\u5df1\u628aMCScanX\u7684\u5171\u7ebf\u6027\u7ed3\u679c\u683c\u5f0f\u5316\u540e\uff0c\u91cd\u547d\u540d\u4e3a\u6807\u51c6\u683c\u5f0f\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528KK4D\u8fdb\u884c\u540e\u7eed\u5206\u6790\u3002","title":"Ka Ks\u548c4DTv\u8ba1\u7b97\u53ef\u89c6\u5316"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/Ka-Ks%E5%92%8C4DTv%E8%AE%A1%E7%AE%97%E5%8F%AF%E8%A7%86%E5%8C%96/#4dtv3atcgtcatcttcctcg4dtvser","text":"\u8f6c\u8f7d\u81eahttps://www.jianshu.com/p/9d28de3d18e6","title":"4DTv\uff1a\u56db\u500d\u517c\u5e76\u4f4d\u70b9,\u7b80\u5355\u8bf4\u5c31\u662f\u4e00\u4e2a\u5bc6\u7801\u5b50\uff0c3\u4e2a\u78b1\u57fa\u4e2d\uff0c\u6709\u4e00\u4e2a\u4f4d\u7f6e\u7684\u78b1\u57fa\u65e0\u8bba\u662fA,T,C,G\u4e2d\u7684\u54ea\u4e00\u4e2a\uff0c\u90fd\u662f\u7f16\u7801\u540c\u4e00\u4e2a\u6c28\u57fa\u9178\uff0c\u8fd9\u4e2a\u4f4d\u70b9\u5c31\u662f\u56db\u500d\u517c\u5e76\u4f4d\u70b9\u3002\u4f8b\u5982\uff1a\"TCA/TCT/TCC/TCG\"\u4e2d\u7684\u7b2c\u4e09\u4f4d\u5c31\u662f\u4e00\u4e2a4DTV\uff0c\u5728\u8fd9\u4e2a\u4f4d\u70b9\u7684\u78b1\u57fa\uff0c\u65e0\u8bba\u600e\u4e48\u7a81\u53d8\u6700\u7ec8\u90fd\u662f\u4e1d\u6c28\u9178(Ser)\u3002"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/Ka-Ks%E5%92%8C4DTv%E8%AE%A1%E7%AE%97%E5%8F%AF%E8%A7%86%E5%8C%96/#4dtv-mcscan","text":"1.\u51c6\u5907\u6570\u636e Arabidopsis_thaliana.cds\u3001Arabidopsis_thaliana.pep\u3001Arabidopsis_thaliana.gff3\uff1bCitrus_grandis.cds\u3001Citrus_grandis.pep\u3001Citrus_grandis.gff3\uff1bCitrus_sinensis.cds\u3001Citrus_sinensis.pep\u3001Citrus_sinensis.gff3\uff1bMalus_domestica.cds\u3001Malus_domestica.pep\u3001Malus_domestica.gff3\uff1b 2. \u6570\u636e\u5904\u7406 awk '$3==\"gene\"' Arabidopsis_thaliana.gff3|wc -l \u67e5\u770b\u57fa\u56e0\u7684\u6570\u91cf awk '$3==\"mRNA\"' Arabidopsis_thaliana.gff3|wc -l \u67e5\u770b\u8f6c\u5f55\u672c\u7684\u6570\u91cf \u65e0\u8bba\u662f\u5171\u7ebf\u6027\u5206\u6790\u6216\u8ba1\u7b97KaKs,\u4f7f\u7528\u7684\u90fd\u662f\u9700\u8981\u548c\u57fa\u56e0\u6570\u91cf\u76f8\u540c\u7684\u86cb\u767d\u5e8f\u5217\u3002\u5982\u679c\u4f60\u7684\u86cb\u767d\u5e8f\u5217\u7684\u6761\u6570\u548c\u8f6c\u5f55\u672c\u7684\u6570\u91cf\u4e00\u6837\uff0c\u5219\u8bf4\u660e\u4f60\u6709\u5197\u4f59\uff0c\u4ed4\u7ec6\u68c0\u6d4b\u662f\u5426\u771f\u7684\u6210\u529f\u83b7\u53d6\u4e86\u6700\u957f\u7684\u8f6c\u5f55\u672c \u53d6file.pep\u4e2d\u6700\u957f\u8f6c\u5f55\u672c\u5e8f\u5217\uff0c\u53bb\u5197\u4f59\u3002\u4e00\u4e2a\u57fa\u56e0\u53ef\u80fd\u6709\u591a\u4e2a\u8f6c\u5f55\u672c\uff0c\u4ece\u4e2d\u627e\u51fa\u6700\u957f\u7684\u8f6c\u5f55\u672c\u3002 removeRedundantProteins.py\u4f7f\u7528\u65f6\u5019\u9700\u8981\u6ce8\u610f\u4f60\u7684ID\uff0c\u9700\u8981\u4fee\u6539\u4e3a\u5206\u5272\u5b57\u7b26\u662f . ,\u57fa\u56e0\u540d\u662f\u7b2c1\u5404\u5b57\u6bb5\uff0c\u5219 li = line2[0] ,\u5982\u679c\u57fa\u56e0\u540d\u662f\u7b2c2\u4e2a\u5b57\u6bb5\uff0c\u5219 li = line2[1] gn005G428000.1 \u8fd9\u79cd\u662f\u9ed8\u8ba4\u7684\u683c\u5f0f\uff0c\u76f4\u63a5\u4f7f\u7528\u811a\u672c\u5373\u53ef\u3002 >gn.005G428000.1 \u8fd9\u79cd\u57fa\u56e0\u540d\u662f\u7b2c2\u4e2a\u5b57\u6bb5\uff0c\u9700\u8981\u8c03\u6574 li = line2[1] removeRedundantProteins.py\u7684\u4ee3\u7801\u5982\u4e0b\uff1a #!/usr/bin/env python3 import sys,getopt def usage(): print('usage:python3 removeRedundantProteins.py -i <in_fasta> -o <out_fasta> <-h>') return def removeRedundant(in_file,out_file): gene_dic = {} flag = '' with open (in_file) as in_fasta: for line in in_fasta: if '>' in line: line1 = line.strip('>\\n') line2 = line1.split('.') li = line2[0] flag = li try: gene_dic[li] except KeyError: gene_dic[li] = [line] else: gene_dic[li].append(line) else: gene_dic[flag][-1] += line with open (out_file,'w') as out_fasta: for k,v in gene_dic.items(): if len(v) == 1: out_fasta.write(gene_dic[k][0]) else: trans_max = '' for trans in gene_dic[k]: a = len(list(trans)) b = len(list(trans_max)) if a > b: trans_max = trans out_fasta.write(trans_max) def main(argv): try: opts, args = getopt.getopt(argv,'hi:o:') except getopt.GetoptError: usage() sys.exit() for opt, arg in opts: if opt == '-h': usage() sys.exit() elif opt == '-i': in_fasta_name = arg elif opt == '-o': outfile_name = arg try: removeRedundant(in_fasta_name,outfile_name) except UnboundLocalError: usage() return if __name__ == '__main__': main(sys.argv[1:]) \u5904\u7406\u5b8c\u6210\u540e\uff0c\u83b7\u53d6\u57fa\u56e0\u7ec4\u86cb\u767d\u8d28\u6700\u957f\u8f6c\u5f55\u672c\u3002 3.\u83b7\u53d6\u5171\u7ebf\u6027\u57fa\u56e0\u5bf9 \u4f7f\u7528\u7684\u662fblast,\u672c\u5730\u4f7f\u7528conda\u5b89\u88c5\u3002 conda install -c bioconda blast # blast\u5b89\u88c5perl\u6a21\u5757\u7684\u65b9\u6cd5 conda install perl-digest-md5 \uff081\uff09\u5bf9\u86cb\u767d\u5e8f\u5217\u6784\u5efa\u7d22\u5f15 makeblastdb -in Citrus_sinensis.pep -dbtype prot -parse_seqids -out Citrus_sinensis \uff082\uff09blastp\u6bd4\u5bf9 nohup blastp -query Citrus_sinensis.pep -out Citrus_sinensis.blast -db Citrus_sinensis -outfmt 6 -evalue 1e-10 -num_threads 8 -qcov_hsp_perc 50.0 -num_alignments 5 2> blastp.log & \uff083\uff09gff3\u6587\u4ef6\u5904\u7406 grep '\\smRNA\\s' Citrus_sinensis.gff3 | awk '{print $1\"\\t\"$4\"\\t\"$5\"\\t\"$9}' | awk -F 'ID=' '{print $1$2}' | awk -F 'Parent=' '{print $1}' | awk '{print $1\"\\t\"$4\"\\t\"$2\"\\t\"$3}' | awk -F ';' '{print $1\"\\t\"$3}' | awk '{print $1\"\\t\"$2\"\\t\"$3\"\\t\"$4}' > Citrus_sinensis.gff \uff084\uff09\u8fd0\u884cMCScanX(.blast & .gff\u6587\u4ef6 )","title":"\u68c0\u6d4b4DTv\u4f7f\u7528 MCscan"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/Ka-Ks%E5%92%8C4DTv%E8%AE%A1%E7%AE%97%E5%8F%AF%E8%A7%86%E5%8C%96/#mcscanx","text":"\u4f7f\u7528\u65b9\u6cd5 MCscan2 github unzip MCScanX.zip cd MCScanX make \u5b89\u88c5MCScanX,\u9047\u52303\u5904\u9519\u8bef\u548c1\u4e2a\u7f3a\u5c11Java\u7684\u8b66\u544a\u3002\u89e3\u51b3\u65b9\u6cd5\u524d\u4e09\u6b21\u662f\uff0c\u4fee\u6539\u62a5\u9519\u7684\u6587\u4ef6\u7684\u5934\u90e8\uff0c\u589e\u52a0\u4e00\u884c #include <getopt.h> .\u6700\u540e\u4e00\u5904\u9519\u8bef\u662f\u9700\u8981\u5b89\u88c5jdk. \u9519\u8bef\u89e3\u51b3\u8be6\u60c5\u53c2\u8003 JDK\u4e0b\u8f7d\u5730\u5740 https://www.oracle.com/technetwork/java/javase/downloads/index.html \u4e0b\u8f7dlinux\u7248\u5f97\u5230tar.gz\uff0c\u76f4\u63a5\u89e3\u538b\uff0c\u8fdb\u5165\u76ee\u5f55\uff0c\u6dfb\u52a0\u73af\u5883\u53d8\u91cf\u5c31\u53ef\u4ee5\u4f7f\u7528\u3002 \u8fd0\u884cMCScanX\uff0c\u83b7\u53d6\u5171\u7ebf\u6027\u57fa\u56e0\u5bf9 MCScanX Citrus_sinensis -g -3 -e 1e-10 \u5f97\u5230 Citrus_sinensis.collinearity\u3001Citrus_sinensis.tandem\u6587\u4ef6\u53caCitrus_sinensis.html\u6587\u4ef6\u5939\uff0c\u5176\u4e2d\u6211\u4eec\u9700\u8981\u7684\u4fe1\u606f\u5c31\u5728Citrus_sinensis.collinearity\u7ed3\u679c\u6587\u4ef6\u4e2d \uff085\uff09\u63d0\u53d6\u5171\u7ebf\u6027\u57fa\u56e0\u5bf9 cat Citrus_sinensis.collinearity | grep \"Cs\" | awk '{print $3\"\\t\"$4}' > Citrus_sinensis.homolog 4\u3001Ka\u3001Ks\u53ca4Dtv\u503c\u8ba1\u7b97 \uff081\uff09\u51c6\u5907\u8f6f\u4ef6\u548c\u811a\u672c KaKs_Calculator2.0\u5b89\u88c5\u4f7f\u7528 \u4e8c\u8fdb\u5236\u6587\u4ef6\uff0c\u7701\u5fc3\u7701\u529b\u3002 ParaAT\u5b98\u7f51 \u4e0b\u8f7d\u540e\u89e3\u538b\u7f29\uff0c\u6dfb\u52a0\u73af\u5883\u53d8\u91cf\u5373\u53ef\u76f4\u63a5\u8fd0\u884c\u3002 \u9700\u8981\u7528\u5230\u7684\u811a\u672c\uff1acalculate_4DTV_correction.pl\uff1baxt2one-line.py https://github.com/JinfengChen/Scripts/blob/master/FFgenome/03.evolution/distance_kaks_4dtv/bin/calculate_4DTV_correction.pl https://github.com/scbgfengchao/4DTv/blob/master/axt2one-line.py calculate_4DTV_correction.pl\u5185\u5bb9\u5982\u4e0b #!/usr/bin/perl use strict; ##author: sun ming'an, sunma@genomics.org.cn ##modifier: fanwei, fanw@genomics.org.cn ##correction: LiJun, junli@genomics.org.cn ##Date: 2008-9-24 ##4dtv (transversion rate on 4-fold degenerated sites) are calculated with HKY substitution models ##Reference: M. Hasegawa, H. Kishino, and T. Yano, J. Mol. Evol. 22 (2), 160 (1985) die \"perl $0 AXTfile > outfile\\n\" unless( @ARGV == 1); # %codons was changed to DNA codon according to the poster below. Thanks to \u5c0f\u9716123. # https://www.jianshu.com/p/6d704378c342 my %codons=( 'CTT'=>'L', 'CTC'=>'L', 'CTA'=>'L', 'CTG'=>'L', 'GTT'=>'V', 'GTC'=>'V', 'GTA'=>'V', 'GTG'=>'V', 'TCT'=>'S', 'TCC'=>'S', 'TCA'=>'S', 'TCG'=>'S', 'CCT'=>'P', 'CCC'=>'P', 'CCA'=>'P', 'CCG'=>'P', 'ACT'=>'T', 'ACC'=>'T', 'ACA'=>'T', 'ACG'=>'T', 'GCT'=>'A', 'GCC'=>'A', 'GCA'=>'A', 'GCG'=>'A', 'CGT'=>'R', 'CGC'=>'R', 'CGA'=>'R', 'CGG'=>'R', 'GGT'=>'G', 'GGC'=>'G', 'GGA'=>'G', 'GGG'=>'G' ); my %transversion = ( \"A\" => \"TC\", \"C\" => \"AG\", \"G\" => \"TC\", \"T\" => \"AG\", ); my $axtFile = shift; open(AXT,\"$axtFile\")||die\"Cannot open $axtFile\\n\"; $/ = \"\\n\\n\"; my @seqs = <AXT>; $/ =\"\\n\"; close AXT; print \"tag\\t4dtv_corrected\\t4dtv_raw\\tcondon_4d\\tcodon_4dt\\n\"; foreach my $line ( @seqs ){ chomp $line; if( $line =~ /^(\\S+)\\n(\\S+)\\n(\\S+)$/ ){ my $tag = $1; my $seq1 =$2; my $seq2 =$3; my ($corrected_4dtv, $raw_4dtv, $condon_4d, $codon_4dt) = &calculate_4dtv($seq1, $seq2); print \"$tag\\t$corrected_4dtv\\t$raw_4dtv\\t$condon_4d\\t$codon_4dt\\n\"; } } sub calculate_4dtv { my($str1, $str2) = @_; my ($condon_4d, $codon_4dt) = (0,0); my ($V,$a,$b,$d) = (0,0,0,0); my %fre=(); for( my $i = 0; $i < length($str1); $i += 3){ my $codon1 = substr($str1, $i, 3); my $codon2 = substr($str2, $i, 3); my $base1= uc(substr($str1, $i+2, 1)); my $base2= uc(substr($str2, $i+2, 1)); if( exists $codons{$codon1} && exists $codons{$codon2} && $codons{$codon1} eq $codons{$codon2} ){ $fre{$base1}++; $fre{$base2}++; $condon_4d++; $codon_4dt++ if(is_transversion($codon1,$codon2)); } } if($condon_4d > 0){ $V=$codon_4dt / $condon_4d; ##this is raw 4dtv value ##correction the raw 4dtv values by HKY substitution model $fre{\"Y\"}=$fre{\"T\"}+$fre{\"C\"}; $fre{\"R\"}=$fre{\"A\"}+$fre{\"G\"}; foreach (keys %fre){ $fre{$_}=0.5*$fre{$_}/$condon_4d; } if($fre{Y}!=0 && $fre{R}!=0 && $fre{A}!=0 && $fre{C}!=0 && $fre{G}!=0 && $fre{T}!=0){ $a=-1*log(1-$V*($fre{T}*$fre{C}*$fre{R}/$fre{Y}+$fre{A}*$fre{G}*$fre{Y}/$fre{R})/(2*($fre{T}*$fre{C}*$fre{R}+$fre{A}*$fre{G}*$fre{Y}))); if (1-$V/(2*$fre{Y}*$fre{R}) > 0) { $b=-1*log(1-$V/(2*$fre{Y}*$fre{R})); $d=2*$a*($fre{T}*$fre{C}/$fre{Y}+$fre{A}*$fre{G}/$fre{R})-2*$b*($fre{T}*$fre{C}*$fre{R}/$fre{Y}+$fre{A}*$fre{G}*$fre{Y}/$fre{R}-$fre{Y}*$fre{R}); }else{ $d = \"NA\"; } }else{ $d = \"NA\"; } }else{ $V=\"NA\"; $d=\"NA\"; } return ($d,$V,$condon_4d, $codon_4dt); } sub is_transversion{ my ($codon1,$codon2) = @_; my $is_transversion = 0; my $base1 = substr($codon1,2,1); my $base2 = substr($codon2,2,1); $is_transversion = 1 if (exists $transversion{$base1} && $transversion{$base1} =~ /$base2/); return $is_transversion; } axt2one-line.py\u5185\u5bb9\u5982\u4e0b\uff1a #!/usr/bin/python #name: axt2one-line.py import sys import re mydict = {} args = sys.argv reader = args[1] writer = open(args[2],\"w\") with open(reader) as fh: for line in fh: if re.search(r\"\\d+\",line): header = line.strip() mydict[header] = [] else: mydict[header].append(line.strip()) for key,value in mydict.items(): seqs = \"\".join(value) length = len(seqs) mid = int(length/2) seq1 = seqs[0:mid] seq2 = seqs[mid:] writer.write(key + \"\\n\" + \"\\n\".join([seq1,seq2])) \uff082\uff09\u6570\u636e\u51c6\u5907 Citrus_sinensis.homolog\u3001Citrus_sinensis.cds\u3001Citrus_sinensis.pep\uff1bCitrus_grandis.homolog\u3001Citrus_grandis.cds\u3001Citrus_grandis.pep\uff1bArabidopsis_thaliana.homolog\u3001Arabidopsis_thaliana.cds\u3001Arabidopsis_thaliana.pep\uff1bMalus_domestica.homolog\u3001Malus_domestica.cds\u3001Malus_domestica.pep\uff1b \uff083\uff09\u4f7f\u7528ParaAT\u7a0b\u5e8f\u5c06\u86cb\u767d\u5e8f\u5217\u6bd4\u5bf9\u7ed3\u679c\u8f6c\u5316\u4e3acds\u5e8f\u5217\u6bd4\u5bf9\u7ed3\u679c \u65b0\u5efaproc\u6587\u4ef6, \u8bbe\u5b9a12\u4e2a\u7ebf\u7a0b echo \"12\" >proc -m\u53c2\u6570\u6307\u5b9a\u591a\u5e8f\u5217\u6bd4\u5bf9\u7a0b\u5e8f\u4e3aclustalw2 (\u53ef\u4ee5\u662f\u5176\u4e2d\u4efb\u4e00\u4e2a clustalw2 | t_coffee | mafft | muscle)\uff0c-p\u53c2\u6570\u6307\u5b9a\u591a\u7ebf\u7a0b\u6587\u4ef6\uff0c-f\u53c2\u6570\u6307\u5b9a\u8f93\u51fa\u6587\u4ef6\u683c\u5f0f\u4e3aaxt ParaAT.pl -h Citrus_sinensis.homolog -n Citrus_sinensis.cds -a Citrus_sinensis.pep -m clustalw2 -p proc -f axt -o Citrus_sinensis_out 2> ParaAT.log file.homolog\u3001file.cds\u3001file.pep\u4e09\u4e2a\u6587\u4ef6\u7684\u57fa\u56e0ID\u9700\u4fdd\u6301\u4e00\u81f4\uff0c\u4e14file.cds\u53cafile.pep\u4e3afasta\u683c\u5f0f \u5f53\u6709\u4e24\u4e2a\u7269\u79cd\u65f6\uff0c homolog\uff0ccds,pep \u8fd9\u4e09\u4e2a\u6587\u4ef6\uff0c\u90fd\u662f2\u4e2a\u7269\u79cd\u7684\u3002\u4f7f\u7528 cat Citrus_sinensis.homolog Arabidopsis_thaliana.homolog >file.homology \u5408\u5e76\u6210\u4e3a\u4e00\u4e2a\u3002 \u5f53\u4e00\u4e2a\u7269\u79cd\u5185\u90e8\u8ba1\u7b97\u65f6\uff0c\u5c31\u4f7f\u7528\u8fd9\u4e00\u4e2a\u7269\u79cd\u7684\u5373\u53ef\u3002 (4\uff09\u4f7f\u7528KaKs_Calculator\u8ba1\u7b97ka\u3001ks\u503c, -m\u53c2\u6570\u6307\u5b9akaks\u503c\u7684\u8ba1\u7b97\u65b9\u6cd5\u4e3aYN\u6a21\u578b for i in `ls *.axt`;do KaKs_Calculator -i $i -o ${i}.kaks -m YN;done # \u5c06\u591a\u884caxt\u6587\u4ef6\u8f6c\u6362\u6210\u5355\u884c for i in `ls *.axt`;do axt2one-line.py $i ${i}.one-line;done #\uff085\uff09\u4f7f\u7528calculate_4DTV_correction.pl\u811a\u672c\u8ba1\u7b974dtv\u503c ls *.axt.one-line|while read id;do calculate_4DTV_correction.pl $id >${id%%one-line}4dtv;done #\uff086\uff09\u5408\u5e76\u6240\u6709\u540c\u6e90\u57fa\u56e0\u5bf9\u76844dtv for i in `ls *.4dtv`;do awk 'NR>1{print $1\"\\t\"$3}' $i >>all-4dtv.txt;done #\uff087\uff09\u5408\u5e76\u6240\u6709\u540c\u6e90\u57fa\u56e0\u5bf9\u7684kaks\u503c for i in `ls *.kaks`;do awk 'NR>1{print $1\"\\t\"$3\"\\t\"$4\"\\t\"$5}' $i >>all-kaks.txt;done #\uff088\uff09\u7ed9\u7ed3\u679c\u6587\u4ef6\u8fdb\u884c\u6392\u5e8f\u548c\u53bb\u5197\u4f59 sort all-4dtv.txt|uniq >all-4dtv.results sort all-kaks.txt|uniq >all-kaks.results #\uff089\uff09\u5c06kaks\u7ed3\u679c\u548c4Dtv\u7ed3\u679c\u5408\u5e76 join -1 1 -2 1 all-kaks.results all-4dtv.results >all-results.txt #\uff0810\uff09\u7ed9\u7ed3\u679c\u6587\u4ef6\u6dfb\u52a0\u6807\u9898 sed -i '1i\\Seq\\tKa\\tKs\\tKa/Ks\\t4dtv_corrected' all-results.txt \u56db\u3001\u53ef\u89c6\u5316\u4f5c\u56fe 1\u3001\u6570\u636e\u51c6\u5907 Arabidopsis_thaliana-4dtv.txt\u3001Citrus_grandis-4dtv.txt\u3001Citrus_sinensis-4dtv.txt\u3001Malus_domestic-4dtv.txt 2\u3001\u6570\u636e\u5904\u7406 cat citrus_sinensisl-4dtv.txt | awk '{print \"C.sinensis\"\"\\t\"$2}' > C.sinensis-4dtv.txt \u5408\u5e76A.thaliana-4dtv.txt\u3001C.grandis-4dtv.txt\u3001C.sinensis-4dtv.txt\u3001M.domestic-4dtv.txt\u6587\u4ef6 cat A.thaliana-4dtv.txt C.grandis-4dtv.txt C.sinensis-4dtv.txt M.domestic-4dtv.txt > 4species-4dtv.txt","title":"\u4e0b\u8f7dMCScanX,\u4e0b\u8f7d\u5730\u5740"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/Ka-Ks%E5%92%8C4DTv%E8%AE%A1%E7%AE%97%E5%8F%AF%E8%A7%86%E5%8C%96/#4species-4dtvtxt","text":"sed -i '1i\\Species\\tValue' 4species-4dtv.txt 3\u3001RStudio\u4f5c\u56fe setwd(\"C:/Users/***/Desktop/4Dtv/\") ### \u8bfb\u51654species-4dtv.txt\u6587\u4ef6 dtv <- read.table(\"4species-4dtv.txt\", header = T, check.names =F, sep = \"\\t\") ### \u8f7d\u5165R\u5305 library(ggplot2) library(hrbrthemes) library(dplyr) library(tidyr) library(viridis) ### \u7ed8\u56fe p <- ggplot(data=dtv, aes(x=Value, group=Species, fill=Species)) + geom_density(adjust=1.5, alpha=.4) + theme_ipsum() + labs(title = \"Distribution of 4Dtv distances\", x = \"4Dtv Value\", y= \"Density\", size = 1.5) \u4e0a\u8ff0\u811a\u672c\u5df2\u7ecf\u6253\u5305\u6210\u6d41\u7a0b KK4D \u3002\u76ee\u524d\u53ef\u89c6\u5316\u6a21\u5757\u8fd8\u6ca1\u6709\u5b9e\u73b0\uff0c\u5171\u7ebf\u6027\u4f7f\u7528\u7684\u662fjcvi,\u540e\u671f\u53ef\u80fd\u4f1a\u589e\u52a0MCScanX\u7684\u5b9e\u73b0\u3002\u5176\u5b9e\u81ea\u5df1\u628aMCScanX\u7684\u5171\u7ebf\u6027\u7ed3\u679c\u683c\u5f0f\u5316\u540e\uff0c\u91cd\u547d\u540d\u4e3a\u6807\u51c6\u683c\u5f0f\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528KK4D\u8fdb\u884c\u540e\u7eed\u5206\u6790\u3002","title":"\u7ed94species-4dtv.txt \u6587\u4ef6\u6dfb\u52a0\u6807\u9898"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/KaKs_calculator%E8%AE%A1%E7%AE%97Ka-Ks/","text":"\u5b89\u88c5kakscalculator2 kakscalculator2\u4e0b\u8f7d\u5730\u5740 \u89e3\u538b\u540e chmod 757 ./KaKs_Calculator2.0/src/AXTConvertor chmod 757 ./KaKs_Calculator2.0/bin/Linux/KaKs_Calculator \u6dfb\u52a0\u73af\u5883\u53d8\u91cf echo 'export PATH=/share/software/KaKs_Calculator2.0/bin/Linux:$PATH' >>~/.bashrc echo 'export PATH=/share/software/KaKs_Calculator2.0/src:$PATH' >>~/.bashrc source ~/.bashrc \u5b89\u88c5\u5e8f\u5217\u6bd4\u5bf9\u8f6f\u4ef6mafft \u4e0b\u8f7d\u5730\u5740 wget https://mafft.cbrc.jp/alignment/software/mafft-7.471-with-extensions-src.tgz tar -zxvf mafft-7.471-with-extensions-src.tgz cd mafft-7.471-with-extensions cd core vim Makefile #\u624b\u52a8\u4fee\u6539prefix\u548cbindir \u6211\u7684\u662f\u4fee\u6539\u4e3a\u4e0b\u9762\u7684\u8def\u5f84 PREFIX = /share/softwares/mafft BINDIR = /share/softwares/mafft/bin make clean make make install echo `export PATH=/share/softwares/mafft/bin:$PATH` >>~/.bashrc source ~/.bashrc mafft\u5b98\u7f51 mafft\u4f7f\u7528 \u4e0b\u8f7d\u5b89\u88c5ParaAT https://bigd.big.ac.cn/tools/paraat ParaAT\u662f\u6574\u5408\u5de5\u5177\uff0c\u53ef\u4ee5\u8c03\u7528\u6bd4\u5bf9\u5de5\u5177\u548cKaKs\u3002 \u51c6\u5907\u8f93\u5165\u6587\u4ef6 test.cds #\u6bcf\u4e2a\u57fa\u56e0\u6700\u957f\u7684\u8f6c\u5f55\u672c\u7684DNA\u5e8f\u5217 test.pep #\u6bcf\u4e2a\u57fa\u56e0\u6700\u957f\u7684\u86cb\u767d\u5e8f\u5217 cds\u548cpep\u7684\u83b7\u53d6\u65b9\u5f0f\uff0c\u53ef\u4ee5\u4f7f\u7528jcvi\u7684\u5de5\u5177\u5305 \u53c2\u8003 proc \u6570\u5b57\uff08\u5c0f\u4e8eCPU\u5b9e\u9645\u6570\u91cf\u7684\u6570\u5b57\uff09 \u751f\u6210 test.homolog \u662f\u5171\u7ebf\u6027\u5206\u6790\u7684\u57fa\u56e0\u5bf9 \u53c2\u8003 #\u6784\u5efa\u6570\u636e\u5e93 makeblastdb -in test.pep -dbtype prot -parse_seqids -out test_sinensis blastp -query test.pep -out test_sinensis.blast -db test_sinensis -outfmt 6 -evalue 1e-10 -num_threads 8 -qcov_hsp_perc 50.0 -num_alignments 5 2> blastp.log & #MCScanX \u9700\u89812\u4e2a\u8f93\u5165\u6587\u4ef6test_sinensis.gff\u548ctest_sinensis.blast MCScanX test_sinensis -g -3 -e 1e-10 #MCScanX\u8f93\u51fa\u7684`test_sinensis.collinearity`\u5373\u662f\u5171\u7ebf\u6027\u57fa\u56e0\u5bf9 cat test_sinensis.collinearity|grep -v \"^#\"|cut -f 2,3 >test.homolog \u5f00\u59cb\u5206\u6790 ParaAT.pl -h test.homolog -n test.cds -a test.pep -p proc -m mafft -f axt -g -k -o result_dir #\u67e5\u770bKaKs\u7684\u8be6\u60c5 cat result_dir/*.kaks | cut -f 1,3,4,5 | grep -v 'Sequence' |less -S #\u628aKaKs\u8f93\u51fa\u5230\u6587\u4ef6KaKs.txt cat result_dir/*.axt.kaks | cut -f 1,3,4,5 | grep -v 'Sequence' >test.KaKs.txt cat test.KaKs.txt| tr \"\\t\" \",\" |sed '1i Sequence,Ka,Ks,Ka/Ks' >test.KaKs.csv ParaAT.pl\u53c2\u6570\u8bb2\u89e3\uff1a -h, \u540c\u6e90\u57fa\u56e0\u540d\u79f0\u6587\u4ef6 -n, \u6307\u5b9a\u6838\u9178\u5e8f\u5217\u6587\u4ef6 -a, \u6307\u5b9a\u86cb\u767d\u5e8f\u5217\u6587\u4ef6 -p, \u6307\u5b9a\u591a\u7ebf\u7a0b\u6587\u4ef6 \u6570\u5b57 -m, \u6307\u5b9a\u6bd4\u5bf9\u5de5\u5177(clustalw2 | t_coffee | mafft | muscle)\uff0c\u591a\u9009\u4e00 -g, \u53bb\u9664\u6bd4\u5bf9\u6709gap\u7684\u5bc6\u7801\u5b50 -k, \u7528KaKs_Calculator \u8ba1\u7b97kaks\u503c -o, \u8f93\u51fa\u7ed3\u679c\u7684\u76ee\u5f55 -f, \u8f93\u51fa\u6bd4\u5bf9\u6587\u4ef6\u7684\u683c\u5f0f *** \u4e5f\u53ef\u901a\u8fc7-f\u53c2\u6570\u5f97\u5230\u5176\u4ed6\u8f6f\u4ef6\u5206\u6790ka/ks\u6240\u9700\u7684\u683c\u5f0f \u53ef\u89c6\u5316\uff08\u7bb1\u7ebf\u56fe\u548c\u5c0f\u63d0\u7434\u56fe\uff09 setwd(\"e:/****/GeneDuplication\") library(\"ggplot2\") data_kaks <- read.csv(\"test.KaKs.csv\") data_kaks$Item <- \"normal\" #\u5982\u679c\u6709\u591a\u7ec4\uff0c\u53ef\u4ee5\u5728\u6b64\u5217\u8bbe\u7f6e\u5206\u7ec4\u4fe1\u606f ggplot(data=data_kaks, aes(x=Item, y=Ka.Ks, fill=Item)) + geom_violin(alpha=0.8,width=1)+ guides(fill=F)+xlab(' ')+ylab('Ka/Ks')+ geom_boxplot(alpha=0.5,varwidth = TRUE)+ labs(title = \"Distribution of Ka/Ks distances\", size = 1.5) ggsave('distribute of KaKs.pdf',dpi=300) ggplot(data=data_kaks, aes(x=Ka,group=Item)) + geom_density(alpha=0.4,aes(color = Item))+ xlab('Ka value')+ylab('Density')+ labs(title = \"Distribution of Ka distances\", size = 1.5)+guides() ggsave('Distribution of Ka',dpi=300) head(data_kaks) #Sequence Ka Ks Ka.Ks Item #1 Sl01G000030-Sl15G011500 0.0721061 0.0846677 0.851637 normal #2 Sl01G000130-Sl15G011440 0.0162336 0.1356720 0.119654 normal #3 Sl01G000170-Sl15G011380 0.0224351 0.1382140 0.162322 normal #4 Sl01G000200-Sl15G011320 0.1947300 0.2629070 0.740682 normal #5 Sl01G000330-Sl15G011250 0.0268044 0.1196890 0.223950 normal #6 Sl01G000440-Sl15G011120 0.3277060 0.7499520 0.436969 normal","title":"KaKs calculator\u8ba1\u7b97Ka Ks"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/KaKs_calculator%E8%AE%A1%E7%AE%97Ka-Ks/#kakscalculator2","text":"kakscalculator2\u4e0b\u8f7d\u5730\u5740 \u89e3\u538b\u540e chmod 757 ./KaKs_Calculator2.0/src/AXTConvertor chmod 757 ./KaKs_Calculator2.0/bin/Linux/KaKs_Calculator \u6dfb\u52a0\u73af\u5883\u53d8\u91cf echo 'export PATH=/share/software/KaKs_Calculator2.0/bin/Linux:$PATH' >>~/.bashrc echo 'export PATH=/share/software/KaKs_Calculator2.0/src:$PATH' >>~/.bashrc source ~/.bashrc","title":"\u5b89\u88c5kakscalculator2"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/KaKs_calculator%E8%AE%A1%E7%AE%97Ka-Ks/#mafft","text":"wget https://mafft.cbrc.jp/alignment/software/mafft-7.471-with-extensions-src.tgz tar -zxvf mafft-7.471-with-extensions-src.tgz cd mafft-7.471-with-extensions cd core vim Makefile #\u624b\u52a8\u4fee\u6539prefix\u548cbindir \u6211\u7684\u662f\u4fee\u6539\u4e3a\u4e0b\u9762\u7684\u8def\u5f84 PREFIX = /share/softwares/mafft BINDIR = /share/softwares/mafft/bin make clean make make install echo `export PATH=/share/softwares/mafft/bin:$PATH` >>~/.bashrc source ~/.bashrc mafft\u5b98\u7f51 mafft\u4f7f\u7528","title":"\u5b89\u88c5\u5e8f\u5217\u6bd4\u5bf9\u8f6f\u4ef6mafft \u4e0b\u8f7d\u5730\u5740"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/KaKs_calculator%E8%AE%A1%E7%AE%97Ka-Ks/#paraat-httpsbigdbigaccntoolsparaat","text":"ParaAT\u662f\u6574\u5408\u5de5\u5177\uff0c\u53ef\u4ee5\u8c03\u7528\u6bd4\u5bf9\u5de5\u5177\u548cKaKs\u3002","title":"\u4e0b\u8f7d\u5b89\u88c5ParaAT https://bigd.big.ac.cn/tools/paraat"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/KaKs_calculator%E8%AE%A1%E7%AE%97Ka-Ks/#_1","text":"test.cds #\u6bcf\u4e2a\u57fa\u56e0\u6700\u957f\u7684\u8f6c\u5f55\u672c\u7684DNA\u5e8f\u5217 test.pep #\u6bcf\u4e2a\u57fa\u56e0\u6700\u957f\u7684\u86cb\u767d\u5e8f\u5217 cds\u548cpep\u7684\u83b7\u53d6\u65b9\u5f0f\uff0c\u53ef\u4ee5\u4f7f\u7528jcvi\u7684\u5de5\u5177\u5305 \u53c2\u8003 proc \u6570\u5b57\uff08\u5c0f\u4e8eCPU\u5b9e\u9645\u6570\u91cf\u7684\u6570\u5b57\uff09","title":"\u51c6\u5907\u8f93\u5165\u6587\u4ef6"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/KaKs_calculator%E8%AE%A1%E7%AE%97Ka-Ks/#testhomolog","text":"#\u6784\u5efa\u6570\u636e\u5e93 makeblastdb -in test.pep -dbtype prot -parse_seqids -out test_sinensis blastp -query test.pep -out test_sinensis.blast -db test_sinensis -outfmt 6 -evalue 1e-10 -num_threads 8 -qcov_hsp_perc 50.0 -num_alignments 5 2> blastp.log & #MCScanX \u9700\u89812\u4e2a\u8f93\u5165\u6587\u4ef6test_sinensis.gff\u548ctest_sinensis.blast MCScanX test_sinensis -g -3 -e 1e-10 #MCScanX\u8f93\u51fa\u7684`test_sinensis.collinearity`\u5373\u662f\u5171\u7ebf\u6027\u57fa\u56e0\u5bf9 cat test_sinensis.collinearity|grep -v \"^#\"|cut -f 2,3 >test.homolog","title":"\u751f\u6210 test.homolog\u662f\u5171\u7ebf\u6027\u5206\u6790\u7684\u57fa\u56e0\u5bf9 \u53c2\u8003"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/KaKs_calculator%E8%AE%A1%E7%AE%97Ka-Ks/#_2","text":"ParaAT.pl -h test.homolog -n test.cds -a test.pep -p proc -m mafft -f axt -g -k -o result_dir #\u67e5\u770bKaKs\u7684\u8be6\u60c5 cat result_dir/*.kaks | cut -f 1,3,4,5 | grep -v 'Sequence' |less -S #\u628aKaKs\u8f93\u51fa\u5230\u6587\u4ef6KaKs.txt cat result_dir/*.axt.kaks | cut -f 1,3,4,5 | grep -v 'Sequence' >test.KaKs.txt cat test.KaKs.txt| tr \"\\t\" \",\" |sed '1i Sequence,Ka,Ks,Ka/Ks' >test.KaKs.csv ParaAT.pl\u53c2\u6570\u8bb2\u89e3\uff1a -h, \u540c\u6e90\u57fa\u56e0\u540d\u79f0\u6587\u4ef6 -n, \u6307\u5b9a\u6838\u9178\u5e8f\u5217\u6587\u4ef6 -a, \u6307\u5b9a\u86cb\u767d\u5e8f\u5217\u6587\u4ef6 -p, \u6307\u5b9a\u591a\u7ebf\u7a0b\u6587\u4ef6 \u6570\u5b57 -m, \u6307\u5b9a\u6bd4\u5bf9\u5de5\u5177(clustalw2 | t_coffee | mafft | muscle)\uff0c\u591a\u9009\u4e00 -g, \u53bb\u9664\u6bd4\u5bf9\u6709gap\u7684\u5bc6\u7801\u5b50 -k, \u7528KaKs_Calculator \u8ba1\u7b97kaks\u503c -o, \u8f93\u51fa\u7ed3\u679c\u7684\u76ee\u5f55 -f, \u8f93\u51fa\u6bd4\u5bf9\u6587\u4ef6\u7684\u683c\u5f0f *** \u4e5f\u53ef\u901a\u8fc7-f\u53c2\u6570\u5f97\u5230\u5176\u4ed6\u8f6f\u4ef6\u5206\u6790ka/ks\u6240\u9700\u7684\u683c\u5f0f","title":"\u5f00\u59cb\u5206\u6790"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/KaKs_calculator%E8%AE%A1%E7%AE%97Ka-Ks/#_3","text":"setwd(\"e:/****/GeneDuplication\") library(\"ggplot2\") data_kaks <- read.csv(\"test.KaKs.csv\") data_kaks$Item <- \"normal\" #\u5982\u679c\u6709\u591a\u7ec4\uff0c\u53ef\u4ee5\u5728\u6b64\u5217\u8bbe\u7f6e\u5206\u7ec4\u4fe1\u606f ggplot(data=data_kaks, aes(x=Item, y=Ka.Ks, fill=Item)) + geom_violin(alpha=0.8,width=1)+ guides(fill=F)+xlab(' ')+ylab('Ka/Ks')+ geom_boxplot(alpha=0.5,varwidth = TRUE)+ labs(title = \"Distribution of Ka/Ks distances\", size = 1.5) ggsave('distribute of KaKs.pdf',dpi=300) ggplot(data=data_kaks, aes(x=Ka,group=Item)) + geom_density(alpha=0.4,aes(color = Item))+ xlab('Ka value')+ylab('Density')+ labs(title = \"Distribution of Ka distances\", size = 1.5)+guides() ggsave('Distribution of Ka',dpi=300) head(data_kaks) #Sequence Ka Ks Ka.Ks Item #1 Sl01G000030-Sl15G011500 0.0721061 0.0846677 0.851637 normal #2 Sl01G000130-Sl15G011440 0.0162336 0.1356720 0.119654 normal #3 Sl01G000170-Sl15G011380 0.0224351 0.1382140 0.162322 normal #4 Sl01G000200-Sl15G011320 0.1947300 0.2629070 0.740682 normal #5 Sl01G000330-Sl15G011250 0.0268044 0.1196890 0.223950 normal #6 Sl01G000440-Sl15G011120 0.3277060 0.7499520 0.436969 normal","title":"\u53ef\u89c6\u5316\uff08\u7bb1\u7ebf\u56fe\u548c\u5c0f\u63d0\u7434\u56fe\uff09"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/LTR-RTs%E7%9A%84%E9%89%B4%E5%AE%9A%2CLAI%E5%80%BC%E7%9A%84%E8%AE%A1%E7%AE%97/","text":"LAI\u662f\u4e00\u79cd\u65b0\u7684\u8bc4\u4f30\u57fa\u56e0\u7ec4\u7ec4\u88c5\u8d28\u91cf\u7684\u8bc4\u4ef7\u6807\u51c6\u3002 LTR\u8bb2\u89e3 \u90e8\u5206\u8f6c\u8f7d\u81eahttps://www.jianshu.com/p/f962d5c40fdf LTR_retriever github LTR_retreiver \u662f\u4e00\u4e2a\u6574\u5408\u5de5\u5177\uff0c\u6574\u5408\u5176\u4ed6\u7684LTR\u9274\u5b9a\u5de5\u5177\u7684\u7ed3\u679c\uff0c\u5e76\u4e14\u7ed9\u51faLAI\u503c\u3002 LTR-RTs \u957f\u672b\u7aef\u91cd\u590d\u53cd\u8f6c\u5f55\u8f6c\u5ea7\u5b50\u7684\u9274\u5b9a \u76ee\u524d\u63a8\u8350\u7684\u662f LTR_Finder \u548c LTR_harvest \u7ec4\u5408\u9274\u5b9a\uff0c\u4e4b\u540e\u4f7f\u7528 LTR_retreiver \u6574\u5408\u4e24\u8005\u7684\u7ed3\u679c\u3002 \u5b89\u88c5\u8f6f\u4ef6LTR_Finder Install LTR_Finder git clone https://github.com/xzhub/LTR_Finder.git cd LTR_Finder/source/ make 2021/09/19\u66f4\u65b0 \u4e0d\u8981\u518d\u4f7f\u7528LTR_finder\u4e86\uff0coushujun\u6700\u65b0\u4f18\u5316\u51fa\u4e86\u652f\u6301\u591a\u8fdb\u7a0b\u7248\u7684 LTR_FINDER_parallel .\u7528\u6765\u66ff\u4ee3LTR_finder\u3002 \u76f4\u63a5\u4ecegithub\u4e0b\u8f7d\u5373\u53ef\u4f7f\u7528 wget -c https://github.com/oushujun/LTR_FINDER_parallel/archive/refs/tags/v1.1.tar.gz tar -zxvf v1.1.tar.gz cd LTR_FINDER_parallel-1.1 perl LTR_FINDER_parallel LTR_FINDER_parallel\u4f7f\u7528\u65b9\u6cd5\uff1a perl LTR_FINDER_parallel -seq ${genome} -threads 36 -harvest_out #\u8f93\u51fa\u662f${genome}.finder.combine.scn genomefile=\"`basename ${genome}`\" mv ${genomefile}.finder.combine.scn ${species}.finder.scn \u5f53\u4f7f\u7528conda\u65f6\u5019\uff0c\u53ef\u80fdconda\u91cc\u548c\u5916\u9762\u7684perl\u7248\u672c\u4e0d\u4e00\u81f4\uff0c\u6240\u4ee5\u8c03\u7528\u7684\u65f6\u5019\u5c3d\u91cf\u4f7f\u7528\u7edd\u5bf9\u8def\u5f84\u8c03\u7528perl\u6267\u884c\u8fd9\u4e2a\u811a\u672c\u3002 \u53ef\u80fd\u4f1a\u62a5\u9519ListUtil.c: loadable library and perl binaries are mismatched (got handshake key 0xdb00080, needed 0xdb80080 \uff0c\u89e3\u51b3\u529e\u6cd5\u662f\u4f7f\u7528\u4f60\u7684perl\u7684\u5b8c\u6574\u8def\u5f84\u548cLTR_FINDER_parallel\u811a\u672c\u6240\u5728\u7684\u7edd\u5bf9\u8def\u5f84! Install LTR_harvest axel -n 16 http://genometools.org/pub/genometools-1.6.1.tar.gz tar -zxvf genometools-1.6.1.tar.gz cd genometools-1.6.1 make -j8 install prefix=/share/home/software/genometools/ cairo=no pathadd /share/home/software/genometools/ source ~/.bashrc Install LTR_retriever git clone https://github.com/oushujun/LTR_retriever.git \u6216\u8005\u4f7f\u7528conda\u5b89\u88c5LTR_retriever conda create -n LTR_retriever conda activate LTR_retriever conda install -c conda-forge perl perl-text-soundex conda install -c bioconda cd-hit repeatmasker git clone https://github.com/oushujun/LTR_retriever.git ./LTR_retriever/LTR_retriever -h \u5f00\u59cb\u5206\u6790 \u8f93\u5165\u6587\u4ef6 \u57fa\u56e0\u7ec4\u6587\u4ef6 genome.fa \u8f93\u51fa\u6587\u4ef6 species.finder.scn \u548cspecies.harvest.scn \u8fd0\u884c\u811a\u672c LTR.find.sh \u5185\u5bb9\u5982\u4e0b #species=\"Pco\" #genome=\"/share/home/database/Pco/Pco.genome.fa\" if [ $# -eq 0 ] || [ $# -eq 1 ];then echo \"Usage: bash LTR.find.sh Pco /share/home/database/Pco/Pco.genome.fa \" exit 1 fi species=$1 genome=$2 #LTRharvest gt suffixerator \\ -db ${genome} \\ -indexname ${species} \\ -tis -suf -lcp -des -ssp -sds -dna gt ltrharvest \\ -index ${species} \\ -similar 90 -vic 10 -seed 20 -seqids yes \\ -minlenltr 100 -maxlenltr 7000 -mintsd 4 -maxtsd 6 \\ -motif TGCA -motifmis 1 > ${species}.harvest.scn # LTR_FINDER ltr_finder -D 15000 -L 7000 -C -M 0.9 ${genome} > ${species}.finder.scn # LTR_retriever \u5408\u5e76\u524d\u4e24\u6b21\u7684\u5206\u6790 LTR_retriever -genome $genome -inharvest ${species}.harvest.scn -infinder ${species}.finder.scn -threads 16 -u 7e10-9 \u8fd0\u884c\u65b9\u6cd5\uff1abash LTR.find.sh \u7269\u79cd\u540d \u7269\u79cd\u7684\u53c2\u8003\u57fa\u56e0\u7ec4\u6587\u4ef6 \u4f8b\u5982\uff1a bash LTR.find.sh TAIR /home/genome/TAIR10.fa \u7269\u79cd\u540d\u53ef\u4ee5\u662f\u7f29\u5199\uff0c\u4e3b\u8981\u7528\u4e8e\u8f93\u51fa\u6587\u4ef6\u7684\u524d\u7f00\u3002 \u7a0b\u5e8f\u8fd0\u884c\u6bd4\u8f83\u6162\uff0c\u4e3b\u8981\u662f ltr_finder \u975e\u5e38\u6162\uff0c\u6ca1\u6709\u627e\u5230\u591a\u7ebf\u7a0b\u7684\u65b9\u6cd5\u3002 LTR_retriever \u6700\u540e\u4e00\u884c\u7684\u8fdb\u7a0b\u6570\uff0c\u53ef\u4ee5\u6839\u636e\u670d\u52a1\u5668\u6027\u80fd\u81ea\u884c\u4fee\u6539\u3002 -u \u53c2\u6570\u662f\u6307\u5b9a\u4f60\u7684\u7269\u79cd\u7684\u8fdb\u5316\u901f\u7387\uff0c\u9ed8\u8ba4\u7684\u662f\u6c34\u7a3b\u7684\u8fdb\u5316\u901f\u7387 1.3e-8 \uff0c\u6b64\u5904\u6539\u4e3a\u62df\u5357\u82a5\u7684 7e-9 . \u5982\u679c\u4f60\u8fd0\u884c\u7684\u65f6\u5019\u6ca1\u6709\u52a0\u53c2\u6570 -u \uff0c\u53ef\u4ee5\u6839\u636e\u8ba1\u7b97\u516c\u5f0f T = (1 - identity) / 2\u00b5 ,\u6b64\u5904\u7684 \u03bc \u5c31\u662f\u8f93\u5165\u7684\u53c2\u6570 u \u7684\u503c\uff0c\u6765\u53cd\u63a8\u6b63\u786e\u7684\u63d2\u5165\u65f6\u95f4\u3002\u6216\u8005\u662f\u4f7f\u7528\u7ed3\u679c\u6587\u4ef6 *.pass.list.gff3 \u91cc\u7684 ltr_identity \u6839\u636e\u516c\u5f0f\u8ba1\u7b97\uff0cidentify\u5b9e\u9645\u662f\u767e\u5206\u6bd4\uff0c\u516c\u5f0f\u91cc\u7684 1 \u4ee3\u8868100%\u3002 \u624b\u52a8\u8ba1\u7b97LTR\u63d2\u5165\u65f6\u95f4\uff0c\u4f7f\u7528\u4e0b\u9762\u7684\u4ee3\u7801\uff0c\u53ea\u7528\u4fee\u6539 genome.fa.pass.list.gff3 \u4e3a\u4f60\u5b9e\u9645\u8f93\u51fa\u7684\u6587\u4ef6\u540d\u5373\u53ef cat genome.fa.pass.list.gff3|awk '$3==\"repeat_region\"{split($9,a,\";\");print $1\",\"a[3]\",\"a[5]}'|sed 's/Classification\\=LTR\\///g;s/ltr_identity\\=//g'|awk -F ',' '{print $1\",\"$2\",\"(1-$3)/((7e-9)*2)}' >LTRtime.csv \u6ce8\u610f\uff1a LTR_retriever \u8981\u6c42\u8f93\u5165\u7684\u57fa\u56e0\u7ec4\u6587\u4ef6\u7684 chr \u7684\u5b57\u7b26\u4e32\u957f\u5ea6\u4e0d\u8d85\u8fc715\uff0c\u5982\u679c\u5305\u542bscaffold\uff0c\u8bf7\u4fee\u6539\u4e3a15\u5b57\u4ee5\u5185\uff0c\u6216\u8005\u662f\u53ef\u4ee5\u820d\u53bbscffold,\u53ea\u7559\u4e0bchr\u3002 \u8f93\u51fa\u7ed3\u679c\u8bb2\u89e3 \u6700\u7ec8\u4f1a\u8f93\u51fa\u4e00\u4e2a genome.fa.out.LAI \u4f9d\u636e\u4f60\u8f93\u5165\u7684genome\u51b3\u5b9a\uff0c\u4f8b\u5982\uff1aTaIR10.fa \u8f93\u51fa\u7ed3\u679c\u5c31\u662fTaIR10.fa.out.LAI . cat TaIR10.fa.out.LAI |head Chr From To Intact Total raw_LAI LAI whole_genome 1 523245110 0.0967 0.4732 20.43 18.32 Chr01 1 3000000 0.1917 0.7771 24.67 21.56 Chr01 300001 3300000 0.1973 0.7971 24.76 21.65 Chr01 600001 3600000 0.1976 0.8249 23.96 20.85 Chr01 900001 3900000 0.2032 0.8621 23.57 20.46 Chr01 1200001 4200000 0.1981 0.8769 22.59 19.48 \u7b2c7\u5217\u662f\u6bcf\u4e2a\u4f4d\u7f6e\u7684LAI\u7684\u503c\uff0c\u7b2c2\u884c\u6700\u540e\u4e00\u4e2a\u5c31\u662f\u6574\u4e2a\u57fa\u56e0\u7ec4\u7684LAI\u503c\u3002\u8fd9\u4e2a\u57fa\u56e0\u7ec4\u662f18.32\u53ef\u4ee5\u770b\u51fa\u8d28\u91cf\u4e0d\u9519\u30020.0967\u4ee3\u8868\u5b8c\u6574LTR-RT\u5728\u57fa\u56e0\u7ec4\u4e2d\u5360\u6bd49.67% \uff0c 0.4732\u4ee3\u8868LTR\u5728\u57fa\u56e0\u7ec4\u4e2d\u6bd4\u4f8b\u4e3a47.32%. LAI\u7684\u4f5c\u8005\u4e5f\u7ed9\u51fa\u8bc4\u4ef7\u6807\u51c6\uff1a |LAI|category| |----|----| |0<LAI<10|draft| |10=<LAI<20|reference| |LAI>=20|Gold| LTR_retriever \u6700\u540e\u8fc7\u6ee4\u540e\u7684LTR_RTs\u6587\u4ef6\u662f genome.fa.pass.list \u3002\u8fd9\u91cc\u9762\u662f\u8fc7\u6ee4\u91cd\u590d\u540e\u901a\u8fc7\u7684LTR_RTs.\u53ef\u4ee5\u770b\u51fa\u91cc\u9762\u5206\u4e3aCopia\u548cGypsy\uff0c\u8fd8\u6709unknown\u3002 \u591a\u500d\u4f53\u6570\u636e\uff0c\u9700\u8981\u628a\u4e9a\u7ec4\u5206\u5f00\u8ba1\u7b97LAI,\u76ee\u524d\u5df2\u7ecf\u5b9e\u73b0\u6d41\u7a0b LTRfind \u3002 *LTRfind\u5730\u5740 * github.com/chaimol/bio_code/tree/master/pipline/LTRfind \u690d\u7269\u662f\u8fd9\u79cd\u60c5\u51b5\uff0c\u52a8\u7269\u4e5f\u53ef\u4ee5\u4f7f\u7528LTR_reviewer\u5206\u6790\uff0c\u53ea\u4e0d\u8fc7\u52a8\u7269\u4e2dLTR_RTs\u5176\u4ed6\u7684\u7c7b\u578b\u4e0d\u80fd\u88ab\u5177\u4f53\u6ce8\u91ca\u51fa\u6765\uff0c\u9700\u8981\u81ea\u884c\u4eceunknown\u7c7b\u578b\u4e2d\u9274\u5b9a\u3002 head genome.fa.pass.list #LTR_loc Category Motif TSD 5_TSD 3_TSD Internal Identity Strand SuperFamily TE_type Insertion_Time Chr01:109718..119470 pass motif:TGCA TSD:AAAAC 109713..109717 119471..119475 IN:111581..117607 0.9973 - Copia LTR 103354 Chr01:151156..160815 pass motif:TGCA TSD:ACCTT 151151..151155 160816..160820 IN:152959..159011 0.9945 ? unknown NA 214113 Chr01:259702..269481 pass motif:TGCA TSD:CGTTG 259697..259701 269482..269486 IN:261573..267609 0.9963 + Copia LTR 144256 Chr01:282588..292147 pass motif:TGCA TSD:CAATG 282583..282587 292148..292152 IN:284331..290404 0.9966 ? unknown NA 132702 Chr01:406690..416424 pass motif:TGCA TSD:AAGGG 406685..406689 416425..416429 IN:408590..414524 0.9979 + Copia LTR 81086 Chr01:434887..439473 pass motif:TGCA TSD:GGCAA 434882..434886 439474..439478 IN:435372..438989 0.9959 - Gypsy LTR 159372 \u7b2c1\u5217\u662f\u8fd9\u4e2aLTR-RTS\u7684\u533a\u95f4\uff0c\u5305\u62ec5\u2019LTR+INT+3'LTR. \u7b2c3\u5217\u662fmotif:\u4e3b\u8981\u662fTGCA,\u90fd\u662f\u56db\u4e2a\u78b1\u57fa\uff0c\u57285\u2018LTR\u548c3\u2019LTR\u5de6\u53f3\u5404\u5206\u5e03\u4e24\u4e2a\u78b1\u57fa\u3002 TG ...CA \u56fe3\u4e2d\u7ea2\u8272\u4e09\u89d2\u3002 \u7b2c4\u5217TSD:\u91cd\u590d\u5e8f\u5217\uff0c\u5206\u5e03\u57285\u2018LTR\u5de6\u4fa7\u548c3\u2019LTR\u53f3\u4fa7\u3002\u89c1\u56fe3\u4e2d\u7070\u8272\u5757\u3002 \u7b2c5\u52175\u2018TSD\u548c3\u2019TSD\u7684\u533a\u95f4\uff0c\u8fd9\u662f\u5728LTR-RTS\u533a\u95f4\u7684\u5916 \u7b2c6\u5217Internal,\u662f\u4e2d\u95f4\u7684\u533a\u95f4\u3002 \u7b2c9\u5217SuperFamily\uff0c\u690d\u7269\u4e2d\u53ea\u6709Gypsy\u548cCopia\u4e24\u79cd\u7c7b\u578b\uff0c\u548cunknown\u3002unknown\u7c7b\u578b\u7684\u53ef\u4ee5\u81ea\u884c\u63d0\u53d6\u5e8f\u5217\uff0c\u4f7f\u7528hmmer\u6bd4\u5bf9pfarm\u5bf9\u5e94\u4e24\u4e2a\u5bb6\u65cf\u7684\u86cb\u767d\uff0c\u7136\u540e\u4f7f\u7528mafft\u6bd4\u5bf9\uff0c\u6784\u5efa\u8fdb\u5316\u6811\u3002 \u7b2c10\u5217TE_type LTR\u6216NA \u7b2c11\u5217Insertion_Time,\u4f7f\u7528ggplot\u753b\u51fa\u5bc6\u5ea6\u56fe\uff0c\u56fe2\u6240\u793a\u3002 \u53ef\u89c6\u5316 cat Spohua.chr.fa.out.LAI|sed 's/Chr0/Chr/' |sed 's/Chr//' |sed '2d'|tr \"\\t\" , >species.ltr.csv \u624b\u52a8\u7ed9\u5de6\u8fb9\u7b2c\u4e00\u884c\u7b2c\u4e00\u4e2a\u6dfb\u52a0CHR\u3002\u6ce8\u610f\uff1a\u67d3\u8272\u4f53\u5982\u679c\u662fChr01\u8981\u66ff\u6362\u4e3aChr1,species.ltr.csv\u91cc\u662f1. \u7269\u79cd\u7684LTR\u7684\u5e74\u4ee3\u7684\u5bc6\u5ea6\u56fe species.LTR.Insertion_Time.csv\u662fgenome.fa.pass.list\u6700\u540e\u4e00\u5217 library(\"ggplot2\") #\u8bfb\u5165\u6587\u4ef6 dat<-read.csv(\"species.LTR.Insertion_Time.csv\",header=FALSE) #\u9664\u4ee5100\u4e07 VAF<-dat$V1 / 1000000 #\u753b\u56fe\uff08\u51fa\u56fe\u7ed3\u679c\u4e2dx\u8f74\u662f\u4ee5mya\uff08\u767e\u4e07\u5e74\uff09\u4e3a\u5355\u4f4d\u7684\u3002\uff09 ggplot(dat,aes(x=VAF))+geom_density(color = \"red\")+xlab('Mya')+ylab('Density')+ scale_x_continuous(expand = c(0, 0)) + #scale_y_continuous(expand = c(0, 0))+ #\u8bbe\u7f6e\u6a2a\u7eb5\u5750\u6807\u4ece0\u5f00\u59cb theme_classic() ggsave('Speies.LTR.density.pdf',dpi = 300) #\u6c42\u5cf0\u503c y_peak <- which.max(density(VAF)$y)#\u627ey\u503c\u6700\u5927\u7684 x_peak <- density(VAF)$x[y_peak]#\u627e\u51fa\u6700\u5927\u7684y\u6240\u5bf9\u5e94\u7684x #\u5206\u7c7b\u53ef\u89c6\u5316\uff0cLTR-RTs\u7684\u5bc6\u5ea6\u56fe #LTR.typetime.csv\u662fgenome.fa.pass.list\u6700\u540e\u4e00\u5217\u548c\u5012\u6570\u7b2c\u4e09\u5217\u3002 #\u8bfb\u5165\u6587\u4ef6 dat1<-read.csv(\"LTR.typetime.csv\",header=FALSE) #\u9884\u5904\u7406 names(dat1) <- c(\"VAF1\",\"Type\") dat1$VAF1<-dat1$VAF1 / 1000000 #\u753b\u56fe ggplot(dat1,aes(x=VAF1))+geom_density(aes(color = Type))+xlab('Mya')+ylab('Density')+ scale_x_continuous(expand = c(0, 0)) + #scale_y_continuous(expand = c(0, 0))+ #\u8bbe\u7f6e\u6a2a\u7eb5\u5750\u6807\u4ece0\u5f00\u59cb theme_classic() ggsave('SpO_LTR_type.density.pdf',dpi = 300) #species.ltr.csv\u6765\u6e90\u4e8egenome.fa.pass.list,\u5176\u4e2d\u5217BP\u518dcsv\u6587\u4ef6\u91cc\u4e0d\u5b58\u5728 #\u53ef\u89c6\u5316\u5404\u4e2a\u67d3\u8272\u4f53\u4e0a\u7684LAI\u5f97\u5206 install.packages(\"qqman\") library(\"qqman\") library(\"ggplot2\") install.packages(\"ggsci\") library(\"ggsci\") library(\"scales\") manhattan(gwasResults) head(gwasResults,50) data2 <- read.csv('species.ltr.csv') data2$BP <- (data2$From + data2$To)/2 show_col(pal_d3(\"category20\")(20)) #\u4f7f\u7528ggsci\u6765\u9009\u62e9\u989c\u8272 show_col(pal_igv(\"default\")(51)) #51\u79cd\u989c\u8272\u7edd\u5bf9\u591f\u7528\u3002 show_col(pal_ucscgb(\"default\", alpha = 0.6)(26)) show_col(pal_gsea(\"default\", n = 30, alpha = 0.6, reverse = TRUE)(30)) ##\u6839\u636e\u4f60\u7684\u67d3\u8272\u4f53\u7684\u6570\u91cf\uff0c\u7075\u6d3b\u4fee\u6539col\u7684\u914d\u8272\u7684\u989c\u8272\u6570\u91cf\u3002 manhattan(data2,chr=\"CHR\",bp=\"BP\",p=\"LAI\",logp=F,ylab=\"LAI\",genomewideline = F,SNP= F ,suggestiveline = F,col = pal_d3(\"category20\")(17)) ggsave('LTR.manhattan.pdf',dpi=300) ggsave('LTR.manhattan.png') head(data2) # CHR From To Intact Total raw_LAI LAI BP # 1 1 1 3000000 0.1917 0.7771 24.67 21.56 1500001 # 2 1 300001 3300000 0.1973 0.7971 24.76 21.65 1800001 # 3 1 600001 3600000 0.1976 0.8249 23.96 20.85 2100001 # 4 1 900001 3900000 0.2032 0.8621 23.57 20.46 2400001 # 5 1 1200001 4200000 0.1981 0.8769 22.59 19.48 2700001 # 6 1 1500001 4500000 0.1759 0.8843 19.89 16.78 3000001 By default the mutation rate is 1.3e-8 per bp per year (rice), so the unit is calendar year. You may specify a different rate by providing -u/-miu.\u9ed8\u8ba4\u7684\u53d8\u5f02\u901f\u7387\u662f1.3E-8. \u6700\u540e\u6ce8\u610f\uff1aLTR_retriever\u9ed8\u8ba4\u5df2\u7ecf\u5b8c\u6210\u4e86LAI\u7684\u5206\u6790\u3002\u5728\u524d\u8005\u5b8c\u6210\u540e\uff0c\u4e0d\u8981\u518d\u7528LAI\u518d\u5206\u6790\uff0cLAI\u7684\u8f93\u51fa\u4f1a\u8986\u76d6\u4e4b\u524d\u7684\u8f93\u51fa\uff0c\u800c\u4e14\u7b97\u51fa\u7684LAI\u7684\u503c\u8fd8\u6bd4\u4e4b\u524d\u4f4e\u3002\u591a\u500d\u4f53\u7684\u6570\u636e\u9700\u8981\u628a\u4e9a\u7ec4\u5206\u5f00\u8ba1\u7b97\uff0c\u53ef\u4ee5\u4f7f\u7528LAI\u5355\u72ec\u8ba1\u7b97\u3002 \u4e0d\u540c\u57fa\u56e0\u7ec4\u7684\u76f8\u540c\u4e9a\u7ec4\u53ef\u4ee5\u653e\u5230\u4e00\u8d77\u6bd4\u8f83LAI. LTR-RTs\u5206\u7c7b\u7684\u8bb2\u89e3 \u56fe\u4e2d\u662fLTR-retriever\u53ef\u4ee5\u9274\u5b9a\u7684LTR-RTs\u7684\u79cd\u7c7b\u3002\u5176\u4e2dA\u7c7b\u662f\u4e3b\u8981\u7684\u3002\u690d\u7269\u4e2d\u57285\u2019LTR\u548c3\u2018LTR\u7684\u4e24\u7aef\u90fd\u6709TG\u548cCA\u7ed3\u6784\u3002motif\u4e00\u822c\u662fTGCA,\u5176\u4ed6\u7c7b\u578b\u4e5f\u80fd\u88ab\u9274\u5b9a\u51fa\u6765\u3002 \u5927\u591a\u6570\u81ea\u4e3bLTR\u5143\u4ef6\u7684\u5185\u90e8\u533a\u57df\u5e94\u5305\u542b\u5f15\u7269\u7ed3\u5408\u4f4d\u70b9\uff0c\u591a\u560c\u5464\u675f\uff0cgag\u57fa\u56e0\uff08\u5373\u7f16\u7801\u7528\u4e8e\u9006\u8f6c\u5f55\u7684\u7ed3\u6784\u86cb\u767d\uff09\u548cpol\u57fa\u56e0\uff08\u5373\u8d77\u86cb\u767d\u9176\uff0c\u9006\u8f6c\u5f55\u9176\u548c\u6574\u5408\u9176\u7684\u4f5c\u7528 LTR-retriver\u8f93\u51fa\u6587\u4ef6 1.\u5177\u6709\u5750\u6807\u548c\u7ed3\u6784\u4fe1\u606f\u7684\u5b8c\u6574LTR-RT \u6458\u8981\u8868\uff08.pass.list\uff09 GFF3\u683c\u5f0f\u8f93\u51fa\uff08.pass.list.gff3\uff09 \u5305\u542b\u6709pass\u7684\u662f\u8fc7\u6ee4\u6574\u5408\u540e\u7684\u6700\u7ec8\u7684\u7ed3\u679c 2.LTR-RT\u5e93 \u6240\u6709\u975e\u5197\u4f59LTR-RT\uff08.LTRlib.fa\uff09 #\u5df2\u7ecf\u5220\u9664\u91cd\u590d\u7684\u5e8f\u5217 \u6240\u6709\u975eTGCA LTR-RT\uff08.nmtf.LTRlib.fa\uff09 #\u6b64\u6587\u4ef6\u53ef\u80fd\u6ca1\u6709 \u6240\u6709\uff08.LTRlib.redundant.fa\uff09\u7684LTR-RT\uff08\u6709\u5197\u4f59\uff09 #\u6240\u6709\u7684LTR-TR\u5e8f\u5217 3.\u975e\u5197\u4f59\u6587\u5e93\u7684\u5168\u57fa\u56e0\u7ec4LTR-RT\u6ce8\u91ca GFF\u683c\u5f0f\u8f93\u51fa\uff08.out.gff\uff09 LTR\u7cfb\u5217\u6458\u8981\uff08.out.fam.size.list\uff09 LTR\u8d85\u5bb6\u65cf\u6458\u8981\uff08.out.superfam.size.list\uff09 \u6bcf\u4e2a\u67d3\u8272\u4f53\u4e0a\u7684LTR\u5206\u5e03\uff08.out.LTR.distribution.txt\uff09 4.LTR\u7ec4\u88c5\u7d22\u5f15\uff08.out.LAI\uff09","title":"LTR RTs\u7684\u9274\u5b9a,LAI\u503c\u7684\u8ba1\u7b97"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/LTR-RTs%E7%9A%84%E9%89%B4%E5%AE%9A%2CLAI%E5%80%BC%E7%9A%84%E8%AE%A1%E7%AE%97/#ltr_finder","text":"","title":"\u5b89\u88c5\u8f6f\u4ef6LTR_Finder"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/LTR-RTs%E7%9A%84%E9%89%B4%E5%AE%9A%2CLAI%E5%80%BC%E7%9A%84%E8%AE%A1%E7%AE%97/#install-ltr_finder","text":"git clone https://github.com/xzhub/LTR_Finder.git cd LTR_Finder/source/ make","title":"Install LTR_Finder"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/LTR-RTs%E7%9A%84%E9%89%B4%E5%AE%9A%2CLAI%E5%80%BC%E7%9A%84%E8%AE%A1%E7%AE%97/#20210919ltr_finderoushujunltr_finder_parallelltr_finder","text":"\u76f4\u63a5\u4ecegithub\u4e0b\u8f7d\u5373\u53ef\u4f7f\u7528 wget -c https://github.com/oushujun/LTR_FINDER_parallel/archive/refs/tags/v1.1.tar.gz tar -zxvf v1.1.tar.gz cd LTR_FINDER_parallel-1.1 perl LTR_FINDER_parallel LTR_FINDER_parallel\u4f7f\u7528\u65b9\u6cd5\uff1a perl LTR_FINDER_parallel -seq ${genome} -threads 36 -harvest_out #\u8f93\u51fa\u662f${genome}.finder.combine.scn genomefile=\"`basename ${genome}`\" mv ${genomefile}.finder.combine.scn ${species}.finder.scn \u5f53\u4f7f\u7528conda\u65f6\u5019\uff0c\u53ef\u80fdconda\u91cc\u548c\u5916\u9762\u7684perl\u7248\u672c\u4e0d\u4e00\u81f4\uff0c\u6240\u4ee5\u8c03\u7528\u7684\u65f6\u5019\u5c3d\u91cf\u4f7f\u7528\u7edd\u5bf9\u8def\u5f84\u8c03\u7528perl\u6267\u884c\u8fd9\u4e2a\u811a\u672c\u3002 \u53ef\u80fd\u4f1a\u62a5\u9519ListUtil.c: loadable library and perl binaries are mismatched (got handshake key 0xdb00080, needed 0xdb80080 \uff0c\u89e3\u51b3\u529e\u6cd5\u662f\u4f7f\u7528\u4f60\u7684perl\u7684\u5b8c\u6574\u8def\u5f84\u548cLTR_FINDER_parallel\u811a\u672c\u6240\u5728\u7684\u7edd\u5bf9\u8def\u5f84!","title":"2021/09/19\u66f4\u65b0\u4e0d\u8981\u518d\u4f7f\u7528LTR_finder\u4e86\uff0coushujun\u6700\u65b0\u4f18\u5316\u51fa\u4e86\u652f\u6301\u591a\u8fdb\u7a0b\u7248\u7684LTR_FINDER_parallel.\u7528\u6765\u66ff\u4ee3LTR_finder\u3002"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/LTR-RTs%E7%9A%84%E9%89%B4%E5%AE%9A%2CLAI%E5%80%BC%E7%9A%84%E8%AE%A1%E7%AE%97/#install-ltr_harvest","text":"axel -n 16 http://genometools.org/pub/genometools-1.6.1.tar.gz tar -zxvf genometools-1.6.1.tar.gz cd genometools-1.6.1 make -j8 install prefix=/share/home/software/genometools/ cairo=no pathadd /share/home/software/genometools/ source ~/.bashrc","title":"Install LTR_harvest"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/LTR-RTs%E7%9A%84%E9%89%B4%E5%AE%9A%2CLAI%E5%80%BC%E7%9A%84%E8%AE%A1%E7%AE%97/#install-ltr_retriever","text":"git clone https://github.com/oushujun/LTR_retriever.git","title":"Install LTR_retriever"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/LTR-RTs%E7%9A%84%E9%89%B4%E5%AE%9A%2CLAI%E5%80%BC%E7%9A%84%E8%AE%A1%E7%AE%97/#condaltr_retriever","text":"conda create -n LTR_retriever conda activate LTR_retriever conda install -c conda-forge perl perl-text-soundex conda install -c bioconda cd-hit repeatmasker git clone https://github.com/oushujun/LTR_retriever.git ./LTR_retriever/LTR_retriever -h","title":"\u6216\u8005\u4f7f\u7528conda\u5b89\u88c5LTR_retriever"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/LTR-RTs%E7%9A%84%E9%89%B4%E5%AE%9A%2CLAI%E5%80%BC%E7%9A%84%E8%AE%A1%E7%AE%97/#_1","text":"","title":"\u5f00\u59cb\u5206\u6790"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/LTR-RTs%E7%9A%84%E9%89%B4%E5%AE%9A%2CLAI%E5%80%BC%E7%9A%84%E8%AE%A1%E7%AE%97/#_2","text":"\u57fa\u56e0\u7ec4\u6587\u4ef6 genome.fa","title":"\u8f93\u5165\u6587\u4ef6"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/LTR-RTs%E7%9A%84%E9%89%B4%E5%AE%9A%2CLAI%E5%80%BC%E7%9A%84%E8%AE%A1%E7%AE%97/#_3","text":"species.finder.scn \u548cspecies.harvest.scn","title":"\u8f93\u51fa\u6587\u4ef6"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/LTR-RTs%E7%9A%84%E9%89%B4%E5%AE%9A%2CLAI%E5%80%BC%E7%9A%84%E8%AE%A1%E7%AE%97/#_4","text":"LTR.find.sh \u5185\u5bb9\u5982\u4e0b #species=\"Pco\" #genome=\"/share/home/database/Pco/Pco.genome.fa\" if [ $# -eq 0 ] || [ $# -eq 1 ];then echo \"Usage: bash LTR.find.sh Pco /share/home/database/Pco/Pco.genome.fa \" exit 1 fi species=$1 genome=$2 #LTRharvest gt suffixerator \\ -db ${genome} \\ -indexname ${species} \\ -tis -suf -lcp -des -ssp -sds -dna gt ltrharvest \\ -index ${species} \\ -similar 90 -vic 10 -seed 20 -seqids yes \\ -minlenltr 100 -maxlenltr 7000 -mintsd 4 -maxtsd 6 \\ -motif TGCA -motifmis 1 > ${species}.harvest.scn # LTR_FINDER ltr_finder -D 15000 -L 7000 -C -M 0.9 ${genome} > ${species}.finder.scn # LTR_retriever \u5408\u5e76\u524d\u4e24\u6b21\u7684\u5206\u6790 LTR_retriever -genome $genome -inharvest ${species}.harvest.scn -infinder ${species}.finder.scn -threads 16 -u 7e10-9 \u8fd0\u884c\u65b9\u6cd5\uff1abash LTR.find.sh \u7269\u79cd\u540d \u7269\u79cd\u7684\u53c2\u8003\u57fa\u56e0\u7ec4\u6587\u4ef6 \u4f8b\u5982\uff1a bash LTR.find.sh TAIR /home/genome/TAIR10.fa \u7269\u79cd\u540d\u53ef\u4ee5\u662f\u7f29\u5199\uff0c\u4e3b\u8981\u7528\u4e8e\u8f93\u51fa\u6587\u4ef6\u7684\u524d\u7f00\u3002 \u7a0b\u5e8f\u8fd0\u884c\u6bd4\u8f83\u6162\uff0c\u4e3b\u8981\u662f ltr_finder \u975e\u5e38\u6162\uff0c\u6ca1\u6709\u627e\u5230\u591a\u7ebf\u7a0b\u7684\u65b9\u6cd5\u3002 LTR_retriever \u6700\u540e\u4e00\u884c\u7684\u8fdb\u7a0b\u6570\uff0c\u53ef\u4ee5\u6839\u636e\u670d\u52a1\u5668\u6027\u80fd\u81ea\u884c\u4fee\u6539\u3002 -u \u53c2\u6570\u662f\u6307\u5b9a\u4f60\u7684\u7269\u79cd\u7684\u8fdb\u5316\u901f\u7387\uff0c\u9ed8\u8ba4\u7684\u662f\u6c34\u7a3b\u7684\u8fdb\u5316\u901f\u7387 1.3e-8 \uff0c\u6b64\u5904\u6539\u4e3a\u62df\u5357\u82a5\u7684 7e-9 . \u5982\u679c\u4f60\u8fd0\u884c\u7684\u65f6\u5019\u6ca1\u6709\u52a0\u53c2\u6570 -u \uff0c\u53ef\u4ee5\u6839\u636e\u8ba1\u7b97\u516c\u5f0f T = (1 - identity) / 2\u00b5 ,\u6b64\u5904\u7684 \u03bc \u5c31\u662f\u8f93\u5165\u7684\u53c2\u6570 u \u7684\u503c\uff0c\u6765\u53cd\u63a8\u6b63\u786e\u7684\u63d2\u5165\u65f6\u95f4\u3002\u6216\u8005\u662f\u4f7f\u7528\u7ed3\u679c\u6587\u4ef6 *.pass.list.gff3 \u91cc\u7684 ltr_identity \u6839\u636e\u516c\u5f0f\u8ba1\u7b97\uff0cidentify\u5b9e\u9645\u662f\u767e\u5206\u6bd4\uff0c\u516c\u5f0f\u91cc\u7684 1 \u4ee3\u8868100%\u3002 \u624b\u52a8\u8ba1\u7b97LTR\u63d2\u5165\u65f6\u95f4\uff0c\u4f7f\u7528\u4e0b\u9762\u7684\u4ee3\u7801\uff0c\u53ea\u7528\u4fee\u6539 genome.fa.pass.list.gff3 \u4e3a\u4f60\u5b9e\u9645\u8f93\u51fa\u7684\u6587\u4ef6\u540d\u5373\u53ef cat genome.fa.pass.list.gff3|awk '$3==\"repeat_region\"{split($9,a,\";\");print $1\",\"a[3]\",\"a[5]}'|sed 's/Classification\\=LTR\\///g;s/ltr_identity\\=//g'|awk -F ',' '{print $1\",\"$2\",\"(1-$3)/((7e-9)*2)}' >LTRtime.csv","title":"\u8fd0\u884c\u811a\u672c"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/LTR-RTs%E7%9A%84%E9%89%B4%E5%AE%9A%2CLAI%E5%80%BC%E7%9A%84%E8%AE%A1%E7%AE%97/#_5","text":"LTR_retriever \u8981\u6c42\u8f93\u5165\u7684\u57fa\u56e0\u7ec4\u6587\u4ef6\u7684 chr \u7684\u5b57\u7b26\u4e32\u957f\u5ea6\u4e0d\u8d85\u8fc715\uff0c\u5982\u679c\u5305\u542bscaffold\uff0c\u8bf7\u4fee\u6539\u4e3a15\u5b57\u4ee5\u5185\uff0c\u6216\u8005\u662f\u53ef\u4ee5\u820d\u53bbscffold,\u53ea\u7559\u4e0bchr\u3002","title":"\u6ce8\u610f\uff1a"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/LTR-RTs%E7%9A%84%E9%89%B4%E5%AE%9A%2CLAI%E5%80%BC%E7%9A%84%E8%AE%A1%E7%AE%97/#_6","text":"\u6700\u7ec8\u4f1a\u8f93\u51fa\u4e00\u4e2a genome.fa.out.LAI \u4f9d\u636e\u4f60\u8f93\u5165\u7684genome\u51b3\u5b9a\uff0c\u4f8b\u5982\uff1aTaIR10.fa \u8f93\u51fa\u7ed3\u679c\u5c31\u662fTaIR10.fa.out.LAI . cat TaIR10.fa.out.LAI |head Chr From To Intact Total raw_LAI LAI whole_genome 1 523245110 0.0967 0.4732 20.43 18.32 Chr01 1 3000000 0.1917 0.7771 24.67 21.56 Chr01 300001 3300000 0.1973 0.7971 24.76 21.65 Chr01 600001 3600000 0.1976 0.8249 23.96 20.85 Chr01 900001 3900000 0.2032 0.8621 23.57 20.46 Chr01 1200001 4200000 0.1981 0.8769 22.59 19.48 \u7b2c7\u5217\u662f\u6bcf\u4e2a\u4f4d\u7f6e\u7684LAI\u7684\u503c\uff0c\u7b2c2\u884c\u6700\u540e\u4e00\u4e2a\u5c31\u662f\u6574\u4e2a\u57fa\u56e0\u7ec4\u7684LAI\u503c\u3002\u8fd9\u4e2a\u57fa\u56e0\u7ec4\u662f18.32\u53ef\u4ee5\u770b\u51fa\u8d28\u91cf\u4e0d\u9519\u30020.0967\u4ee3\u8868\u5b8c\u6574LTR-RT\u5728\u57fa\u56e0\u7ec4\u4e2d\u5360\u6bd49.67% \uff0c 0.4732\u4ee3\u8868LTR\u5728\u57fa\u56e0\u7ec4\u4e2d\u6bd4\u4f8b\u4e3a47.32%. LAI\u7684\u4f5c\u8005\u4e5f\u7ed9\u51fa\u8bc4\u4ef7\u6807\u51c6\uff1a |LAI|category| |----|----| |0<LAI<10|draft| |10=<LAI<20|reference| |LAI>=20|Gold| LTR_retriever \u6700\u540e\u8fc7\u6ee4\u540e\u7684LTR_RTs\u6587\u4ef6\u662f genome.fa.pass.list \u3002\u8fd9\u91cc\u9762\u662f\u8fc7\u6ee4\u91cd\u590d\u540e\u901a\u8fc7\u7684LTR_RTs.\u53ef\u4ee5\u770b\u51fa\u91cc\u9762\u5206\u4e3aCopia\u548cGypsy\uff0c\u8fd8\u6709unknown\u3002","title":"\u8f93\u51fa\u7ed3\u679c\u8bb2\u89e3"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/LTR-RTs%E7%9A%84%E9%89%B4%E5%AE%9A%2CLAI%E5%80%BC%E7%9A%84%E8%AE%A1%E7%AE%97/#lailtrfind","text":"*LTRfind\u5730\u5740 * github.com/chaimol/bio_code/tree/master/pipline/LTRfind","title":"\u591a\u500d\u4f53\u6570\u636e\uff0c\u9700\u8981\u628a\u4e9a\u7ec4\u5206\u5f00\u8ba1\u7b97LAI,\u76ee\u524d\u5df2\u7ecf\u5b9e\u73b0\u6d41\u7a0bLTRfind\u3002"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/LTR-RTs%E7%9A%84%E9%89%B4%E5%AE%9A%2CLAI%E5%80%BC%E7%9A%84%E8%AE%A1%E7%AE%97/#ltr_reviewerltr_rtsunknown","text":"head genome.fa.pass.list #LTR_loc Category Motif TSD 5_TSD 3_TSD Internal Identity Strand SuperFamily TE_type Insertion_Time Chr01:109718..119470 pass motif:TGCA TSD:AAAAC 109713..109717 119471..119475 IN:111581..117607 0.9973 - Copia LTR 103354 Chr01:151156..160815 pass motif:TGCA TSD:ACCTT 151151..151155 160816..160820 IN:152959..159011 0.9945 ? unknown NA 214113 Chr01:259702..269481 pass motif:TGCA TSD:CGTTG 259697..259701 269482..269486 IN:261573..267609 0.9963 + Copia LTR 144256 Chr01:282588..292147 pass motif:TGCA TSD:CAATG 282583..282587 292148..292152 IN:284331..290404 0.9966 ? unknown NA 132702 Chr01:406690..416424 pass motif:TGCA TSD:AAGGG 406685..406689 416425..416429 IN:408590..414524 0.9979 + Copia LTR 81086 Chr01:434887..439473 pass motif:TGCA TSD:GGCAA 434882..434886 439474..439478 IN:435372..438989 0.9959 - Gypsy LTR 159372 \u7b2c1\u5217\u662f\u8fd9\u4e2aLTR-RTS\u7684\u533a\u95f4\uff0c\u5305\u62ec5\u2019LTR+INT+3'LTR. \u7b2c3\u5217\u662fmotif:\u4e3b\u8981\u662fTGCA,\u90fd\u662f\u56db\u4e2a\u78b1\u57fa\uff0c\u57285\u2018LTR\u548c3\u2019LTR\u5de6\u53f3\u5404\u5206\u5e03\u4e24\u4e2a\u78b1\u57fa\u3002 TG ...CA \u56fe3\u4e2d\u7ea2\u8272\u4e09\u89d2\u3002 \u7b2c4\u5217TSD:\u91cd\u590d\u5e8f\u5217\uff0c\u5206\u5e03\u57285\u2018LTR\u5de6\u4fa7\u548c3\u2019LTR\u53f3\u4fa7\u3002\u89c1\u56fe3\u4e2d\u7070\u8272\u5757\u3002 \u7b2c5\u52175\u2018TSD\u548c3\u2019TSD\u7684\u533a\u95f4\uff0c\u8fd9\u662f\u5728LTR-RTS\u533a\u95f4\u7684\u5916 \u7b2c6\u5217Internal,\u662f\u4e2d\u95f4\u7684\u533a\u95f4\u3002 \u7b2c9\u5217SuperFamily\uff0c\u690d\u7269\u4e2d\u53ea\u6709Gypsy\u548cCopia\u4e24\u79cd\u7c7b\u578b\uff0c\u548cunknown\u3002unknown\u7c7b\u578b\u7684\u53ef\u4ee5\u81ea\u884c\u63d0\u53d6\u5e8f\u5217\uff0c\u4f7f\u7528hmmer\u6bd4\u5bf9pfarm\u5bf9\u5e94\u4e24\u4e2a\u5bb6\u65cf\u7684\u86cb\u767d\uff0c\u7136\u540e\u4f7f\u7528mafft\u6bd4\u5bf9\uff0c\u6784\u5efa\u8fdb\u5316\u6811\u3002 \u7b2c10\u5217TE_type LTR\u6216NA \u7b2c11\u5217Insertion_Time,\u4f7f\u7528ggplot\u753b\u51fa\u5bc6\u5ea6\u56fe\uff0c\u56fe2\u6240\u793a\u3002","title":"\u690d\u7269\u662f\u8fd9\u79cd\u60c5\u51b5\uff0c\u52a8\u7269\u4e5f\u53ef\u4ee5\u4f7f\u7528LTR_reviewer\u5206\u6790\uff0c\u53ea\u4e0d\u8fc7\u52a8\u7269\u4e2dLTR_RTs\u5176\u4ed6\u7684\u7c7b\u578b\u4e0d\u80fd\u88ab\u5177\u4f53\u6ce8\u91ca\u51fa\u6765\uff0c\u9700\u8981\u81ea\u884c\u4eceunknown\u7c7b\u578b\u4e2d\u9274\u5b9a\u3002"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/LTR-RTs%E7%9A%84%E9%89%B4%E5%AE%9A%2CLAI%E5%80%BC%E7%9A%84%E8%AE%A1%E7%AE%97/#_7","text":"cat Spohua.chr.fa.out.LAI|sed 's/Chr0/Chr/' |sed 's/Chr//' |sed '2d'|tr \"\\t\" , >species.ltr.csv \u624b\u52a8\u7ed9\u5de6\u8fb9\u7b2c\u4e00\u884c\u7b2c\u4e00\u4e2a\u6dfb\u52a0CHR\u3002\u6ce8\u610f\uff1a\u67d3\u8272\u4f53\u5982\u679c\u662fChr01\u8981\u66ff\u6362\u4e3aChr1,species.ltr.csv\u91cc\u662f1. \u7269\u79cd\u7684LTR\u7684\u5e74\u4ee3\u7684\u5bc6\u5ea6\u56fe species.LTR.Insertion_Time.csv\u662fgenome.fa.pass.list\u6700\u540e\u4e00\u5217 library(\"ggplot2\") #\u8bfb\u5165\u6587\u4ef6 dat<-read.csv(\"species.LTR.Insertion_Time.csv\",header=FALSE) #\u9664\u4ee5100\u4e07 VAF<-dat$V1 / 1000000 #\u753b\u56fe\uff08\u51fa\u56fe\u7ed3\u679c\u4e2dx\u8f74\u662f\u4ee5mya\uff08\u767e\u4e07\u5e74\uff09\u4e3a\u5355\u4f4d\u7684\u3002\uff09 ggplot(dat,aes(x=VAF))+geom_density(color = \"red\")+xlab('Mya')+ylab('Density')+ scale_x_continuous(expand = c(0, 0)) + #scale_y_continuous(expand = c(0, 0))+ #\u8bbe\u7f6e\u6a2a\u7eb5\u5750\u6807\u4ece0\u5f00\u59cb theme_classic() ggsave('Speies.LTR.density.pdf',dpi = 300) #\u6c42\u5cf0\u503c y_peak <- which.max(density(VAF)$y)#\u627ey\u503c\u6700\u5927\u7684 x_peak <- density(VAF)$x[y_peak]#\u627e\u51fa\u6700\u5927\u7684y\u6240\u5bf9\u5e94\u7684x #\u5206\u7c7b\u53ef\u89c6\u5316\uff0cLTR-RTs\u7684\u5bc6\u5ea6\u56fe #LTR.typetime.csv\u662fgenome.fa.pass.list\u6700\u540e\u4e00\u5217\u548c\u5012\u6570\u7b2c\u4e09\u5217\u3002 #\u8bfb\u5165\u6587\u4ef6 dat1<-read.csv(\"LTR.typetime.csv\",header=FALSE) #\u9884\u5904\u7406 names(dat1) <- c(\"VAF1\",\"Type\") dat1$VAF1<-dat1$VAF1 / 1000000 #\u753b\u56fe ggplot(dat1,aes(x=VAF1))+geom_density(aes(color = Type))+xlab('Mya')+ylab('Density')+ scale_x_continuous(expand = c(0, 0)) + #scale_y_continuous(expand = c(0, 0))+ #\u8bbe\u7f6e\u6a2a\u7eb5\u5750\u6807\u4ece0\u5f00\u59cb theme_classic() ggsave('SpO_LTR_type.density.pdf',dpi = 300) #species.ltr.csv\u6765\u6e90\u4e8egenome.fa.pass.list,\u5176\u4e2d\u5217BP\u518dcsv\u6587\u4ef6\u91cc\u4e0d\u5b58\u5728 #\u53ef\u89c6\u5316\u5404\u4e2a\u67d3\u8272\u4f53\u4e0a\u7684LAI\u5f97\u5206 install.packages(\"qqman\") library(\"qqman\") library(\"ggplot2\") install.packages(\"ggsci\") library(\"ggsci\") library(\"scales\") manhattan(gwasResults) head(gwasResults,50) data2 <- read.csv('species.ltr.csv') data2$BP <- (data2$From + data2$To)/2 show_col(pal_d3(\"category20\")(20)) #\u4f7f\u7528ggsci\u6765\u9009\u62e9\u989c\u8272 show_col(pal_igv(\"default\")(51)) #51\u79cd\u989c\u8272\u7edd\u5bf9\u591f\u7528\u3002 show_col(pal_ucscgb(\"default\", alpha = 0.6)(26)) show_col(pal_gsea(\"default\", n = 30, alpha = 0.6, reverse = TRUE)(30)) ##\u6839\u636e\u4f60\u7684\u67d3\u8272\u4f53\u7684\u6570\u91cf\uff0c\u7075\u6d3b\u4fee\u6539col\u7684\u914d\u8272\u7684\u989c\u8272\u6570\u91cf\u3002 manhattan(data2,chr=\"CHR\",bp=\"BP\",p=\"LAI\",logp=F,ylab=\"LAI\",genomewideline = F,SNP= F ,suggestiveline = F,col = pal_d3(\"category20\")(17)) ggsave('LTR.manhattan.pdf',dpi=300) ggsave('LTR.manhattan.png') head(data2) # CHR From To Intact Total raw_LAI LAI BP # 1 1 1 3000000 0.1917 0.7771 24.67 21.56 1500001 # 2 1 300001 3300000 0.1973 0.7971 24.76 21.65 1800001 # 3 1 600001 3600000 0.1976 0.8249 23.96 20.85 2100001 # 4 1 900001 3900000 0.2032 0.8621 23.57 20.46 2400001 # 5 1 1200001 4200000 0.1981 0.8769 22.59 19.48 2700001 # 6 1 1500001 4500000 0.1759 0.8843 19.89 16.78 3000001 By default the mutation rate is 1.3e-8 per bp per year (rice), so the unit is calendar year. You may specify a different rate by providing -u/-miu.\u9ed8\u8ba4\u7684\u53d8\u5f02\u901f\u7387\u662f1.3E-8.","title":"\u53ef\u89c6\u5316"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/LTR-RTs%E7%9A%84%E9%89%B4%E5%AE%9A%2CLAI%E5%80%BC%E7%9A%84%E8%AE%A1%E7%AE%97/#ltr_retrieverlailailailailai","text":"\u4e0d\u540c\u57fa\u56e0\u7ec4\u7684\u76f8\u540c\u4e9a\u7ec4\u53ef\u4ee5\u653e\u5230\u4e00\u8d77\u6bd4\u8f83LAI.","title":"\u6700\u540e\u6ce8\u610f\uff1aLTR_retriever\u9ed8\u8ba4\u5df2\u7ecf\u5b8c\u6210\u4e86LAI\u7684\u5206\u6790\u3002\u5728\u524d\u8005\u5b8c\u6210\u540e\uff0c\u4e0d\u8981\u518d\u7528LAI\u518d\u5206\u6790\uff0cLAI\u7684\u8f93\u51fa\u4f1a\u8986\u76d6\u4e4b\u524d\u7684\u8f93\u51fa\uff0c\u800c\u4e14\u7b97\u51fa\u7684LAI\u7684\u503c\u8fd8\u6bd4\u4e4b\u524d\u4f4e\u3002\u591a\u500d\u4f53\u7684\u6570\u636e\u9700\u8981\u628a\u4e9a\u7ec4\u5206\u5f00\u8ba1\u7b97\uff0c\u53ef\u4ee5\u4f7f\u7528LAI\u5355\u72ec\u8ba1\u7b97\u3002"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/LTR-RTs%E7%9A%84%E9%89%B4%E5%AE%9A%2CLAI%E5%80%BC%E7%9A%84%E8%AE%A1%E7%AE%97/#ltr-rts","text":"\u56fe\u4e2d\u662fLTR-retriever\u53ef\u4ee5\u9274\u5b9a\u7684LTR-RTs\u7684\u79cd\u7c7b\u3002\u5176\u4e2dA\u7c7b\u662f\u4e3b\u8981\u7684\u3002\u690d\u7269\u4e2d\u57285\u2019LTR\u548c3\u2018LTR\u7684\u4e24\u7aef\u90fd\u6709TG\u548cCA\u7ed3\u6784\u3002motif\u4e00\u822c\u662fTGCA,\u5176\u4ed6\u7c7b\u578b\u4e5f\u80fd\u88ab\u9274\u5b9a\u51fa\u6765\u3002 \u5927\u591a\u6570\u81ea\u4e3bLTR\u5143\u4ef6\u7684\u5185\u90e8\u533a\u57df\u5e94\u5305\u542b\u5f15\u7269\u7ed3\u5408\u4f4d\u70b9\uff0c\u591a\u560c\u5464\u675f\uff0cgag\u57fa\u56e0\uff08\u5373\u7f16\u7801\u7528\u4e8e\u9006\u8f6c\u5f55\u7684\u7ed3\u6784\u86cb\u767d\uff09\u548cpol\u57fa\u56e0\uff08\u5373\u8d77\u86cb\u767d\u9176\uff0c\u9006\u8f6c\u5f55\u9176\u548c\u6574\u5408\u9176\u7684\u4f5c\u7528","title":"LTR-RTs\u5206\u7c7b\u7684\u8bb2\u89e3"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/LTR-RTs%E7%9A%84%E9%89%B4%E5%AE%9A%2CLAI%E5%80%BC%E7%9A%84%E8%AE%A1%E7%AE%97/#ltr-retriver","text":"1.\u5177\u6709\u5750\u6807\u548c\u7ed3\u6784\u4fe1\u606f\u7684\u5b8c\u6574LTR-RT \u6458\u8981\u8868\uff08.pass.list\uff09 GFF3\u683c\u5f0f\u8f93\u51fa\uff08.pass.list.gff3\uff09 \u5305\u542b\u6709pass\u7684\u662f\u8fc7\u6ee4\u6574\u5408\u540e\u7684\u6700\u7ec8\u7684\u7ed3\u679c 2.LTR-RT\u5e93 \u6240\u6709\u975e\u5197\u4f59LTR-RT\uff08.LTRlib.fa\uff09 #\u5df2\u7ecf\u5220\u9664\u91cd\u590d\u7684\u5e8f\u5217 \u6240\u6709\u975eTGCA LTR-RT\uff08.nmtf.LTRlib.fa\uff09 #\u6b64\u6587\u4ef6\u53ef\u80fd\u6ca1\u6709 \u6240\u6709\uff08.LTRlib.redundant.fa\uff09\u7684LTR-RT\uff08\u6709\u5197\u4f59\uff09 #\u6240\u6709\u7684LTR-TR\u5e8f\u5217 3.\u975e\u5197\u4f59\u6587\u5e93\u7684\u5168\u57fa\u56e0\u7ec4LTR-RT\u6ce8\u91ca GFF\u683c\u5f0f\u8f93\u51fa\uff08.out.gff\uff09 LTR\u7cfb\u5217\u6458\u8981\uff08.out.fam.size.list\uff09 LTR\u8d85\u5bb6\u65cf\u6458\u8981\uff08.out.superfam.size.list\uff09 \u6bcf\u4e2a\u67d3\u8272\u4f53\u4e0a\u7684LTR\u5206\u5e03\uff08.out.LTR.distribution.txt\uff09 4.LTR\u7ec4\u88c5\u7d22\u5f15\uff08.out.LAI\uff09","title":"LTR-retriver\u8f93\u51fa\u6587\u4ef6"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/Orthofinder2%E9%89%B4%E5%AE%9A%E5%8D%95%E6%8B%B7%E8%B4%9D%E5%9F%BA%E5%9B%A0%E5%B9%B6%E6%9E%84%E5%BB%BA%E8%BF%9B%E5%8C%96%E6%A0%91/","text":"\u5b9e\u9a8c\u76ee\u7684\uff1a\u6bd4\u8f83\u57fa\u56e0\u7ec4\u5b66\uff0c\u4ece\u57fa\u56e0\u7ec4\u83b7\u53d6\u5355\u62f7\u8d1d\u57fa\u56e0\uff0c\u5e76\u6784\u5efa\u6709\u6839\u7684\u8fdb\u5316\u6811\uff0c\u5e76\u4f30\u8ba1\u5206\u5316\u65f6\u95f4\uff0c\u6700\u7ec8\u753b\u51fa\u6709\u5206\u5316\u65f6\u95f4\u7684\u8fdb\u5316\u6811 \u5b9e\u9a8c\u6d41\u7a0b\uff1a orthofinder2\u83b7\u53d6\u5355\u62f7\u8d1d\u57fa\u56e0\u2014\u2014muscle\u591a\u5e8f\u5217\u6bd4\u5bf9\u2014\u2014Gblocks\u5bfb\u627e\u4fdd\u5b88\u4f4d\u70b9\u2014\u2014iqtree2\u6784\u5efa\u8fdb\u5316\u6811\u2014\u2014MCMCTREE\u8ba1\u7b97\u5206\u6b67\u65f6\u95f4\u2014\u2014 \uff081\uff09\u5355\u62f7\u8d1d\u57fa\u56e0\u7684\u67e5\u627e Orthofinder\uff1b \uff082\uff09\u591a\u5e8f\u5217\u6bd4\u5bf9 Muscle / MAFFT / ClustalW / T-coffee\uff0c \u672c\u5b9e\u9a8c\u4f7f\u7528Muscle \uff083\uff09\u8c03\u53d6\u4fdd\u5b88\u533a\u57df\uff0c\u5e76\u6536\u5c3e\u8fde\u63a5\uff0c\u5f62\u6210supergene \uff0c\u4f7f\u7528\u8f6f\u4ef6Gblocks\u3000\u3000 \uff084\uff09\u8fdb\u5316\u6811\u6784\u5efa RaxML\uff0cPhyML\u6216Mrbayes,\u672c\u5b9e\u9a8c\u4f7f\u7528iqtree2 \u6784\u5efa\u6811\u7684\u6559\u7a0b\uff1ahttps://www.yuque.com/wusheng/gw7a9p/mcc73y \uff085\uff09\u5206\u5316\u65f6\u95f4\u5206\u6790 divergence time\uff0c\u672c\u5b9e\u9a8c\u4f7f\u7528mcmctree \u662fPAML \u8f6f\u4ef6\u5305\u7684\u4e00\u4e2a\u529f\u80fd\u3002\u5206\u5316\u65f6\u95f4\u8fdb\u5316\u6811\u53ef\u89c6\u5316\u4f7f\u7528MCMCTreeR \uff086\uff09\u57fa\u56e0\u6269\u5f20\u6536\u7f29\u5206\u6790 CAFE \uff087\uff09\u57fa\u56e0\u6b63\u9009\u62e9codeML PAML\u4e2d\u4e00\u4e2a\u7a0b\u5e8f \u63d0\u53d6\u6240\u6709\u57fa\u56e0\u7ec4\u6bcf\u4e2a\u57fa\u56e0\u7684\u6700\u957f\u7684\u8f6c\u5f55\u672c","title":"Orthofinder2\u9274\u5b9a\u5355\u62f7\u8d1d\u57fa\u56e0\u5e76\u6784\u5efa\u8fdb\u5316\u6811"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/SyRI%EF%BC%9A%E4%BB%8E%E5%85%A8%E5%9F%BA%E5%9B%A0%E7%BB%84%E7%BB%84%E8%A3%85%E4%B8%AD%E6%89%BE%E5%88%B0%E5%9F%BA%E5%9B%A0%E7%BB%84%E9%87%8D%E6%8E%92%E5%92%8C%E5%B1%80%E9%83%A8%E5%BA%8F%E5%88%97%E5%B7%AE%E5%BC%82/","text":"\u57fa\u56e0\u7ec4\u5dee\u5f02\u4ece\u5355\u6838\u82f7\u9178\u5dee\u5f02\u5230\u590d\u6742\u7684\u7ed3\u6784\u53d8\u5f02\u3002\u5f53\u524d\u7684\u65b9\u6cd5\u901a\u5e38\u80fd\u51c6\u786e\u5730\u6ce8\u91ca\u4eceSNP\u5230\u5927\u63d2\u5165\u7f3a\u5931\u7684\u5e8f\u5217\u5dee\u5f02\uff0c\u4f46\u65e0\u6cd5\u63ed\u793a\u7ed3\u6784\u91cd\u6392\u7684\u5168\u90e8\u590d\u6742\u6027\uff0c\u5305\u62ec\u5012\u7f6e\uff0c\u6613\u4f4d\u548c\u91cd\u590d\uff0c\u5176\u4e2d\u4f4d\u7f6e\uff0c\u65b9\u5411\u6216\u62f7\u8d1d\u6570\u9ad8\u5ea6\u76f8\u4f3c\u7684\u5e8f\u5217\u4f1a\u53d1\u751f\u53d8\u5316\u3002\u5728\u8fd9\u91cc\uff0c\u6211\u4eec\u4ecb\u7ecd\u4e86SyRI\uff0c\u8fd9\u662f\u4e00\u79cd\u7528\u4e8e\u67d3\u8272\u4f53\u7ea7\u7a0b\u5e8f\u96c6\u7684\u6210\u5bf9\u5168\u57fa\u56e0\u7ec4\u6bd4\u8f83\u5de5\u5177\u3002SyRI\u9996\u5148\u627e\u5230\u91cd\u6392\u7684\u533a\u57df\uff0c\u7136\u540e\u641c\u7d22\u5e8f\u5217\u4e2d\u7684\u5dee\u5f02\uff0c\u533a\u522b\u5728\u4e8e\u5b83\u4eec\u4f4d\u4e8e\u540c\u4f4d\u6216\u91cd\u6392\u7684\u533a\u57df\u3002\u8fd9\u79cd\u533a\u522b\u5f88\u91cd\u8981\uff0c\u56e0\u4e3a\u91cd\u6392\u533a\u57df\u4e0e\u540c\u540c\u533a\u57df\u76f8\u6bd4\u7ee7\u627f\u7684\u65b9\u5f0f\u6709\u6240\u4e0d\u540c\u3002 \u6587\u732e\u8d44\u6599\uff1a Goel, M., Sun, H., Jiao, WB. et al. SyRI: finding genomic rearrangements and local sequence differences from whole-genome assemblies. Genome Biol 20, 277 (2019). https://doi.org/10.1186/s13059-019-1911-0 \u6765\u6e90\uff1a//mp.weixin.qq.com/s?__biz=MzUzMTEwODk0Ng==&mid=2247497455&idx=1&sn=989d626fe105967e592b12a6677f3cf3&chksm=fa4533d2cd32bac4f0ba6646ac74968cb72658bd1cd19bec3434d25723ad195f6bb2a0f8f61f&scene=132#wechat_redirect SyRI githubs","title":"SyRI\uff1a\u4ece\u5168\u57fa\u56e0\u7ec4\u7ec4\u88c5\u4e2d\u627e\u5230\u57fa\u56e0\u7ec4\u91cd\u6392\u548c\u5c40\u90e8\u5e8f\u5217\u5dee\u5f02"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/circos%E5%8F%AF%E8%A7%86%E5%8C%96LTR%E7%9A%84%E7%9B%B8%E5%85%B3%E4%BF%A1%E6%81%AF/","text":"circos\u7684\u5b89\u88c5\u4f7f\u7528 \u53c2\u8003\u8d44\u6599 \u53c2\u8003\u6559\u7a0b https://www.jianshu.com/p/741e77c94714 \u5f90\u5dde\u66f4\u6559\u7a0b https://www.jianshu.com/u/9ea40b5f607a circos https://www.bilibili.com/read/cv7812579/ \u5168\u7f51\u6700\u5b8c\u6574\u7684circos\u4e2d\u6587\u6559\u7a0b circos heatmap circos color\u53c2\u8003 \u5b89\u88c5 circos conda create -c bioconda -n circos circos \u6d4b\u8bd5circos conda activate circos circos -V \u8f6f\u4ef6\u5b98\u7f51\u6e90\u7801\u548c\u6559\u7a0bhttp://circos.ca/software/download/ \u989c\u8272\u53c2\u8003 https://colorbrewer2.org/#type=qualitative&scheme=Set3&n=12 \u6ce8\u610f\uff1acircos\u4f5c\u56fe\u65f6\uff0c\u67d3\u8272\u4f53\u4e00\u5b9a\u8981\u6ce8\u610fChr1\u6216Chr01\u683c\u5f0f\uff0c\u683c\u5f0f\u524d\u540e\u4e00\u5b9a\u8981\u4e00\u81f4\u3002\u57fa\u56e0\u540d\u79f0\u4e00\u5b9a\u8981\u4e00\u81f4\uff0c\u662f'Sp01G000010.1' \u8fd8\u662f'Sp01G000010'\uff0c\u540e\u9762\u7684 .1 \u6709\u6ca1\u6709\u4e00\u5b9a\u8981\u4e00\u81f4\uff0c\u5426\u5219\u5c31\u4f1a\u51fa\u9519 \u5236\u4f5c\u6ed1\u52a8\u7a97\u5c55\u793a\u57fa\u56e0\u5bc6\u5ea6\uff08\u9700\u8981\u5b89\u88c5bedtools\uff09 \u4ecegff3\u6587\u4ef6\u83b7\u53d6\u57fa\u56e0\u7684\u4f4d\u7f6e grep '[[:blank:]]gene[[:blank:]]' Spohua.genome.gff3 | cut -f 1,4,5 | awk '{print $1\"\\t\"$2\"\\t\"$3}'|grep Chr > genes.bed \u4ece\u57fa\u56e0\u7ec4\u4f4d\u7f6e\u6587\u4ef6\u83b7\u53d6\u6ed1\u52a8\u7a97 cut -d ' ' -f 3,6 Spo.genome.txt | tr ' ' '\\t' > Spo.genome bedtools makewindows -g Spo.genome.txt -w 1000000 >Spo.windows #\u8bbe\u7f6ewindow\u4e3a1M Spo.genome.txt \u662f\u57fa\u56e0\u7ec4\u67d3\u8272\u4f53\u957f\u5ea6\u7684\u6587\u4ef6 head Spo.genome.txt Chr1 26663249 Chr2 25493351 Chr3 22916255 Chr4 22507087 Chr5 18661867 Chr6 19687438 Chr7 15147718 Chr8 14276932 Chr9 12412806 Chr10 12144945 \u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u7684\u4ee3\u7801\u6765\u83b7\u53d6\uff0c samtools faidx ${genome} cat ${genome}.fai |cut -f 1-2| fgrep ${chr}|sort -V >${prefix}.genome.txt \u83b7\u53d6\u57fa\u56e0\u8986\u76d6\u7387 bedtools coverage -a Spo.windows -b genes.bed | cut -f 1-4 > genes_num.txt \u67d3\u8272\u4f53\u914d\u7f6e\u6587\u4ef6 cat Spo.genome|awk '{print \"chr - \"$1\" \"$1\" 0 \"$2\" \"$1}' >karyotype.Spo.txt \u83b7\u53d6GC\u542b\u91cf bedtools nuc -fi Spo.genome.fa -bed Spo.windows |cut -f 1-3,5|sed '1d' >GC_content_num.txt \u751f\u6210circos\u56fe circos -conf circos.conf \u51c6\u5907\u53ef\u89c6\u5316LTR\u7684\u76f8\u5173\u6570\u636e ###Copia\u7c7b\u578b\u7684\u8f6c\u5ea7\u5b50 cat Spohua.fa.pass.list|grep Copia |cut -f1|tr : \"\\t\"|sed 's/\\.\\./\\t/g' >spo.Copia.bed ###Gypsy\u7c7b\u578b\u7684\u8f6c\u5ea7\u5b50 cat Spohua.fa.pass.list|grep Gypsy |cut -f1|tr : \"\\t\"|sed 's/\\.\\./\\t/g' >spo.Gypsy.bed ###\u4ecegff3\u6587\u4ef6\u83b7\u53d6\u57fa\u56e0\u7684\u4f4d\u7f6e\uff08\u57fa\u56e0\u5bc6\u5ea6\uff09 grep '[[:blank:]]gene[[:blank:]]' Spohua.genome.gff3 | cut -f 1,4,5 | awk '{print $1\"\\t\"$2\"\\t\"$3}'|grep Chr > genes.bed #\u5236\u4f5c\u6ed1\u52a8\u7a97 bedtools makewindows -g Spo.genome.txt -w 1000000 >Spo.windows #\u8bbe\u7f6ewindow\u4e3a1M ##\u83b7\u53d6\u8986\u76d6\u7387 bedtools coverage -a Spo.windows -b genes.bed |cut -f 1-4 >genes_num.txt bedtools coverage -a Spo.windows -b spo.Copia.bed |cut -f 1-4 >Copia_num.txt bedtools coverage -a Spo.windows -b spo.Gypsy.bed |cut -f 1-4 >Gypsy_num.txt ##\u51c6\u5907LAI\u7684\u6587\u4ef6\uff08windowssize\u4e3a300kb\uff09 cat Spohua.fa.out.LAI|cut -f 1,2,3,7 |sed '1,2d' >LAI_num.txt ###\u5b8c\u6574LTR\u7684\u767e\u5206\u6bd4\uff08\u6bcf\u4e2awindowsize\u7684\u5b8c\u6574LTR\u7684\u767e\u5206\u6bd4\uff09 cat Spohua.fa.out.LAI|awk '{print $1\"\\t\"$2\"\\t\"$3\"\\t\"$4*100}'|sed '1,2d' >full_LTR_num.txt ###\u6240\u6709LTR\u7684\u767e\u5206\u6bd4\uff08\u6bcf\u4e2awindowsize\u7684LTR\u7684\u767e\u5206\u6bd4\uff09 cat Spohua.fa.out.LAI|awk '{print $1\"\\t\"$2\"\\t\"$3\"\\t\"$5*100}'|sed '1,2d' >LTR_num.txt ##\u914d\u7f6e\u67d3\u8272\u4f53\u6587\u4ef6 cut -d ' ' -f 3,6 Spo.genome.txt | tr ' ' '\\t' > Spo.genome cat Spo.genome|awk '{print \"chr - \"$1\" \"$1\" 0 \"$2\" \"$1}' >karyotype.Spo.txt ##\u51c6\u5907\u5171\u7ebf\u6027\u6587\u4ef6 ####\u9700\u8981\u9884\u5148\u51c6\u5907 cds\uff0cpep,bed \u6587\u4ef6\u3002\u53c2\u8003[Jcvi\u7684\u4f7f\u7528](https://www.jianshu.com/p/37fed126777f)\u3002 #####\u4e00\u4e2a\u7269\u79cd\u5185\u90e8\u5171\u7ebf\u6027\u9700\u8981\u51c6\u5907\u4e00\u5957cds\uff0c\u86cb\u767dpep,bed\u6587\u4ef6\u5c31\u53ef\u4ee5\u4e86\u3002 python -m jcvi.compara.catalog ortholog --dbtype prot --no_strip_names Spo Spo #####\u4ece\u5171\u7ebf\u6027\u7684\u57fa\u56e0\u5bf9\uff0c\u63d0\u53d6\u6574\u5408\u6210circos\u7684bed\u683c\u5f0f\u3002 cat Spo.Spo.anchors |grep -v \\#| while read line; do gene_array=($line) gene1_pos=`fgrep ${gene_array[0]} Spo.bed|cut -f 1-3` gene2_pos=`fgrep ${gene_array[1]} Spo.bed|cut -f 1-3` bed=${gene1_pos}\" \"${gene2_pos} echo $bed >>Spo.coline_num.txt done ###\u628a\u67d3\u8272\u4f53\u4e2d\u7684Chr0\u8f6c\u6362\u6210Chr.(\u6240\u6709\u7684\u7528\u4e8ecircos\u753b\u56fe\u7684\u67d3\u8272\u4f53\u90fd\u9700\u8981\u6539\u6210Chr\u8fd9\u79cd\uff0c\u5426\u5219\uff0c\u9ed8\u8ba4\u7684circos\u4e0d\u4f1a\u8bc6\u522bChr01\u8fd9\u79cd\u683c\u5f0f) cat Spo.coline_num.txt |sed 's/Chr0/Chr/g' >coline_num.txt circos\u7684\u6587\u4ef6\u548c\u73af\u5883\u914d\u7f6e circos\u662f\u57fa\u4e8eperl\u5b9e\u73b0\u7684\uff0c\u53ea\u80fd\u7528\u6765\u753b\u56fe\uff0c\u5e76\u4e0d\u80fd\u5904\u7406\u6570\u636e\uff0c\u6240\u4ee5\u6570\u636e\u9700\u8981\u5148\u5236\u4f5c\u5b8c\u6210\u540e\uff0c\u624d\u80fd\u7528circos\u753b\u3002 \u914d\u7f6e\u6587\u4ef6\u5217\u8868 - karyotype.Spo.txt (\u67d3\u8272\u4f53\u957f\u5ea6\u914d\u7f6e\u6587\u4ef6) * - circos.conf (\u4e3b\u8981\u7684conf\u6587\u4ef6\uff0c\u753b\u56fe\u65f6\uff0c\u901a\u8fc7\u6b64\u6587\u4ef6\u6765\u8c03\u7528\u5176\u4ed6\u914d\u7f6e\u6587\u4ef6) - ticks.conf (\u523b\u5ea6\u63a7\u5236\u6587\u4ef6) - coline_num.txt \uff08\u5171\u7ebf\u6027\u6587\u4ef6\uff09 - GC_num.txt GC\uff08\u542b\u91cf\u6587\u4ef6\uff09 - full_LTR_num.txt \uff08 \u5b8c\u6574LTR\u7684\u767e\u5206\u6bd4\uff09 - Gypsy_num.txt (Gypsy\u7684\u767e\u5206\u6bd4) - LTR_num.txt (\u6240\u6709LTR\u7684\u767e\u5206\u6bd4) - Copia_num.txt(Copia\u7684\u767e\u5206\u6bd4) - genes_num.txt (\u57fa\u56e0\u5bc6\u5ea6) - LAI_num.txt(LAI\u7684\u5206\u5e03) \u6240\u6709\u4ee5 _num.txt \u7ed3\u5c3e\u7684\u90fd\u662f\u753b\u56fe\u7684\u6570\u636e\u6587\u4ef6\uff0c\u53ef\u4ee5\u6839\u636e\u5b9e\u9645\u9700\u8981\u7075\u6d3b\u589e\u5220\u3002 \u6807*\u7684\u662f\u5fc5\u987b\u6587\u4ef6\u3002\u5176\u4ed6\u662f\u9009\u914d\u6587\u4ef6\u3002 karyotype.Spo.txt\u6587\u4ef6\u5185\u5bb9\u5982\u4e0b chr - Chr1 Chr1 0 27519054 Chr1 chr - Chr2 Chr2 0 37982726 Chr2 chr - Chr3 Chr3 0 37451735 Chr3 chr - Chr4 Chr4 0 28204096 Chr4 chr - Chr5 Chr5 0 45635594 Chr5 chr - Chr6 Chr6 0 32349783 Chr6 chr - Chr7 Chr7 0 36685546 Chr7 chr - Chr8 Chr8 0 31371431 Chr8 chr - Chr9 Chr9 0 35059391 Chr9 chr - Chr10 Chr10 0 43700000 Chr10 chr - Chr11 Chr11 0 39651545 Chr11 chr - Chr12 Chr12 0 31915921 Chr12 chr - Chr13 Chr13 0 43197690 Chr13 chr - Chr14 Chr14 0 32136955 Chr14 chr - Chr15 Chr15 0 49422898 Chr15 chr - Chr16 Chr16 0 36480970 Chr16 chr - Chr17 Chr17 0 34479775 Chr17 ticks.conf\u6587\u4ef6\u5185\u5bb9\u5982\u4e0b\uff1a #\u523b\u5ea6ticks\u914d\u7f6e\u6587\u4ef6 chromosomes_units = 1000000 show_ticks = yes show_tick_labels = yes <ticks> radius = 1r color = black thickness = 2p multiplier = 1e-6 #\u8f93\u51fa\u7684\u6807\u7b7e\u4e3a\u5b9e\u9645\u957f\u5ea6\u4e0e\u5176\u76f8\u4e58 format = %d # %d\u8868\u793a\u663e\u793a\u6574\u6570 tick_separation = 3p #\u7ba1\u7406\u523b\u5ea6\u548c\u5916\u5708\u4e4b\u95f4\u7684\u8ddd\u79bb label_separation = 10p <tick> spacing = 1u size = 5p </tick> <tick> spacing = 5u size = 10p show_label = yes label_size = 10p label_offset = 10p format = %d </tick> </ticks> head coline_num.txt Chr1 2863127 2878319 Chr3 19253647 19258135 Chr1 3914355 3914748 Chr3 19905364 19905757 Chr1 3976083 3982656 Chr3 21062604 21067133 Chr1 4195280 4197605 Chr3 20801492 20805443 cat circos.conf #\u9996\u5c3e\u67d3\u8272\u4f53\u4e4b\u95f4\u6709\u95f4\u9694,\u6dfb\u52a0\u4e86\u5171\u7ebf\u6027\uff0c\u540c\u65f6\u8c03\u6574\u4e86\u534a\u5f84 karyotype = karyotype.Spo.txt #\u5b9a\u4e49\u57fa\u56e0\u7ec4\u7684\u67d3\u8272\u4f53\u5927\u5c0f\u6587\u4ef6 #chromosomes_color = Chr1=rdylbu-11-div-1,Chr2=rdylbu-11-div-3,Chr3=rdylbu-11-div-5,Chr4=rdylbu-11-div-7,Chr5=rdylbu-11-div-9 #\u5b9a\u4e49\u67d3\u8272\u4f53\u7684\u989c\u8272,\u67d3\u8272\u4f53\u540d\u79f0\u662fkaryotype.Spo.txt\u4e2d\u7b2c3\u5217\u7684\u540d\u79f0Chr1-17 <<include ticks.conf>> #\u5f15\u5165\u81ea\u5b9a\u4e49\u7684\u523b\u5ea6\u914d\u7f6e\u6587\u4ef6\uff0c\u76ee\u5f55\u662f\u76f8\u5bf9\u8def\u5f84 ##\u5171\u7ebf\u6027\u56fe <links> <link> file = coline_num.txt #\u5171\u7ebf\u6027\u6587\u4ef6 radius = 0.40r #\u5916\u5708\u534a\u5f84 color = blue_a4 #\u9ed8\u8ba4\u989c\u8272 thickness = 1p #\u5b9a\u4e49\u7ebf\u6761\u7684\u7c97\u7ec6 ribbon = yes ######rules\u6307\u5b9a\u7ebf\u6761\u7684\u989c\u8272\uff0c <rules> <rule> condition = var(chr1) eq \"Chr1\" #\u5171\u7ebf\u6027\u6587\u4ef6\u4e2d\uff0c\u5de6\u8fb9\u662fChr1\u7684\uff0c\u6307\u5b9a\u989c\u8272\u3002var(chr1)\u8fd9\u4e2a\u4e0d\u7528\u4fee\u6539\uff0c\u6307\u7684\u662ffile\u91cc\u5de6\u4fa7\u7b2c\u4e00\u4e2a\uff0c\u540e\u9762\u7684\u201cChr1\u201d\u6839\u636e\u5b9e\u9645\u7684Chr\u6765\u4fee\u6539\u3002 color = rdylgn-11-div-1 </rule> <rule> condition = var(chr1) eq \"Chr2\" color = rdylgn-11-div-2 </rule> <rule> condition = var(chr1) eq \"Chr3\" color = rdylgn-11-div-3 </rule> <rule> condition = var(chr1) eq \"Chr4\" color = rdylgn-11-div-4 </rule> <rule> condition = var(chr1) eq \"Chr5\" color = rdylgn-11-div-5 </rule> <rule> condition = var(chr1) eq \"Chr6\" color = rdylgn-11-div-6 </rule> <rule> condition = var(chr1) eq \"Chr7\" color = rdylgn-11-div-7 </rule> <rule> condition = var(chr1) eq \"Chr8\" color = rdylgn-11-div-8 </rule> <rule> condition = var(chr1) eq \"Chr9\" color = rdylgn-11-div-9 </rule> <rule> condition = var(chr1) eq \"Chr10\" color = rdylgn-11-div-10 </rule> <rule> condition = var(chr1) eq \"Chr11\" color = rdylgn-11-div-11 </rule> <rule> condition = var(chr1) eq \"Chr12\" color = rdylbu-9-div-1 </rule> <rule> condition = var(chr1) eq \"Chr13\" color = rdylbu-9-div-2 </rule> <rule> condition = var(chr1) eq \"Chr14\" color = rdylbu-9-div-3 </rule> <rule> condition = var(chr1) eq \"Chr15\" color = rdylbu-9-div-4 </rule> <rule> condition = var(chr1) eq \"Chr16\" color = rdylbu-9-div-5 </rule> <rule> condition = var(chr1) eq \"Chr17\" color = rdylbu-9-div-6 </rule> </rules> </link> </links> <plots> #\u5b8c\u6574\u7684LTR\u7684\u767e\u5206\u6bd4\u76f4\u65b9\u56fe <plot> type = histogram file = full_LTR_num.txt fill_color = 231,41,138 # \u586b\u5145\u8272 r1 = 0.50r r0 = 0.41r </plot> #LTR\u7684\u767e\u5206\u6bd4\u76f4\u65b9\u56fe <plot> type = histogram file = LTR_num.txt fill_color = 254,196,79 # \u586b\u5145\u8272 r1 = 0.60r r0 = 0.51r </plot> #Gypsy\u7684\u70ed\u56fe <plot> type = heatmap file = Gypsy_num.txt color = oranges-9-seq #\u586b\u5145\u8272\u5fc5\u987b\u662f\u4e00\u4e2alist\uff0c\u683c\u5f0f\u662f color = reds-9-seq \u6216\u8005color = red,green,blue r1 = 0.70r r0 = 0.61r </plot> #Copia\u7684\u70ed\u56fe <plot> type = heatmap file = Copia_num.txt color = reds-9-seq #\u586b\u5145\u8272 r1 = 0.80r r0 = 0.71r </plot> ##LAI\u7684\u6563\u70b9\u56fe \u53c2\u8003https://blog.csdn.net/weixin_43569478/article/details/83824929 <plot> type = scatter #\u6563\u70b9\u56fe fill_color = grey # \u70b9\u7684\u586b\u5145\u8272 stroke_color = black #\u8fb9\u6846\u7684\u989c\u8272 glyph = circle glyph_size = 3 # \u5143\u7d20\u5927\u5c0f file = LAI_num.txt r1 = 0.90r r0 = 0.81r #\u5212\u52063\u4e2a\u533a\u95f4\uff0c\u6bcf\u4e2a\u533a\u95f4\u4e0d\u540c\u7684\u989c\u8272\u3002\u7528\u4e8eLAI\u7684\u5212\u5206 <backgrounds> <background> color = vvlgreen y0 = 20 </background> <background> color = vlgrey y1 = 20 y0 = 10 </background> <background> color = vvlred y0 =10 </background> </backgrounds> ##\u8bbe\u7f6ey\u8f74\u523b\u5ea6\u7ebf <axes> <axis> color = lgreen thickness = 1p spacing = 0.05r y1 = 20 y0 = 10 </axis> </axes> </plot> ##\u57fa\u56e0\u5bc6\u5ea6\u76f4\u65b9\u56fe <plot> type = histogram file = genes_num.txt fill_color = blue # \u586b\u5145\u8272 r1 = 0.99r r0 = 0.91r </plot> </plots> <ideogram> <spacing> default = 0.005r #\u8bbe\u7f6e\u67d3\u8272\u4f53\u4e4b\u95f4\u7a7a\u51fa\u4e2a\u8ddd\u79bb\uff0c\u7528\u6765\u6807\u56fe\u4f8ba,b,c,d,e,f <pairwise Chr17;Chr1> #\u67d3\u8272\u4f53\u540d\u79f0\u662fkaryotype.Spo.txt\u4e2d\u7b2c3\u5217\u7684\u540d\u79f0\uff0c\u6839\u636e\u4f60\u5b9e\u9645\u7684\u7269\u79cd\u7b2c\u4e00\u6761\u548c\u6700\u540e\u4e00\u6761\u6765\u4fee\u6539\u6b64\u5904 spacing = 5r #\u8bbe\u7f6e\u7b2c\u4e00\u4e2a\u548c\u6700\u540e\u4e00\u4e2a\u67d3\u8272\u4f53\u4e2d\u95f4\u7a7a\u51fa5*default\uff080.005r\uff09\u7684\u8ddd\u79bb </pairwise> </spacing> radius = 0.85r #\u6307\u5b9a\u753b\u56fe\u7684\u534a\u5f84\uff08\u6b64\u534a\u5f84\u548cplots\u91cc\u7684\u534a\u5f84\u4e0d\u4e00\u81f4\uff0c\u8fd9\u4e2a\u662f\u603b\u76840.85r\uff0c\u51b3\u5b9a\u4e86\u6574\u4e2a\u5708\u56fe\u7684\u6700\u5927\u7684\u534a\u5f84,plots\u91cc\u76840.99r\u534a\u5f84\u662f\u4ee5\u8fd9\u4e2a0.85r\u4f5c\u4e3a100%\u6765\u5206\u914d99%\uff09 thickness = 10p #\u5750\u6807\u8f74\u7684\u67d3\u8272\u4f53\u7684\u539a\u5ea6 fill = yes show_bands = yes #\u8bbe\u7f6e\u67d3\u8272\u4f53\u6761\u5e26\u586b\u5145\uff0c\u5982\u679c\u4e0d\u60f3\u7528\u6761\u5e26\u586b\u5145\uff0c\u53ea\u7528\u989c\u8272\uff0c\u5c31\u8bbe\u7f6e\u4e3ano fill_bands = yes stroke_color = dgrey stroke_thickness = 2p show_label = yes #\u5c55\u793alabel label_font = default # \u5b57\u4f53 label_radius = dims(ideogram,radius) + 0.075r #\u4f4d\u7f6e label_size = 12 # \u5b57\u4f53\u5927\u5c0f label_parallel = yes # \u662f\u5426\u5e73\u884c label_format = eval(sprintf(\"%s\",var(chr))) # \u683c\u5f0f </ideogram> <image> # \u8986\u76d6\u5728 etc/image.conf \u4e2d\u5b9a\u4e49\u7684 angle_offset angle_offset* = -82 #\u6307\u5b9a\u65cb\u8f6c\u89d2\u5ea6\uff0c\u7528\u4e8e\u63d2\u5165\u56fe\u4f8b\u7684\u4f4d\u7f6e dir* = . #\u8f93\u51fa\u6587\u4ef6\u5939 radius* = 500p #\u56fe\u7247\u534a\u5f84 svg* = yes #\u662f\u5426\u8f93\u51fasvg,\u9ed8\u8ba4\u662fyes <<include etc/image.conf>> </image> <<include etc/colors_fonts_patterns.conf>> <<include etc/housekeeping.conf>> head GC_num.txt Chr1 0 1000000 38.8549 Chr1 1000000 2000000 38.1306 Chr1 2000000 3000000 37.9843 Chr1 3000000 4000000 37.4317 Chr1 4000000 5000000 37.967 Chr1 5000000 6000000 37.9894 circos\u53ef\u80fd\u4f1a\u51fa\u73b0\u7684\u62a5\u9519 There was a problem with True Type font support. Circos could not render text from the font file /share/home/miniconda3/envs/circos/bin/../fonts/modern/cmunrm.otf Please check that gd (system graphics library) and GD (Perl's interface to gd) are compiled with True Type support. \u8fd9\u79cd\u9700\u8981\u91cd\u65b0\u5b89\u88c5libGD\u548cGD wget https://github.com/libgd/libgd/releases/download/gd-2.3.1/libgd-2.3.1.tar.gz tar zxvf libgd-2.3.1.tar.gz cd libgd-2.3.1 ./configure curl -O http://www.ijg.org/files/jpegsrc.v8d.tar.gz tar -xzvf jpegsrc.v8d.tar.gz cd jpeg-8d ./configure --prefix=/path/to/jpeg-8d make make install #\u5b89\u88c5libpng curl -O ftp://ftp.simplesystems.org/pub/libpng/png/src/libpng16/libpng-1.6.2.tar.gz tar -xzvf libpng-1.6.2.tar.gz cd libpng-1.6.2.tar.gz ./configure --prefix=/path/to/jpeg-8d make -j8 make install #\u91cd\u65b0\u5b89\u88c5GD(\u4f7f\u7528cpanm\u5b89\u88c5) cpanm -f GD \u53ef\u80fd\u4f1a\u63d0\u793a\u7f3a\u5c11perl\u6a21\u5757 circos -modules \u68c0\u6d4b\u662f\u5426\u7f3a\u5c11perl\u6a21\u5757 cpanm GD #\u5b89\u88c5\u7f3a\u5c11\u7684GD\u6a21\u5757","title":"circos\u7684\u5b89\u88c5\u4f7f\u7528"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/circos%E5%8F%AF%E8%A7%86%E5%8C%96LTR%E7%9A%84%E7%9B%B8%E5%85%B3%E4%BF%A1%E6%81%AF/#circos","text":"","title":"circos\u7684\u5b89\u88c5\u4f7f\u7528"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/circos%E5%8F%AF%E8%A7%86%E5%8C%96LTR%E7%9A%84%E7%9B%B8%E5%85%B3%E4%BF%A1%E6%81%AF/#_1","text":"\u53c2\u8003\u6559\u7a0b https://www.jianshu.com/p/741e77c94714 \u5f90\u5dde\u66f4\u6559\u7a0b https://www.jianshu.com/u/9ea40b5f607a circos https://www.bilibili.com/read/cv7812579/ \u5168\u7f51\u6700\u5b8c\u6574\u7684circos\u4e2d\u6587\u6559\u7a0b circos heatmap circos color\u53c2\u8003","title":"\u53c2\u8003\u8d44\u6599"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/circos%E5%8F%AF%E8%A7%86%E5%8C%96LTR%E7%9A%84%E7%9B%B8%E5%85%B3%E4%BF%A1%E6%81%AF/#circos_1","text":"conda create -c bioconda -n circos circos","title":"\u5b89\u88c5 circos"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/circos%E5%8F%AF%E8%A7%86%E5%8C%96LTR%E7%9A%84%E7%9B%B8%E5%85%B3%E4%BF%A1%E6%81%AF/#circos_2","text":"conda activate circos circos -V \u8f6f\u4ef6\u5b98\u7f51\u6e90\u7801\u548c\u6559\u7a0bhttp://circos.ca/software/download/ \u989c\u8272\u53c2\u8003 https://colorbrewer2.org/#type=qualitative&scheme=Set3&n=12 \u6ce8\u610f\uff1acircos\u4f5c\u56fe\u65f6\uff0c\u67d3\u8272\u4f53\u4e00\u5b9a\u8981\u6ce8\u610fChr1\u6216Chr01\u683c\u5f0f\uff0c\u683c\u5f0f\u524d\u540e\u4e00\u5b9a\u8981\u4e00\u81f4\u3002\u57fa\u56e0\u540d\u79f0\u4e00\u5b9a\u8981\u4e00\u81f4\uff0c\u662f'Sp01G000010.1' \u8fd8\u662f'Sp01G000010'\uff0c\u540e\u9762\u7684 .1 \u6709\u6ca1\u6709\u4e00\u5b9a\u8981\u4e00\u81f4\uff0c\u5426\u5219\u5c31\u4f1a\u51fa\u9519","title":"\u6d4b\u8bd5circos"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/circos%E5%8F%AF%E8%A7%86%E5%8C%96LTR%E7%9A%84%E7%9B%B8%E5%85%B3%E4%BF%A1%E6%81%AF/#bedtools","text":"","title":"\u5236\u4f5c\u6ed1\u52a8\u7a97\u5c55\u793a\u57fa\u56e0\u5bc6\u5ea6\uff08\u9700\u8981\u5b89\u88c5bedtools\uff09"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/circos%E5%8F%AF%E8%A7%86%E5%8C%96LTR%E7%9A%84%E7%9B%B8%E5%85%B3%E4%BF%A1%E6%81%AF/#gff3","text":"grep '[[:blank:]]gene[[:blank:]]' Spohua.genome.gff3 | cut -f 1,4,5 | awk '{print $1\"\\t\"$2\"\\t\"$3}'|grep Chr > genes.bed","title":"\u4ecegff3\u6587\u4ef6\u83b7\u53d6\u57fa\u56e0\u7684\u4f4d\u7f6e"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/circos%E5%8F%AF%E8%A7%86%E5%8C%96LTR%E7%9A%84%E7%9B%B8%E5%85%B3%E4%BF%A1%E6%81%AF/#_2","text":"cut -d ' ' -f 3,6 Spo.genome.txt | tr ' ' '\\t' > Spo.genome bedtools makewindows -g Spo.genome.txt -w 1000000 >Spo.windows #\u8bbe\u7f6ewindow\u4e3a1M Spo.genome.txt \u662f\u57fa\u56e0\u7ec4\u67d3\u8272\u4f53\u957f\u5ea6\u7684\u6587\u4ef6 head Spo.genome.txt Chr1 26663249 Chr2 25493351 Chr3 22916255 Chr4 22507087 Chr5 18661867 Chr6 19687438 Chr7 15147718 Chr8 14276932 Chr9 12412806 Chr10 12144945 \u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u7684\u4ee3\u7801\u6765\u83b7\u53d6\uff0c samtools faidx ${genome} cat ${genome}.fai |cut -f 1-2| fgrep ${chr}|sort -V >${prefix}.genome.txt","title":"\u4ece\u57fa\u56e0\u7ec4\u4f4d\u7f6e\u6587\u4ef6\u83b7\u53d6\u6ed1\u52a8\u7a97"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/circos%E5%8F%AF%E8%A7%86%E5%8C%96LTR%E7%9A%84%E7%9B%B8%E5%85%B3%E4%BF%A1%E6%81%AF/#_3","text":"bedtools coverage -a Spo.windows -b genes.bed | cut -f 1-4 > genes_num.txt","title":"\u83b7\u53d6\u57fa\u56e0\u8986\u76d6\u7387"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/circos%E5%8F%AF%E8%A7%86%E5%8C%96LTR%E7%9A%84%E7%9B%B8%E5%85%B3%E4%BF%A1%E6%81%AF/#_4","text":"cat Spo.genome|awk '{print \"chr - \"$1\" \"$1\" 0 \"$2\" \"$1}' >karyotype.Spo.txt","title":"\u67d3\u8272\u4f53\u914d\u7f6e\u6587\u4ef6"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/circos%E5%8F%AF%E8%A7%86%E5%8C%96LTR%E7%9A%84%E7%9B%B8%E5%85%B3%E4%BF%A1%E6%81%AF/#gc","text":"bedtools nuc -fi Spo.genome.fa -bed Spo.windows |cut -f 1-3,5|sed '1d' >GC_content_num.txt","title":"\u83b7\u53d6GC\u542b\u91cf"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/circos%E5%8F%AF%E8%A7%86%E5%8C%96LTR%E7%9A%84%E7%9B%B8%E5%85%B3%E4%BF%A1%E6%81%AF/#circos_3","text":"circos -conf circos.conf","title":"\u751f\u6210circos\u56fe"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/circos%E5%8F%AF%E8%A7%86%E5%8C%96LTR%E7%9A%84%E7%9B%B8%E5%85%B3%E4%BF%A1%E6%81%AF/#ltr","text":"###Copia\u7c7b\u578b\u7684\u8f6c\u5ea7\u5b50 cat Spohua.fa.pass.list|grep Copia |cut -f1|tr : \"\\t\"|sed 's/\\.\\./\\t/g' >spo.Copia.bed ###Gypsy\u7c7b\u578b\u7684\u8f6c\u5ea7\u5b50 cat Spohua.fa.pass.list|grep Gypsy |cut -f1|tr : \"\\t\"|sed 's/\\.\\./\\t/g' >spo.Gypsy.bed ###\u4ecegff3\u6587\u4ef6\u83b7\u53d6\u57fa\u56e0\u7684\u4f4d\u7f6e\uff08\u57fa\u56e0\u5bc6\u5ea6\uff09 grep '[[:blank:]]gene[[:blank:]]' Spohua.genome.gff3 | cut -f 1,4,5 | awk '{print $1\"\\t\"$2\"\\t\"$3}'|grep Chr > genes.bed #\u5236\u4f5c\u6ed1\u52a8\u7a97 bedtools makewindows -g Spo.genome.txt -w 1000000 >Spo.windows #\u8bbe\u7f6ewindow\u4e3a1M ##\u83b7\u53d6\u8986\u76d6\u7387 bedtools coverage -a Spo.windows -b genes.bed |cut -f 1-4 >genes_num.txt bedtools coverage -a Spo.windows -b spo.Copia.bed |cut -f 1-4 >Copia_num.txt bedtools coverage -a Spo.windows -b spo.Gypsy.bed |cut -f 1-4 >Gypsy_num.txt ##\u51c6\u5907LAI\u7684\u6587\u4ef6\uff08windowssize\u4e3a300kb\uff09 cat Spohua.fa.out.LAI|cut -f 1,2,3,7 |sed '1,2d' >LAI_num.txt ###\u5b8c\u6574LTR\u7684\u767e\u5206\u6bd4\uff08\u6bcf\u4e2awindowsize\u7684\u5b8c\u6574LTR\u7684\u767e\u5206\u6bd4\uff09 cat Spohua.fa.out.LAI|awk '{print $1\"\\t\"$2\"\\t\"$3\"\\t\"$4*100}'|sed '1,2d' >full_LTR_num.txt ###\u6240\u6709LTR\u7684\u767e\u5206\u6bd4\uff08\u6bcf\u4e2awindowsize\u7684LTR\u7684\u767e\u5206\u6bd4\uff09 cat Spohua.fa.out.LAI|awk '{print $1\"\\t\"$2\"\\t\"$3\"\\t\"$5*100}'|sed '1,2d' >LTR_num.txt ##\u914d\u7f6e\u67d3\u8272\u4f53\u6587\u4ef6 cut -d ' ' -f 3,6 Spo.genome.txt | tr ' ' '\\t' > Spo.genome cat Spo.genome|awk '{print \"chr - \"$1\" \"$1\" 0 \"$2\" \"$1}' >karyotype.Spo.txt ##\u51c6\u5907\u5171\u7ebf\u6027\u6587\u4ef6 ####\u9700\u8981\u9884\u5148\u51c6\u5907 cds\uff0cpep,bed \u6587\u4ef6\u3002\u53c2\u8003[Jcvi\u7684\u4f7f\u7528](https://www.jianshu.com/p/37fed126777f)\u3002 #####\u4e00\u4e2a\u7269\u79cd\u5185\u90e8\u5171\u7ebf\u6027\u9700\u8981\u51c6\u5907\u4e00\u5957cds\uff0c\u86cb\u767dpep,bed\u6587\u4ef6\u5c31\u53ef\u4ee5\u4e86\u3002 python -m jcvi.compara.catalog ortholog --dbtype prot --no_strip_names Spo Spo #####\u4ece\u5171\u7ebf\u6027\u7684\u57fa\u56e0\u5bf9\uff0c\u63d0\u53d6\u6574\u5408\u6210circos\u7684bed\u683c\u5f0f\u3002 cat Spo.Spo.anchors |grep -v \\#| while read line; do gene_array=($line) gene1_pos=`fgrep ${gene_array[0]} Spo.bed|cut -f 1-3` gene2_pos=`fgrep ${gene_array[1]} Spo.bed|cut -f 1-3` bed=${gene1_pos}\" \"${gene2_pos} echo $bed >>Spo.coline_num.txt done ###\u628a\u67d3\u8272\u4f53\u4e2d\u7684Chr0\u8f6c\u6362\u6210Chr.(\u6240\u6709\u7684\u7528\u4e8ecircos\u753b\u56fe\u7684\u67d3\u8272\u4f53\u90fd\u9700\u8981\u6539\u6210Chr\u8fd9\u79cd\uff0c\u5426\u5219\uff0c\u9ed8\u8ba4\u7684circos\u4e0d\u4f1a\u8bc6\u522bChr01\u8fd9\u79cd\u683c\u5f0f) cat Spo.coline_num.txt |sed 's/Chr0/Chr/g' >coline_num.txt","title":"\u51c6\u5907\u53ef\u89c6\u5316LTR\u7684\u76f8\u5173\u6570\u636e"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/circos%E5%8F%AF%E8%A7%86%E5%8C%96LTR%E7%9A%84%E7%9B%B8%E5%85%B3%E4%BF%A1%E6%81%AF/#circos_4","text":"circos\u662f\u57fa\u4e8eperl\u5b9e\u73b0\u7684\uff0c\u53ea\u80fd\u7528\u6765\u753b\u56fe\uff0c\u5e76\u4e0d\u80fd\u5904\u7406\u6570\u636e\uff0c\u6240\u4ee5\u6570\u636e\u9700\u8981\u5148\u5236\u4f5c\u5b8c\u6210\u540e\uff0c\u624d\u80fd\u7528circos\u753b\u3002 \u914d\u7f6e\u6587\u4ef6\u5217\u8868 - karyotype.Spo.txt (\u67d3\u8272\u4f53\u957f\u5ea6\u914d\u7f6e\u6587\u4ef6) * - circos.conf (\u4e3b\u8981\u7684conf\u6587\u4ef6\uff0c\u753b\u56fe\u65f6\uff0c\u901a\u8fc7\u6b64\u6587\u4ef6\u6765\u8c03\u7528\u5176\u4ed6\u914d\u7f6e\u6587\u4ef6) - ticks.conf (\u523b\u5ea6\u63a7\u5236\u6587\u4ef6) - coline_num.txt \uff08\u5171\u7ebf\u6027\u6587\u4ef6\uff09 - GC_num.txt GC\uff08\u542b\u91cf\u6587\u4ef6\uff09 - full_LTR_num.txt \uff08 \u5b8c\u6574LTR\u7684\u767e\u5206\u6bd4\uff09 - Gypsy_num.txt (Gypsy\u7684\u767e\u5206\u6bd4) - LTR_num.txt (\u6240\u6709LTR\u7684\u767e\u5206\u6bd4) - Copia_num.txt(Copia\u7684\u767e\u5206\u6bd4) - genes_num.txt (\u57fa\u56e0\u5bc6\u5ea6) - LAI_num.txt(LAI\u7684\u5206\u5e03) \u6240\u6709\u4ee5 _num.txt \u7ed3\u5c3e\u7684\u90fd\u662f\u753b\u56fe\u7684\u6570\u636e\u6587\u4ef6\uff0c\u53ef\u4ee5\u6839\u636e\u5b9e\u9645\u9700\u8981\u7075\u6d3b\u589e\u5220\u3002 \u6807*\u7684\u662f\u5fc5\u987b\u6587\u4ef6\u3002\u5176\u4ed6\u662f\u9009\u914d\u6587\u4ef6\u3002 karyotype.Spo.txt\u6587\u4ef6\u5185\u5bb9\u5982\u4e0b chr - Chr1 Chr1 0 27519054 Chr1 chr - Chr2 Chr2 0 37982726 Chr2 chr - Chr3 Chr3 0 37451735 Chr3 chr - Chr4 Chr4 0 28204096 Chr4 chr - Chr5 Chr5 0 45635594 Chr5 chr - Chr6 Chr6 0 32349783 Chr6 chr - Chr7 Chr7 0 36685546 Chr7 chr - Chr8 Chr8 0 31371431 Chr8 chr - Chr9 Chr9 0 35059391 Chr9 chr - Chr10 Chr10 0 43700000 Chr10 chr - Chr11 Chr11 0 39651545 Chr11 chr - Chr12 Chr12 0 31915921 Chr12 chr - Chr13 Chr13 0 43197690 Chr13 chr - Chr14 Chr14 0 32136955 Chr14 chr - Chr15 Chr15 0 49422898 Chr15 chr - Chr16 Chr16 0 36480970 Chr16 chr - Chr17 Chr17 0 34479775 Chr17 ticks.conf\u6587\u4ef6\u5185\u5bb9\u5982\u4e0b\uff1a #\u523b\u5ea6ticks\u914d\u7f6e\u6587\u4ef6 chromosomes_units = 1000000 show_ticks = yes show_tick_labels = yes <ticks> radius = 1r color = black thickness = 2p multiplier = 1e-6 #\u8f93\u51fa\u7684\u6807\u7b7e\u4e3a\u5b9e\u9645\u957f\u5ea6\u4e0e\u5176\u76f8\u4e58 format = %d # %d\u8868\u793a\u663e\u793a\u6574\u6570 tick_separation = 3p #\u7ba1\u7406\u523b\u5ea6\u548c\u5916\u5708\u4e4b\u95f4\u7684\u8ddd\u79bb label_separation = 10p <tick> spacing = 1u size = 5p </tick> <tick> spacing = 5u size = 10p show_label = yes label_size = 10p label_offset = 10p format = %d </tick> </ticks> head coline_num.txt Chr1 2863127 2878319 Chr3 19253647 19258135 Chr1 3914355 3914748 Chr3 19905364 19905757 Chr1 3976083 3982656 Chr3 21062604 21067133 Chr1 4195280 4197605 Chr3 20801492 20805443 cat circos.conf #\u9996\u5c3e\u67d3\u8272\u4f53\u4e4b\u95f4\u6709\u95f4\u9694,\u6dfb\u52a0\u4e86\u5171\u7ebf\u6027\uff0c\u540c\u65f6\u8c03\u6574\u4e86\u534a\u5f84 karyotype = karyotype.Spo.txt #\u5b9a\u4e49\u57fa\u56e0\u7ec4\u7684\u67d3\u8272\u4f53\u5927\u5c0f\u6587\u4ef6 #chromosomes_color = Chr1=rdylbu-11-div-1,Chr2=rdylbu-11-div-3,Chr3=rdylbu-11-div-5,Chr4=rdylbu-11-div-7,Chr5=rdylbu-11-div-9 #\u5b9a\u4e49\u67d3\u8272\u4f53\u7684\u989c\u8272,\u67d3\u8272\u4f53\u540d\u79f0\u662fkaryotype.Spo.txt\u4e2d\u7b2c3\u5217\u7684\u540d\u79f0Chr1-17 <<include ticks.conf>> #\u5f15\u5165\u81ea\u5b9a\u4e49\u7684\u523b\u5ea6\u914d\u7f6e\u6587\u4ef6\uff0c\u76ee\u5f55\u662f\u76f8\u5bf9\u8def\u5f84 ##\u5171\u7ebf\u6027\u56fe <links> <link> file = coline_num.txt #\u5171\u7ebf\u6027\u6587\u4ef6 radius = 0.40r #\u5916\u5708\u534a\u5f84 color = blue_a4 #\u9ed8\u8ba4\u989c\u8272 thickness = 1p #\u5b9a\u4e49\u7ebf\u6761\u7684\u7c97\u7ec6 ribbon = yes ######rules\u6307\u5b9a\u7ebf\u6761\u7684\u989c\u8272\uff0c <rules> <rule> condition = var(chr1) eq \"Chr1\" #\u5171\u7ebf\u6027\u6587\u4ef6\u4e2d\uff0c\u5de6\u8fb9\u662fChr1\u7684\uff0c\u6307\u5b9a\u989c\u8272\u3002var(chr1)\u8fd9\u4e2a\u4e0d\u7528\u4fee\u6539\uff0c\u6307\u7684\u662ffile\u91cc\u5de6\u4fa7\u7b2c\u4e00\u4e2a\uff0c\u540e\u9762\u7684\u201cChr1\u201d\u6839\u636e\u5b9e\u9645\u7684Chr\u6765\u4fee\u6539\u3002 color = rdylgn-11-div-1 </rule> <rule> condition = var(chr1) eq \"Chr2\" color = rdylgn-11-div-2 </rule> <rule> condition = var(chr1) eq \"Chr3\" color = rdylgn-11-div-3 </rule> <rule> condition = var(chr1) eq \"Chr4\" color = rdylgn-11-div-4 </rule> <rule> condition = var(chr1) eq \"Chr5\" color = rdylgn-11-div-5 </rule> <rule> condition = var(chr1) eq \"Chr6\" color = rdylgn-11-div-6 </rule> <rule> condition = var(chr1) eq \"Chr7\" color = rdylgn-11-div-7 </rule> <rule> condition = var(chr1) eq \"Chr8\" color = rdylgn-11-div-8 </rule> <rule> condition = var(chr1) eq \"Chr9\" color = rdylgn-11-div-9 </rule> <rule> condition = var(chr1) eq \"Chr10\" color = rdylgn-11-div-10 </rule> <rule> condition = var(chr1) eq \"Chr11\" color = rdylgn-11-div-11 </rule> <rule> condition = var(chr1) eq \"Chr12\" color = rdylbu-9-div-1 </rule> <rule> condition = var(chr1) eq \"Chr13\" color = rdylbu-9-div-2 </rule> <rule> condition = var(chr1) eq \"Chr14\" color = rdylbu-9-div-3 </rule> <rule> condition = var(chr1) eq \"Chr15\" color = rdylbu-9-div-4 </rule> <rule> condition = var(chr1) eq \"Chr16\" color = rdylbu-9-div-5 </rule> <rule> condition = var(chr1) eq \"Chr17\" color = rdylbu-9-div-6 </rule> </rules> </link> </links> <plots> #\u5b8c\u6574\u7684LTR\u7684\u767e\u5206\u6bd4\u76f4\u65b9\u56fe <plot> type = histogram file = full_LTR_num.txt fill_color = 231,41,138 # \u586b\u5145\u8272 r1 = 0.50r r0 = 0.41r </plot> #LTR\u7684\u767e\u5206\u6bd4\u76f4\u65b9\u56fe <plot> type = histogram file = LTR_num.txt fill_color = 254,196,79 # \u586b\u5145\u8272 r1 = 0.60r r0 = 0.51r </plot> #Gypsy\u7684\u70ed\u56fe <plot> type = heatmap file = Gypsy_num.txt color = oranges-9-seq #\u586b\u5145\u8272\u5fc5\u987b\u662f\u4e00\u4e2alist\uff0c\u683c\u5f0f\u662f color = reds-9-seq \u6216\u8005color = red,green,blue r1 = 0.70r r0 = 0.61r </plot> #Copia\u7684\u70ed\u56fe <plot> type = heatmap file = Copia_num.txt color = reds-9-seq #\u586b\u5145\u8272 r1 = 0.80r r0 = 0.71r </plot> ##LAI\u7684\u6563\u70b9\u56fe \u53c2\u8003https://blog.csdn.net/weixin_43569478/article/details/83824929 <plot> type = scatter #\u6563\u70b9\u56fe fill_color = grey # \u70b9\u7684\u586b\u5145\u8272 stroke_color = black #\u8fb9\u6846\u7684\u989c\u8272 glyph = circle glyph_size = 3 # \u5143\u7d20\u5927\u5c0f file = LAI_num.txt r1 = 0.90r r0 = 0.81r #\u5212\u52063\u4e2a\u533a\u95f4\uff0c\u6bcf\u4e2a\u533a\u95f4\u4e0d\u540c\u7684\u989c\u8272\u3002\u7528\u4e8eLAI\u7684\u5212\u5206 <backgrounds> <background> color = vvlgreen y0 = 20 </background> <background> color = vlgrey y1 = 20 y0 = 10 </background> <background> color = vvlred y0 =10 </background> </backgrounds> ##\u8bbe\u7f6ey\u8f74\u523b\u5ea6\u7ebf <axes> <axis> color = lgreen thickness = 1p spacing = 0.05r y1 = 20 y0 = 10 </axis> </axes> </plot> ##\u57fa\u56e0\u5bc6\u5ea6\u76f4\u65b9\u56fe <plot> type = histogram file = genes_num.txt fill_color = blue # \u586b\u5145\u8272 r1 = 0.99r r0 = 0.91r </plot> </plots> <ideogram> <spacing> default = 0.005r #\u8bbe\u7f6e\u67d3\u8272\u4f53\u4e4b\u95f4\u7a7a\u51fa\u4e2a\u8ddd\u79bb\uff0c\u7528\u6765\u6807\u56fe\u4f8ba,b,c,d,e,f <pairwise Chr17;Chr1> #\u67d3\u8272\u4f53\u540d\u79f0\u662fkaryotype.Spo.txt\u4e2d\u7b2c3\u5217\u7684\u540d\u79f0\uff0c\u6839\u636e\u4f60\u5b9e\u9645\u7684\u7269\u79cd\u7b2c\u4e00\u6761\u548c\u6700\u540e\u4e00\u6761\u6765\u4fee\u6539\u6b64\u5904 spacing = 5r #\u8bbe\u7f6e\u7b2c\u4e00\u4e2a\u548c\u6700\u540e\u4e00\u4e2a\u67d3\u8272\u4f53\u4e2d\u95f4\u7a7a\u51fa5*default\uff080.005r\uff09\u7684\u8ddd\u79bb </pairwise> </spacing> radius = 0.85r #\u6307\u5b9a\u753b\u56fe\u7684\u534a\u5f84\uff08\u6b64\u534a\u5f84\u548cplots\u91cc\u7684\u534a\u5f84\u4e0d\u4e00\u81f4\uff0c\u8fd9\u4e2a\u662f\u603b\u76840.85r\uff0c\u51b3\u5b9a\u4e86\u6574\u4e2a\u5708\u56fe\u7684\u6700\u5927\u7684\u534a\u5f84,plots\u91cc\u76840.99r\u534a\u5f84\u662f\u4ee5\u8fd9\u4e2a0.85r\u4f5c\u4e3a100%\u6765\u5206\u914d99%\uff09 thickness = 10p #\u5750\u6807\u8f74\u7684\u67d3\u8272\u4f53\u7684\u539a\u5ea6 fill = yes show_bands = yes #\u8bbe\u7f6e\u67d3\u8272\u4f53\u6761\u5e26\u586b\u5145\uff0c\u5982\u679c\u4e0d\u60f3\u7528\u6761\u5e26\u586b\u5145\uff0c\u53ea\u7528\u989c\u8272\uff0c\u5c31\u8bbe\u7f6e\u4e3ano fill_bands = yes stroke_color = dgrey stroke_thickness = 2p show_label = yes #\u5c55\u793alabel label_font = default # \u5b57\u4f53 label_radius = dims(ideogram,radius) + 0.075r #\u4f4d\u7f6e label_size = 12 # \u5b57\u4f53\u5927\u5c0f label_parallel = yes # \u662f\u5426\u5e73\u884c label_format = eval(sprintf(\"%s\",var(chr))) # \u683c\u5f0f </ideogram> <image> # \u8986\u76d6\u5728 etc/image.conf \u4e2d\u5b9a\u4e49\u7684 angle_offset angle_offset* = -82 #\u6307\u5b9a\u65cb\u8f6c\u89d2\u5ea6\uff0c\u7528\u4e8e\u63d2\u5165\u56fe\u4f8b\u7684\u4f4d\u7f6e dir* = . #\u8f93\u51fa\u6587\u4ef6\u5939 radius* = 500p #\u56fe\u7247\u534a\u5f84 svg* = yes #\u662f\u5426\u8f93\u51fasvg,\u9ed8\u8ba4\u662fyes <<include etc/image.conf>> </image> <<include etc/colors_fonts_patterns.conf>> <<include etc/housekeeping.conf>> head GC_num.txt Chr1 0 1000000 38.8549 Chr1 1000000 2000000 38.1306 Chr1 2000000 3000000 37.9843 Chr1 3000000 4000000 37.4317 Chr1 4000000 5000000 37.967 Chr1 5000000 6000000 37.9894","title":"circos\u7684\u6587\u4ef6\u548c\u73af\u5883\u914d\u7f6e"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/circos%E5%8F%AF%E8%A7%86%E5%8C%96LTR%E7%9A%84%E7%9B%B8%E5%85%B3%E4%BF%A1%E6%81%AF/#circos_5","text":"There was a problem with True Type font support. Circos could not render text from the font file /share/home/miniconda3/envs/circos/bin/../fonts/modern/cmunrm.otf Please check that gd (system graphics library) and GD (Perl's interface to gd) are compiled with True Type support. \u8fd9\u79cd\u9700\u8981\u91cd\u65b0\u5b89\u88c5libGD\u548cGD wget https://github.com/libgd/libgd/releases/download/gd-2.3.1/libgd-2.3.1.tar.gz tar zxvf libgd-2.3.1.tar.gz cd libgd-2.3.1 ./configure curl -O http://www.ijg.org/files/jpegsrc.v8d.tar.gz tar -xzvf jpegsrc.v8d.tar.gz cd jpeg-8d ./configure --prefix=/path/to/jpeg-8d make make install #\u5b89\u88c5libpng curl -O ftp://ftp.simplesystems.org/pub/libpng/png/src/libpng16/libpng-1.6.2.tar.gz tar -xzvf libpng-1.6.2.tar.gz cd libpng-1.6.2.tar.gz ./configure --prefix=/path/to/jpeg-8d make -j8 make install #\u91cd\u65b0\u5b89\u88c5GD(\u4f7f\u7528cpanm\u5b89\u88c5) cpanm -f GD","title":"circos\u53ef\u80fd\u4f1a\u51fa\u73b0\u7684\u62a5\u9519"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/circos%E5%8F%AF%E8%A7%86%E5%8C%96LTR%E7%9A%84%E7%9B%B8%E5%85%B3%E4%BF%A1%E6%81%AF/#perl","text":"circos -modules \u68c0\u6d4b\u662f\u5426\u7f3a\u5c11perl\u6a21\u5757 cpanm GD #\u5b89\u88c5\u7f3a\u5c11\u7684GD\u6a21\u5757","title":"\u53ef\u80fd\u4f1a\u63d0\u793a\u7f3a\u5c11perl\u6a21\u5757"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/ggtreeExtra%E8%BF%9B%E5%8C%96%E6%A0%91%E7%9A%84%E5%9C%88%E5%9B%BE/","text":"circos\u753b\u56fe\u662f\u57fa\u4e8e\u67d3\u8272\u4f53\uff0c\u6309\u7167\u534a\u5f84\u6765\u7ed8\u5236\u7684\u3002\u4f46\u662f\u8fdb\u5316\u6811\u5e76\u4e0d\u662f\u57fa\u4e8e\u67d3\u8272\u4f53\uff0c\u57fa\u4e8e\u8fdb\u5316\u6811\u7684\u5708\u56fe\uff0c\u53ef\u4ee5\u6dfb\u52a0\u5176\u4ed6\u7684\u56fe\u5c42\u3002\u57fa\u4e8eggtree\u548cggplot2\u7684\u8fdb\u5316\u6811\u5708\u56fe\u5305ggtreeExtra\u53ef\u4ee5\u5b9e\u73b0\u8fd9\u4e2a\u529f\u80fd\u3002Y\u53d4\u51fa\u54c1\uff0c\u56fe\u6bd4\u8f83\u7f8e\u89c2\u3002 setwd(\"e:/bioinformation_center/Rcode/ggtreeExtra\") ##\u76ee\u7684\u662f\u753b\u8fdb\u5316\u6811\u548c\u70ed\u56fe library(ggtreeExtra) library(ggstar) library(ggplot2) library(ggtree) library(treeio) library(ggnewscale) #BiocManager::install(\"ggtreeExtra\") library(ggtreeExtra) # The path of tree file. trfile <- system.file(\"extdata\", \"tree.nwk\", package=\"ggtreeExtra\") # The path of file to plot tippoint. tippoint1 <- system.file(\"extdata\", \"tree_tippoint_bar.csv\", package=\"ggtreeExtra\") # The path of first layer outside of tree. ring1 <- system.file(\"extdata\", \"first_ring_discrete.csv\", package=\"ggtreeExtra\") # The path of second layer outside of tree. ring2 <- system.file(\"extdata\", \"second_ring_continuous.csv\", package=\"ggtreeExtra\") # The tree file was import using read.tree. If you have other format of tree, you can use corresponding function of treeio to read it. tree <- read.tree(trfile) # This dataset will to be plotted point and bar. dat1 <- read.csv(tippoint1) knitr::kable(head(dat1)) # This dataset will to be plotted heatmap dat2 <- read.csv(ring1) knitr::kable(head(dat2)) # This dataset will to be plotted heatmap dat3 <- read.csv(ring2) knitr::kable(head(dat3)) # The format of the datasets is the long shape for ggplot2. If you have short shape dataset, # you can use melt of reshape2 or pivot_longer of tidyr to convert it. # We use ggtree to create fan layout tree. p <- ggtree(tree, layout=\"circular\", open.angle=10, size=0.5) #> Scale for 'y' is already present. Adding another scale for 'y', which will #> replace the existing scale. p # Next, we can use %<+% of ggtree to add annotation dataset to tree. p1 <- p %<+% dat1 p1 # We use geom_star to add point layer outside of tree. p2 <- p1 + geom_star( mapping=aes(fill=Location, size=Length, starshape=Group), starstroke=0.2 ) + scale_size_continuous( range=c(1, 3), guide=guide_legend( keywidth=0.5, keyheight=0.5, override.aes=list(starshape=15), order=2) ) + scale_fill_manual( values=c(\"#F8766D\", \"#C49A00\", \"#53B400\", \"#00C094\", \"#00B6EB\", \"#A58AFF\", \"#FB61D7\"), guide=\"none\" # don't show the legend. ) + scale_starshape_manual( values=c(1, 15), guide=guide_legend( keywidth=0.5, # adjust width of legend keyheight=0.5, # adjust height of legend order=1 # adjust the order of legend for multiple legends. ), na.translate=FALSE # to remove the NA legend. ) p2 # Next, I will add a heatmap layer on the p2 using `geom_tile` of ggplot2. # Since I want to use fill to map some variable of dataset and the fill of p2 had been mapped. # So I need use `new_scale_fill` to initialize it. p3 <- p2 + new_scale_fill() + geom_fruit( data=dat2, geom=geom_tile, mapping=aes(y=ID, x=Pos, fill=Type), offset=0.08, # The distance between layers, default is 0.03 of x range of tree. pwidth=0.25, # width of the layer, default is 0.2 of x range of tree. axis.params=list( axis=\"x\", # add axis text of the layer. text.angle=-45, # the text size of axis. hjust=0 # adust the horizontal position of text of axis. ) ) + scale_fill_manual( values=c(\"#339933\", \"#dfac03\"), guide=guide_legend(keywidth=0.5, keyheight=0.5, order=3) ) p3 # We can also add heatmap layer for continuous values. p4 <- p3 + new_scale_fill() + geom_fruit( data=dat3, geom=geom_tile, mapping=aes(y=ID, x=Type2, alpha=Alpha, fill=Type2), pwidth=0.15, axis.params=list( axis=\"x\", # add axis text of the layer. text.angle=-45, # the text size of axis. hjust=0 # adust the horizontal position of text of axis. ) ) + scale_fill_manual( values=c(\"#b22222\", \"#005500\", \"#0000be\", \"#9f1f9f\"), guide=guide_legend(keywidth=0.5, keyheight=0.5, order=4) ) + scale_alpha_continuous( range=c(0.4, 0.8), # the range of alpha guide=guide_legend(keywidth=0.5, keyheight=0.5, order=5) ) p4 ##\u968f\u673a\u6811 # To reproduce. set.seed(1024) # generate 100 tip point tree. tr <- rtree(100) # I generate three datasets, which are the same except the third column name. dt <- data.frame(id=tr$tip.label, value=abs(rnorm(100)), group=c(rep(\"A\",50),rep(\"B\",50))) df <- dt dtf <- dt colnames(df)[[3]] <- \"group2\" colnames(dtf)[[3]] <- \"group3\" # plot tree p <- ggtree(tr, layout=\"fan\", open.angle=0) #> Scale for 'y' is already present. Adding another scale for 'y', which will #> replace the existing scale. p # the first ring. p1 <- p + geom_fruit( data=dt, geom=geom_bar, mapping=aes(y=id, x=value, fill=group), orientation=\"y\", stat=\"identity\" ) + new_scale_fill() p1 # the second ring # geom_fruit_list is a list, which first element must be layer of geom_fruit. p2 <- p1 + geom_fruit_list( geom_fruit( data = df, geom = geom_bar, mapping = aes(y=id, x=value, fill=group2), orientation = \"y\", stat = \"identity\" ), scale_fill_manual(values=c(\"orange\", \"red\")), # To map group2 new_scale_fill(), # To initialize fill scale. geom_fruit( data = dt, geom = geom_star, mapping = aes(y=id, x=value, fill=group), size = 2.5, color = NA, starstroke = 0 ) ) + new_scale_fill() p2 # The third ring p3 <- p2 + geom_fruit( data=dtf, geom=geom_bar, mapping = aes(y=id, x=value, fill=group3), orientation = \"y\", stat = \"identity\" ) + scale_fill_manual(values=c(\"#00AED7\", \"#009E73\")) p3","title":"ggtreeExtra\u8fdb\u5316\u6811\u7684\u5708\u56fe"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/iq-tree%E8%BF%9B%E5%8C%96%E6%A0%91%E7%9A%84%E6%9E%84%E5%BB%BA/","text":"\u53c2\u8003 https://zhuanlan.zhihu.com/p/164473497 \u5b89\u88c5\u8f6f\u4ef6 conda activate mmdetection conda install iqtree conda install muscle conda install bmge bmge\u4f7f\u7528\u53cd\u5e38\u7684\u547d\u4ee4\u67e5\u770b\u5e2e\u52a9 bmge -? findtree.sh\u5185\u5bb9\u5982\u4e0b\uff1a filename=$1 file=${filename/.fa/} #muscle\u6bd4\u5bf9 muscle -in ${filename} -out ${file}_muscle.fa #bmge #\u4f7f\u7528BMGE\u5bf9\u5e8f\u5217\u526a\u9f50 bmge -i ${file}_muscle.fa -t AA -of ${file}_muscle_trim.fa \u2013g 0.5 #\u4f7f\u7528ModelFinder\u5bfb\u627e\u6700\u4f18\u6a21\u578b\u5e76\u5efa\u6811 iqtree -s ${file}_muscle_trim.fa -m MF \u751f\u6210\u6700\u7ec8\u7684\u6587\u4ef6 bash findtree.sh genelist.pep.fa \u8f93\u5165\u6587\u4ef6\uff1agenelist.pep.fa \u662f\u76ee\u6807\u57fa\u56e0\u7684\u7f16\u7801\u7684\u6c28\u57fa\u9178\u7684fa\u683c\u5f0f\u7684\u6587\u4ef6\u3002\u91cc\u9762\u5305\u542b\u6240\u6709\u8981\u5206\u6790\u7684\u57fa\u56e0\u7684\u86cb\u767d\u5e8f\u5217\u6587\u4ef6\u3002\u5982\u679c\u662fDNA\u6216RNA\u6587\u4ef6\uff0c\u5219\u9700\u8981\u4fee\u6539bmge\u91cc\u7684 -t \u540e\u7684\u53c2\u6570\uff0cDNA\u5c31\u662f DNA ,\u86cb\u767d\u8d28\u662f AA \u8f93\u51fa\u6587\u4ef6\uff1a genelist.pep.fa.iqtree #\u91cc\u9762\u5305\u542b\u6240\u6709\u7684\u4fe1\u606f\uff0c\u4e5f\u5305\u542b\u6700\u7ec8\u9009\u62e9\u4f7f\u7528\u7684\u662f\u54ea\u79cd\u6a21\u578b\uff0c\u4f1a\u81ea\u52a8\u4f7f\u7528\u6700\u4f73\u6a21\u578b genelist.pep.fa.treefile #\u6700\u7ec8\u7684\u6811\u6587\u4ef6 \u8fdb\u5316\u6811\u7684\u53ef\u89c6\u5316\uff08figtree\u6216ggtree\uff09 figtree\u662f\u4e00\u4e2ajava\u7a0b\u5e8f\uff0c\u53ef\u76f4\u63a5\u5728window\u4e0a\u8fd0\u884c\u3002\u5bfc\u5165\u6587\u4ef6\uff0c\u540e\u7eed\u4fee\u4fee\u5c31\u53ef\u4ee5\u4e86\u3002 ggtree\u662fY\u53d4\u7684R\u5305\uff0c\u6bd4\u8f83\u590d\u6742\u3002 ggtree\u53ef\u89c6\u5316iqtree\u7684\u7ed3\u679c setwd(\"e:/tree/\") #BiocManager::install(\"ggtree\") library(\"ggtree\") library(\"phytools\") library(\"ggplot2\") if (!requireNamespace(\"BiocManager\", quietly = TRUE)) install.packages(\"BiocManager\") BiocManager::install(\"treeio\") #install.packages(\"./treeio_1.14.3.tar.gz\",repo=NULL,type=\"source\") library(\"treeio\") g50 <- read.tree(\"./genelist.pep.fa.treefile\") #ggtree\u5e03\u5c40\u5f62\u72b6\u53c2\u8003https://yulab-smu.top/treedata-book/chapter4.html #\u5706\u5f62\u5e03\u5c40 ggtree(g50,layout=\"circular\",branch.length='none',size=1)+ xlim(-1, NA)+geom_tree2()+geom_tiplab(aes(angle=angle),color='green')+ geom_hilight(node=12, fill='red',alpha=0.8,extend=5,type=\"rect\")+ geom_nodepoint(color=\"#b5e521\", alpha=1/4, size=10) #layout \u548cbranch.length\u63a7\u5236\u5f62\u72b6 #geom_tiplab \u63a7\u5236\u6700\u5916\u5708\u7684\u6807\u7b7e #geom_nodepoint \u63a7\u5236\u8282\u70b9\u7684\u989c\u8272\uff0c\u5f62\u72b6\uff0c\u900f\u660e\u5ea6 #\u5e38\u89c4\u68af\u5f62\u5e03\u5c40\uff0c\u53f3\u4fa7\u5bf9\u9f50 ggtree(g50,aes(colors=trait), branch.length=\"none\")+geom_hilight(node=12, color='green')+ geom_tiplab(as_ylab=TRUE, color='firebrick')","title":"Iq tree\u8fdb\u5316\u6811\u7684\u6784\u5efa"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/iq-tree%E8%BF%9B%E5%8C%96%E6%A0%91%E7%9A%84%E6%9E%84%E5%BB%BA/#_1","text":"","title":"\u53c2\u8003"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/iq-tree%E8%BF%9B%E5%8C%96%E6%A0%91%E7%9A%84%E6%9E%84%E5%BB%BA/#httpszhuanlanzhihucomp164473497","text":"","title":"https://zhuanlan.zhihu.com/p/164473497"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/iq-tree%E8%BF%9B%E5%8C%96%E6%A0%91%E7%9A%84%E6%9E%84%E5%BB%BA/#_2","text":"conda activate mmdetection conda install iqtree conda install muscle conda install bmge","title":"\u5b89\u88c5\u8f6f\u4ef6"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/iq-tree%E8%BF%9B%E5%8C%96%E6%A0%91%E7%9A%84%E6%9E%84%E5%BB%BA/#bmge-bmge-","text":"findtree.sh\u5185\u5bb9\u5982\u4e0b\uff1a filename=$1 file=${filename/.fa/} #muscle\u6bd4\u5bf9 muscle -in ${filename} -out ${file}_muscle.fa #bmge #\u4f7f\u7528BMGE\u5bf9\u5e8f\u5217\u526a\u9f50 bmge -i ${file}_muscle.fa -t AA -of ${file}_muscle_trim.fa \u2013g 0.5 #\u4f7f\u7528ModelFinder\u5bfb\u627e\u6700\u4f18\u6a21\u578b\u5e76\u5efa\u6811 iqtree -s ${file}_muscle_trim.fa -m MF","title":"bmge\u4f7f\u7528\u53cd\u5e38\u7684\u547d\u4ee4\u67e5\u770b\u5e2e\u52a9 bmge -?"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/iq-tree%E8%BF%9B%E5%8C%96%E6%A0%91%E7%9A%84%E6%9E%84%E5%BB%BA/#_3","text":"bash findtree.sh genelist.pep.fa \u8f93\u5165\u6587\u4ef6\uff1agenelist.pep.fa \u662f\u76ee\u6807\u57fa\u56e0\u7684\u7f16\u7801\u7684\u6c28\u57fa\u9178\u7684fa\u683c\u5f0f\u7684\u6587\u4ef6\u3002\u91cc\u9762\u5305\u542b\u6240\u6709\u8981\u5206\u6790\u7684\u57fa\u56e0\u7684\u86cb\u767d\u5e8f\u5217\u6587\u4ef6\u3002\u5982\u679c\u662fDNA\u6216RNA\u6587\u4ef6\uff0c\u5219\u9700\u8981\u4fee\u6539bmge\u91cc\u7684 -t \u540e\u7684\u53c2\u6570\uff0cDNA\u5c31\u662f DNA ,\u86cb\u767d\u8d28\u662f AA \u8f93\u51fa\u6587\u4ef6\uff1a genelist.pep.fa.iqtree #\u91cc\u9762\u5305\u542b\u6240\u6709\u7684\u4fe1\u606f\uff0c\u4e5f\u5305\u542b\u6700\u7ec8\u9009\u62e9\u4f7f\u7528\u7684\u662f\u54ea\u79cd\u6a21\u578b\uff0c\u4f1a\u81ea\u52a8\u4f7f\u7528\u6700\u4f73\u6a21\u578b genelist.pep.fa.treefile #\u6700\u7ec8\u7684\u6811\u6587\u4ef6","title":"\u751f\u6210\u6700\u7ec8\u7684\u6587\u4ef6"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/iq-tree%E8%BF%9B%E5%8C%96%E6%A0%91%E7%9A%84%E6%9E%84%E5%BB%BA/#figtreeggtree","text":"figtree\u662f\u4e00\u4e2ajava\u7a0b\u5e8f\uff0c\u53ef\u76f4\u63a5\u5728window\u4e0a\u8fd0\u884c\u3002\u5bfc\u5165\u6587\u4ef6\uff0c\u540e\u7eed\u4fee\u4fee\u5c31\u53ef\u4ee5\u4e86\u3002 ggtree\u662fY\u53d4\u7684R\u5305\uff0c\u6bd4\u8f83\u590d\u6742\u3002 ggtree\u53ef\u89c6\u5316iqtree\u7684\u7ed3\u679c setwd(\"e:/tree/\") #BiocManager::install(\"ggtree\") library(\"ggtree\") library(\"phytools\") library(\"ggplot2\") if (!requireNamespace(\"BiocManager\", quietly = TRUE)) install.packages(\"BiocManager\") BiocManager::install(\"treeio\") #install.packages(\"./treeio_1.14.3.tar.gz\",repo=NULL,type=\"source\") library(\"treeio\") g50 <- read.tree(\"./genelist.pep.fa.treefile\") #ggtree\u5e03\u5c40\u5f62\u72b6\u53c2\u8003https://yulab-smu.top/treedata-book/chapter4.html #\u5706\u5f62\u5e03\u5c40 ggtree(g50,layout=\"circular\",branch.length='none',size=1)+ xlim(-1, NA)+geom_tree2()+geom_tiplab(aes(angle=angle),color='green')+ geom_hilight(node=12, fill='red',alpha=0.8,extend=5,type=\"rect\")+ geom_nodepoint(color=\"#b5e521\", alpha=1/4, size=10) #layout \u548cbranch.length\u63a7\u5236\u5f62\u72b6 #geom_tiplab \u63a7\u5236\u6700\u5916\u5708\u7684\u6807\u7b7e #geom_nodepoint \u63a7\u5236\u8282\u70b9\u7684\u989c\u8272\uff0c\u5f62\u72b6\uff0c\u900f\u660e\u5ea6 #\u5e38\u89c4\u68af\u5f62\u5e03\u5c40\uff0c\u53f3\u4fa7\u5bf9\u9f50 ggtree(g50,aes(colors=trait), branch.length=\"none\")+geom_hilight(node=12, color='green')+ geom_tiplab(as_ylab=TRUE, color='firebrick')","title":"\u8fdb\u5316\u6811\u7684\u53ef\u89c6\u5316\uff08figtree\u6216ggtree\uff09"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E4%BD%BF%E7%94%A8WGD%E9%89%B4%E5%AE%9A%E5%85%A8%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%A4%8D%E5%88%B6/","text":"\u8f6c\u8f7d\u81ea\u94fe\u63a5\uff1ahttps://www.jianshu.com/p/3cfeb49c821a \u53e4\u8001WGD\u68c0\u6d4b\u6709\u4e24\u79cd\u65b9\u6cd5\uff0c\u4e00\u79cd\u662f\u5171\u7ebf\u6027\u5206\u6790\uff0c\u53e6\u4e00\u79cd\u5219\u662f\u6839\u636eKs\u5206\u5e03\u56fe\u3002\u5176\u4e2dKs\u5b9a\u4e49\u4e3a\u5e73\u5747\u6bcf\u4e2a\u540c\u4e49\u4f4d\u70b9\u4e0a\u7684\u540c\u4e49\u7f6e\u6362\u6570\uff0c\u4e0e\u5176\u5bf9\u5e94\u7684\u8fd8\u6709\u4e00\u4e2aKa\uff0c\u6307\u7684\u662f\u5e73\u5747\u6bcf\u4e2a\u975e\u540c\u4e49\u4f4d\u70b9\u4e0a\u7684\u975e\u540c\u4e49\u7f6e\u6362\u6570\u3002 \u5982\u679c\u6ca1\u6709WGD\u6216\u662f\u5927\u7247\u6bb5\u91cd\u590d\uff0c\u90a3\u4e48\u57fa\u56e0\u7ec4\u4e2d\u7684\u65c1\u7cfb\u540c\u6e90\u57fa\u56e0\u7684\u540c\u4e49\u7f6e\u6362\u7b26\u5408\u6307\u6570\u5206\u5e03(exponential distribution), \u53cd\u4e4b\uff0cKs\u5206\u5e03\u56fe\u4e2d\u5c31\u4f1a\u51fa\u73b0\u4e00\u4e2a\u7531\u4e8eWGD\u5bfc\u81f4\u7684\u6b63\u6001\u5206\u5e03\u5cf0(normal distributed peak). \u800c\u53e4\u8001WGD\u7684\u5e74\u9f84\u5219\u53ef\u901a\u8fc7\u5206\u6790\u8fd9\u4e9b\u5cf0\u4e2d\u7684\u540c\u6e90\u7f6e\u6362\u6570\u76ee\u6765\u9884\u6d4b(Tiley et al., 2018)\u3002 wgd\u662f\u4e00\u4e2a\u5206\u6790\u6d41\u7a0b\u8f6f\u4ef6\uff0c\u901a\u8fc7\u8c03\u7528\u5404\u79cd\u5de5\u5177\u8f6f\u4ef6\u6765\u5b9e\u73b0\u7684\u3002 WGD\u5b89\u88c5\u4f7f\u7528 \u53c2\u8003\u5730\u5740 wgd githubs wgd\u8fdb\u884c\u5168\u57fa\u56e0\u7ec4\u590d\u5236\u5206\u6790 conda create -n wgd python=3.7 diamond blast mcl muscle mafft prank paml fasttree cmake libpng mpi=1.0=mpich conda activate wgd i-adhore\u4e0b\u8f7d\u5730\u5740 \u5b89\u88c5i-adhore-3.0.01\uff0c \u5148\u7528 which conda \u67e5\u770b\u4f60\u7684conda\u7684\u8def\u5f84\uff0c\u4fee\u6539prefix\uff0c\u6216\u8005\u662f\u6b63\u5e38\u5b89\u88c5\uff0c\u4e4b\u540e\u6dfb\u52a0\u73af\u5883\u53d8\u91cf\u4e5f\u884c\u3002 tar -zxvf i-adhore-3.0.01.tar.gz cd i-adhore-3.0.01 mkdir -p build && cd build cmake .. -DCMAKE_INSTALL_PREFIX=~/miniconda3/envs/wgd/ make -j 4 make install \u76ee\u524d\u7248\u672cwgd\u8981\u6c42python>=3.6 \u4ecegithub\u4e0b\u8f7dwgd\u7684 zip\u6587\u4ef6 \u5b89\u88c5wgd unzip wgd.zip cd wgd cd wgd pip install . dmd:\u529f\u80fd\u548cmcl\u4e00\u6837\uff0c\u65b0\u63a8\u51fa\u7684\u529f\u80fd\uff0c\u6bd4\u5bf9\u57fa\u4e8ediamond\uff0c\u901f\u5ea6\u6bd4blast\u5feb\u3002 kde: \u5bf9Ks\u5206\u5e03\u8fdb\u884cKDE\u62df\u5408 ksd : Ks\u5206\u5e03\u6784\u5efa mcl:All-vs-ALl\u7684BLASP\u6bd4\u5bf9 + MCL\u5206\u7c7b\u5206\u6790. mix: Ks\u5206\u5e03\u7684\u6df7\u5408\u5efa\u6a21. pre: \u5bf9CDS\u6587\u4ef6\u8fdb\u884c\u9884\u5904\u7406 syn: \u8c03\u7528I-ADHoRe 3.0\u5229\u7528GFF\u6587\u4ef6\u8fdb\u884c\u5171\u7ebf\u6027\u5206\u6790 viz: \u7ed8\u5236\u67f1\u72b6\u56fe\u548c\u5bc6\u5ea6\u56fe wf1: \u5168\u57fa\u56e0\u7ec4\u65c1\u7cfb\u540c\u6e90\u57fa\u56e0\u7ec4(paranome)\u7684Ks\u6807\u51c6\u5206\u6790\u6d41\u7a0b\uff0c\u8c03\u7528mcl, ksd\u548csyn wf2: one-vs-one \u540c\u6e90\u57fa\u56e0(ortholog)\u7684Ks\u6807\u51c6\u5206\u6790\u6d41\u7a0b\uff0c\u8c03\u7528wcl\u548cksd WGD\u4f7f\u7528\u793a\u4f8b \u8f93\u5165\u6587\u4ef6\u51c6\u5907 \u7269\u79cd\u57fa\u56e0\u7ec4\u7684snail.cds.fa\u6587\u4ef6\u3001snail.gff3\u6587\u4ef6 \u4e00\u6b65\u5230\u4f4d\u5206\u6790\u6cd5 \u76f4\u63a5mcl+ksd+syn(\u5355\u7269\u79cd\u81ea\u8eab\u5206\u6790) wgd wf1 -gff snail.gff3 -n 48 snail.cds.fa snail_wgd_out \u53c2\u6570\uff1a-n \u6307\u5b9a\u8fdb\u7a0b\u6570\u91cf48\uff0c snail_wgd_out\u662f\u8f93\u51fa\u76ee\u5f55 gff3\u6587\u4ef6\u548ccds\u6587\u4ef6 2\u4e2a\u7269\u79cd\u6bd4\u8f83\u5206\u6790\uff08wcl+ksd\uff09 wgd wf2 -n 48 snail.fasta whale.fasta snail_vs_whale_ks_out \u53c2\u6570\uff1a\u6ca1\u6709\u505asyn,\u6240\u4ee5\u4e0d\u9700\u8981gff3.\u53ef\u4ee5\u540e\u7eed\u81ea\u5df1\u505asyn \u53ef\u89c6\u5316 wgd kde wgd_ksd/sample.cds.fasta.ks.tsv #Ks\u76f4\u65b9\u56fe\u548c\u62df\u5408\u66f2\u7ebf(\u81ea\u5e26\u7684\u4f5c\u56fe\u7b97\u6cd5\uff0c\u5f88\u4e11) getKaKs.R \u811a\u672c\uff0c\u53ea\u9700\u8981\u4fee\u6539\u5de5\u4f5c\u76ee\u5f55\u548c\u8f93\u5165\u7684tsv\u6587\u4ef6\u540d\u3002 Rscript getKaKs.R \u5185\u5bb9\u5982\u4e0b setwd(\"./wgd_ksd\") library(\"ggplot2\") #\u8bfb\u53d6wgd-ksd\u4ea7\u51fa\u7684\u6587\u4ef6 data_kaks <- read.table(\"snail.cds.fa.ks.tsv\",header = TRUE,fill=TRUE,na.strings = \"\") #\u5220\u9664\u5305\u542bNA\u7684\u884c #data_kaks <- na.omit(data_kaks) ##Ks p0 <- ggplot(data=data_kaks, aes(x=Ks)) + geom_density(alpha=0.4,color=\"red\")+ xlab('Ks value')+ylab('Density')+ xlim(0,15) #\u8bbe\u7f6ex\u7684\u6700\u5927\u503c p0 ggsave('wgd_Ks.pdf',dpi=300) ##Ka p1 <- ggplot(data=data_kaks, aes(x=Ka)) + geom_density(alpha=0.4,color=\"green\")+ xlab('Ka value')+ylab('Density')+xlim(0,2) #labs(title = \"Distribution of Ka distances\", size = 1.5)+guides() p1 ggsave('wgd_Ka.pdf',dpi=300) ##Ka/Ks data_kaks <- na.omit(data_kaks) data_kaks$Ka.Ks <- data_kaks$Ka/data_kaks$Ks p2 <- ggplot(data=data_kaks, aes(x=Ka.Ks)) + geom_density(alpha=0.4,color=\"orange\")+ xlab('Ka/Ks value')+ylab('Density')+xlim(0,2) p2 ggsave('wgd_KaKs.pdf',dpi=300) ##\u8ba1\u7b97\u590d\u5236\u65f6\u95f4divergence date\u6839\u636e\u516c\u5f0fT(divergence date)=Ks/(2*r) r=7*10^-9 ###r=7*10^-9 \u53c2\u8003https://science.sciencemag.org/content/327/5961/92 r <- 7*10^-9 data_kaks$Time <- (data_kaks$Ks/(2*r))/10^6 p3 <- ggplot(data=data_kaks, aes(x=Time)) + geom_density(alpha=0.4,color = \"blue\")+xlab('Million years ago (MYA)')+ylab('Density')+xlim(0,500) p3 ggsave('Age distribution of wgd.pdf',dpi=300) ##\u62fc\u56fe p4 <- cowplot::plot_grid(p0,p1,p2,p3,nrow=2,labels = c(\"a\",\"b\",\"c\",\"d\")) #nrow \u6307\u5b9a2\u884c p4 ggsave(\"wgd_kaks_mya.pdf\",dpi=300) ~~ \u540e\u7eed\u8fd8\u6709\u5171\u7ebf\u6027\u7684\u53ef\u89c6\u5316\uff08\u5f85\u7eed\uff09 ~~ wgd\u8fd9\u4e2a\u7a0b\u5e8f\u5f00\u53d1\u8005\uff0c\u771f\u662f\u4e3a\u7528\u6237\u64cd\u788e\u4e86\u5fc3\u3002\u811a\u672c\u90fd\u4e0d\u7528\u5199\uff0c\u4e00\u53e5\u8bdd\u76f4\u63a5\u51fa\u7ed3\u679c\u3002\u96be\u70b9\u5c31\u662f\u4f9d\u8d56\u8f6f\u4ef6\u7684\u5b89\u88c5\uff0c\u5b89\u88c5\u4f9d\u8d56\u8f6f\u4ef6\u53ef\u80fd\u4f1a\u62a5\u4e00\u5806\u9519\u8bef\u3002 \u5206\u6b65\u5206\u6790\u6cd5 \u67e5\u627e\u57fa\u56e0\u7ec4\u5185\u90e8\u540c\u6e90\u57fa\u56e0 wgd mcl -n 20 --cds --mcl -s sample.cds.fasta -o sample_cds.out # -n: \u7ebf\u7a0b # --cds: \u8f93\u5165\u4e3acds # --mcl: mcl\u805a\u7c7b \u8f93\u51fa\u7ed3\u679c\u5728sample_cds.out\uff0c\u6709\u4e24\u4e2a\u7ed3\u679c\u8f93\u51fa blast.tsv: BLASTP\u7684outfmt6\u8f93\u51fa\u7ed3\u679c blast.tsv.mcl: MCL\u805a\u7c7b\u7ed3\u679c\uff0c\u6bcf\u4e00\u884c\u53ef\u4ee5\u8ba4\u4e3a\u662f\u4e00\u4e2a\u57fa\u56e0\u5bb6\u65cf(gene family) \u4f7f\u7528wgd ksd\u6784\u5efaKs\u5206\u5e03 wgd ksd -n 80 sample_cds.out/sample.cds.fasta.blast.tsv.mcl sample.cds.fasta \u8f93\u51fa\u7ed3\u679c\u5728\u9ed8\u8ba4\u5728wgd_ksd\u76ee\u5f55\u4e0b ks.tsv: \u6bcf\u4e2a\u57fa\u56e0\u5bb6\u65cf\u4e2d\u57fa\u56e0\u5bf9\u7684\u5404\u9879\u7edf\u8ba1\uff0c\u5176\u4e2d\u5305\u62ecKa\u548cKs ks.svg: Ks\u5206\u5e03 \u4f7f\u7528wgd syn\u8fdb\u884c\u5171\u7ebf\u6027\u5206\u6790 wgd syn -feature gene --gene_attribute ID \\ -ks wgd_ksd/sample.cds.fasta.ks.tsv \\ sample.gff3 sample_cds.out/sample.cds.fasta.blast.tsv.mcl #--feature: \u4ece\u7b2c\u4e09\u5217\u9009\u62e9\u7279\u5f81 #--gene_attribute: \u4ece\u7b2c\u4e5d\u5217\u63d0\u53d6\u7f16\u53f7 Ks\u7684\u4e0b\u6e38\u5206\u6790\u901a\u5e38\u8fd8\u5305\u62ec\u5bf9Ks\u5206\u5e03\u7684\u7edf\u8ba1\u5efa\u6a21\uff0c\u8fd9\u53ef\u4ee5\u4f7f\u7528wgd kde\u8fdb\u884c\u6838\u5bc6\u5ea6\u62df\u5408(Kernel density estimate, KDE)\u6216\u7528wgd mix\u5efa\u7acb\u9ad8\u65af\u6df7\u5408\u6a21\u578b(Gaussian mixture models) wgd\u5b89\u88c5\u4e2d\u62a5\u9519\u89e3\u51b3\u65b9\u6848 blast\u4e2dmakeblastdb \u547d\u4ee4\u63d0\u793a\u7f3a\u5c11 libssl.so.1.0.0 error while loading shared libraries: libssl.so.1.0.0: cannot open shared object file: No such file or directory \u89e3\u51b3\u529e\u6cd5\uff1a conda install -c bioconda rgi openssl=1.0","title":"\u4f7f\u7528WGD\u9274\u5b9a\u5168\u57fa\u56e0\u7ec4\u590d\u5236"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E4%BD%BF%E7%94%A8WGD%E9%89%B4%E5%AE%9A%E5%85%A8%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%A4%8D%E5%88%B6/#httpswwwjianshucomp3cfeb49c821a","text":"\u53e4\u8001WGD\u68c0\u6d4b\u6709\u4e24\u79cd\u65b9\u6cd5\uff0c\u4e00\u79cd\u662f\u5171\u7ebf\u6027\u5206\u6790\uff0c\u53e6\u4e00\u79cd\u5219\u662f\u6839\u636eKs\u5206\u5e03\u56fe\u3002\u5176\u4e2dKs\u5b9a\u4e49\u4e3a\u5e73\u5747\u6bcf\u4e2a\u540c\u4e49\u4f4d\u70b9\u4e0a\u7684\u540c\u4e49\u7f6e\u6362\u6570\uff0c\u4e0e\u5176\u5bf9\u5e94\u7684\u8fd8\u6709\u4e00\u4e2aKa\uff0c\u6307\u7684\u662f\u5e73\u5747\u6bcf\u4e2a\u975e\u540c\u4e49\u4f4d\u70b9\u4e0a\u7684\u975e\u540c\u4e49\u7f6e\u6362\u6570\u3002 \u5982\u679c\u6ca1\u6709WGD\u6216\u662f\u5927\u7247\u6bb5\u91cd\u590d\uff0c\u90a3\u4e48\u57fa\u56e0\u7ec4\u4e2d\u7684\u65c1\u7cfb\u540c\u6e90\u57fa\u56e0\u7684\u540c\u4e49\u7f6e\u6362\u7b26\u5408\u6307\u6570\u5206\u5e03(exponential distribution), \u53cd\u4e4b\uff0cKs\u5206\u5e03\u56fe\u4e2d\u5c31\u4f1a\u51fa\u73b0\u4e00\u4e2a\u7531\u4e8eWGD\u5bfc\u81f4\u7684\u6b63\u6001\u5206\u5e03\u5cf0(normal distributed peak). \u800c\u53e4\u8001WGD\u7684\u5e74\u9f84\u5219\u53ef\u901a\u8fc7\u5206\u6790\u8fd9\u4e9b\u5cf0\u4e2d\u7684\u540c\u6e90\u7f6e\u6362\u6570\u76ee\u6765\u9884\u6d4b(Tiley et al., 2018)\u3002 wgd\u662f\u4e00\u4e2a\u5206\u6790\u6d41\u7a0b\u8f6f\u4ef6\uff0c\u901a\u8fc7\u8c03\u7528\u5404\u79cd\u5de5\u5177\u8f6f\u4ef6\u6765\u5b9e\u73b0\u7684\u3002","title":"\u8f6c\u8f7d\u81ea\u94fe\u63a5\uff1ahttps://www.jianshu.com/p/3cfeb49c821a"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E4%BD%BF%E7%94%A8WGD%E9%89%B4%E5%AE%9A%E5%85%A8%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%A4%8D%E5%88%B6/#wgd-wgd-githubs","text":"wgd\u8fdb\u884c\u5168\u57fa\u56e0\u7ec4\u590d\u5236\u5206\u6790 conda create -n wgd python=3.7 diamond blast mcl muscle mafft prank paml fasttree cmake libpng mpi=1.0=mpich conda activate wgd i-adhore\u4e0b\u8f7d\u5730\u5740 \u5b89\u88c5i-adhore-3.0.01\uff0c \u5148\u7528 which conda \u67e5\u770b\u4f60\u7684conda\u7684\u8def\u5f84\uff0c\u4fee\u6539prefix\uff0c\u6216\u8005\u662f\u6b63\u5e38\u5b89\u88c5\uff0c\u4e4b\u540e\u6dfb\u52a0\u73af\u5883\u53d8\u91cf\u4e5f\u884c\u3002 tar -zxvf i-adhore-3.0.01.tar.gz cd i-adhore-3.0.01 mkdir -p build && cd build cmake .. -DCMAKE_INSTALL_PREFIX=~/miniconda3/envs/wgd/ make -j 4 make install \u76ee\u524d\u7248\u672cwgd\u8981\u6c42python>=3.6 \u4ecegithub\u4e0b\u8f7dwgd\u7684 zip\u6587\u4ef6 \u5b89\u88c5wgd unzip wgd.zip cd wgd cd wgd pip install . dmd:\u529f\u80fd\u548cmcl\u4e00\u6837\uff0c\u65b0\u63a8\u51fa\u7684\u529f\u80fd\uff0c\u6bd4\u5bf9\u57fa\u4e8ediamond\uff0c\u901f\u5ea6\u6bd4blast\u5feb\u3002 kde: \u5bf9Ks\u5206\u5e03\u8fdb\u884cKDE\u62df\u5408 ksd : Ks\u5206\u5e03\u6784\u5efa mcl:All-vs-ALl\u7684BLASP\u6bd4\u5bf9 + MCL\u5206\u7c7b\u5206\u6790. mix: Ks\u5206\u5e03\u7684\u6df7\u5408\u5efa\u6a21. pre: \u5bf9CDS\u6587\u4ef6\u8fdb\u884c\u9884\u5904\u7406 syn: \u8c03\u7528I-ADHoRe 3.0\u5229\u7528GFF\u6587\u4ef6\u8fdb\u884c\u5171\u7ebf\u6027\u5206\u6790 viz: \u7ed8\u5236\u67f1\u72b6\u56fe\u548c\u5bc6\u5ea6\u56fe wf1: \u5168\u57fa\u56e0\u7ec4\u65c1\u7cfb\u540c\u6e90\u57fa\u56e0\u7ec4(paranome)\u7684Ks\u6807\u51c6\u5206\u6790\u6d41\u7a0b\uff0c\u8c03\u7528mcl, ksd\u548csyn wf2: one-vs-one \u540c\u6e90\u57fa\u56e0(ortholog)\u7684Ks\u6807\u51c6\u5206\u6790\u6d41\u7a0b\uff0c\u8c03\u7528wcl\u548cksd","title":"WGD\u5b89\u88c5\u4f7f\u7528 \u53c2\u8003\u5730\u5740 wgd githubs"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E4%BD%BF%E7%94%A8WGD%E9%89%B4%E5%AE%9A%E5%85%A8%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%A4%8D%E5%88%B6/#wgd","text":"\u8f93\u5165\u6587\u4ef6\u51c6\u5907 \u7269\u79cd\u57fa\u56e0\u7ec4\u7684snail.cds.fa\u6587\u4ef6\u3001snail.gff3\u6587\u4ef6","title":"WGD\u4f7f\u7528\u793a\u4f8b"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E4%BD%BF%E7%94%A8WGD%E9%89%B4%E5%AE%9A%E5%85%A8%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%A4%8D%E5%88%B6/#_1","text":"","title":"\u4e00\u6b65\u5230\u4f4d\u5206\u6790\u6cd5"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E4%BD%BF%E7%94%A8WGD%E9%89%B4%E5%AE%9A%E5%85%A8%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%A4%8D%E5%88%B6/#mclksdsyn","text":"wgd wf1 -gff snail.gff3 -n 48 snail.cds.fa snail_wgd_out \u53c2\u6570\uff1a-n \u6307\u5b9a\u8fdb\u7a0b\u6570\u91cf48\uff0c snail_wgd_out\u662f\u8f93\u51fa\u76ee\u5f55 gff3\u6587\u4ef6\u548ccds\u6587\u4ef6","title":"\u76f4\u63a5mcl+ksd+syn(\u5355\u7269\u79cd\u81ea\u8eab\u5206\u6790)"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E4%BD%BF%E7%94%A8WGD%E9%89%B4%E5%AE%9A%E5%85%A8%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%A4%8D%E5%88%B6/#2wclksd","text":"wgd wf2 -n 48 snail.fasta whale.fasta snail_vs_whale_ks_out \u53c2\u6570\uff1a\u6ca1\u6709\u505asyn,\u6240\u4ee5\u4e0d\u9700\u8981gff3.\u53ef\u4ee5\u540e\u7eed\u81ea\u5df1\u505asyn","title":"2\u4e2a\u7269\u79cd\u6bd4\u8f83\u5206\u6790\uff08wcl+ksd\uff09"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E4%BD%BF%E7%94%A8WGD%E9%89%B4%E5%AE%9A%E5%85%A8%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%A4%8D%E5%88%B6/#_2","text":"wgd kde wgd_ksd/sample.cds.fasta.ks.tsv #Ks\u76f4\u65b9\u56fe\u548c\u62df\u5408\u66f2\u7ebf(\u81ea\u5e26\u7684\u4f5c\u56fe\u7b97\u6cd5\uff0c\u5f88\u4e11) getKaKs.R \u811a\u672c\uff0c\u53ea\u9700\u8981\u4fee\u6539\u5de5\u4f5c\u76ee\u5f55\u548c\u8f93\u5165\u7684tsv\u6587\u4ef6\u540d\u3002 Rscript getKaKs.R \u5185\u5bb9\u5982\u4e0b setwd(\"./wgd_ksd\") library(\"ggplot2\") #\u8bfb\u53d6wgd-ksd\u4ea7\u51fa\u7684\u6587\u4ef6 data_kaks <- read.table(\"snail.cds.fa.ks.tsv\",header = TRUE,fill=TRUE,na.strings = \"\") #\u5220\u9664\u5305\u542bNA\u7684\u884c #data_kaks <- na.omit(data_kaks) ##Ks p0 <- ggplot(data=data_kaks, aes(x=Ks)) + geom_density(alpha=0.4,color=\"red\")+ xlab('Ks value')+ylab('Density')+ xlim(0,15) #\u8bbe\u7f6ex\u7684\u6700\u5927\u503c p0 ggsave('wgd_Ks.pdf',dpi=300) ##Ka p1 <- ggplot(data=data_kaks, aes(x=Ka)) + geom_density(alpha=0.4,color=\"green\")+ xlab('Ka value')+ylab('Density')+xlim(0,2) #labs(title = \"Distribution of Ka distances\", size = 1.5)+guides() p1 ggsave('wgd_Ka.pdf',dpi=300) ##Ka/Ks data_kaks <- na.omit(data_kaks) data_kaks$Ka.Ks <- data_kaks$Ka/data_kaks$Ks p2 <- ggplot(data=data_kaks, aes(x=Ka.Ks)) + geom_density(alpha=0.4,color=\"orange\")+ xlab('Ka/Ks value')+ylab('Density')+xlim(0,2) p2 ggsave('wgd_KaKs.pdf',dpi=300) ##\u8ba1\u7b97\u590d\u5236\u65f6\u95f4divergence date\u6839\u636e\u516c\u5f0fT(divergence date)=Ks/(2*r) r=7*10^-9 ###r=7*10^-9 \u53c2\u8003https://science.sciencemag.org/content/327/5961/92 r <- 7*10^-9 data_kaks$Time <- (data_kaks$Ks/(2*r))/10^6 p3 <- ggplot(data=data_kaks, aes(x=Time)) + geom_density(alpha=0.4,color = \"blue\")+xlab('Million years ago (MYA)')+ylab('Density')+xlim(0,500) p3 ggsave('Age distribution of wgd.pdf',dpi=300) ##\u62fc\u56fe p4 <- cowplot::plot_grid(p0,p1,p2,p3,nrow=2,labels = c(\"a\",\"b\",\"c\",\"d\")) #nrow \u6307\u5b9a2\u884c p4 ggsave(\"wgd_kaks_mya.pdf\",dpi=300) ~~ \u540e\u7eed\u8fd8\u6709\u5171\u7ebf\u6027\u7684\u53ef\u89c6\u5316\uff08\u5f85\u7eed\uff09 ~~ wgd\u8fd9\u4e2a\u7a0b\u5e8f\u5f00\u53d1\u8005\uff0c\u771f\u662f\u4e3a\u7528\u6237\u64cd\u788e\u4e86\u5fc3\u3002\u811a\u672c\u90fd\u4e0d\u7528\u5199\uff0c\u4e00\u53e5\u8bdd\u76f4\u63a5\u51fa\u7ed3\u679c\u3002\u96be\u70b9\u5c31\u662f\u4f9d\u8d56\u8f6f\u4ef6\u7684\u5b89\u88c5\uff0c\u5b89\u88c5\u4f9d\u8d56\u8f6f\u4ef6\u53ef\u80fd\u4f1a\u62a5\u4e00\u5806\u9519\u8bef\u3002","title":"\u53ef\u89c6\u5316"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E4%BD%BF%E7%94%A8WGD%E9%89%B4%E5%AE%9A%E5%85%A8%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%A4%8D%E5%88%B6/#_3","text":"","title":"\u5206\u6b65\u5206\u6790\u6cd5"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E4%BD%BF%E7%94%A8WGD%E9%89%B4%E5%AE%9A%E5%85%A8%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%A4%8D%E5%88%B6/#_4","text":"wgd mcl -n 20 --cds --mcl -s sample.cds.fasta -o sample_cds.out # -n: \u7ebf\u7a0b # --cds: \u8f93\u5165\u4e3acds # --mcl: mcl\u805a\u7c7b \u8f93\u51fa\u7ed3\u679c\u5728sample_cds.out\uff0c\u6709\u4e24\u4e2a\u7ed3\u679c\u8f93\u51fa blast.tsv: BLASTP\u7684outfmt6\u8f93\u51fa\u7ed3\u679c blast.tsv.mcl: MCL\u805a\u7c7b\u7ed3\u679c\uff0c\u6bcf\u4e00\u884c\u53ef\u4ee5\u8ba4\u4e3a\u662f\u4e00\u4e2a\u57fa\u56e0\u5bb6\u65cf(gene family)","title":"\u67e5\u627e\u57fa\u56e0\u7ec4\u5185\u90e8\u540c\u6e90\u57fa\u56e0"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E4%BD%BF%E7%94%A8WGD%E9%89%B4%E5%AE%9A%E5%85%A8%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%A4%8D%E5%88%B6/#wgd-ksdks","text":"wgd ksd -n 80 sample_cds.out/sample.cds.fasta.blast.tsv.mcl sample.cds.fasta \u8f93\u51fa\u7ed3\u679c\u5728\u9ed8\u8ba4\u5728wgd_ksd\u76ee\u5f55\u4e0b ks.tsv: \u6bcf\u4e2a\u57fa\u56e0\u5bb6\u65cf\u4e2d\u57fa\u56e0\u5bf9\u7684\u5404\u9879\u7edf\u8ba1\uff0c\u5176\u4e2d\u5305\u62ecKa\u548cKs ks.svg: Ks\u5206\u5e03","title":"\u4f7f\u7528wgd ksd\u6784\u5efaKs\u5206\u5e03"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E4%BD%BF%E7%94%A8WGD%E9%89%B4%E5%AE%9A%E5%85%A8%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%A4%8D%E5%88%B6/#wgd-syn","text":"wgd syn -feature gene --gene_attribute ID \\ -ks wgd_ksd/sample.cds.fasta.ks.tsv \\ sample.gff3 sample_cds.out/sample.cds.fasta.blast.tsv.mcl #--feature: \u4ece\u7b2c\u4e09\u5217\u9009\u62e9\u7279\u5f81 #--gene_attribute: \u4ece\u7b2c\u4e5d\u5217\u63d0\u53d6\u7f16\u53f7 Ks\u7684\u4e0b\u6e38\u5206\u6790\u901a\u5e38\u8fd8\u5305\u62ec\u5bf9Ks\u5206\u5e03\u7684\u7edf\u8ba1\u5efa\u6a21\uff0c\u8fd9\u53ef\u4ee5\u4f7f\u7528wgd kde\u8fdb\u884c\u6838\u5bc6\u5ea6\u62df\u5408(Kernel density estimate, KDE)\u6216\u7528wgd mix\u5efa\u7acb\u9ad8\u65af\u6df7\u5408\u6a21\u578b(Gaussian mixture models)","title":"\u4f7f\u7528wgd syn\u8fdb\u884c\u5171\u7ebf\u6027\u5206\u6790"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E4%BD%BF%E7%94%A8WGD%E9%89%B4%E5%AE%9A%E5%85%A8%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%A4%8D%E5%88%B6/#wgd_1","text":"blast\u4e2dmakeblastdb \u547d\u4ee4\u63d0\u793a\u7f3a\u5c11 libssl.so.1.0.0 error while loading shared libraries: libssl.so.1.0.0: cannot open shared object file: No such file or directory \u89e3\u51b3\u529e\u6cd5\uff1a conda install -c bioconda rgi openssl=1.0","title":"wgd\u5b89\u88c5\u4e2d\u62a5\u9519\u89e3\u51b3\u65b9\u6848"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E5%88%A4%E6%96%AD%E4%BA%8C%E4%BB%A3%E6%B5%8B%E5%BA%8F%E6%95%B0%E6%8D%AE%E4%BA%A7%E8%87%AA%E5%93%AA%E7%A7%8Dillumina%E6%B5%8B%E5%BA%8F%E5%B9%B3%E5%8F%B0/","text":"\u6700\u65b0\u5206\u7c7b\u60c5\u51b5\uff0c\u8bf7\u5728\u4e0a\u8ff0\u94fe\u63a5\u67e5\u627e\u3002 |\u9996\u5b57\u7b26|\u6d4b\u5e8f\u5e73\u53f0| |----|----| |HWI-M [0-9] {4} $|MiSeq| | HWUSI|Genome Analyzer IIx| | \u201c M [0-9] {5} $| MiSeq| | \u201c HWI-C [0-9] {5} $| HiSeq 1500| | \u201c C [0-9] {5} $| HiSeq 1500| | \u201c HWI-D [0-9] {5} $| HiSeq 2500| | \u201c D [0-9] {5} $| HiSeq 2500| | \u201c J [0-9] {5} $|HiSeq 3000| | \u201c K [0-9] {5} $| HiSeq 3000\uff08\u76ee\u524d\u57fa\u672c\u4e0d\u7528\uff09\uff0cHiSeq 4000| |\u201c E [0-9] {5} $| HiSeq X| |NB [0-9] {6} $| NextSeq| | NS [0-9] {6} $| NextSeq| | MN [0-9] {5} $|MiniSeq| \u6d4b\u5e8f\u901a\u9053\u7684\u5206\u7c7b \"C[A-Z,0-9]{4}ANXX$\" : ([\"HiSeq 1500\", \"HiSeq 2000\", \"HiSeq 2500\"], \"High Output (8-lane) v4 flow cell\"), \"C[A-Z,0-9]{4}ACXX$\" : ([\"HiSeq 1000\", \"HiSeq 1500\", \"HiSeq 2000\", \"HiSeq 2500\"], \"High Output (8-lane) v3 flow cell\"), \"H[A-Z,0-9]{4}ADXX$\" : ([\"HiSeq 1500\", \"HiSeq 2500\"], \"Rapid Run (2-lane) v1 flow cell\"), \"H[A-Z,0-9]{4}BCXX$\" : ([\"HiSeq 1500\", \"HiSeq 2500\"], \"Rapid Run (2-lane) v2 flow cell\"), \"H[A-Z,0-9]{4}BCXY$\" : ([\"HiSeq 1500\", \"HiSeq 2500\"], \"Rapid Run (2-lane) v2 flow cell\"), \"H[A-Z,0-9]{4}BBXX$\" : ([\"HiSeq 4000\"], \"(8-lane) v1 flow cell\"), \"H[A-Z,0-9]{4}BBXY$\" : ([\"HiSeq 4000\"], \"(8-lane) v1 flow cell\"), \"H[A-Z,0-9]{4}CCXX$\" : ([\"HiSeq X\"], \"(8-lane) flow cell\"), \"H[A-Z,0-9]{4}CCXY$\" : ([\"HiSeq X\"], \"(8-lane) flow cell\"), \"H[A-Z,0-9]{4}ALXX$\" : ([\"HiSeq X\"], \"(8-lane) flow cell\"), \"H[A-Z,0-9]{4}BGXX$\" : ([\"NextSeq\"], \"High output flow cell\"), \"H[A-Z,0-9]{4}BGXY$\" : ([\"NextSeq\"], \"High output flow cell\"), \"H[A-Z,0-9]{4}BGX2$\" : ([\"NextSeq\"], \"High output flow cell\"), \"H[A-Z,0-9]{4}AFXX$\" : ([\"NextSeq\"], \"Mid output flow cell\"), \"A[A-Z,0-9]{4}$\" : ([\"MiSeq\"], \"MiSeq flow cell\"), \"B[A-Z,0-9]{4}$\" : ([\"MiSeq\"], \"MiSeq flow cell\"), \"D[A-Z,0-9]{4}$\" : ([\"MiSeq\"], \"MiSeq nano flow cell\"), \"G[A-Z,0-9]{4}$\" : ([\"MiSeq\"], \"MiSeq micro flow cell\"), \"H[A-Z,0-9]{4}DMXX$\" : ([\"NovaSeq\"], \"S2 flow cell\")} \u4f7f\u7528zless\u67e5\u770b\u6d4b\u5e8f\u539f\u59cb\u6587\u4ef6\u3002 zless sample.fastq.gz|head -5 @E00552:40:H23NGCCXY:5:1101:1154:1520 1:N:0:NCAGTG NTTTGCTAAACGGAAGGACTAAAGTAGGAACTGATTGGCTTTAGTCTCTAGTCTCTCACATGGGTGCTAAAAGGGACTAGAGGGTAACATTTACTCCAATTGCCTTTGCCTAGAGTTGGAATATAATATAAGTGAATTGTCCACCTTCTT + #AAFAFJAJJ-FFFJJJ7JJJFJJJJJFJJJJ<FFFAJJJJFJJJJJJJJJJFAJ<AJJFJJJJ-FF7FJJJJJJJJF<FJJJJAFAJFFFJJJJJJJFJ-FJJJJFJ<J-FJFF-7AF7FJF7FJJ7FAFJ-<<7<-AAJJJ<JA-F<- @E00552:40:H23NGCCXY:5:1101:2777:1520 1:N:0:NCAGTG \u663e\u7136\u53ef\u4ee5\u770b\u51fa\uff0c\u662f E \u5f00\u5934\uff0c\u5373HiSeq X \uff088-lane) flow cell \u4f8b2\uff1a zless sample2.fastq.gz|head -5 @A00262:358:HTG2NDSXX:2:1101:1127:1031 1:N:0:GTTATA+GTTATAC GNCTACATTTACCTAGCATTTTTCTTCTATCTTACATAGTTTTTGGGTAAACATACTATCCTTATGAGCATTGGGTGTAATGTTTGTTGTTTTATGTTGATTGCTTATTTGGGTAGAAATGACTAACCTATGCTTCATTCCTGCGGATGG + F#FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF:,FFFF,FFFF,F:FFF:FFF,FFFFFFFF:FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF @A00262:358:HTG2NDSXX:2:1101:1181:1031 1:N:0:GTTATA+GTTATAC","title":"\u5224\u65ad\u4e8c\u4ee3\u6d4b\u5e8f\u6570\u636e\u4ea7\u81ea\u54ea\u79cdillumina\u6d4b\u5e8f\u5e73\u53f0"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E5%90%8D%E8%AF%8D%E8%AE%B2%E8%A7%A3%EF%BC%9A%E8%BD%AC%E5%BA%A7%E5%AD%90%EF%BC%88TE%EF%BC%89%E3%80%81LTR%E3%80%81%E5%81%87%E5%9F%BA%E5%9B%A0/","text":"\u8f6c\u5ea7\u5b50\u53c2\u8003 \u8f6c\u5ea7\u5b50\u6570\u636e\u5e93 Trep Dfam \u8f6c\u5ea7\u5b50 \uff08transposable element\uff09TEs\uff1a\u4e5f\u79f0\u4e3a\u8df3\u8dc3\u57fa\u56e0\uff0c\u662f\u7ec6\u80de\u4e2d\u80fd\u6539\u53d8\u81ea\u8eab\u4f4d\u7f6e\u7684\u4e00\u6bb5DNA \u5e8f\u5217\u3002 \u8f6c\u5ea7\u5b50\u5206\u4e3a\u4e24\u7c7b\uff1aI\u578b\u8f6c\u5ea7\u5b50(Retrotransposon)\u548cII\u578b\u8f6c\u5ea7\u5b50\uff08DNA transposons\uff09 I\u578b\u8f6c\u5ea7\u5b50\uff1a\u4ee5DNA\u4e3a\u6a21\u677f\uff0c\u8f6c\u5f55\u4e3amRNA,mRNA\u518d\u53cd\u8f6c\u5f55\u4e3acDNA,\u5728\u6574\u5408\u9176\u7684\u4f5c\u7528\u4e0b\u63d2\u5165\u57fa\u56e0\u7ec4\u7684\u65b0\u4f4d\u7f6e\u3002 I\u578b\u8f6c\u5ea7\u5b50\u5206\u4e3a - \u5177\u6709\u957f\u672b\u7aef\u91cd\u590d\u5e8f\u5217\uff08LTR\uff09\u7684\u9006\u8f6c\u5f55\u8f6c\u5ea7\u5b50\uff0c\u7f16\u7801\u9006\u8f6c\u5f55\u9176\uff0c\u7c7b\u4f3c\u4e8e\u9006\u8f6c\u5f55\u75c5\u6bd2HIV1 - \u9006\u8f6c\u5f55\u5b50\uff0c\u957f\u6563\u5e03\u7684\u6838\u5143\u4ef6\uff08LINEs\uff0cLINE-1s\u6216L1s\uff09\uff0c\u7f16\u7801\u9006\u8f6c\u5f55\u9176\u4f46\u7f3a\u4e4fLTRs\uff0c\u5e76\u88abRNA\u805a\u5408\u9176II\u8f6c\u5f55 - \u77ed\u6563\u5e03\u7684\u6838\u5143\u4ef6\uff08SINE\uff09\u4e0d\u7f16\u7801\u9006\u8f6c\u5f55\u9176\uff0c\u5e76\u88abRNA\u805a\u5408\u9176III\u8f6c\u5f55 II\u578b\u8f6c\u5ea7\u5b50\uff1aII\u578b\u8f6c\u5ea7\u5b50\u8f6c\u5ea7\u7684\u673a\u5236\u88ab\u79f0\u4e3a\u201c\u526a\u5207-\u7c98\u8d34\u201d\u3002\u8f6c\u5ea7\u9176\u628aTE\u4ece\u57fa\u56e0\u7ec4\u539f\u6765\u7684\u4f4d\u7f6e\u526a\u5207\u4e0b\u6765\uff0c\u53c8\u7c98\u8d34\u5230\u57fa\u56e0\u7ec4\u5176\u4ed6\u7684\u533a\u57df\u3002\u526a\u5207\u4e0b\u6765\u5f62\u6210\u7684\u7f3a\u53e3\uff0c\u4f1a\u88abDNA\u4fee\u590d\u3002 I\u578b\u548cII\u578b\u8f6c\u5ea7\u5b50\u6309\u7167\u80fd\u5426\u81ea\u4e3b\u79fb\u52a8\uff0c\u90fd\u5206\u4e3a\u81ea\u4e3b\u6027\u548c\u975e\u81ea\u4e3b\u578b\u3002\u81ea\u4e3b\u578b\u662f\uff0cTEs\u53ea\u8981\u81ea\u8eab\u5c31\u80fd\u5728\u57fa\u56e0\u7ec4\u4e0a\u8df3\u8dc3\uff0c\u975e\u81ea\u4e3b\u578bTE\u9700\u8981\u53e6\u5916\u4e00\u4e2aTE\u5e26\u7740\u5b83\u624d\u80fd\u8df3\u8dc3\u3002\u975e\u81ea\u4e3b\u578b\u4e0d\u80fd\u72ec\u7acb\u8df3\u8dc3\uff0c\u662f\u56e0\u4e3a\u7f3a\u5c11\u8f6c\u5ea7\u9176\uff08\u5bf9\u4e8eII\u7c7b\uff09\u6216\u9006\u8f6c\u5f55\u9176\uff08\u5bf9\u4e8eI\u7c7b\uff09\u3002 Ac/Ds\u7cfb\u7edf\u4e2d\uff0cAc\u662f\u81ea\u4e3b\u578b\uff0cDs\u662f\u975e\u81ea\u4e3b\u578b\u3002\u6ca1\u6709Ac\uff0cDs\u81ea\u5df1\u4e0d\u80fd\u53d1\u6325\u4f5c\u7528\u3002 LTR\u5206\u4e3a5\u2018-LTR\u548c3\u2019-LTR\u3002LTR\u4fa7\u7ffc\u5e8f\u5217\u88ab\u90e8\u5206\u8f6c\u5f55\u6210RNA\u4e2d\u95f4\u4f53\uff0c\u7136\u540e\u53cd\u8f6c\u5f55\u6210\u5177\u6709\u5b8c\u6574LTR\u7684\u4e92\u8865DNA\uff08cDNA\uff09\u5e76\u6700\u7ec8\u8f6c\u5f55\u6210dsDNA\uff08\u53cc\u94feDNA\uff09\u3002\u7136\u540eLTR\u901a\u8fc7LTR\u7279\u5f02\u6027\u6574\u5408\u5230\u5bbf\u4e3b\u67d3\u8272\u4f53\u7684\u53e6\u4e00\u4e2a\u533a\u57df\u4ecb\u5bfcDNA\u7684\u6574\u5408\u3002 Helitrons \u8f6c\u5ea7\u5b50 \u662f\u8fd1\u5e74\u6765\u53d1\u73b0\u7684\u4e00\u79cd\u65b0\u578b DNA \u8f6c\u5ea7\u5b50\uff0cHelitrons \u8f6c\u5ea7\u5b50\u5177\u6709\u5178\u578b\u7684 5'TC \u4ee5\u53ca 3'CTRR\uff08R\u4e3aA\u6216G\uff09\u672b\u7aef\uff0c\u5e76\u57283'\u672b\u7aef\u4e0a\u6e38\u7ea6 15~20bp \u5904\u6709\u4e00\u4e2a\u830e\u73af\u7ed3\u6784\uff0c\u662f\u8f6c\u5ea7\u5b50\u7684\u7ec8\u6b62\u4fe1\u53f7\u3002Helitrons \u8f6c\u5ea7\u5b50\u8f6c\u5ea7\u540e\uff0c\u901a\u5e38\u63d2\u5165 AT-rich \u533a\u57df\u7684 AT \u9776\u4f4d\u70b9\u3002\u4e0eI\u578b\u8f6c\u5ea7\u5b50\u548cII\u578b\u8f6c\u5ea7\u5b50\u4e0d\u540c\uff0cHelitrons \u901a\u8fc7\u6eda\u73af\uff08rolling circle\uff09\u7684\u65b9\u5f0f\u8fdb\u884c\u8f6c\u5ea7\u3002\u5e76\u4e14\uff0c\u5728\u6eda\u73af\u590d\u5236\u7684\u8f6c\u5ea7\u8fc7\u7a0b\u4e2d\u7ecf\u5e38\u6355\u83b7\u548c\u643a\u5e26\u57fa\u56e0\u7247\u6bb5\uff0c\u53ef\u5bfc\u81f4\u57fa\u56e0\u62f7\u8d1d\u6570\u7684\u53d8\u5316\uff0c\u4e5f\u4f1a\u5728\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u4fc3\u8fdb\u57fa\u56e0\u7ec4\u7684\u8fdb\u5316\u3002 \u6700\u521dTE\u662f\u4ece\u7389\u7c73\u4e2d\u9274\u5b9a\u51fa\u7684Ac/Ds,\u63a7\u5236\u7c7d\u7c92\u989c\u8272\u7684\u8f6c\u5ea7\u5b50\uff0c\u82ad\u82ad\u62c9\u2022\u9ea6\u514b\u6797\u6258\u514b\u56e0\u6b64\u83b71983\u5e74\u8bfa\u5956\u3002\u7389\u7c73\u57fa\u56e0\u7ec4\u4e2d\u670985%\u7684TE. \"If you know you are on the right track, if you have this inner knowledge, then nobody can turn you off ... no matter what they say.\u201d --\u82ad\u82ad\u62c9\u2022\u9ea6\u514b\u6797\u6258\u514b \u8f6c\u5ea7\u5b50\u4f1a\u5f15\u8d77\u7684\u7a81\u53d8\uff1a \u5c06\u81ea\u8eab\u63d2\u5165\u529f\u80fd\u57fa\u56e0\u7684\u8f6c\u5ea7\u5b50\u6216\u9006\u8f6c\u5ea7\u5b50\u53ef\u4ee5\u4f7f\u8be5\u57fa\u56e0\u5931\u6d3b\u3002\u8fd9\u4fbf\u662f\u5047\u57fa\u56e0\u7684\u6765\u6e90\u3002 DNA\u8f6c\u5ea7\u5b50\u79bb\u5f00\u57fa\u56e0\u540e\uff0c\u4ea7\u751f\u7684\u7f3a\u53e3\u53ef\u80fd\u65e0\u6cd5\u6b63\u786e\u4fee\u590d \u540c\u4e00\u5e8f\u5217\uff08\u4f8b\u5982Alu\u5e8f\u5217\uff09\u7684\u591a\u4e2a\u526f\u672c\u53ef\u80fd\u4f1a\u59a8\u788d\u6709\u4e1d\u5206\u88c2\u548c\u51cf\u6570\u5206\u88c2\u8fc7\u7a0b\u4e2d\u7cbe\u786e\u7684\u67d3\u8272\u4f53\u914d\u5bf9\uff0c\u4ece\u800c\u5bfc\u81f4\u4e0d\u5e73\u7b49\u7684\u4ea4\u53c9\uff0c\u8fd9\u662f\u67d3\u8272\u4f53\u590d\u5236\u7684\u4e3b\u8981\u539f\u56e0\u4e4b\u4e00\u3002 TE\u4f7f\u7528\u591a\u79cd\u4e0d\u540c\u7684\u673a\u5236\u5728\u5176\u5bbf\u4e3b\u57fa\u56e0\u7ec4\u4e2d\u5f15\u8d77\u9057\u4f20\u4e0d\u7a33\u5b9a\u548c\u75be\u75c5\u3002 \u8bb8\u591aTE\u542b\u6709\u542f\u52a8\u5b50\u6765\u9a71\u52a8\u81ea\u5df1\u7684\u8f6c\u5ea7\u9176\u8f6c\u5f55\u3002\u8fd9\u4e9b\u542f\u52a8\u5b50\u53ef\u5f15\u8d77\u8fde\u9501\u57fa\u56e0\u7684\u5f02\u5e38\u8868\u8fbe\uff0c\u4ece\u800c\u5bfc\u81f4\u75be\u75c5\u6216\u7a81\u53d8\u8868\u578b\u3002 \u4e2a\u4eba\u611f\u89c9\uff1a\u8f6c\u5ea7\u5b50\u5728\u57fa\u56e0\u7f16\u8f91\u9886\u57df\u6709\u91cd\u5927\u7814\u7a76\u524d\u666f\uff0c\u7279\u522b\u662f\u57fa\u56e0\u6cbb\u7597\u3002 \u8f6c\u5ea7\u5b50\u7684\u5206\u7c7b\u793a\u610f\u56fe\uff1a \u5176\u4e2dLTR-RTs\u662fLong terminal repeat-retrotransposons\uff0c\u957f\u672b\u7aef\u53cd\u8f6c\u5f55\u8f6c\u5ea7\u5b50\uff0c\u5c5e\u4e8e\u4e0a\u9762\u7684I\u7c7b\u8f6c\u5ea7\u5b50\u3002LTR-RTs\u8fdb\u4e00\u6b65\u7ec6\u5206\uff0c\u690d\u7269\u4e2dLTR-RTs\u5305\u62ecTy1- COPIA\u53cd\u8f6c\u5f55\u8f6c\u5ea7\u5b50\u548cTy3-gypsy\u3002\u52a8\u7269\u4e2d\u9664\u4e86\u524d\u9762\u4e24\u4e2a\uff0c\u8fd8\u6709BEL/pao family\u3002 LTR-RTs\u5168\u9762\u6df1\u5165\u89e3\u8bfb \u5047\u57fa\u56e0\u8be6\u60c5 \u5047\u57fa\u56e0 \uff08 pseudogene\uff09\uff1a\u529f\u80fd\u57fa\u56e0\u7684\u7f3a\u9677\u62f7\u8d1d\uff0c\u5b83\u5728\u5e8f\u5217\u7ed3\u6784\u4e0a\u4e0e\u529f\u80fd\u57fa\u56e0\u975e\u5e38\u76f8\u4f3c\uff0c\u4f46\u5df2\u4e27\u5931\u4e86\u6b63\u5e38\u7684\u86cb\u767d\u8d28\u7f16\u7801\u529f\u80fd\uff0e \u5047\u57fa\u56e0\u4e3b\u8981\u5206\u4e3a\uff08\u91cd\u590d\u5047\u57fa\u56e0\uff09duplicated pseudogene\u548cprocessed pseudogene or retropseudogene\uff08\u52a0\u5de5\u5047\u57fa\u56e0\u6216\u8f6c\u5ea7\u5047\u57fa\u56e0\uff09\u3002 \u91cd\u590d\u5047\u57fa\u56e0\uff1aDNA\u590d\u5236\u6216\u67d3\u8272\u4f53\u4e0d\u5747\u7b49\u4ea4\u6362\u8fc7\u7a0b\u4e2d\u57fa\u56e0\u7f16\u7801\u53bb\u53d1\u751f\u7a81\u53d8\uff08\u78b1\u57fa\u66ff\u6362\u3001\u63d2\u5165\u3001\u7f3a\u5931\uff09\uff0c\u5c5e\u4e8e\u6b63\u5e38\u57fa\u56e0\u4ee5\u4e3a\u5e8f\u5217\u53d8\u5316\uff0c\u65e0\u6cd5\u8f6c\u5f55\uff0c\u6240\u4ee5\u6210\u4e3a\u5047\u57fa\u56e0\u3002 \u8f6c\u5ea7\u5b50\u5047\u57fa\u56e0\uff1amRNA\u53cd\u8f6c\u5f55\u6210cDNA\u63d2\u5165\u6574\u5408\u5230\u57fa\u56e0\u7ec4\u4e0a\uff0c\u7531\u4e8e\u63d2\u5165\u4f4d\u70b9\u4e0d\u5408\u9002\u6216\u5e8f\u5217\u53d8\u5316\u800c\u5931\u53bb\u6b63\u5e38\u529f\u80fd\u3002 \u5047\u57fa\u56e0\u7684\u6570\u91cf\u4e0e\u9009\u62e9\u538b\u529b\u548c\u8f6c\u5ea7\u5b50\u7684\u6d3b\u6027\u6709\u5173\uff0c\u9009\u62e9\u538b\u529b\u8d8a\u5927\uff0c\u8f6c\u5ea7\u5b50\u6d3b\u6027\u9ad8\uff0c\u53cd\u8f6c\u5f55\u6210\u7684\u8f6c\u5ea7\u5047\u57fa\u56e0\u8d8a\u591a\u3002\u6240\u4ee5\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u5047\u57fa\u56e0\u7684Ka/Ks\u6bd4\u8f83\u9ad8\u3002\u5047\u57fa\u56e0\u7684\u529f\u80fd\u4e3b\u8981\u662f\u5728RNA\u6c34\u5e73\u4e0a\uff0c\u7c7b\u4f3c\u4e8encRNA\u3002","title":"\u540d\u8bcd\u8bb2\u89e3\uff1a\u8f6c\u5ea7\u5b50\uff08TE\uff09\u3001LTR\u3001\u5047\u57fa\u56e0"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E5%90%8D%E8%AF%8D%E8%AE%B2%E8%A7%A3%EF%BC%9A%E8%BD%AC%E5%BA%A7%E5%AD%90%EF%BC%88TE%EF%BC%89%E3%80%81LTR%E3%80%81%E5%81%87%E5%9F%BA%E5%9B%A0/#_1","text":"\u5c06\u81ea\u8eab\u63d2\u5165\u529f\u80fd\u57fa\u56e0\u7684\u8f6c\u5ea7\u5b50\u6216\u9006\u8f6c\u5ea7\u5b50\u53ef\u4ee5\u4f7f\u8be5\u57fa\u56e0\u5931\u6d3b\u3002\u8fd9\u4fbf\u662f\u5047\u57fa\u56e0\u7684\u6765\u6e90\u3002 DNA\u8f6c\u5ea7\u5b50\u79bb\u5f00\u57fa\u56e0\u540e\uff0c\u4ea7\u751f\u7684\u7f3a\u53e3\u53ef\u80fd\u65e0\u6cd5\u6b63\u786e\u4fee\u590d \u540c\u4e00\u5e8f\u5217\uff08\u4f8b\u5982Alu\u5e8f\u5217\uff09\u7684\u591a\u4e2a\u526f\u672c\u53ef\u80fd\u4f1a\u59a8\u788d\u6709\u4e1d\u5206\u88c2\u548c\u51cf\u6570\u5206\u88c2\u8fc7\u7a0b\u4e2d\u7cbe\u786e\u7684\u67d3\u8272\u4f53\u914d\u5bf9\uff0c\u4ece\u800c\u5bfc\u81f4\u4e0d\u5e73\u7b49\u7684\u4ea4\u53c9\uff0c\u8fd9\u662f\u67d3\u8272\u4f53\u590d\u5236\u7684\u4e3b\u8981\u539f\u56e0\u4e4b\u4e00\u3002 TE\u4f7f\u7528\u591a\u79cd\u4e0d\u540c\u7684\u673a\u5236\u5728\u5176\u5bbf\u4e3b\u57fa\u56e0\u7ec4\u4e2d\u5f15\u8d77\u9057\u4f20\u4e0d\u7a33\u5b9a\u548c\u75be\u75c5\u3002 \u8bb8\u591aTE\u542b\u6709\u542f\u52a8\u5b50\u6765\u9a71\u52a8\u81ea\u5df1\u7684\u8f6c\u5ea7\u9176\u8f6c\u5f55\u3002\u8fd9\u4e9b\u542f\u52a8\u5b50\u53ef\u5f15\u8d77\u8fde\u9501\u57fa\u56e0\u7684\u5f02\u5e38\u8868\u8fbe\uff0c\u4ece\u800c\u5bfc\u81f4\u75be\u75c5\u6216\u7a81\u53d8\u8868\u578b\u3002 \u4e2a\u4eba\u611f\u89c9\uff1a\u8f6c\u5ea7\u5b50\u5728\u57fa\u56e0\u7f16\u8f91\u9886\u57df\u6709\u91cd\u5927\u7814\u7a76\u524d\u666f\uff0c\u7279\u522b\u662f\u57fa\u56e0\u6cbb\u7597\u3002 \u8f6c\u5ea7\u5b50\u7684\u5206\u7c7b\u793a\u610f\u56fe\uff1a \u5176\u4e2dLTR-RTs\u662fLong terminal repeat-retrotransposons\uff0c\u957f\u672b\u7aef\u53cd\u8f6c\u5f55\u8f6c\u5ea7\u5b50\uff0c\u5c5e\u4e8e\u4e0a\u9762\u7684I\u7c7b\u8f6c\u5ea7\u5b50\u3002LTR-RTs\u8fdb\u4e00\u6b65\u7ec6\u5206\uff0c\u690d\u7269\u4e2dLTR-RTs\u5305\u62ecTy1- COPIA\u53cd\u8f6c\u5f55\u8f6c\u5ea7\u5b50\u548cTy3-gypsy\u3002\u52a8\u7269\u4e2d\u9664\u4e86\u524d\u9762\u4e24\u4e2a\uff0c\u8fd8\u6709BEL/pao family\u3002 LTR-RTs\u5168\u9762\u6df1\u5165\u89e3\u8bfb \u5047\u57fa\u56e0\u8be6\u60c5 \u5047\u57fa\u56e0 \uff08 pseudogene\uff09\uff1a\u529f\u80fd\u57fa\u56e0\u7684\u7f3a\u9677\u62f7\u8d1d\uff0c\u5b83\u5728\u5e8f\u5217\u7ed3\u6784\u4e0a\u4e0e\u529f\u80fd\u57fa\u56e0\u975e\u5e38\u76f8\u4f3c\uff0c\u4f46\u5df2\u4e27\u5931\u4e86\u6b63\u5e38\u7684\u86cb\u767d\u8d28\u7f16\u7801\u529f\u80fd\uff0e \u5047\u57fa\u56e0\u4e3b\u8981\u5206\u4e3a\uff08\u91cd\u590d\u5047\u57fa\u56e0\uff09duplicated pseudogene\u548cprocessed pseudogene or retropseudogene\uff08\u52a0\u5de5\u5047\u57fa\u56e0\u6216\u8f6c\u5ea7\u5047\u57fa\u56e0\uff09\u3002 \u91cd\u590d\u5047\u57fa\u56e0\uff1aDNA\u590d\u5236\u6216\u67d3\u8272\u4f53\u4e0d\u5747\u7b49\u4ea4\u6362\u8fc7\u7a0b\u4e2d\u57fa\u56e0\u7f16\u7801\u53bb\u53d1\u751f\u7a81\u53d8\uff08\u78b1\u57fa\u66ff\u6362\u3001\u63d2\u5165\u3001\u7f3a\u5931\uff09\uff0c\u5c5e\u4e8e\u6b63\u5e38\u57fa\u56e0\u4ee5\u4e3a\u5e8f\u5217\u53d8\u5316\uff0c\u65e0\u6cd5\u8f6c\u5f55\uff0c\u6240\u4ee5\u6210\u4e3a\u5047\u57fa\u56e0\u3002 \u8f6c\u5ea7\u5b50\u5047\u57fa\u56e0\uff1amRNA\u53cd\u8f6c\u5f55\u6210cDNA\u63d2\u5165\u6574\u5408\u5230\u57fa\u56e0\u7ec4\u4e0a\uff0c\u7531\u4e8e\u63d2\u5165\u4f4d\u70b9\u4e0d\u5408\u9002\u6216\u5e8f\u5217\u53d8\u5316\u800c\u5931\u53bb\u6b63\u5e38\u529f\u80fd\u3002 \u5047\u57fa\u56e0\u7684\u6570\u91cf\u4e0e\u9009\u62e9\u538b\u529b\u548c\u8f6c\u5ea7\u5b50\u7684\u6d3b\u6027\u6709\u5173\uff0c\u9009\u62e9\u538b\u529b\u8d8a\u5927\uff0c\u8f6c\u5ea7\u5b50\u6d3b\u6027\u9ad8\uff0c\u53cd\u8f6c\u5f55\u6210\u7684\u8f6c\u5ea7\u5047\u57fa\u56e0\u8d8a\u591a\u3002\u6240\u4ee5\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u5047\u57fa\u56e0\u7684Ka/Ks\u6bd4\u8f83\u9ad8\u3002\u5047\u57fa\u56e0\u7684\u529f\u80fd\u4e3b\u8981\u662f\u5728RNA\u6c34\u5e73\u4e0a\uff0c\u7c7b\u4f3c\u4e8encRNA\u3002","title":"\u8f6c\u5ea7\u5b50\u4f1a\u5f15\u8d77\u7684\u7a81\u53d8\uff1a"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E5%9F%BA%E5%9B%A0%E5%AE%B6%E6%97%8F%E5%85%B1%E7%BA%BF%E6%80%A7%E5%88%86%E6%9E%90/","text":"\u5171\u7ebf\u6027\u5206\u6790 mcscan\u5171\u7ebf\u6027\u5206\u67901 2 Jcvi\u6559\u7a0b \u6700\u5168\u7684\u672c\u5730blast\u6559\u7a0b \u5b89\u88c5jcvi conda install jcvi \u51c6\u5907\u6587\u4ef6gene.gff3 cds.fa protein.fa coline analysis \u53c2\u8003\uff1a https://github.com/tanghaibao/jcvi/wiki/MCscan-(Python-version) https://www.cnblogs.com/zhanmaomao/p/12525411.html conda activate mmdetection conda install jcvi conda install seqkit \u5b89\u88c5lastal \u7f51\u5740\uff1ahttp://last.cbrc.jp unzip last-1060.zip cd last-1060 make \u4ecePhytozome\u6570\u636e\u5e93\u83b7\u53d6\u7269\u79cd\u6570\u636e\uff08\u5982\u679c\u8fdc\u7aefserver\u65e0\u6cd5\u8054\u7f51\uff0c\u8bf7\u76f4\u63a5\u4e0b\u8f7d\u57fa\u56e0\u7ec4\u7684\u76f8\u5173\u6570\u636e\uff0c\u8df3\u8fc7\u6b64\u6b65\uff09 python -m jcvi.apps.fetch phytozome Phytozome Login: xxxxxxxx Phytozome Password: \u8f93\u5165\u4f60\u7684Phytozome\u7528\u6237\u540d\u548c\u5bc6\u7801\u3002 python -m jcvi.apps.fetch phytozome Athaliana Phytozome\u7684\u901f\u5ea6\u5b9e\u5728\u592a\u6162\uff0c\u8fd8\u662f\u4ece\u672c\u5730\u7528\u5de5\u5177\u4e0b\u8f7d\u5427\u3002 \u4ecegff3\u83b7\u53d6bed \u4ee5Spo\uff0c\u548cFve\u4e3a\u4f8b\u5b50 python -m jcvi.formats.gff bed --type=mRNA --key=ID Spo.genome.gff3 -o Spo.bed python -m jcvi.formats.gff bed --type=mRNA --key=ID Fragaria_vesca_v4.0.a1.transcripts.gff3.gz -o Fve.bed \u53c2\u6570 --type\uff1agff\u6587\u4ef6\u4e2d\u7b2c\u4e09\u5217 --key\uff1atype\u5bf9\u5e94\u7684\u7b2c\u4e5d\u5217\u4fe1\u606f\u524d\u7f00 \u6211\u4eec\u5206\u6790\u53ea\u9700\u8981\u7528\u5230\u6bcf\u4e2a\u57fa\u56e0\u6700\u957f\u7684\u8f6c\u5f55\u672c\u5c31\u884c\uff0c\u5728Fve\u4e2d\u662f\u4ee5\u591a\u4e2a\u8f6c\u5f55\u672c\u8fdb\u884c\u5b58\u50a8\uff0c\u56e0\u4e3a\u9700\u8981\u83b7\u53d6\u6700\u957f\u8f6c\u5f55\u672c \u5c06Fve\u4e2dbed\u8fdb\u884c\u53bb\u91cd\u590d python -m jcvi.formats.bed uniq Spo.bed python -m jcvi.formats.bed uniq Fve.bed cds\u548cpep\u5e8f\u5217\u5747\u53ef\u4ee5\u8fdb\u884c\u5171\u7ebf\u6027\u5206\u6790 conda install seqkit \u6839\u636e\u4e0a\u8ff0\u5f97\u5230\u7684.bed\u6587\u4ef6\u8c03\u53d6\u5bf9\u5e94cds\u548c\u86cb\u767d\u5e8f\u5217 # Spo seqkit grep -f <(cut -f4 Spo.bed) Chr_genome_final.cds.fa | seqkit seq -i >Spo.cds seqkit grep -f <(cut -f4 Spo.bed) Spo.genome.protein.fa | seqkit seq -i >Spo.pep # Fve seqkit grep -f <(cut -f4 Fve.bed) Fragaria_vesca_v4.0.a1_makerStandard_CDS.fasta.gz| seqkit seq -i >Fve.cds seqkit grep -f <(cut -f4 Fve.bed) Fragaria_vesca_v4.0.a1_makerStandard_proteins.fasta.gz | seqkit seq -i >Fve.pep \u5171\u7ebf\u6027\u5206\u6790 \u65b0\u5efa\u4e00\u4e2a\u6587\u4ef6\u5939\uff0c\u65b9\u4fbf\u5728\u62a5\u9519\u7684\u65f6\u5019\uff0c\u628a\u5168\u90e8\u90fd\u7ed9\u5220\u4e86 mv Fve.uniq.bed Fve.bed mv Spo.uniq.bed Spo.bed mkdir Spo_Fve && cd Spo_Fve ln -s ../Fve.cds ./ ln -s ../Fve.bed ./ ln -s ../Fve.pep ./ ln -s ../Spo.cds ./ ln -s ../Spo.bed ./ ln -s ../Spo.pep ./ ## \u8fd0\u884c\u4ee3\u7801 python -m jcvi.compara.catalog ortholog (--dbtype prot[\u86cb\u767d\u5206\u6790]) --no_strip_names Spo Fve python -m jcvi.compara.catalog ortholog --dbtype prot --no_strip_names Spo Fve \u7ed3\u679c\uff1a Spo.Fve.anchors\uff1a\u5171\u7ebf\u6027block\u533a\u5757\uff08\u9ad8\u8d28\u91cf\uff09 Spo.Fve.last\uff1a\u539f\u59cb\u7684last\u8f93\u51fa Spo.Fve.last.filtered\uff1a\u8fc7\u6ee4\u540e\u7684last\u8f93\u51fa Spo.Fve.pdf\uff1a\u70b9\u9635\u56fe \u5982\u679c\u9047\u5230\u62a5\u9519\uff0c\u591a\u534a\u662f\u8981\u5b89\u88c5python\u5305\uff0c\u66f4\u65b0Latex. \u4f7f\u7528conda\u5b89\u88c5\u7684latex\u679c\u7136\u6709\u95ee\u9898\uff0c\u81ea\u5df1\u52a8\u624b\u5b89\u88c5latex \u53c2\u8003 \u3002\u6587\u4ef63G,\u5b89\u88c5\u6bd4\u8f83\u6162\u3002 #\u5b89\u88c5latex\u7684\u76ee\u5f55\u662f/share/softwares/Latex export MANPATH=$MANPATH:/share/softwares/Latex/texmf-dist/doc/man export INFOPATH=$INFOPATH:/share/softwares/Latex/texmf-dist/doc/info export PATH=$PATH:/share/softwares/Latex/bin/x86_64-linux ~\u7279\u6b8a\u60c5\u51b5\u7684\u5904\u7406\uff0c\u5f53\u7ec4\u88c5\u7ea7\u522b\u662fscaffold\u65f6\u5019\uff0c\u5904\u7406\u529e\u6cd5\u3002~ \u5728\u8bbe\u7f6eseqids\u65f6\u5019\uff0c\u9762\u4e34Atr\u7ec4\u88c5\u7684\u662fscaffold\uff0c\u662f\u5426\u9700\u8981\u5c55\u793a\u5168\u90e8\u7684scaffold\u3002\u6587\u732e\u4e2d\u6ca1\u6709\u63d0\u53ca\uff0c\u4f46\u662f\u90fd\u5c55\u793a\u4e86\u90e8\u5206\u7684scaffold\u3002\u6b64\u5904\u662f\u8bbe\u7f6e\u5c55\u793a\u524d120\u4e2ascaffold\u3002 cat Atr.bed|cut -f1|sort |uniq |head -120 |rev|cut -d \" \" -f1|rev >Atr.id cat Spo.bed|cut -f1|sort|uniq|grep -v utg|rev|cut -d \" \" -f1|rev >Spo.id ##\u8f6c\u7f6e\u6570\u636e\u4ece\u5217\u5230\u884c cat Spo.id|awk 'BEGIN{c=0;} {for(i=1;i<=NF;i++) {num[c,i] = $i;} c++;} END{ for(i=1;i<=NF;i++){str=\"\"; for(j=0;j<NR;j++){ if(j>0){str = str\",\"} str= str\"\"num[j,i]}printf(\"%s\\n\", str)} }' >Spo.ids cat Atr.id|awk 'BEGIN{c=0;} {for(i=1;i<=NF;i++) {num[c,i] = $i;} c++;} END{ for(i=1;i<=NF;i++){str=\"\"; for(j=0;j<NR;j++){ if(j>0){str = str\",\"} str= str\"\"num[j,i]}printf(\"%s\\n\", str)} }' >Atr.ids cat Spo.ids Atr.ids >seqids \u53ef\u89c6\u5316 \u9996\u5148\u751f\u6210.sinple\u6587\u4ef6 python -m jcvi.compara.synteny screen --minspan=30 --simple Spo.Fve.anchors Spo.Fve.anchors.new \u7f16\u8f91\u914d\u7f6e\u6587\u4ef6seqids \u548clayout \u6ce8\u610f\uff1aseqids\u4e0a\u4e0b\u7684\u987a\u5e8f\u548clayout\u7684\u987a\u5e8f\u662f\u4e00\u4e00\u5bf9\u5e94\u7684\u3002\u800c\u4e14seqids\u540e\u9762\u4e0d\u8981\u52a0\u6ce8\u91ca\uff0c\u4e0d\u7136\u4e0d\u4f1a\u663e\u793a\u6700\u540e\u4e00\u6761\u67d3\u8272\u4f53\u3002Chr1\u548cChr01\u683c\u5f0f\u4e00\u5b9a\u8981\u548cbed\u91cc\u4e00\u6837\uff0c\u4e0d\u7136\u4e5f\u4e0d\u4f1a\u663e\u793a\u3002 layout\u6587\u4ef6\u4e00\u5b9a\u8981\u6309\u7167\u683c\u5f0f\u5199\u3002\u4e0d\u8981\u591a\u7a7a\u683c\u6216tab\uff0c\u4e0d\u7136\u4f1a\u62a5\u9519\u3002 \u8bbe\u7f6e\u9700\u8981\u5c55\u793a\u67d3\u8272\u4f53\u53f7 vi seqids Chr01,Chr02,Chr03,Chr04,Chr05,Chr06,Chr07,Chr08,Chr09,Chr10,Chr11,Chr12,Chr13,Chr14,Chr15,Chr16,Chr17 Chr01,Chr02,Chr03,Chr04,Chr05,Chr06,Chr07,Chr08,Chr09,Chr10,Chr11,Chr12,Chr13,Chr14,Chr15,Chr16,Chr17 # \u8bbe\u7f6e\u989c\u8272\uff0c\u957f\u5bbd\u7b49 vi layout # y, xstart, xend, rotation, color, label, va, bed .6, .1, .8, 0, red, Spo, top, Spo.bed .4, .1, .8, 0, blue, Fve, top, Fve.bed # edges e, 0, 1, Spo.Fve.anchors.simple \u6ce8\u610f, #edges\u4e0b\u7684\u6bcf\u4e00\u884c\u5f00\u5934\u90fd\u4e0d\u80fd\u6709\u7a7a\u683c \u8fd0\u884c\u4ee3\u7801 python -m jcvi.graphics.karyotype seqids layout \u7a81\u51fa\u663e\u793a\u67d0\u4e00\u6761\uff0c\u524d\u9762\u52a0\u4e0ag* vi Spo.Fve.anchors.simple g*Spo03717 Spo03716 Bv3_048620_odzi.t1 Bv3_049090_cxmm.t1 46 + Spo17356 Spo17350 Bv1_001140_tedw.t1 Bv1_001540_xzdn.t1 41 - Spo13685 Spo13730 Bv5_123480_yfcy.t1 Bv5_123900_rucq.t1 46 - Spo26250 Spo26280 Bv5_117270_qhwj.t1 Bv5_117680_iykf.t1 36 + Spo19005 Spo06982 Bv7_173830_frmo.t1 Bv7_174150_pckw.t1 37 + Spo19374 Spo20559 Bv4_081440_riqq.t1 Bv4_081750_yeuy.t1 32 - \u8fd0\u884c python -m jcvi.graphics.karyotype seqids layout \u4e09\u4e2a\u7269\u79cd\u4e4b\u95f4\u6bd4\u8f83 \u5e38\u89c4\u5e03\u5c40 vi layout # y, xstart, xend, rotation, color, label, va, bed .7, .1, .8, 15, blue, F.vesca, top, Fve.bed .5, .1, .8, 0, red, S.pohuashanensis, top, Spo.bed .3, .1, .8, -15, green, M.domestica, bottom, Mdo.bed # edges e, 0, 1, Spo.Fve.anchors.simple e, 1, 2, Spo.Mdo.anchors.simple vi seqids Fvb1,Fvb2,Fvb3,Fvb4,Fvb5,Fvb6,Fvb7 Chr01,Chr02,Chr03,Chr04,Chr05,Chr06,Chr07,Chr08,Chr09,Chr10,Chr11,Chr12,Chr13,Chr14,Chr15,Chr16,Chr17 Chr01,Chr02,Chr03,Chr04,Chr05,Chr06,Chr07,Chr08,Chr09,Chr10,Chr11,Chr12,Chr13,Chr14,Chr15,Chr16,Chr17 python -m jcvi.graphics.karyotype seqids layout ##--nocircles \u4e0d\u753b\u51fa\u5706\u5708\u7684\u67d3\u8272\u4f53\u5e95\u7eb9 python -m jcvi.graphics.karyotype seqids normal_layout --nocircles \u4e09\u89d2\u5f62\u5e03\u5c40 # y, xstart, xend, rotation, color, label, va, bed .5, 0.025, 0.625, 60, , Grape, top, grape.bed .2, 0.2, .8, 0, , Peach, top, peach.bed .5, 0.375, 0.975, -60, , Cacao, top, cacao.bed # edges e, 0, 1, grape.peach.anchors.simple e, 1, 2, peach.cacao.anchors.simple \u8fd0\u884c python -m jcvi.graphics.karyotype seqids layout \u6ce8\u610f\uff1aanchors.simple\u662f\u540c\u4e49\u57fa\u56e0\u5757\uff08synteny blocks\uff09. \u6bcf\u884c\u662f\u4e00\u4e2a\u5757\uff08synteny blocks\uff09\uff0c\u6bcf\u884c\u524d\u4e24\u5217\u662f\u7269\u79cd1\u7684\u8d77\u59cb\u57fa\u56e0\u548c\u4e2d\u6b62\u57fa\u56e0\uff0c3-4\u5217\u662f\u7269\u79cd2\u7684\u8d77\u59cb\u57fa\u56e0\u548c\u4e2d\u6b62\u57fa\u56e0,5\u5217\u662f\u5f97\u5206\uff0c6\u5217\u662f\u6b63\u53cd\u94fe\u3002 head grape.peach.anchors.simple gra01G000550.1 gra01G001220.1 pea01G1001000 pea01G1008900 57 - gra01G001300.1 gra01G011750.1 pea01G1009700 pea01G1130400 1025 + \u6240\u4ee5\u4e0b\u9762\u8fd9\u6837\u53d6\u9996\u5c3e\u5171\u6709\u57fa\u56e0\u4f5c\u4e3a\u4ee3\u8868\uff0c\u663e\u793a\u7eff\u8272\u5e76\u6ca1\u6709\u751f\u7269\u5b66\u610f\u4e49\u3002 ~~\u5982\u679c\u60f3\u8ba9Peach\u7684\u57fa\u56e0\u65e2\u5728Grape\u53c8\u5728Cacao\u4e0a\u7684\u57fa\u56e0\u5757\u7ebf\u6761\u663e\u793a\u7eff\u8272\uff08green\uff09.~~ cat grape.peach.anchors.simple|awk '{print $1\"\\n\"$2}' |sort -u >peach.txt cat grape.cacao.anchors.simple|awk '{print $1\"\\n\"$2}' |sort -u >cacao.txt join peach.txt cacao.txt >gene.list add_g.sh \u5185\u5bb9\u5982\u4e0b simple=$1 cat gene.list| while read line do #\u5907\u4efd\u539f\u59cbsimple\u6587\u4ef6 cp $simple ${simple}.origin #\u5148\u83b7\u53d6\u5339\u914d\u884c\uff0c\u518d\u5728\u5339\u914d\u884c\u9996\u6dfb\u52a0`g*`,\u56e0\u4e3a\u53ef\u80fd\u5b58\u5728\u4e00\u884c\u6dfb\u52a0\u4e24\u6b21\u7684\u60c5\u51b5\u3002 eval sed -i \\'\"/${line}/ s/^/g\\*/\"\\' $simple #\u66ff\u6362\u884c\u9996\u6dfb\u52a0\u4e24\u6b21\u7684`g*g`\u4e3a`g` sed -i \"s/^g\\*g/g/\" $simple done \u66ff\u6362simple\u6587\u4ef6\u4e2d\u5bf9\u5e94\u57fa\u56e0\u7684\u884c\u9996 bash add_g.sh grape.peach.anchors.simple bash add_g.sh grape.peach.anchors.simple #\u91cd\u65b0\u7ed8\u56fe python -m jcvi.graphics.karyotype seqids layout ~~\u65e0\u610f\u4e49\u4ee3\u7801\u7ed3\u675f~~ \u7ecf\u8fc7\u54a8\u8be2jcvi\u4f5c\u8005tanghaibao,\u53ef\u4ee5\u4f7f\u7528 .anchors \u6784\u5efa .simple \u6587\u4ef6\uff0c\u628a\u6bcf\u4e2a\u57fa\u56e0\u90fd\u4f5c\u4e3a\u4e00\u4e2a block \u8fd9\u6837\u53ef\u4ee5\u5b9e\u73b0\u9488\u5bf9\u57fa\u56e0\u6c34\u5e73\u8868\u73b0\u5171\u7ebf\u6027\u3002 .simple \u9700\u89816\u5217\uff0c\u4f7f\u7528 .anchors \u7684\u7b2c1\uff0c1\uff0c2\uff0c2\uff0c3\uff0c+\u7ec4\u6210\u65b0\u7684 .simple\u6587\u4ef6 \uff0c\u540e\u7eed\u548c\u539f\u6765\u4e00\u6837\u51fa\u56fe\u5373\u53ef\u3002 \u65b9\u6cd52\uff1a\u4f7f\u7528MCScanX\u5206\u6790\u548cVGSC(\u53ef\u89c6\u5316) \u53c2\u8003\uff1ahttps://www.jianshu.com/p/50f79e4d7460 VGSC\u5730\u5740 \u76f4\u63a5\u4e0b\u8f7d\u6587\u4ef6\uff0cjar\u53ef\u4ee5\u76f4\u63a5\u8fd0\u884c\u3002 \u4e0b\u8f7dMCScanX axel -n 16 http://chibba.pgml.uga.edu/mcscan2/MCScanX.zip unzip MCScanX.zip \u56e0\u4e3aMCScanX\u4e0d\u652f\u630164\u4f4d\u7cfb\u7edf\uff0c\u9700\u8981\u8fd0\u884c\u4e0b\u9762\u4e09\u884c\u547d\u4ee4\uff0c\u5206\u522b\u5728\u4e09\u4e2a\u6587\u4ef6\u7684\u7b2c\u4e00\u884c\u524d\u6dfb\u52a0 #include <unistd.h> sed -i '1i\\#include <unistd.h>' msa.h sed -i '1i\\#include <unistd.h>' dissect_multiple_alignment.h sed -i '1i\\#include <unistd.h>' detect_collinear_tandem_arrays.h make -j4 ./MCScanX -h MCScanX\u4e5f\u53ef\u4ee5\u8ba1\u7b97KaKs,\u4f46\u662f\u9700\u8981\u5b89\u88c5 clustalw conda install -c bioconda clustalw \u6784\u5efagff\u6587\u4ef6\u548cblast\u6587\u4ef6 gff\u6587\u4ef6\u683c\u5f0f #head at3 AT3G19630 6818676 6820674 at5 AT5G11220 3577057 3577854 at2 AT2G29110 12506880 12510552 #tail vv1 GSVIVT01012140001 1098524 1102524 vv18 GSVIVT01034900001 16234068 16271170 vv8 GSVIVT01025554001 14085153 14089377 \u76f4\u63a5\u4f7f\u7528\u4e0a\u9762\u751f\u6210\u7684bed\u6587\u4ef6\uff0cgrep\u7684\u76ee\u7684\u662f\u53ea\u63d0\u53d6chr\u7684\u6570\u636e\uff0cscaffold\u7684\u820d\u5f03\u3002 \u53c2\u8003\u94fe\u63a5\uff1ahttps://www.jianshu.com/p/50f79e4d7460 #\u6839\u636e\u4f60\u7684\u57fa\u56e0\u7ec4\u662f\u5426\u6709chr\u6765\u51b3\u5b9a\uff0c\u6ca1\u6709chr\u7528\u7b2c\u4e8c\u884c\uff0c\u6709chr\u7528\u7b2c\u4e00\u884c\u3002 sed 's/Chr/Spo/g' Spo.bed|grep Spo >Spo.gff sed 's/^/Ath/g' Ath.bed |grep -v Mt|grep -v Pt >Ath.gff cat Ath.gff Spo.gff >Ath_Spo.gff3 cat Ath_Spo.gff3|awk '{print $1\"\\t\"$4\"\\t\"$2\"\\t\"$3}' >Ath_Spo.gff \u51c6\u5907blast\u6587\u4ef6 #\u86cb\u767d\u6587\u4ef6\u6765\u81ea\u4e8ejcvi\u751f\u6210\u7684 cat Ath.pep Spo.pep >Ath_Spo.pep ##\u4f7f\u7528blast+\u7248\u672c makeblastdb -in Ath_Spo.pep -dbtype prot -out db_Ath_Spo -parse_seqids blastp -query Ath_Spo.pep -db db_Ath_Spo -out Ath_Spo.blast -evalue 1e-5 -outfmt 6 -num_alignments 5 -num_threads 32 \u53c2\u6570\u8bf4\u660e\uff1a -dbtype \u540e\u63a5\u5e8f\u5217\u7c7b\u578b\uff0cnucl\u4e3a\u6838\u9178\uff0cprot\u4e3a\u86cb\u767d -parse_seqids \u63a8\u8350\u52a0\u4e0a -out \u540e\u63a5\u6570\u636e\u5e93\u540d -logfile \u65e5\u5fd7\u6587\u4ef6\uff0c\u5982\u679c\u6ca1\u6709\u9ed8\u8ba4\u8f93\u51fa\u5230\u5c4f\u5e55 (-logfile xxx.log) MCScanX\u8fd0\u884c mkdir Ath_Spo cp Ath_Spo.gff ./Ath_Spo cp Ath_Spo.blast ./Ath_Spo MCScanX ./Ath_Spo -m 5 #-m 5\u6307\u5b9a\u6700\u5927gap\u662f5\uff0c\u9ed8\u8ba4\u662f25.\u4e00\u822c\u4e0d\u7528\u6307\u5b9a\u3002 \u751f\u6210Ath_Spo.collinearity \u8fd0\u884cVGSC\u53ef\u89c6\u5316 \u5982\u679cjava\u7248\u4e0d\u80fd\u4f7f\u7528\uff0c\u53ef\u4ee5\u4f7f\u7528 \u5728\u7ebf\u7248 java -jar VGSC.jar -tp Bar -ig Ath_Spo.gff -is Ath_Spo.collinearity -ic Ath_Spo.ctl -os Ath_Spo.svg \u53c2\u6570\u8bf4\u660e\uff1a -tp Bar|Circle| Dot |DS -ig gff -is os_sb.collinearity -ic bar.ctl |circle.ctl -os outputfile bar.ctl\u662f\u51fa\u56fe\u914d\u7f6e\u6587\u4ef6\uff0c\u5b89\u88c5\u5305\u91cc\u6709\u5bf9\u5e94\u7684\u6a21\u677f Ath_Spo.ctl\u6587\u4ef6\u5185\u5bb9\u5982\u4e0b\uff1a 800 //dimension (in pixels) of x axis 800 //dimension (in pixels) of y axis Ath1,Ath2,Ath3,Ath4,Ath5 //reference chromAthomes Spo01,Spo02,Spo03,Spo04,Spo05,Spo06,Spo07,Spo08,Spo09,Spo10,Spo11,Spo12,Spo13,Spo14,Spo15,Spo16,Spo17 //target chromAthomes \u5171\u7ebf\u6027\u53ef\u89c6\u5316\u53ef\u4ee5\u4f7f\u7528\u57fa\u4e8eggplot2\u7684 ggalluvial https://github.com/corybrunson/ggalluvial","title":"\u57fa\u56e0\u5bb6\u65cf\u5171\u7ebf\u6027\u5206\u6790"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E5%9F%BA%E5%9B%A0%E5%AE%B6%E6%97%8F%E5%85%B1%E7%BA%BF%E6%80%A7%E5%88%86%E6%9E%90/#_1","text":"mcscan\u5171\u7ebf\u6027\u5206\u67901 2 Jcvi\u6559\u7a0b \u6700\u5168\u7684\u672c\u5730blast\u6559\u7a0b","title":"\u5171\u7ebf\u6027\u5206\u6790"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E5%9F%BA%E5%9B%A0%E5%AE%B6%E6%97%8F%E5%85%B1%E7%BA%BF%E6%80%A7%E5%88%86%E6%9E%90/#jcvi","text":"conda install jcvi \u51c6\u5907\u6587\u4ef6gene.gff3 cds.fa protein.fa","title":"\u5b89\u88c5jcvi"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E5%9F%BA%E5%9B%A0%E5%AE%B6%E6%97%8F%E5%85%B1%E7%BA%BF%E6%80%A7%E5%88%86%E6%9E%90/#coline-analysis","text":"\u53c2\u8003\uff1a https://github.com/tanghaibao/jcvi/wiki/MCscan-(Python-version) https://www.cnblogs.com/zhanmaomao/p/12525411.html conda activate mmdetection conda install jcvi conda install seqkit","title":"coline analysis"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E5%9F%BA%E5%9B%A0%E5%AE%B6%E6%97%8F%E5%85%B1%E7%BA%BF%E6%80%A7%E5%88%86%E6%9E%90/#lastal","text":"\u7f51\u5740\uff1ahttp://last.cbrc.jp unzip last-1060.zip cd last-1060 make","title":"\u5b89\u88c5lastal"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E5%9F%BA%E5%9B%A0%E5%AE%B6%E6%97%8F%E5%85%B1%E7%BA%BF%E6%80%A7%E5%88%86%E6%9E%90/#phytozomeserver","text":"python -m jcvi.apps.fetch phytozome Phytozome Login: xxxxxxxx Phytozome Password: \u8f93\u5165\u4f60\u7684Phytozome\u7528\u6237\u540d\u548c\u5bc6\u7801\u3002 python -m jcvi.apps.fetch phytozome Athaliana Phytozome\u7684\u901f\u5ea6\u5b9e\u5728\u592a\u6162\uff0c\u8fd8\u662f\u4ece\u672c\u5730\u7528\u5de5\u5177\u4e0b\u8f7d\u5427\u3002","title":"\u4ecePhytozome\u6570\u636e\u5e93\u83b7\u53d6\u7269\u79cd\u6570\u636e\uff08\u5982\u679c\u8fdc\u7aefserver\u65e0\u6cd5\u8054\u7f51\uff0c\u8bf7\u76f4\u63a5\u4e0b\u8f7d\u57fa\u56e0\u7ec4\u7684\u76f8\u5173\u6570\u636e\uff0c\u8df3\u8fc7\u6b64\u6b65\uff09"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E5%9F%BA%E5%9B%A0%E5%AE%B6%E6%97%8F%E5%85%B1%E7%BA%BF%E6%80%A7%E5%88%86%E6%9E%90/#gff3bed","text":"","title":"\u4ecegff3\u83b7\u53d6bed"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E5%9F%BA%E5%9B%A0%E5%AE%B6%E6%97%8F%E5%85%B1%E7%BA%BF%E6%80%A7%E5%88%86%E6%9E%90/#spofve","text":"python -m jcvi.formats.gff bed --type=mRNA --key=ID Spo.genome.gff3 -o Spo.bed python -m jcvi.formats.gff bed --type=mRNA --key=ID Fragaria_vesca_v4.0.a1.transcripts.gff3.gz -o Fve.bed","title":"\u4ee5Spo\uff0c\u548cFve\u4e3a\u4f8b\u5b50"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E5%9F%BA%E5%9B%A0%E5%AE%B6%E6%97%8F%E5%85%B1%E7%BA%BF%E6%80%A7%E5%88%86%E6%9E%90/#_2","text":"--type\uff1agff\u6587\u4ef6\u4e2d\u7b2c\u4e09\u5217 --key\uff1atype\u5bf9\u5e94\u7684\u7b2c\u4e5d\u5217\u4fe1\u606f\u524d\u7f00 \u6211\u4eec\u5206\u6790\u53ea\u9700\u8981\u7528\u5230\u6bcf\u4e2a\u57fa\u56e0\u6700\u957f\u7684\u8f6c\u5f55\u672c\u5c31\u884c\uff0c\u5728Fve\u4e2d\u662f\u4ee5\u591a\u4e2a\u8f6c\u5f55\u672c\u8fdb\u884c\u5b58\u50a8\uff0c\u56e0\u4e3a\u9700\u8981\u83b7\u53d6\u6700\u957f\u8f6c\u5f55\u672c","title":"\u53c2\u6570"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E5%9F%BA%E5%9B%A0%E5%AE%B6%E6%97%8F%E5%85%B1%E7%BA%BF%E6%80%A7%E5%88%86%E6%9E%90/#fvebed","text":"python -m jcvi.formats.bed uniq Spo.bed python -m jcvi.formats.bed uniq Fve.bed","title":"\u5c06Fve\u4e2dbed\u8fdb\u884c\u53bb\u91cd\u590d"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E5%9F%BA%E5%9B%A0%E5%AE%B6%E6%97%8F%E5%85%B1%E7%BA%BF%E6%80%A7%E5%88%86%E6%9E%90/#cdspep","text":"conda install seqkit","title":"cds\u548cpep\u5e8f\u5217\u5747\u53ef\u4ee5\u8fdb\u884c\u5171\u7ebf\u6027\u5206\u6790"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E5%9F%BA%E5%9B%A0%E5%AE%B6%E6%97%8F%E5%85%B1%E7%BA%BF%E6%80%A7%E5%88%86%E6%9E%90/#bedcds","text":"# Spo seqkit grep -f <(cut -f4 Spo.bed) Chr_genome_final.cds.fa | seqkit seq -i >Spo.cds seqkit grep -f <(cut -f4 Spo.bed) Spo.genome.protein.fa | seqkit seq -i >Spo.pep # Fve seqkit grep -f <(cut -f4 Fve.bed) Fragaria_vesca_v4.0.a1_makerStandard_CDS.fasta.gz| seqkit seq -i >Fve.cds seqkit grep -f <(cut -f4 Fve.bed) Fragaria_vesca_v4.0.a1_makerStandard_proteins.fasta.gz | seqkit seq -i >Fve.pep","title":"\u6839\u636e\u4e0a\u8ff0\u5f97\u5230\u7684.bed\u6587\u4ef6\u8c03\u53d6\u5bf9\u5e94cds\u548c\u86cb\u767d\u5e8f\u5217"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E5%9F%BA%E5%9B%A0%E5%AE%B6%E6%97%8F%E5%85%B1%E7%BA%BF%E6%80%A7%E5%88%86%E6%9E%90/#_3","text":"","title":"\u5171\u7ebf\u6027\u5206\u6790"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E5%9F%BA%E5%9B%A0%E5%AE%B6%E6%97%8F%E5%85%B1%E7%BA%BF%E6%80%A7%E5%88%86%E6%9E%90/#_4","text":"mv Fve.uniq.bed Fve.bed mv Spo.uniq.bed Spo.bed mkdir Spo_Fve && cd Spo_Fve ln -s ../Fve.cds ./ ln -s ../Fve.bed ./ ln -s ../Fve.pep ./ ln -s ../Spo.cds ./ ln -s ../Spo.bed ./ ln -s ../Spo.pep ./ ## \u8fd0\u884c\u4ee3\u7801 python -m jcvi.compara.catalog ortholog (--dbtype prot[\u86cb\u767d\u5206\u6790]) --no_strip_names Spo Fve python -m jcvi.compara.catalog ortholog --dbtype prot --no_strip_names Spo Fve \u7ed3\u679c\uff1a Spo.Fve.anchors\uff1a\u5171\u7ebf\u6027block\u533a\u5757\uff08\u9ad8\u8d28\u91cf\uff09 Spo.Fve.last\uff1a\u539f\u59cb\u7684last\u8f93\u51fa Spo.Fve.last.filtered\uff1a\u8fc7\u6ee4\u540e\u7684last\u8f93\u51fa Spo.Fve.pdf\uff1a\u70b9\u9635\u56fe \u5982\u679c\u9047\u5230\u62a5\u9519\uff0c\u591a\u534a\u662f\u8981\u5b89\u88c5python\u5305\uff0c\u66f4\u65b0Latex. \u4f7f\u7528conda\u5b89\u88c5\u7684latex\u679c\u7136\u6709\u95ee\u9898\uff0c\u81ea\u5df1\u52a8\u624b\u5b89\u88c5latex \u53c2\u8003 \u3002\u6587\u4ef63G,\u5b89\u88c5\u6bd4\u8f83\u6162\u3002 #\u5b89\u88c5latex\u7684\u76ee\u5f55\u662f/share/softwares/Latex export MANPATH=$MANPATH:/share/softwares/Latex/texmf-dist/doc/man export INFOPATH=$INFOPATH:/share/softwares/Latex/texmf-dist/doc/info export PATH=$PATH:/share/softwares/Latex/bin/x86_64-linux ~\u7279\u6b8a\u60c5\u51b5\u7684\u5904\u7406\uff0c\u5f53\u7ec4\u88c5\u7ea7\u522b\u662fscaffold\u65f6\u5019\uff0c\u5904\u7406\u529e\u6cd5\u3002~ \u5728\u8bbe\u7f6eseqids\u65f6\u5019\uff0c\u9762\u4e34Atr\u7ec4\u88c5\u7684\u662fscaffold\uff0c\u662f\u5426\u9700\u8981\u5c55\u793a\u5168\u90e8\u7684scaffold\u3002\u6587\u732e\u4e2d\u6ca1\u6709\u63d0\u53ca\uff0c\u4f46\u662f\u90fd\u5c55\u793a\u4e86\u90e8\u5206\u7684scaffold\u3002\u6b64\u5904\u662f\u8bbe\u7f6e\u5c55\u793a\u524d120\u4e2ascaffold\u3002 cat Atr.bed|cut -f1|sort |uniq |head -120 |rev|cut -d \" \" -f1|rev >Atr.id cat Spo.bed|cut -f1|sort|uniq|grep -v utg|rev|cut -d \" \" -f1|rev >Spo.id ##\u8f6c\u7f6e\u6570\u636e\u4ece\u5217\u5230\u884c cat Spo.id|awk 'BEGIN{c=0;} {for(i=1;i<=NF;i++) {num[c,i] = $i;} c++;} END{ for(i=1;i<=NF;i++){str=\"\"; for(j=0;j<NR;j++){ if(j>0){str = str\",\"} str= str\"\"num[j,i]}printf(\"%s\\n\", str)} }' >Spo.ids cat Atr.id|awk 'BEGIN{c=0;} {for(i=1;i<=NF;i++) {num[c,i] = $i;} c++;} END{ for(i=1;i<=NF;i++){str=\"\"; for(j=0;j<NR;j++){ if(j>0){str = str\",\"} str= str\"\"num[j,i]}printf(\"%s\\n\", str)} }' >Atr.ids cat Spo.ids Atr.ids >seqids","title":"\u65b0\u5efa\u4e00\u4e2a\u6587\u4ef6\u5939\uff0c\u65b9\u4fbf\u5728\u62a5\u9519\u7684\u65f6\u5019\uff0c\u628a\u5168\u90e8\u90fd\u7ed9\u5220\u4e86"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E5%9F%BA%E5%9B%A0%E5%AE%B6%E6%97%8F%E5%85%B1%E7%BA%BF%E6%80%A7%E5%88%86%E6%9E%90/#_5","text":"","title":"\u53ef\u89c6\u5316"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E5%9F%BA%E5%9B%A0%E5%AE%B6%E6%97%8F%E5%85%B1%E7%BA%BF%E6%80%A7%E5%88%86%E6%9E%90/#sinple","text":"python -m jcvi.compara.synteny screen --minspan=30 --simple Spo.Fve.anchors Spo.Fve.anchors.new","title":"\u9996\u5148\u751f\u6210.sinple\u6587\u4ef6"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E5%9F%BA%E5%9B%A0%E5%AE%B6%E6%97%8F%E5%85%B1%E7%BA%BF%E6%80%A7%E5%88%86%E6%9E%90/#seqids-layout","text":"\u6ce8\u610f\uff1aseqids\u4e0a\u4e0b\u7684\u987a\u5e8f\u548clayout\u7684\u987a\u5e8f\u662f\u4e00\u4e00\u5bf9\u5e94\u7684\u3002\u800c\u4e14seqids\u540e\u9762\u4e0d\u8981\u52a0\u6ce8\u91ca\uff0c\u4e0d\u7136\u4e0d\u4f1a\u663e\u793a\u6700\u540e\u4e00\u6761\u67d3\u8272\u4f53\u3002Chr1\u548cChr01\u683c\u5f0f\u4e00\u5b9a\u8981\u548cbed\u91cc\u4e00\u6837\uff0c\u4e0d\u7136\u4e5f\u4e0d\u4f1a\u663e\u793a\u3002 layout\u6587\u4ef6\u4e00\u5b9a\u8981\u6309\u7167\u683c\u5f0f\u5199\u3002\u4e0d\u8981\u591a\u7a7a\u683c\u6216tab\uff0c\u4e0d\u7136\u4f1a\u62a5\u9519\u3002","title":"\u7f16\u8f91\u914d\u7f6e\u6587\u4ef6seqids \u548clayout"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E5%9F%BA%E5%9B%A0%E5%AE%B6%E6%97%8F%E5%85%B1%E7%BA%BF%E6%80%A7%E5%88%86%E6%9E%90/#_6","text":"vi seqids Chr01,Chr02,Chr03,Chr04,Chr05,Chr06,Chr07,Chr08,Chr09,Chr10,Chr11,Chr12,Chr13,Chr14,Chr15,Chr16,Chr17 Chr01,Chr02,Chr03,Chr04,Chr05,Chr06,Chr07,Chr08,Chr09,Chr10,Chr11,Chr12,Chr13,Chr14,Chr15,Chr16,Chr17 # \u8bbe\u7f6e\u989c\u8272\uff0c\u957f\u5bbd\u7b49 vi layout # y, xstart, xend, rotation, color, label, va, bed .6, .1, .8, 0, red, Spo, top, Spo.bed .4, .1, .8, 0, blue, Fve, top, Fve.bed # edges e, 0, 1, Spo.Fve.anchors.simple \u6ce8\u610f, #edges\u4e0b\u7684\u6bcf\u4e00\u884c\u5f00\u5934\u90fd\u4e0d\u80fd\u6709\u7a7a\u683c","title":"\u8bbe\u7f6e\u9700\u8981\u5c55\u793a\u67d3\u8272\u4f53\u53f7"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E5%9F%BA%E5%9B%A0%E5%AE%B6%E6%97%8F%E5%85%B1%E7%BA%BF%E6%80%A7%E5%88%86%E6%9E%90/#_7","text":"python -m jcvi.graphics.karyotype seqids layout","title":"\u8fd0\u884c\u4ee3\u7801"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E5%9F%BA%E5%9B%A0%E5%AE%B6%E6%97%8F%E5%85%B1%E7%BA%BF%E6%80%A7%E5%88%86%E6%9E%90/#g","text":"vi Spo.Fve.anchors.simple g*Spo03717 Spo03716 Bv3_048620_odzi.t1 Bv3_049090_cxmm.t1 46 + Spo17356 Spo17350 Bv1_001140_tedw.t1 Bv1_001540_xzdn.t1 41 - Spo13685 Spo13730 Bv5_123480_yfcy.t1 Bv5_123900_rucq.t1 46 - Spo26250 Spo26280 Bv5_117270_qhwj.t1 Bv5_117680_iykf.t1 36 + Spo19005 Spo06982 Bv7_173830_frmo.t1 Bv7_174150_pckw.t1 37 + Spo19374 Spo20559 Bv4_081440_riqq.t1 Bv4_081750_yeuy.t1 32 -","title":"\u7a81\u51fa\u663e\u793a\u67d0\u4e00\u6761\uff0c\u524d\u9762\u52a0\u4e0ag*"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E5%9F%BA%E5%9B%A0%E5%AE%B6%E6%97%8F%E5%85%B1%E7%BA%BF%E6%80%A7%E5%88%86%E6%9E%90/#_8","text":"python -m jcvi.graphics.karyotype seqids layout","title":"\u8fd0\u884c"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E5%9F%BA%E5%9B%A0%E5%AE%B6%E6%97%8F%E5%85%B1%E7%BA%BF%E6%80%A7%E5%88%86%E6%9E%90/#_9","text":"","title":"\u4e09\u4e2a\u7269\u79cd\u4e4b\u95f4\u6bd4\u8f83"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E5%9F%BA%E5%9B%A0%E5%AE%B6%E6%97%8F%E5%85%B1%E7%BA%BF%E6%80%A7%E5%88%86%E6%9E%90/#_10","text":"vi layout # y, xstart, xend, rotation, color, label, va, bed .7, .1, .8, 15, blue, F.vesca, top, Fve.bed .5, .1, .8, 0, red, S.pohuashanensis, top, Spo.bed .3, .1, .8, -15, green, M.domestica, bottom, Mdo.bed # edges e, 0, 1, Spo.Fve.anchors.simple e, 1, 2, Spo.Mdo.anchors.simple vi seqids Fvb1,Fvb2,Fvb3,Fvb4,Fvb5,Fvb6,Fvb7 Chr01,Chr02,Chr03,Chr04,Chr05,Chr06,Chr07,Chr08,Chr09,Chr10,Chr11,Chr12,Chr13,Chr14,Chr15,Chr16,Chr17 Chr01,Chr02,Chr03,Chr04,Chr05,Chr06,Chr07,Chr08,Chr09,Chr10,Chr11,Chr12,Chr13,Chr14,Chr15,Chr16,Chr17 python -m jcvi.graphics.karyotype seqids layout ##--nocircles \u4e0d\u753b\u51fa\u5706\u5708\u7684\u67d3\u8272\u4f53\u5e95\u7eb9 python -m jcvi.graphics.karyotype seqids normal_layout --nocircles","title":"\u5e38\u89c4\u5e03\u5c40"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E5%9F%BA%E5%9B%A0%E5%AE%B6%E6%97%8F%E5%85%B1%E7%BA%BF%E6%80%A7%E5%88%86%E6%9E%90/#_11","text":"# y, xstart, xend, rotation, color, label, va, bed .5, 0.025, 0.625, 60, , Grape, top, grape.bed .2, 0.2, .8, 0, , Peach, top, peach.bed .5, 0.375, 0.975, -60, , Cacao, top, cacao.bed # edges e, 0, 1, grape.peach.anchors.simple e, 1, 2, peach.cacao.anchors.simple","title":"\u4e09\u89d2\u5f62\u5e03\u5c40"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E5%9F%BA%E5%9B%A0%E5%AE%B6%E6%97%8F%E5%85%B1%E7%BA%BF%E6%80%A7%E5%88%86%E6%9E%90/#_12","text":"python -m jcvi.graphics.karyotype seqids layout","title":"\u8fd0\u884c"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E5%9F%BA%E5%9B%A0%E5%AE%B6%E6%97%8F%E5%85%B1%E7%BA%BF%E6%80%A7%E5%88%86%E6%9E%90/#anchorssimplesynteny-blocks","text":"\u6bcf\u884c\u662f\u4e00\u4e2a\u5757\uff08synteny blocks\uff09\uff0c\u6bcf\u884c\u524d\u4e24\u5217\u662f\u7269\u79cd1\u7684\u8d77\u59cb\u57fa\u56e0\u548c\u4e2d\u6b62\u57fa\u56e0\uff0c3-4\u5217\u662f\u7269\u79cd2\u7684\u8d77\u59cb\u57fa\u56e0\u548c\u4e2d\u6b62\u57fa\u56e0,5\u5217\u662f\u5f97\u5206\uff0c6\u5217\u662f\u6b63\u53cd\u94fe\u3002 head grape.peach.anchors.simple gra01G000550.1 gra01G001220.1 pea01G1001000 pea01G1008900 57 - gra01G001300.1 gra01G011750.1 pea01G1009700 pea01G1130400 1025 + \u6240\u4ee5\u4e0b\u9762\u8fd9\u6837\u53d6\u9996\u5c3e\u5171\u6709\u57fa\u56e0\u4f5c\u4e3a\u4ee3\u8868\uff0c\u663e\u793a\u7eff\u8272\u5e76\u6ca1\u6709\u751f\u7269\u5b66\u610f\u4e49\u3002 ~~\u5982\u679c\u60f3\u8ba9Peach\u7684\u57fa\u56e0\u65e2\u5728Grape\u53c8\u5728Cacao\u4e0a\u7684\u57fa\u56e0\u5757\u7ebf\u6761\u663e\u793a\u7eff\u8272\uff08green\uff09.~~ cat grape.peach.anchors.simple|awk '{print $1\"\\n\"$2}' |sort -u >peach.txt cat grape.cacao.anchors.simple|awk '{print $1\"\\n\"$2}' |sort -u >cacao.txt join peach.txt cacao.txt >gene.list add_g.sh \u5185\u5bb9\u5982\u4e0b simple=$1 cat gene.list| while read line do #\u5907\u4efd\u539f\u59cbsimple\u6587\u4ef6 cp $simple ${simple}.origin #\u5148\u83b7\u53d6\u5339\u914d\u884c\uff0c\u518d\u5728\u5339\u914d\u884c\u9996\u6dfb\u52a0`g*`,\u56e0\u4e3a\u53ef\u80fd\u5b58\u5728\u4e00\u884c\u6dfb\u52a0\u4e24\u6b21\u7684\u60c5\u51b5\u3002 eval sed -i \\'\"/${line}/ s/^/g\\*/\"\\' $simple #\u66ff\u6362\u884c\u9996\u6dfb\u52a0\u4e24\u6b21\u7684`g*g`\u4e3a`g` sed -i \"s/^g\\*g/g/\" $simple done \u66ff\u6362simple\u6587\u4ef6\u4e2d\u5bf9\u5e94\u57fa\u56e0\u7684\u884c\u9996 bash add_g.sh grape.peach.anchors.simple bash add_g.sh grape.peach.anchors.simple #\u91cd\u65b0\u7ed8\u56fe python -m jcvi.graphics.karyotype seqids layout ~~\u65e0\u610f\u4e49\u4ee3\u7801\u7ed3\u675f~~ \u7ecf\u8fc7\u54a8\u8be2jcvi\u4f5c\u8005tanghaibao,\u53ef\u4ee5\u4f7f\u7528 .anchors \u6784\u5efa .simple \u6587\u4ef6\uff0c\u628a\u6bcf\u4e2a\u57fa\u56e0\u90fd\u4f5c\u4e3a\u4e00\u4e2a block \u8fd9\u6837\u53ef\u4ee5\u5b9e\u73b0\u9488\u5bf9\u57fa\u56e0\u6c34\u5e73\u8868\u73b0\u5171\u7ebf\u6027\u3002 .simple \u9700\u89816\u5217\uff0c\u4f7f\u7528 .anchors \u7684\u7b2c1\uff0c1\uff0c2\uff0c2\uff0c3\uff0c+\u7ec4\u6210\u65b0\u7684 .simple\u6587\u4ef6 \uff0c\u540e\u7eed\u548c\u539f\u6765\u4e00\u6837\u51fa\u56fe\u5373\u53ef\u3002","title":"\u6ce8\u610f\uff1aanchors.simple\u662f\u540c\u4e49\u57fa\u56e0\u5757\uff08synteny blocks\uff09."},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E5%9F%BA%E5%9B%A0%E5%AE%B6%E6%97%8F%E5%85%B1%E7%BA%BF%E6%80%A7%E5%88%86%E6%9E%90/#2mcscanxvgsc","text":"\u53c2\u8003\uff1ahttps://www.jianshu.com/p/50f79e4d7460 VGSC\u5730\u5740 \u76f4\u63a5\u4e0b\u8f7d\u6587\u4ef6\uff0cjar\u53ef\u4ee5\u76f4\u63a5\u8fd0\u884c\u3002","title":"\u65b9\u6cd52\uff1a\u4f7f\u7528MCScanX\u5206\u6790\u548cVGSC(\u53ef\u89c6\u5316)"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E5%9F%BA%E5%9B%A0%E5%AE%B6%E6%97%8F%E5%85%B1%E7%BA%BF%E6%80%A7%E5%88%86%E6%9E%90/#mcscanx","text":"axel -n 16 http://chibba.pgml.uga.edu/mcscan2/MCScanX.zip unzip MCScanX.zip","title":"\u4e0b\u8f7dMCScanX"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E5%9F%BA%E5%9B%A0%E5%AE%B6%E6%97%8F%E5%85%B1%E7%BA%BF%E6%80%A7%E5%88%86%E6%9E%90/#mcscanx64include-unistdh","text":"sed -i '1i\\#include <unistd.h>' msa.h sed -i '1i\\#include <unistd.h>' dissect_multiple_alignment.h sed -i '1i\\#include <unistd.h>' detect_collinear_tandem_arrays.h make -j4 ./MCScanX -h MCScanX\u4e5f\u53ef\u4ee5\u8ba1\u7b97KaKs,\u4f46\u662f\u9700\u8981\u5b89\u88c5 clustalw conda install -c bioconda clustalw","title":"\u56e0\u4e3aMCScanX\u4e0d\u652f\u630164\u4f4d\u7cfb\u7edf\uff0c\u9700\u8981\u8fd0\u884c\u4e0b\u9762\u4e09\u884c\u547d\u4ee4\uff0c\u5206\u522b\u5728\u4e09\u4e2a\u6587\u4ef6\u7684\u7b2c\u4e00\u884c\u524d\u6dfb\u52a0#include &lt;unistd.h&gt;"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E5%9F%BA%E5%9B%A0%E5%AE%B6%E6%97%8F%E5%85%B1%E7%BA%BF%E6%80%A7%E5%88%86%E6%9E%90/#gffblast","text":"gff\u6587\u4ef6\u683c\u5f0f #head at3 AT3G19630 6818676 6820674 at5 AT5G11220 3577057 3577854 at2 AT2G29110 12506880 12510552 #tail vv1 GSVIVT01012140001 1098524 1102524 vv18 GSVIVT01034900001 16234068 16271170 vv8 GSVIVT01025554001 14085153 14089377 \u76f4\u63a5\u4f7f\u7528\u4e0a\u9762\u751f\u6210\u7684bed\u6587\u4ef6\uff0cgrep\u7684\u76ee\u7684\u662f\u53ea\u63d0\u53d6chr\u7684\u6570\u636e\uff0cscaffold\u7684\u820d\u5f03\u3002 \u53c2\u8003\u94fe\u63a5\uff1ahttps://www.jianshu.com/p/50f79e4d7460 #\u6839\u636e\u4f60\u7684\u57fa\u56e0\u7ec4\u662f\u5426\u6709chr\u6765\u51b3\u5b9a\uff0c\u6ca1\u6709chr\u7528\u7b2c\u4e8c\u884c\uff0c\u6709chr\u7528\u7b2c\u4e00\u884c\u3002 sed 's/Chr/Spo/g' Spo.bed|grep Spo >Spo.gff sed 's/^/Ath/g' Ath.bed |grep -v Mt|grep -v Pt >Ath.gff cat Ath.gff Spo.gff >Ath_Spo.gff3 cat Ath_Spo.gff3|awk '{print $1\"\\t\"$4\"\\t\"$2\"\\t\"$3}' >Ath_Spo.gff","title":"\u6784\u5efagff\u6587\u4ef6\u548cblast\u6587\u4ef6"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E5%9F%BA%E5%9B%A0%E5%AE%B6%E6%97%8F%E5%85%B1%E7%BA%BF%E6%80%A7%E5%88%86%E6%9E%90/#blast","text":"#\u86cb\u767d\u6587\u4ef6\u6765\u81ea\u4e8ejcvi\u751f\u6210\u7684 cat Ath.pep Spo.pep >Ath_Spo.pep ##\u4f7f\u7528blast+\u7248\u672c makeblastdb -in Ath_Spo.pep -dbtype prot -out db_Ath_Spo -parse_seqids blastp -query Ath_Spo.pep -db db_Ath_Spo -out Ath_Spo.blast -evalue 1e-5 -outfmt 6 -num_alignments 5 -num_threads 32 \u53c2\u6570\u8bf4\u660e\uff1a -dbtype \u540e\u63a5\u5e8f\u5217\u7c7b\u578b\uff0cnucl\u4e3a\u6838\u9178\uff0cprot\u4e3a\u86cb\u767d -parse_seqids \u63a8\u8350\u52a0\u4e0a -out \u540e\u63a5\u6570\u636e\u5e93\u540d -logfile \u65e5\u5fd7\u6587\u4ef6\uff0c\u5982\u679c\u6ca1\u6709\u9ed8\u8ba4\u8f93\u51fa\u5230\u5c4f\u5e55 (-logfile xxx.log)","title":"\u51c6\u5907blast\u6587\u4ef6"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E5%9F%BA%E5%9B%A0%E5%AE%B6%E6%97%8F%E5%85%B1%E7%BA%BF%E6%80%A7%E5%88%86%E6%9E%90/#mcscanx_1","text":"mkdir Ath_Spo cp Ath_Spo.gff ./Ath_Spo cp Ath_Spo.blast ./Ath_Spo MCScanX ./Ath_Spo -m 5 #-m 5\u6307\u5b9a\u6700\u5927gap\u662f5\uff0c\u9ed8\u8ba4\u662f25.\u4e00\u822c\u4e0d\u7528\u6307\u5b9a\u3002 \u751f\u6210Ath_Spo.collinearity","title":"MCScanX\u8fd0\u884c"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E5%9F%BA%E5%9B%A0%E5%AE%B6%E6%97%8F%E5%85%B1%E7%BA%BF%E6%80%A7%E5%88%86%E6%9E%90/#vgsc","text":"\u5982\u679cjava\u7248\u4e0d\u80fd\u4f7f\u7528\uff0c\u53ef\u4ee5\u4f7f\u7528 \u5728\u7ebf\u7248 java -jar VGSC.jar -tp Bar -ig Ath_Spo.gff -is Ath_Spo.collinearity -ic Ath_Spo.ctl -os Ath_Spo.svg \u53c2\u6570\u8bf4\u660e\uff1a -tp Bar|Circle| Dot |DS -ig gff -is os_sb.collinearity -ic bar.ctl |circle.ctl -os outputfile bar.ctl\u662f\u51fa\u56fe\u914d\u7f6e\u6587\u4ef6\uff0c\u5b89\u88c5\u5305\u91cc\u6709\u5bf9\u5e94\u7684\u6a21\u677f Ath_Spo.ctl\u6587\u4ef6\u5185\u5bb9\u5982\u4e0b\uff1a 800 //dimension (in pixels) of x axis 800 //dimension (in pixels) of y axis Ath1,Ath2,Ath3,Ath4,Ath5 //reference chromAthomes Spo01,Spo02,Spo03,Spo04,Spo05,Spo06,Spo07,Spo08,Spo09,Spo10,Spo11,Spo12,Spo13,Spo14,Spo15,Spo16,Spo17 //target chromAthomes","title":"\u8fd0\u884cVGSC\u53ef\u89c6\u5316"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E5%9F%BA%E5%9B%A0%E5%AE%B6%E6%97%8F%E5%85%B1%E7%BA%BF%E6%80%A7%E5%88%86%E6%9E%90/#ggplot2ggalluvial","text":"https://github.com/corybrunson/ggalluvial","title":"\u5171\u7ebf\u6027\u53ef\u89c6\u5316\u53ef\u4ee5\u4f7f\u7528\u57fa\u4e8eggplot2\u7684ggalluvial"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E5%9F%BA%E5%9B%A0%E5%AE%B6%E6%97%8F%E6%89%A9%E5%BC%A0%E6%88%96%E6%94%B6%E7%BC%A9%EF%BC%88%E6%9C%AA%E5%AE%8C%E5%BE%85%E7%BB%AD%EF%BC%89/","text":"\u57fa\u56e0\u5bb6\u65cf\u6269\u5f20\u6216\u6536\u7f29\uff0c\u8fdb\u5316\u68111 2 \u751f\u7269\u5b66\u77e5\u8bc6\uff1a\u57fa\u56e0\u5bb6\u65cf\u7684\u5f62\u6210\u65b9\u5f0f \u8f6c\u8f7d\u81eahttps://www.omicsclass.com/article/494 \u57fa\u56e0\u5bb6\u65cf\uff08\u82f1\u8bed\uff1aGene family\uff09\uff0c\u662f\u6765\u6e90\u4e8e\u540c\u4e00\u4e2a\u7956\u5148\uff0c\u7531\u4e00\u4e2a\u57fa\u56e0\u901a\u8fc7\u57fa\u56e0\u91cd\u590d\u800c\u4ea7\u751f\u4e24\u4e2a\u6216\u66f4\u591a\u7684\u62f7\u8d1d\u800c\u6784\u6210\u7684\u4e00\u7ec4\u57fa\u56e0\uff0c\u5b83\u4eec\u5728\u7ed3\u6784\u548c\u529f\u80fd\u4e0a\u5177\u6709\u660e\u663e\u7684\u76f8\u4f3c\u6027\uff0c\u7f16\u7801\u76f8\u4f3c\u7684\u86cb\u767d\u8d28\u4ea7\u7269\u3002 \u57fa\u56e0\u5bb6\u65cf\u7684\u5f62\u6210\uff08\u52a0\u500d\u548c\u6269\u5f20\uff09 1.\u67d3\u8272\u4f53\u7d44\u591a\u500d\u5316( Whole genome duplication or polyploidization)\uff08WGD\uff09\uff1a\u5927\u90e8\u5206\u690d\u7269\u90fd\u7ecf\u5386\u8fc7\u53e4\u8001\u7684\u5168\u57fa\u56e0\u7ec4\u590d\u5236\u4e8b\u4ef6\uff08WGD\uff09or\u591a\u500d\u5316\uff0c\u5b83\u662f\u4e00\u79cd\u5927\u89c4\u6a21\u7684\u67d3\u8272\u4f53\u500d\u589e\u4e8b\u4ef6\uff0c\u4e00\u6b21\u6027\u589e\u52a0\u4e00\u4e2a\u7269\u79cd\u6240\u6709\u57fa\u56e0\u7684\u5242\u91cf\uff0c\u5bfc\u81f4\u57fa\u56e0\u7ec4\u4e2d\u4fdd\u7559\u7740\u5927\u91cf\u67d3\u8272\u4f53\u500d\u589e\u7684\u7247\u6bb5\u3002\u5168\u57fa\u56e0\u7ec4\u590d\u5236\u9020\u6210\u7684\u91cd\u590d\u533a\u901a\u5e38\u662f\u4e00\u5927\u7247\u533a\u57df\u4e2d\u6240\u6709\u57fa\u56e0\u7684\u91cd\u590d\uff0c\u800c\u4e0d\u662f\u5355\u4e2a\u57fa\u56e0\u6216\u51e0\u4e2a\u57fa\u56e0\u7684\u91cd\u590d\u3002\u9ad8\u7b49\u690d\u7269\uff0c\u5f88\u591a\u90fd\u7ecf\u5386\u8fc7\u591a\u500d\u5316\u8fc7\u7a0b\u5982\u68c9\u82b1\uff08AADD\uff09\uff0c\u82b1\u751f\uff08AABB\uff09\uff0c\u5c0f\u9ea6\uff08AABBDD\uff09\u7b49\u7b49\uff0c\u90a3\u4e48\u57fa\u56e0\u7ec4\u5728\u591a\u500d\u5316\u7684\u8fc7\u7a0b\u4e2d\uff0c\u5c31\u4f1a\u53d1\u751f\u57fa\u56e0\u7684\u6210\u500d\u589e\u52a0\uff1a 2.\u4e32\u8054\u590d\u5236(Tandem duplication) (TD)\uff1a\u4e32\u8054\u590d\u5236\u4e3b\u8981\u53d1\u751f\u5728\u67d3\u8272\u4f53\u91cd\u7ec4\u533a\u57df\uff0c\u4e32\u8054\u590d\u5236\u5f62\u6210\u7684\u57fa\u56e0\u5bb6\u65cf\u6210\u5458\u901a\u5e38\u7d27\u5bc6\u6392\u5217\u5728\u540c\u4e00\u6761\u67d3\u8272\u4f53\u4e0a\uff0c\u5f62\u6210\u4e00\u4e2a\u5e8f\u5217\u76f8\u4f3c\u3001\u529f\u80fd\u76f8\u8fd1\u7684\u57fa\u56e0\u7c07\u3002 3.\u67d3\u8272\u4f53\u7247\u6bb5\u590d\u5236(Segmental duplication)(SD)\uff1a\u5bfc\u81f4\u590d\u5236\u7684\u57fa\u56e0\u8ddd\u79bb\u8f83\u8fdc\uff0c\u751a\u81f3\u4f4d\u4e8e\u4e0d\u540c\u7684\u67d3\u8272\u4f53\u3002 4.\u53cd\u8f6c\u5f55\u8f6c\u5ea7(Retrotransposition)\uff1a\u53cd\u8f6c\u5f55\u8f6c\u5ea7\u662f\u6307\u4ef6\u5df2\u7ecf\u8f6c\u5f55\u548c\u526a\u5207\u7684mRNA\uff0c\u518d\u7ecf\u8fc7\u9006\u8f6c\u5f55\u8fc7\u7a0b\u5f62\u6210cDNA\uff0c\u7136\u540e\u968f\u673a\u63d2\u5165\u5230\u67d3\u8272\u4f53\u7684\u67d0\u4e00\u4f4d\u7f6e\u5f62\u6210\u65b0\u7684\u91cd\u590d\u57fa\u56e0\u7684\u8fc7\u7a0b\u3002\u7ecf\u53cd\u8f6c\u5f55\u8f6c\u5ea7\u5f62\u6210\u7684\u65b0\u57fa\u56e0\u5f80\u5f80\u7531\u4e8e\u7f3a\u5c11\u5fc5\u8981\u7684\u8c03\u63a7\u5e8f\u5217\uff0c\u901a\u5e38\u90fd\u662f\u4e0d\u80fd\u8868\u8fbe\u7684\u5047\u57fa\u56e0\u3002 5.\u5916\u663e\u5b50\u91cd\u590d\u548c\u6539\u7ec4\uff08Exon duplication and shuffling \uff09 \u5927\u7247\u6bb5\u590d\u5236\u7684\u5bb6\u65cf\u57fa\u56e0\uff0c\u53ca\u53cd\u8f6c\u5f55\u8f6c\u5ea7\u4e5f\u4f1a\u5bfc\u81f4\u52a0\u500d\u7684\u5bb6\u65cf\u57fa\u56e0\u4f4d\u4e8e\u4e0d\u540c\u7684\u67d3\u8272\u4f53 \u4e25\u683c\u533a\u5206\u7684\u8bdd\uff0c\u5e94\u8be5\u7528\u5171\u7ebf\u6027\u7684\u65b9\u6cd5\u53bb\u67e5\u627e\u5927\u7247\u6bb5\u590d\u5236\u7684\u57fa\u56e0\uff0c\u5982mcscan\u53bb\u67e5\u627e\uff1a\u56e0\u4e3a\u5927\u7247\u6bb5\u590d\u5236\u7684\u57fa\u56e0\u5468\u56f4\u7684\u57fa\u56e0\u4e5f\u6709\u76f8\u4f3c\u6027\uff0c\u800c\u53cd\u8f6c\u5f55\u8f6c\u5ea7\u5c31\u4e0d\u540c\u4e86\uff0c\u5468\u56f4\u7684\u5176\u4ed6\u57fa\u56e0\u4e0d\u76f8\u4f3c\u3002 0.\u6536\u96c6\u9700\u8981\u6bd4\u8f83\u7684\u7269\u79cd\u7684\u86cb\u767d\u5e8f\u5217\uff0c\u5e76\u83b7\u53d6\u6bcf\u4e2a\u57fa\u56e0\u7f16\u7801\u7684\u6700\u957f\u7684\u86cb\u767d\u5e8f\u5217 1.\u4f7f\u7528OrthoFinder\u67e5\u627e\u76f4\u7cfb\u540c\u6e90\u57fa\u56e0 2.Iqtree\u8fdb\u5316\u6811\u6784\u5efa 3.MCMCTREE\u4f30\u8ba1\u5206\u5316\u65f6\u95f4\uff0cR8S\u7528\u63a8\u65ad\u7684\u7269\u79cd\u6811\u63d0\u53d6\u8d85\u5ea6\u91cf\u6811\uff08ultrametric tree\uff09 R8s\u7684\u4e0b\u8f7d\u5b89\u88c5 wget -q https://sourceforge.net/projects/r8s/files/r8s1.81.tar.gz \\ && tar -zxvf r8s1.81.tar.gz \\ && cd r8s1.81/src \\ && cp Makefile.linux Makefile.linux.bak \\ && sed -i 's/continuousML.o //' Makefile.linux \\ && sed -i 's/continuousML.o:/#continuousML.o:/' Makefile.linux \\ && make -f Makefile.linux 4. \u57fa\u56e0\u5bb6\u65cf\u6269\u5f20\u4e0e\u6536\u7f29\u5206\u6790\uff08CAFE\uff09 cafe\u7ed3\u679c\u53ef\u89c6\u5316 \u5b89\u88c5cafe_fig\uff0c\u7528\u4e8ecafe\u4ea7\u51fa\u6587\u4ef6\u53ef\u89c6\u5316\u3002 pip3 install ete3 git clone https://github.com/LKremer/CAFE_fig.git cd CAFE_fig python3 CAFE_fig.py -h \u5b89\u88c5\u5982\u679c\u62a5\u9519\uff0c\u7f3a\u5c11\u4f9d\u8d56\u5305\uff0c\u5c31\u7528pip3\u5b89\u88c5\u3002 \u5982\u679c\u62a5\u9519NameError: name 'ListType' is not defined\uff0c pip3 install scipy \u53ef\u89e3\u51b3\u3002 \u9519\u8bef\uff1aqt.qpa.plugin: Could not load the Qt platform plugin \"xcb\" in \"\" even though it was found \u89e3\u51b3\u529e\u6cd5\uff1a\u7528conda\u5b89\u88c5pyqt5 conda install pyqt ERROR:qt.qpa.screen: QXcbConnection: Could not connect to display :0.0 \u89e3\u51b3\u529e\u6cd5\uff1a echo \"export QT_QPA_PLATFORM='offscreen'\" >>~/.bashrc source ~/.bashrc \u8fd0\u884c\u4f8b\u5b50 python3 CAFE_fig.py example_result.cafe -pb 0.05 -pf 0.05 --dump test/ -g svg --count_all_expansions \u793a\u4f8b\u8f93\u51fa\u7ed3\u679c\uff0c\u9700\u8981\u81ea\u5df1\u7528AI\u8c03\u6574SVG. cafe\u7ed3\u679c\u53ef\u89c6\u5316\u65b9\u6cd52\uff1a\u5229\u7528caft\u81ea\u5e26\u7684\u811a\u672c\u53ef\u89c6\u5316 python2 ~/tools/CAFE/python_scripts/cafetutorial_report_analysis.py -i resultfile.cafe -o summary_run1 python ~/tools/CAFE/python_scripts/cafetutorial_draw_tree.py -i summary_run1_node.txt -t '(((chimp:6,human:6):81,(mouse:17,rat:17):70):6,dog:93) ' -d '(((chimp<3>,human<3>)<3>,(mouse<3>,rat<3>)<3>)<3>,dog<3>) ' -o summary_run1_tree_rapid.png cafe\u81ea\u5e26\u7684py\u811a\u672c\u5728 \u5176\u4ed6\u4eba\u7684github","title":"\u57fa\u56e0\u5bb6\u65cf\u6269\u5f20\u6216\u6536\u7f29\uff08\u672a\u5b8c\u5f85\u7eed\uff09"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E5%9F%BA%E5%9B%A0%E5%AE%B6%E6%97%8F%E6%89%A9%E5%BC%A0%E6%88%96%E6%94%B6%E7%BC%A9%EF%BC%88%E6%9C%AA%E5%AE%8C%E5%BE%85%E7%BB%AD%EF%BC%89/#httpswwwomicsclasscomarticle494","text":"","title":"\u751f\u7269\u5b66\u77e5\u8bc6\uff1a\u57fa\u56e0\u5bb6\u65cf\u7684\u5f62\u6210\u65b9\u5f0f \u8f6c\u8f7d\u81eahttps://www.omicsclass.com/article/494"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E5%9F%BA%E5%9B%A0%E5%AE%B6%E6%97%8F%E6%89%A9%E5%BC%A0%E6%88%96%E6%94%B6%E7%BC%A9%EF%BC%88%E6%9C%AA%E5%AE%8C%E5%BE%85%E7%BB%AD%EF%BC%89/#gene-family","text":"","title":"\u57fa\u56e0\u5bb6\u65cf\uff08\u82f1\u8bed\uff1aGene family\uff09\uff0c\u662f\u6765\u6e90\u4e8e\u540c\u4e00\u4e2a\u7956\u5148\uff0c\u7531\u4e00\u4e2a\u57fa\u56e0\u901a\u8fc7\u57fa\u56e0\u91cd\u590d\u800c\u4ea7\u751f\u4e24\u4e2a\u6216\u66f4\u591a\u7684\u62f7\u8d1d\u800c\u6784\u6210\u7684\u4e00\u7ec4\u57fa\u56e0\uff0c\u5b83\u4eec\u5728\u7ed3\u6784\u548c\u529f\u80fd\u4e0a\u5177\u6709\u660e\u663e\u7684\u76f8\u4f3c\u6027\uff0c\u7f16\u7801\u76f8\u4f3c\u7684\u86cb\u767d\u8d28\u4ea7\u7269\u3002"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E5%9F%BA%E5%9B%A0%E5%AE%B6%E6%97%8F%E6%89%A9%E5%BC%A0%E6%88%96%E6%94%B6%E7%BC%A9%EF%BC%88%E6%9C%AA%E5%AE%8C%E5%BE%85%E7%BB%AD%EF%BC%89/#_1","text":"1.\u67d3\u8272\u4f53\u7d44\u591a\u500d\u5316( Whole genome duplication or polyploidization)\uff08WGD\uff09\uff1a\u5927\u90e8\u5206\u690d\u7269\u90fd\u7ecf\u5386\u8fc7\u53e4\u8001\u7684\u5168\u57fa\u56e0\u7ec4\u590d\u5236\u4e8b\u4ef6\uff08WGD\uff09or\u591a\u500d\u5316\uff0c\u5b83\u662f\u4e00\u79cd\u5927\u89c4\u6a21\u7684\u67d3\u8272\u4f53\u500d\u589e\u4e8b\u4ef6\uff0c\u4e00\u6b21\u6027\u589e\u52a0\u4e00\u4e2a\u7269\u79cd\u6240\u6709\u57fa\u56e0\u7684\u5242\u91cf\uff0c\u5bfc\u81f4\u57fa\u56e0\u7ec4\u4e2d\u4fdd\u7559\u7740\u5927\u91cf\u67d3\u8272\u4f53\u500d\u589e\u7684\u7247\u6bb5\u3002\u5168\u57fa\u56e0\u7ec4\u590d\u5236\u9020\u6210\u7684\u91cd\u590d\u533a\u901a\u5e38\u662f\u4e00\u5927\u7247\u533a\u57df\u4e2d\u6240\u6709\u57fa\u56e0\u7684\u91cd\u590d\uff0c\u800c\u4e0d\u662f\u5355\u4e2a\u57fa\u56e0\u6216\u51e0\u4e2a\u57fa\u56e0\u7684\u91cd\u590d\u3002\u9ad8\u7b49\u690d\u7269\uff0c\u5f88\u591a\u90fd\u7ecf\u5386\u8fc7\u591a\u500d\u5316\u8fc7\u7a0b\u5982\u68c9\u82b1\uff08AADD\uff09\uff0c\u82b1\u751f\uff08AABB\uff09\uff0c\u5c0f\u9ea6\uff08AABBDD\uff09\u7b49\u7b49\uff0c\u90a3\u4e48\u57fa\u56e0\u7ec4\u5728\u591a\u500d\u5316\u7684\u8fc7\u7a0b\u4e2d\uff0c\u5c31\u4f1a\u53d1\u751f\u57fa\u56e0\u7684\u6210\u500d\u589e\u52a0\uff1a 2.\u4e32\u8054\u590d\u5236(Tandem duplication) (TD)\uff1a\u4e32\u8054\u590d\u5236\u4e3b\u8981\u53d1\u751f\u5728\u67d3\u8272\u4f53\u91cd\u7ec4\u533a\u57df\uff0c\u4e32\u8054\u590d\u5236\u5f62\u6210\u7684\u57fa\u56e0\u5bb6\u65cf\u6210\u5458\u901a\u5e38\u7d27\u5bc6\u6392\u5217\u5728\u540c\u4e00\u6761\u67d3\u8272\u4f53\u4e0a\uff0c\u5f62\u6210\u4e00\u4e2a\u5e8f\u5217\u76f8\u4f3c\u3001\u529f\u80fd\u76f8\u8fd1\u7684\u57fa\u56e0\u7c07\u3002 3.\u67d3\u8272\u4f53\u7247\u6bb5\u590d\u5236(Segmental duplication)(SD)\uff1a\u5bfc\u81f4\u590d\u5236\u7684\u57fa\u56e0\u8ddd\u79bb\u8f83\u8fdc\uff0c\u751a\u81f3\u4f4d\u4e8e\u4e0d\u540c\u7684\u67d3\u8272\u4f53\u3002 4.\u53cd\u8f6c\u5f55\u8f6c\u5ea7(Retrotransposition)\uff1a\u53cd\u8f6c\u5f55\u8f6c\u5ea7\u662f\u6307\u4ef6\u5df2\u7ecf\u8f6c\u5f55\u548c\u526a\u5207\u7684mRNA\uff0c\u518d\u7ecf\u8fc7\u9006\u8f6c\u5f55\u8fc7\u7a0b\u5f62\u6210cDNA\uff0c\u7136\u540e\u968f\u673a\u63d2\u5165\u5230\u67d3\u8272\u4f53\u7684\u67d0\u4e00\u4f4d\u7f6e\u5f62\u6210\u65b0\u7684\u91cd\u590d\u57fa\u56e0\u7684\u8fc7\u7a0b\u3002\u7ecf\u53cd\u8f6c\u5f55\u8f6c\u5ea7\u5f62\u6210\u7684\u65b0\u57fa\u56e0\u5f80\u5f80\u7531\u4e8e\u7f3a\u5c11\u5fc5\u8981\u7684\u8c03\u63a7\u5e8f\u5217\uff0c\u901a\u5e38\u90fd\u662f\u4e0d\u80fd\u8868\u8fbe\u7684\u5047\u57fa\u56e0\u3002 5.\u5916\u663e\u5b50\u91cd\u590d\u548c\u6539\u7ec4\uff08Exon duplication and shuffling \uff09 \u5927\u7247\u6bb5\u590d\u5236\u7684\u5bb6\u65cf\u57fa\u56e0\uff0c\u53ca\u53cd\u8f6c\u5f55\u8f6c\u5ea7\u4e5f\u4f1a\u5bfc\u81f4\u52a0\u500d\u7684\u5bb6\u65cf\u57fa\u56e0\u4f4d\u4e8e\u4e0d\u540c\u7684\u67d3\u8272\u4f53 \u4e25\u683c\u533a\u5206\u7684\u8bdd\uff0c\u5e94\u8be5\u7528\u5171\u7ebf\u6027\u7684\u65b9\u6cd5\u53bb\u67e5\u627e\u5927\u7247\u6bb5\u590d\u5236\u7684\u57fa\u56e0\uff0c\u5982mcscan\u53bb\u67e5\u627e\uff1a\u56e0\u4e3a\u5927\u7247\u6bb5\u590d\u5236\u7684\u57fa\u56e0\u5468\u56f4\u7684\u57fa\u56e0\u4e5f\u6709\u76f8\u4f3c\u6027\uff0c\u800c\u53cd\u8f6c\u5f55\u8f6c\u5ea7\u5c31\u4e0d\u540c\u4e86\uff0c\u5468\u56f4\u7684\u5176\u4ed6\u57fa\u56e0\u4e0d\u76f8\u4f3c\u3002","title":"\u57fa\u56e0\u5bb6\u65cf\u7684\u5f62\u6210\uff08\u52a0\u500d\u548c\u6269\u5f20\uff09"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E5%9F%BA%E5%9B%A0%E5%AE%B6%E6%97%8F%E6%89%A9%E5%BC%A0%E6%88%96%E6%94%B6%E7%BC%A9%EF%BC%88%E6%9C%AA%E5%AE%8C%E5%BE%85%E7%BB%AD%EF%BC%89/#0","text":"","title":"0.\u6536\u96c6\u9700\u8981\u6bd4\u8f83\u7684\u7269\u79cd\u7684\u86cb\u767d\u5e8f\u5217\uff0c\u5e76\u83b7\u53d6\u6bcf\u4e2a\u57fa\u56e0\u7f16\u7801\u7684\u6700\u957f\u7684\u86cb\u767d\u5e8f\u5217"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E5%9F%BA%E5%9B%A0%E5%AE%B6%E6%97%8F%E6%89%A9%E5%BC%A0%E6%88%96%E6%94%B6%E7%BC%A9%EF%BC%88%E6%9C%AA%E5%AE%8C%E5%BE%85%E7%BB%AD%EF%BC%89/#1orthofinder","text":"","title":"1.\u4f7f\u7528OrthoFinder\u67e5\u627e\u76f4\u7cfb\u540c\u6e90\u57fa\u56e0"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E5%9F%BA%E5%9B%A0%E5%AE%B6%E6%97%8F%E6%89%A9%E5%BC%A0%E6%88%96%E6%94%B6%E7%BC%A9%EF%BC%88%E6%9C%AA%E5%AE%8C%E5%BE%85%E7%BB%AD%EF%BC%89/#2iqtree","text":"","title":"2.Iqtree\u8fdb\u5316\u6811\u6784\u5efa"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E5%9F%BA%E5%9B%A0%E5%AE%B6%E6%97%8F%E6%89%A9%E5%BC%A0%E6%88%96%E6%94%B6%E7%BC%A9%EF%BC%88%E6%9C%AA%E5%AE%8C%E5%BE%85%E7%BB%AD%EF%BC%89/#3mcmctreer8sultrametric-tree","text":"R8s\u7684\u4e0b\u8f7d\u5b89\u88c5 wget -q https://sourceforge.net/projects/r8s/files/r8s1.81.tar.gz \\ && tar -zxvf r8s1.81.tar.gz \\ && cd r8s1.81/src \\ && cp Makefile.linux Makefile.linux.bak \\ && sed -i 's/continuousML.o //' Makefile.linux \\ && sed -i 's/continuousML.o:/#continuousML.o:/' Makefile.linux \\ && make -f Makefile.linux","title":"3.MCMCTREE\u4f30\u8ba1\u5206\u5316\u65f6\u95f4\uff0cR8S\u7528\u63a8\u65ad\u7684\u7269\u79cd\u6811\u63d0\u53d6\u8d85\u5ea6\u91cf\u6811\uff08ultrametric tree\uff09"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E5%9F%BA%E5%9B%A0%E5%AE%B6%E6%97%8F%E6%89%A9%E5%BC%A0%E6%88%96%E6%94%B6%E7%BC%A9%EF%BC%88%E6%9C%AA%E5%AE%8C%E5%BE%85%E7%BB%AD%EF%BC%89/#4-cafe","text":"","title":"4. \u57fa\u56e0\u5bb6\u65cf\u6269\u5f20\u4e0e\u6536\u7f29\u5206\u6790\uff08CAFE\uff09"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E5%9F%BA%E5%9B%A0%E5%AE%B6%E6%97%8F%E6%89%A9%E5%BC%A0%E6%88%96%E6%94%B6%E7%BC%A9%EF%BC%88%E6%9C%AA%E5%AE%8C%E5%BE%85%E7%BB%AD%EF%BC%89/#cafe","text":"\u5b89\u88c5cafe_fig\uff0c\u7528\u4e8ecafe\u4ea7\u51fa\u6587\u4ef6\u53ef\u89c6\u5316\u3002 pip3 install ete3 git clone https://github.com/LKremer/CAFE_fig.git cd CAFE_fig python3 CAFE_fig.py -h \u5b89\u88c5\u5982\u679c\u62a5\u9519\uff0c\u7f3a\u5c11\u4f9d\u8d56\u5305\uff0c\u5c31\u7528pip3\u5b89\u88c5\u3002 \u5982\u679c\u62a5\u9519NameError: name 'ListType' is not defined\uff0c pip3 install scipy \u53ef\u89e3\u51b3\u3002 \u9519\u8bef\uff1aqt.qpa.plugin: Could not load the Qt platform plugin \"xcb\" in \"\" even though it was found \u89e3\u51b3\u529e\u6cd5\uff1a\u7528conda\u5b89\u88c5pyqt5 conda install pyqt ERROR:qt.qpa.screen: QXcbConnection: Could not connect to display :0.0 \u89e3\u51b3\u529e\u6cd5\uff1a echo \"export QT_QPA_PLATFORM='offscreen'\" >>~/.bashrc source ~/.bashrc","title":"cafe\u7ed3\u679c\u53ef\u89c6\u5316"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E5%9F%BA%E5%9B%A0%E5%AE%B6%E6%97%8F%E6%89%A9%E5%BC%A0%E6%88%96%E6%94%B6%E7%BC%A9%EF%BC%88%E6%9C%AA%E5%AE%8C%E5%BE%85%E7%BB%AD%EF%BC%89/#_2","text":"python3 CAFE_fig.py example_result.cafe -pb 0.05 -pf 0.05 --dump test/ -g svg --count_all_expansions \u793a\u4f8b\u8f93\u51fa\u7ed3\u679c\uff0c\u9700\u8981\u81ea\u5df1\u7528AI\u8c03\u6574SVG. cafe\u7ed3\u679c\u53ef\u89c6\u5316\u65b9\u6cd52\uff1a\u5229\u7528caft\u81ea\u5e26\u7684\u811a\u672c\u53ef\u89c6\u5316 python2 ~/tools/CAFE/python_scripts/cafetutorial_report_analysis.py -i resultfile.cafe -o summary_run1 python ~/tools/CAFE/python_scripts/cafetutorial_draw_tree.py -i summary_run1_node.txt -t '(((chimp:6,human:6):81,(mouse:17,rat:17):70):6,dog:93) ' -d '(((chimp<3>,human<3>)<3>,(mouse<3>,rat<3>)<3>)<3>,dog<3>) ' -o summary_run1_tree_rapid.png cafe\u81ea\u5e26\u7684py\u811a\u672c\u5728 \u5176\u4ed6\u4eba\u7684github","title":"\u8fd0\u884c\u4f8b\u5b50"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E5%9F%BA%E5%9B%A0%E6%B3%A8%E9%87%8A%EF%BC%9Aeggnog-mapper-V2%E7%9A%84%E4%BD%BF%E7%94%A8/","text":"\u5b98\u65b9\u6587\u6863\u5730\u5740\uff1ahttps://github.com/eggnogdb/eggnog-mapper/wiki/eggNOG-mapper-v2.1.2-to-v2.1.4 conda install -c bioconda eggnog-mapper \u4e5f\u53ef\u4ee5\u4ecegithub\u4e0b\u8f7d\u5b89\u88c5\u6216\u4f7f\u7528 pip install eggnog-mapper \u5b89\u88c5\u3002 \u4f9d\u8d56\u73af\u5883\u5982\u4e0b\uff1a Python 3.7 (or greater) BioPython 1.76 (python package) psutil 5.7.0 (python package) xlsxwriter 1.4.3 (python package), only if using the --excel option (v2.1.4 only) wget (linux command, required for downloading the eggNOG-mapper databases with download_eggnog_data.py, and to create new Diamond/MMseqs2 databases with create_dbs.py) sqlite (>=3.8.2) \u9700\u8981\u6ce8\u610f\u4f9d\u8d56\u7684\u7248\u672c\uff0c\u6709\u7684\u5fc5\u987b\u662f\u6307\u5b9a\u7248\u672c\uff0c\u6240\u4ee5\u7528conda\u5efa\u4e2a\u65b0\u7684\u73af\u5883\u5355\u72ec\u5b89\u88c5\u5427\u3002 \u65b0\u5efa\u4e00\u4e2a\u6587\u4ef6\u5939\uff0c\u5b58\u653eeggnog-mapper-data. mkdir ~/uniref/eggnog-mapper-data echo \"export EGGNOG_DATA_DIR=$HOME/uniref/eggnog-mapper-data\" >> ~/.bashrc source ~/.bashrc","title":"\u57fa\u56e0\u6ce8\u91ca\uff1aeggnog mapper V2\u7684\u4f7f\u7528"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%9F%BA%E5%9B%A0%E5%A4%8D%E5%88%B6%E7%9A%84%E5%88%86%E7%B1%BB%E9%89%B4%E5%AE%9A%EF%BC%9ADupGen-finder/","text":"\u53c2\u8003\uff1ahttps://www.jianshu.com/p/0a14d971bd0a require software blastp\uff0c DupGen-finder geneDuplication analysis \u57fa\u56e0\u7684\u590d\u5236\u7c7b\u578b\u5206\u7c7b\u5206\u6790\uff0c\u4f7f\u7528\u7684\u662fDupGen-finder\uff0c\u53ef\u4ee5\u628a\u6240\u6709\u57fa\u56e0\u6309\u7167\u590d\u5236\u7c7b\u578b\u5206\u4e3a5\u7c7b\uff0c WGD\uff1a\u5168\u57fa\u56e0\u7ec4\u590d\u5236 TD\uff1a\u4e32\u8054\u91cd\u590d\uff08\u76f8\u90bb\u7684\u4e24\u4e2a\u91cd\u590d\u57fa\u56e0\uff09 PD\uff1a\u8fd1\u7aef\u91cd\u590d\uff08\u76f8\u969410\u4e2a\u4ee5\u5185\u57fa\u56e0\u7684\u91cd\u590d\u57fa\u56e0\uff09 TRD\uff1a\u8f6c\u7f6e\u91cd\u590d\uff08\u7956\u5148\u548c\u65b0\u57fa\u56e0\u5ea7\u7ec4\u6210\u7684\u91cd\u590d\u57fa\u56e0\uff09 DSD\uff1a\u5206\u6563\u91cd\u590d\uff08\u4e0d\u76f8\u90bb\u4e5f\u4e0d\u5171\u7ebf\u6027\u7684\u91cd\u590d\u57fa\u56e0\uff09 SL\uff1a\u5355\u62f7\u8d1d require input file \u7814\u7a76\u7269\u79cd\u7684gff,pep #\u5206\u6790\u6a21\u5f0f1\uff08\u81ea\u8eab\u6bd4\u8f83\uff09\u548c\u6a21\u5f0f2\uff08\u548c\u5176\u4ed6\u7269\u79cd\u6bd4\u8f83\uff09 ####\u5206\u6790\u6a21\u5f0f1 cat Spd.bed |sed 's/^/Spd-/g'|awk '{print $1\"\\t\"$4\"\\t\"$2\"\\t\"$3}' >Spd.gff cat Ath.bed |sed 's/^/Ath-Chr/g'|awk '{print $1\"\\t\"$4\"\\t\"$2\"\\t\"$3}' >Ath.gff sed -i 's/Chr0/Chr/g' Spd.gff cat Spd.gff Ath.gff >Spd_Ath.gff makeblastdb -in Spd.pep -dbtype prot -title Spd -parse_seqids -out Spd blastp -query Spd.pep -db Spd -evalue 1e-10 -max_target_seqs 5 -outfmt 6 -out Spd.blast # Create a reference database makeblastdb -in Ath.pep -dbtype prot -title Ath -parse_seqids -out Ath # Align protein query sequences against the reference database blastp -query Ath.pep -db Ath -evalue 1e-10 -max_target_seqs 5 -outfmt 6 -out Ath.blast mkdir Spd_Ath cat Spd.blast Ath.blast >Spd_Ath.blast #-t \u662f\u5b9e\u9a8c\u7ec4 -c\u662f\u5916\u6e90\u5bf9\u7167\u7ec4 #\u4e00\u822c\u6a21\u5f0f DupGen_finder.pl -i $PWD -t Spd -c Ath -o ${PWD}/Spd_Ath/results1 #\u4e25\u683c\u6a21\u5f0f DupGen_finder-unique.pl -i $PWD -t Spd -c Ath -o ${PWD}/Spd_Ath/results2 \u8f93\u5165\u6587\u4ef6\u683c\u5f0f \u8981\u6c42\u7684Ath.gff\u6587\u4ef6\u683c\u5f0f: Ath-Chr1 AT1G01010.1 3630 5899 Ath-Chr1 AT1G01020.1 6787 9130 Ath-Chr1 AT1G01030.1 11648 13714 Ath.pep\u6587\u4ef6\u7684\u683c\u5f0f\uff1a >AT3G05780.1 MMPKRFNTSGFDTTLRLPSYYGFLHLTQSLTLNSRVFYGARHVTPPAIRIGSNPVQSLLL FRAPTQLTGWNRSSRDLLGRRVSFSDRSDGVDLLSSSPILSTNPNLDDSLTVIALPLPHK PLIPGFYMPIHVKDPKVLAALQESTRQQSPYVGAFLLKDCASTDSSSRSETEDNVVEKFK VKGKPKKKRRKELLNRIHQVGTLAQISSIQGEQVILVGRRRLIIEEMVSEDPLTVRVDHL >AT4G32100.1 MATNACKFLCLVLLFAFVTQGYGDDSYSLESLSVIQSKTGNMVENKPEWEVKVLNSSPCY FTHTTLSCVRFKSVTPIDSKVLSKSGDTCLLGNGDSIHDISFKYVWDTSFDLKVVDGYIA CS \u8f93\u51fa\u6587\u4ef6 \u5728results1\u548cresults2\u4e2d\u8f93\u51fa\u7ed3\u679c\u6587\u4ef6\u57fa\u672c\u4e00\u81f4\uff0cresults2\u4e2d\u7684\u662f\u4e25\u683c\u6a21\u5f0f\uff0c\u6587\u4ef6\u540e\u9762\u540e\u7f00\u662f-unique Spd.pairs.stats-unique #\u662f\u5404\u7ec4\u590d\u5236\u4fe1\u606f\u7684pairs\u6570\u91cf\u3002 Spd.wgd.genes-unique #WGD\u7c7b\u578b\u7684\u6240\u6709\u57fa\u56e0 Spd.wgd.pairs-unique #WGD\u7c7b\u578b\u7684pairs\u7684\u8be6\u7ec6\u4fe1\u606f Spd.singletons #singletons\u7c7b\u578b\u7684\u57fa\u56e0(\u5373\u6ca1\u6709\u540c\u6e90\u57fa\u56e0\u7684\u57fa\u56e0) Spd.tandem.pairs-unique # TD\u7c7b\u578b Spd.proximal.pairs-unique #PD\u7c7b\u578bpairs Spd.transposed.pairs-unique #TRD\u7c7b\u578bpairs Spd.dispersed.pairs-unique #DSD\u7c7b\u578bpairs Spd.collinearity #Spd\u7269\u79cd\u5185\u7684\u5171\u7ebf\u6027\u6587\u4ef6 Spd_Ath.collinearity #Spd\u548cAth\u7269\u79cd\u7684\u5171\u7ebf\u6027\u6587\u4ef6 \u6ce8\u610f\uff1a\u4e00\u5b9a\u8981\u5206\u6e05\u695agene\u548cgene pairs\u7684\u6570\u91cf\u5e76\u4e0d\u662f\u4e00\u4e00\u5bf9\u5e94\u7684\u5173\u7cfb\uff0c\u4f1a\u6709\u4e00\u5bf9\u591a\u3002 \u540e\u7eed\u5206\u6790 GO,KEGG (\u4f7f\u7528\u7684\u662f5\u4e2agenes-unique\u6587\u4ef6) Ka/Ks \uff08\u4f7f\u7528\u7684\u662f5\u4e2apairs-unique\u6587\u4ef6\u548c2\u4e2acollinearity\u6587\u4ef6\uff09 \u83b7\u53d6\u76ee\u6807\u57fa\u56e0\u540e\uff0c\u53ef\u4ee5\u548c\u6269\u5f20\u7684\u57fa\u56e0\u53d6\u5e76\u96c6\uff0c\u7136\u540e\u5bcc\u96c6\u5206\u6790\u8fd9\u90e8\u5206\u57fa\u56e0\u7684\u529f\u80fd\u3002 expansion.genes\u662f\u6269\u5f20\u57fa\u56e0\u5217\u8868 cd results2 grep -f expansion.genes Spd.wgd.genes-unique|cut -f1 >expansion_wgd.csv grep -f expansion.genes Spd.td.genes-unique|cut -f1 >expansion_td.csv grep -f expansion.genes Spd.trd.genes-unique|cut -f1 >expansion_trd.csv grep -f expansion.genes Spd.pd.genes-unique|cut -f1 >expansion_pd.csv grep -f expansion.genes Spd.dsd.genes-unique|cut -f1 >expansion_dsd.csv expansion_wgd.genes.csv\u5373\u4e3a\u6269\u5f20\u7684wgd\u7684\u57fa\u56e0\u3002 \u6ce8\u610f\uff1agff\u6587\u4ef6\uff0cprotein\u6587\u4ef6\u548cexpansion\u6587\u4ef6\uff0c\u5404\u5904\u4f7f\u7528\u7684geneid\u4e00\u5b9a\u8981\u4e00\u81f4 \u53ef\u4ee5\u6309\u7167\u8fd95\u79cd\u5206\u7c7b GO\u3001KEGG\u5bcc\u96c6\u5206\u6790 \u4e0b\u9762\u4ee3\u7801\u53ef\u4ee5\u76f4\u63a5\u5728R-studio\u8fd0\u884c\uff0c \u8981\u6c42\u5148\u5b89\u88c5ggplot2\u548cclusterProfiler \u4fee\u6539\u5de5\u4f5c\u8def\u5f84\uff0c\u5de5\u4f5c\u8def\u5f84\u4e0b\u8981\u6709\u4ee5\u4e0b\u6587\u4ef6\uff1a GO.info #GO\u7684\u6570\u636e\u5e93 KEGG.info #KEGG\u7684\u6570\u636e\u5e93 expansion_wgd.csv expansion_td.csv expansion_dsd.csv expansion_pd.csv expansion_trd.csv 5\u4e2acsv\u6587\u4ef6\u65f6\u6269\u5f20\u57fa\u56e0\u548c\u5bf9\u5e94\u590d\u5236\u65b9\u5f0f\u7684\u5171\u6709\u7684\u57fa\u56e0\u7684\u5217\u8868 #\u4f7f\u7528\u65b0\u7684GO\u548cKEGG\u8fdb\u884c\u5bcc\u96c6\u5206\u6790 setwd(\"e:/Family_expansion/GO/results2\") library(clusterProfiler) library(ggplot2) ##\u83b7\u53d6spo\u57fa\u56e0\u7684\u5bcc\u96c6\u5206\u6790\u7ed3\u679c\uff0c\u9700\u8981\u8f93\u5165\u57fa\u56e0\u5217\u8868\u548cgenetype(\u7528\u4e8e\u8f93\u51fa\u6587\u4ef6\u540d\u7684\u524d\u7f00) get_go_kegg <- function(filename,genetype,GO_list=\"GO.info\",KEGG_list=\"KEGG.info\"){ #\u5b9a\u4e49\u9700\u8981\u5206\u6790\u7684\u57fa\u56e0\u5217\u8868 gene <- read.csv(filename,header = FALSE) genetype <- genetype #\u4fee\u6539GO\u548cKEGG\u6587\u4ef6\u540d golist <- read.table(file=GO_list,sep = \"\\t\",header = FALSE) kegglist <- read.table(file=KEGG_list,sep = \"\\t\",header = FALSE) #\u4e0b\u9762\u5185\u5bb9\u57fa\u672c\u4e0d\u9700\u8981\u4fee\u6539 spo2gene <- data.frame(golist$V1,golist$V3) #GO,Geneid spo2name <- data.frame(golist$V1,golist$V2) #GO,GO\u63cf\u8ff0 gene1 <- t(gene$V1) #\u83b7\u53d6\u9700\u8981\u5206\u6790\u7684\u57fa\u56e0\u5217\u8868 #GO\u5bcc\u96c6\u5206\u6790 spo_GO <- enricher(gene1,TERM2GENE = spo2gene,TERM2NAME = spo2name) p1 <- dotplot(spo_GO) p1 ggsave(file=paste(genetype,\".GO.pdf\",sep=\"\")) write.csv(spo_GO,file=paste(genetype,\"_GO.csv\",sep = \"\")) #kegg\u5bcc\u96c6 kegg2gene <- data.frame(kegglist$V1,kegglist$V3) #keggid,Geneid kegg2name <- data.frame(kegglist$V1,kegglist$V2) #keggid,kegg\u63cf\u8ff0 gene1 <- t(gene$V1) #\u83b7\u53d6\u9700\u8981\u5206\u6790\u7684\u57fa\u56e0\u5217\u8868 spo_KEGG <- enricher(gene1,TERM2GENE = kegg2gene,TERM2NAME = kegg2name) p2 <- dotplot(spo_KEGG) p2 ggsave(file=paste(genetype,\".KEGG.pdf\",sep=\"\")) write.csv(spo_KEGG,file=paste(genetype,\"_kegg.csv\",sep=\"\")) cowplot::plot_grid(p1, p2, nrow=2, labels=c(\"A\", \"B\")) #ggplot2\u7684\u51fd\u6570\uff0cnrow\u6307\u5b9a2\u884c\uff0c\u5982\u679c\u662fncol\u5219\u662f2\u5217\u3002 ggsave(file=paste(genetype,\"_go_kegg.pdf\",sep=\"\")) } #\u8fd0\u884c\u5bcc\u96c6\u5206\u6790\uff0c\u7b2c1\u4e2a\u53c2\u6570\u662f\u57fa\u56e0\u5217\u8868csv\u683c\u5f0f\uff0c\u7b2c2\u4e2a\u662f\u524d\u7f00\u7c7b\u578b\uff0c\u7b2c3\u4e2a\u662fGO,\u7b2c4\u4e2a\u662fKEGG\uff0c\u53c2\u65703\u548c4\u8981\u6c42\u662ftab\u5206\u5272\u7b26 get_go_kegg(\"expansion_trd.csv\",\"trd\") get_go_kegg(\"expansion_td.csv\",\"td\") get_go_kegg(\"expansion_dsd.csv\",\"dsd\") get_go_kegg(\"expansion_wgd.csv\",\"wgd\") get_go_kegg(\"expansion_pd.csv\",\"pd\") #GO\u548cKEGG\u6587\u4ef6\u7684\u683c\u5f0f head(GO.info) # GO:0005452 inorganic anion exchanger activity Sp09G018780.1 Molecular Function # GO:0006820 anion transport Sp09G018780.1 Biological Process # GO:0016021 integral component of membrane Sp09G018780.1 Cellular Component head(KEGG.info) # ko00010 Glycolysis / Gluconeogenesis Sp12G016220.1 # ko00010 Glycolysis / Gluconeogenesis Sp10G003910.1 # ko00010 Glycolysis / Gluconeogenesis Sp16G007040.1 #\u5408\u5e76\u591a\u7ec4GO\u5206\u6790\uff0c\u751f\u6210\u6c14\u6ce1\u56fe #\u5728\u8fdb\u884c\u6c14\u6ce1\u56fe\u5206\u6790\u4e4b\u524d\uff0c\u53ef\u4ee5\u624b\u52a8\u4fee\u6539\u4e0a\u4e00\u6b65\u8f93\u51fa\u7684\u5bcc\u96c6\u5206\u6790\u7684csv\u6587\u4ef6\u4e2d\u7684GO/KEGG term\u7684\u8bcd\u6761\uff0c\u628a\u957f\u8bcd\u6761\u53d8\u6210\u77ed\u8bcd\u6761\uff0c\u4ee5\u65b9\u4fbf\u5728\u6c14\u6ce1\u56fe\u4e0a\u5c55\u793a\u3002 #\u4ececsv\u6587\u4ef6\u8bfb\u53d6\u5bcc\u96c6\u7684\u4fe1\u606f\u5230\u6570\u636e\u6846\uff08count_num\u53ef\u4ee5\u6307\u5b9a\u83b7\u53d6\u7684GO/KEGG term\u7684\u6570\u91cf\uff0c\u9ed8\u8ba4\u662f15;enrich_type\u6307\u5b9a\u5bcc\u96c6\u7c7b\u578bGO/KEGG\uff09 getdata <- function(Prefix,enrich_type=\"GO\",count_num=15){ trd_GO <- read.csv(paste(Prefix,\"_\",enrich_type,\".csv\",sep = \"\"),header = T) pic_trd_GO <- head(trd_GO,count_num) pic_trd_GO$adjust <- -log10(pic_trd_GO$p.adjust) pic_trd_GO$type <- Prefix return(pic_trd_GO) } #\u8bfb\u53d6GO trd_GO <- getdata(\"trd\") wgd_GO <- getdata(\"wgd\") dsd_GO <- getdata(\"dsd\") pd_GO <- getdata(\"pd\") td_GO <- getdata(\"td\") #\u5408\u5e765\u7ec4GO\u6570\u636e data_GO_all <- rbind(trd_GO,wgd_GO,dsd_GO,pd_GO,td_GO) #\u6c14\u6ce1\u56fe\u53ef\u89c6\u5316\u5bcc\u96c6\u7ed3\u679c ggplot(data_GO_all,aes(type,Description)) + geom_point(aes(fill=adjust,size=Count),alpha=0.9,pch=21) + #fill\u5bf9\u5e94\u70b9\u7684\u586b\u5145\u8272\uff0ccolour\u5bf9\u5e94\u70b9\u7684\u8fb9\u6846\u8272 scale_fill_gradient(low='SpringGreen',high='DeepPink') + #\u8bbe\u5b9a\u989c\u8272\u7684\u53d8\u5316\u8303\u56f4 scale_size_area() + #\u8bbe\u5b9a\u70b9\u7684\u5927\u5c0f\u6bd4\u4f8b\u548c\u56fe\u4f8b\u4e0a\u663e\u793a\u7684\u95f4\u9694 labs(y='GO term',x='type',fill='-log10(P.adjust)',size='Metabolites number')+ theme_bw() ggsave(\"geneduplication.GO.pdf\",dpi=300) write.csv(data_GO_all,file=\"data_GO_all.csv\") #\u8bfb\u53d6KEGG trd_KEGG <- getdata(\"trd\",enrich_type = \"KEGG\") wgd_KEGG <- getdata(\"wgd\",enrich_type = \"KEGG\") dsd_KEGG <- getdata(\"dsd\",enrich_type = \"KEGG\") pd_KEGG <- getdata(\"pd\",enrich_type = \"KEGG\") td_KEGG <- getdata(\"td\",enrich_type = \"KEGG\") #\u5408\u5e765\u7ec4GO\u6570\u636e data_kegg_all <- rbind(trd_KEGG,wgd_KEGG,dsd_KEGG,pd_KEGG,td_KEGG) #\u6c14\u6ce1\u56fe\u53ef\u89c6\u5316\u5bcc\u96c6\u7ed3\u679c ggplot(data_kegg_all,aes(type,Description)) + geom_point(aes(fill=adjust,size=Count),alpha=0.9,pch=21) + #fill\u5bf9\u5e94\u70b9\u7684\u586b\u5145\u8272\uff0ccolour\u5bf9\u5e94\u70b9\u7684\u8fb9\u6846\u8272 scale_fill_gradient(low='SpringGreen',high='DeepPink') + #\u8bbe\u5b9a\u989c\u8272\u7684\u53d8\u5316\u8303\u56f4 scale_size_area() + #\u8bbe\u5b9a\u70b9\u7684\u5927\u5c0f\u6bd4\u4f8b\u548c\u56fe\u4f8b\u4e0a\u663e\u793a\u7684\u95f4\u9694 labs(y='KEGG term',x='type',fill='-log10(P.adjust)',size='Metabolites number')+ theme_bw() ggsave(\"geneduplication.KEGG.pdf\",dpi=300) write.csv(data_kegg_all,file=\"data_KEGG_all.csv\") \u5206\u522b\u5206\u6790Ka/Ks \u53c2\u8003 \u9700\u8981\u5b89\u88c5\u7684\u8f6f\u4ef6 KaKs,mafft,ParaAT.pl (\u63a8\u8350\u4f7f\u7528muscle\u6bd4\u5bf9\uff0c\u901f\u5ea6\u66f4\u5feb) \u5f53\u57fa\u56e0\u6bd4\u8f83\u591a\u8d85\u8fc71\u4e07\u65f6\uff0c\u6bd4\u8f83\u8017\u65f6\uff0c\u8bf7\u589e\u52a0cpu\u6570\u91cf\uff0c\u5bf9\u5e94\u7684\u53c2\u6570\u65f6 proc \u811a\u672c\u4e2d\u8bbe\u7f6e\u7684\u662f16. KaKs.sh \u811a\u672c\u5982\u4e0b,\u5de5\u4f5c\u76ee\u5f55 results2 #\u5b9a\u4e49\u7269\u79cd\u7684\u7f29\u5199 species=$1 cat $species.dispersed.pairs-unique|cut -f 1,3 |sed '1d' >dsd.homolog cat $species.tandem.pairs-unique | cut -f 1,3 |sed '1d' >td.homolog cat $species.transposed.pairs-unique | cut -f 1,3 |sed '1d' >trd.homolog cat $species.wgd.pairs-unique | cut -f 1,3 |sed '1d' >wgd.homolog cat $species.proximal.pairs-unique | cut -f 1,3 |sed '1d' >pd.homolog echo \"16\" >proc function getKaKs(){ ParaAT.pl -h $1.homolog -n $2.cds -a $2.pep -p proc -m mafft -f axt -g -k -o $1.result_dir #\u628aKaKs\u8f93\u51fa\u5230\u6587\u4ef6KaKs.txt cat $1.result_dir/*.axt.kaks | cut -f 1,3,4,5 | grep -v 'Sequence' |sort|uniq >$1.KaKs.txt cat $1.KaKs.txt| tr \"\\t\" \",\" |sed '1i Sequence,Ka,Ks,Ka/Ks' >$1.KaKs.csv #\u6dfb\u52a0\u65b0\u7684\u5217\uff0cItem\u7528\u4e8e\u540e\u7eed\u5408\u5e76\u540e\u53ef\u89c6\u5316\u5206\u7ec4(\u6ce8\u610f\uff1aawk\u91cc\u7684$1\u662f\u5168\u5c40\u7684\u73af\u5883\u7684$1\uff0cawk\u8c03\u7528\u5916\u90e8\u53d8\u91cf\uff0c\u4f7f\u7528\u591a\u91cd\u5f15\u53f7) cat $1.KaKs.csv|awk -F , '{print $0\",\"\"'\"$1\"'\"}' | sed '1d' >$1.KaKs.Item.csv } list=(wgd td pd trd dsd) for ele in ${list[@]} do getKaKs $ele $species done #\u5408\u5e76\u6240\u6709\u7684KaKs\u8f93\u51fa\u5230\u4e00\u4e2acsv\u6587\u4ef6 cat td.KaKs.Item.csv wgd.KaKs.Item.csv pd.KaKs.Item.csv trd.KaKs.Item.csv dsd.KaKs.Item.csv |sed '1i Sequence,Ka,Ks,Ka.Ks,Item' >gene_dup_KaKs.csv ##\u8ba1\u7b974DTv # \u5c06\u591a\u884caxt\u6587\u4ef6\u8f6c\u6362\u6210\u5355\u884c function get4DTv(){ cd $1.result_dir #\u4f7f\u7528axt2one-line.py\u5408\u5e76axt\u4e3a1\u884c\u3002https://github.com/scbgfengchao/4DTv/blob/master/axt2one-line.py for i in `ls *.axt`;do axt2one-line.py $i ${i}.one-line;done #\u4f7f\u7528calculate_4DTV_correction.pl\u811a\u672c\u8ba1\u7b974dtv\u503c\u3002\u811a\u672c\u5730\u5740\uff1ahttps://github.com/JinfengChen/Scripts/blob/master/FFgenome/03.evolution/distance_kaks_4dtv/bin/calculate_4DTV_correction.pl ls *.axt.one-line|while read id;do calculate_4DTV_correction.pl $id >${id%%one-line}4dtv;done #\u5408\u5e76\u6240\u6709\u540c\u6e90\u57fa\u56e0\u5bf9\u76844dtv for i in `ls *.4dtv`;do awk 'NR>1{print $1\"\\t\"$3}' $i >>$1.4DTv.txt;done sort $1.4DTv.txt|uniq > ../$1.4DTv.txt cat ../$1.4DTv.txt| tr \"\\t\" \",\" |sed '1i Gene,4DTv' > ../$1.4DTv.csv cd ../ #\u6dfb\u52a0\u65b0\u7684\u5217\uff0cItem\u7528\u4e8e\u540e\u7eed\u5408\u5e76\u540e\u53ef\u89c6\u5316\u5206\u7ec4 cat $1.4DTv.csv|awk -F , '{print $0\",\"\"'\"$1\"'\"}' | sed '1d' >$1.4DTv.Item.csv } list=(wgd td pd trd dsd) for ele in ${list[@]} do get4DTv $ele; done cat td.4DTv.Item.csv wgd.4DTv.Item.csv pd.4DTv.Item.csv trd.4DTv.Item.csv dsd.4DTv.Item.csv |sed '1i Gene,4DTv,Item' >gene_dup_4DTv.csv \u8fd0\u884c bash KaKs.sh Spd \u5373\u53ef\u5f97\u5230\u6700\u7ec8\u7684\u603bKaKs\u548c4DTv, gene_dup_KaKs.csv\u548cgene_dup_4DTv.csv,\u8fd8\u6709\u5404\u7ec4\u5206\u7ec4\u7684.KaKs.csv\u548c.4DTv.csv\u3002 \u53ef\u89c6\u5316Ka/Ks\u7684\u5206\u5e03, kaks.R \u811a\u672c\u4ee3\u7801\u5982\u4e0b\uff0c\u76f4\u63a5\u5728\u4e0a\u8ff0\u7ed3\u679c\u76ee\u5f55\u8fd0\u884c Rscript kaks.R \u5373\u53ef\u5f97\u5230ka/ks\u7684\u5206\u5e03\uff0c\u8f93\u51fa4\u4e2apdf,3\u4e2a\u662f\u5355\u72ec\u7684\uff0c1\u4e2a\u662f\u7ec4\u56fe\u3002 #setwd(\"e:/****/GeneDuplication\") library(\"ggplot2\") data_kaks <- read.csv(\"gene_dup_KaKs.csv\") #\u5220\u9664\u5305\u542bNA\u7684\u884c data_kaks <- na.omit(data_kaks) p0 <- ggplot(data=data_kaks, aes(x=Item, y=Ka.Ks, fill=Item)) + geom_violin(alpha=0.8,width=1)+ guides(fill=F)+xlab(' ')+ylab('Ka/Ks')+ geom_boxplot(alpha=0.5,width = 0.3)+ coord_flip()+ #\u98a0\u5012xy\u8f74 ylim(0,2) #\u8bbe\u7f6ey\u8f74\u6700\u5927\u503c p0 ggsave('distribute_of_KaKs.pdf',dpi=300) p1 <- ggplot(data=data_kaks, aes(x=Ka,group=Item)) + geom_density(alpha=0.4,aes(color = Item))+ xlab('Ka value')+ylab('Density')+ labs(title = \"Distribution of Ka distances\", size = 1.5)+guides() p1 ggsave('Distribute_of_Ka.pdf',dpi=300) p2 <- ggplot(data=data_kaks, aes(x=Ks,group=Item)) + geom_density(alpha=0.4,aes(color = Item))+xlab('Ks value')+ylab('Density')+ labs(title = \"Distribution of Ks distances\", size = 1.5) p2 ggsave('Distribute_of_Ks.pdf',dpi=300) #\u53ef\u89c6\u53164DTv data_4DTv <- read.csv(\"gene_dup_4DTv.csv\") #\u5220\u9664\u5305\u542bNA\u7684\u884c data_4DTv <- na.omit(data_4DTv) p3 <- ggplot(data=data_4DTv, aes(x=X4DTv,group=Item)) + geom_density(alpha=0.4,aes(color = Item))+xlab('4DTv value')+ylab('Density') #labs(title = \"Distribution of 4DTv distances\", size = 1.5) p3 ggsave(\"Distribution_of_4DTv.pdf\",dpi=300) #\u62fc\u56fe\uff0c\u76f4\u63a5\u51fa\u7ec4\u5408\u56fe p4.1 <- cowplot::plot_grid(p1, p2, ncol=2, labels=c(\"a\", \"b\")) #ggplot2\u7684\u51fd\u6570\uff0cnrow\u6307\u5b9a2\u884c\uff0c\u5982\u679c\u662fncol\u5219\u662f2\u5217\u3002 p4.2<-cowplot::plot_grid(p0,p3,ncol = 2,labels = c(\"c\",\"d\")) p4<-cowplot::plot_grid(p4.1,p4.2,nrow = 2) p4 ggsave(\"Distribution_of_Ka_Ks_Kaks_4DTv.pdf\",dpi = 300)","title":"\u57fa\u56e0\u7ec4\u57fa\u56e0\u590d\u5236\u7684\u5206\u7c7b\u9274\u5b9a\uff1aDupGen finder"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%9F%BA%E5%9B%A0%E5%A4%8D%E5%88%B6%E7%9A%84%E5%88%86%E7%B1%BB%E9%89%B4%E5%AE%9A%EF%BC%9ADupGen-finder/#require-software","text":"blastp\uff0c DupGen-finder","title":"require software"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%9F%BA%E5%9B%A0%E5%A4%8D%E5%88%B6%E7%9A%84%E5%88%86%E7%B1%BB%E9%89%B4%E5%AE%9A%EF%BC%9ADupGen-finder/#geneduplication-analysis","text":"\u57fa\u56e0\u7684\u590d\u5236\u7c7b\u578b\u5206\u7c7b\u5206\u6790\uff0c\u4f7f\u7528\u7684\u662fDupGen-finder\uff0c\u53ef\u4ee5\u628a\u6240\u6709\u57fa\u56e0\u6309\u7167\u590d\u5236\u7c7b\u578b\u5206\u4e3a5\u7c7b\uff0c WGD\uff1a\u5168\u57fa\u56e0\u7ec4\u590d\u5236 TD\uff1a\u4e32\u8054\u91cd\u590d\uff08\u76f8\u90bb\u7684\u4e24\u4e2a\u91cd\u590d\u57fa\u56e0\uff09 PD\uff1a\u8fd1\u7aef\u91cd\u590d\uff08\u76f8\u969410\u4e2a\u4ee5\u5185\u57fa\u56e0\u7684\u91cd\u590d\u57fa\u56e0\uff09 TRD\uff1a\u8f6c\u7f6e\u91cd\u590d\uff08\u7956\u5148\u548c\u65b0\u57fa\u56e0\u5ea7\u7ec4\u6210\u7684\u91cd\u590d\u57fa\u56e0\uff09 DSD\uff1a\u5206\u6563\u91cd\u590d\uff08\u4e0d\u76f8\u90bb\u4e5f\u4e0d\u5171\u7ebf\u6027\u7684\u91cd\u590d\u57fa\u56e0\uff09 SL\uff1a\u5355\u62f7\u8d1d","title":"geneDuplication analysis"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%9F%BA%E5%9B%A0%E5%A4%8D%E5%88%B6%E7%9A%84%E5%88%86%E7%B1%BB%E9%89%B4%E5%AE%9A%EF%BC%9ADupGen-finder/#require-input-file","text":"\u7814\u7a76\u7269\u79cd\u7684gff,pep #\u5206\u6790\u6a21\u5f0f1\uff08\u81ea\u8eab\u6bd4\u8f83\uff09\u548c\u6a21\u5f0f2\uff08\u548c\u5176\u4ed6\u7269\u79cd\u6bd4\u8f83\uff09 ####\u5206\u6790\u6a21\u5f0f1 cat Spd.bed |sed 's/^/Spd-/g'|awk '{print $1\"\\t\"$4\"\\t\"$2\"\\t\"$3}' >Spd.gff cat Ath.bed |sed 's/^/Ath-Chr/g'|awk '{print $1\"\\t\"$4\"\\t\"$2\"\\t\"$3}' >Ath.gff sed -i 's/Chr0/Chr/g' Spd.gff cat Spd.gff Ath.gff >Spd_Ath.gff makeblastdb -in Spd.pep -dbtype prot -title Spd -parse_seqids -out Spd blastp -query Spd.pep -db Spd -evalue 1e-10 -max_target_seqs 5 -outfmt 6 -out Spd.blast # Create a reference database makeblastdb -in Ath.pep -dbtype prot -title Ath -parse_seqids -out Ath # Align protein query sequences against the reference database blastp -query Ath.pep -db Ath -evalue 1e-10 -max_target_seqs 5 -outfmt 6 -out Ath.blast mkdir Spd_Ath cat Spd.blast Ath.blast >Spd_Ath.blast #-t \u662f\u5b9e\u9a8c\u7ec4 -c\u662f\u5916\u6e90\u5bf9\u7167\u7ec4 #\u4e00\u822c\u6a21\u5f0f DupGen_finder.pl -i $PWD -t Spd -c Ath -o ${PWD}/Spd_Ath/results1 #\u4e25\u683c\u6a21\u5f0f DupGen_finder-unique.pl -i $PWD -t Spd -c Ath -o ${PWD}/Spd_Ath/results2","title":"require input file"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%9F%BA%E5%9B%A0%E5%A4%8D%E5%88%B6%E7%9A%84%E5%88%86%E7%B1%BB%E9%89%B4%E5%AE%9A%EF%BC%9ADupGen-finder/#_1","text":"\u8981\u6c42\u7684Ath.gff\u6587\u4ef6\u683c\u5f0f: Ath-Chr1 AT1G01010.1 3630 5899 Ath-Chr1 AT1G01020.1 6787 9130 Ath-Chr1 AT1G01030.1 11648 13714 Ath.pep\u6587\u4ef6\u7684\u683c\u5f0f\uff1a >AT3G05780.1 MMPKRFNTSGFDTTLRLPSYYGFLHLTQSLTLNSRVFYGARHVTPPAIRIGSNPVQSLLL FRAPTQLTGWNRSSRDLLGRRVSFSDRSDGVDLLSSSPILSTNPNLDDSLTVIALPLPHK PLIPGFYMPIHVKDPKVLAALQESTRQQSPYVGAFLLKDCASTDSSSRSETEDNVVEKFK VKGKPKKKRRKELLNRIHQVGTLAQISSIQGEQVILVGRRRLIIEEMVSEDPLTVRVDHL >AT4G32100.1 MATNACKFLCLVLLFAFVTQGYGDDSYSLESLSVIQSKTGNMVENKPEWEVKVLNSSPCY FTHTTLSCVRFKSVTPIDSKVLSKSGDTCLLGNGDSIHDISFKYVWDTSFDLKVVDGYIA CS","title":"\u8f93\u5165\u6587\u4ef6\u683c\u5f0f"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%9F%BA%E5%9B%A0%E5%A4%8D%E5%88%B6%E7%9A%84%E5%88%86%E7%B1%BB%E9%89%B4%E5%AE%9A%EF%BC%9ADupGen-finder/#_2","text":"\u5728results1\u548cresults2\u4e2d\u8f93\u51fa\u7ed3\u679c\u6587\u4ef6\u57fa\u672c\u4e00\u81f4\uff0cresults2\u4e2d\u7684\u662f\u4e25\u683c\u6a21\u5f0f\uff0c\u6587\u4ef6\u540e\u9762\u540e\u7f00\u662f-unique Spd.pairs.stats-unique #\u662f\u5404\u7ec4\u590d\u5236\u4fe1\u606f\u7684pairs\u6570\u91cf\u3002 Spd.wgd.genes-unique #WGD\u7c7b\u578b\u7684\u6240\u6709\u57fa\u56e0 Spd.wgd.pairs-unique #WGD\u7c7b\u578b\u7684pairs\u7684\u8be6\u7ec6\u4fe1\u606f Spd.singletons #singletons\u7c7b\u578b\u7684\u57fa\u56e0(\u5373\u6ca1\u6709\u540c\u6e90\u57fa\u56e0\u7684\u57fa\u56e0) Spd.tandem.pairs-unique # TD\u7c7b\u578b Spd.proximal.pairs-unique #PD\u7c7b\u578bpairs Spd.transposed.pairs-unique #TRD\u7c7b\u578bpairs Spd.dispersed.pairs-unique #DSD\u7c7b\u578bpairs Spd.collinearity #Spd\u7269\u79cd\u5185\u7684\u5171\u7ebf\u6027\u6587\u4ef6 Spd_Ath.collinearity #Spd\u548cAth\u7269\u79cd\u7684\u5171\u7ebf\u6027\u6587\u4ef6 \u6ce8\u610f\uff1a\u4e00\u5b9a\u8981\u5206\u6e05\u695agene\u548cgene pairs\u7684\u6570\u91cf\u5e76\u4e0d\u662f\u4e00\u4e00\u5bf9\u5e94\u7684\u5173\u7cfb\uff0c\u4f1a\u6709\u4e00\u5bf9\u591a\u3002","title":"\u8f93\u51fa\u6587\u4ef6"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%9F%BA%E5%9B%A0%E5%A4%8D%E5%88%B6%E7%9A%84%E5%88%86%E7%B1%BB%E9%89%B4%E5%AE%9A%EF%BC%9ADupGen-finder/#_3","text":"GO,KEGG (\u4f7f\u7528\u7684\u662f5\u4e2agenes-unique\u6587\u4ef6) Ka/Ks \uff08\u4f7f\u7528\u7684\u662f5\u4e2apairs-unique\u6587\u4ef6\u548c2\u4e2acollinearity\u6587\u4ef6\uff09","title":"\u540e\u7eed\u5206\u6790"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%9F%BA%E5%9B%A0%E5%A4%8D%E5%88%B6%E7%9A%84%E5%88%86%E7%B1%BB%E9%89%B4%E5%AE%9A%EF%BC%9ADupGen-finder/#_4","text":"expansion.genes\u662f\u6269\u5f20\u57fa\u56e0\u5217\u8868 cd results2 grep -f expansion.genes Spd.wgd.genes-unique|cut -f1 >expansion_wgd.csv grep -f expansion.genes Spd.td.genes-unique|cut -f1 >expansion_td.csv grep -f expansion.genes Spd.trd.genes-unique|cut -f1 >expansion_trd.csv grep -f expansion.genes Spd.pd.genes-unique|cut -f1 >expansion_pd.csv grep -f expansion.genes Spd.dsd.genes-unique|cut -f1 >expansion_dsd.csv expansion_wgd.genes.csv\u5373\u4e3a\u6269\u5f20\u7684wgd\u7684\u57fa\u56e0\u3002 \u6ce8\u610f\uff1agff\u6587\u4ef6\uff0cprotein\u6587\u4ef6\u548cexpansion\u6587\u4ef6\uff0c\u5404\u5904\u4f7f\u7528\u7684geneid\u4e00\u5b9a\u8981\u4e00\u81f4 \u53ef\u4ee5\u6309\u7167\u8fd95\u79cd\u5206\u7c7b","title":"\u83b7\u53d6\u76ee\u6807\u57fa\u56e0\u540e\uff0c\u53ef\u4ee5\u548c\u6269\u5f20\u7684\u57fa\u56e0\u53d6\u5e76\u96c6\uff0c\u7136\u540e\u5bcc\u96c6\u5206\u6790\u8fd9\u90e8\u5206\u57fa\u56e0\u7684\u529f\u80fd\u3002"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%9F%BA%E5%9B%A0%E5%A4%8D%E5%88%B6%E7%9A%84%E5%88%86%E7%B1%BB%E9%89%B4%E5%AE%9A%EF%BC%9ADupGen-finder/#gokegg","text":"\u4e0b\u9762\u4ee3\u7801\u53ef\u4ee5\u76f4\u63a5\u5728R-studio\u8fd0\u884c\uff0c","title":"GO\u3001KEGG\u5bcc\u96c6\u5206\u6790"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%9F%BA%E5%9B%A0%E5%A4%8D%E5%88%B6%E7%9A%84%E5%88%86%E7%B1%BB%E9%89%B4%E5%AE%9A%EF%BC%9ADupGen-finder/#ggplot2clusterprofiler","text":"\u4fee\u6539\u5de5\u4f5c\u8def\u5f84\uff0c\u5de5\u4f5c\u8def\u5f84\u4e0b\u8981\u6709\u4ee5\u4e0b\u6587\u4ef6\uff1a GO.info #GO\u7684\u6570\u636e\u5e93 KEGG.info #KEGG\u7684\u6570\u636e\u5e93 expansion_wgd.csv expansion_td.csv expansion_dsd.csv expansion_pd.csv expansion_trd.csv 5\u4e2acsv\u6587\u4ef6\u65f6\u6269\u5f20\u57fa\u56e0\u548c\u5bf9\u5e94\u590d\u5236\u65b9\u5f0f\u7684\u5171\u6709\u7684\u57fa\u56e0\u7684\u5217\u8868 #\u4f7f\u7528\u65b0\u7684GO\u548cKEGG\u8fdb\u884c\u5bcc\u96c6\u5206\u6790 setwd(\"e:/Family_expansion/GO/results2\") library(clusterProfiler) library(ggplot2) ##\u83b7\u53d6spo\u57fa\u56e0\u7684\u5bcc\u96c6\u5206\u6790\u7ed3\u679c\uff0c\u9700\u8981\u8f93\u5165\u57fa\u56e0\u5217\u8868\u548cgenetype(\u7528\u4e8e\u8f93\u51fa\u6587\u4ef6\u540d\u7684\u524d\u7f00) get_go_kegg <- function(filename,genetype,GO_list=\"GO.info\",KEGG_list=\"KEGG.info\"){ #\u5b9a\u4e49\u9700\u8981\u5206\u6790\u7684\u57fa\u56e0\u5217\u8868 gene <- read.csv(filename,header = FALSE) genetype <- genetype #\u4fee\u6539GO\u548cKEGG\u6587\u4ef6\u540d golist <- read.table(file=GO_list,sep = \"\\t\",header = FALSE) kegglist <- read.table(file=KEGG_list,sep = \"\\t\",header = FALSE) #\u4e0b\u9762\u5185\u5bb9\u57fa\u672c\u4e0d\u9700\u8981\u4fee\u6539 spo2gene <- data.frame(golist$V1,golist$V3) #GO,Geneid spo2name <- data.frame(golist$V1,golist$V2) #GO,GO\u63cf\u8ff0 gene1 <- t(gene$V1) #\u83b7\u53d6\u9700\u8981\u5206\u6790\u7684\u57fa\u56e0\u5217\u8868 #GO\u5bcc\u96c6\u5206\u6790 spo_GO <- enricher(gene1,TERM2GENE = spo2gene,TERM2NAME = spo2name) p1 <- dotplot(spo_GO) p1 ggsave(file=paste(genetype,\".GO.pdf\",sep=\"\")) write.csv(spo_GO,file=paste(genetype,\"_GO.csv\",sep = \"\")) #kegg\u5bcc\u96c6 kegg2gene <- data.frame(kegglist$V1,kegglist$V3) #keggid,Geneid kegg2name <- data.frame(kegglist$V1,kegglist$V2) #keggid,kegg\u63cf\u8ff0 gene1 <- t(gene$V1) #\u83b7\u53d6\u9700\u8981\u5206\u6790\u7684\u57fa\u56e0\u5217\u8868 spo_KEGG <- enricher(gene1,TERM2GENE = kegg2gene,TERM2NAME = kegg2name) p2 <- dotplot(spo_KEGG) p2 ggsave(file=paste(genetype,\".KEGG.pdf\",sep=\"\")) write.csv(spo_KEGG,file=paste(genetype,\"_kegg.csv\",sep=\"\")) cowplot::plot_grid(p1, p2, nrow=2, labels=c(\"A\", \"B\")) #ggplot2\u7684\u51fd\u6570\uff0cnrow\u6307\u5b9a2\u884c\uff0c\u5982\u679c\u662fncol\u5219\u662f2\u5217\u3002 ggsave(file=paste(genetype,\"_go_kegg.pdf\",sep=\"\")) } #\u8fd0\u884c\u5bcc\u96c6\u5206\u6790\uff0c\u7b2c1\u4e2a\u53c2\u6570\u662f\u57fa\u56e0\u5217\u8868csv\u683c\u5f0f\uff0c\u7b2c2\u4e2a\u662f\u524d\u7f00\u7c7b\u578b\uff0c\u7b2c3\u4e2a\u662fGO,\u7b2c4\u4e2a\u662fKEGG\uff0c\u53c2\u65703\u548c4\u8981\u6c42\u662ftab\u5206\u5272\u7b26 get_go_kegg(\"expansion_trd.csv\",\"trd\") get_go_kegg(\"expansion_td.csv\",\"td\") get_go_kegg(\"expansion_dsd.csv\",\"dsd\") get_go_kegg(\"expansion_wgd.csv\",\"wgd\") get_go_kegg(\"expansion_pd.csv\",\"pd\") #GO\u548cKEGG\u6587\u4ef6\u7684\u683c\u5f0f head(GO.info) # GO:0005452 inorganic anion exchanger activity Sp09G018780.1 Molecular Function # GO:0006820 anion transport Sp09G018780.1 Biological Process # GO:0016021 integral component of membrane Sp09G018780.1 Cellular Component head(KEGG.info) # ko00010 Glycolysis / Gluconeogenesis Sp12G016220.1 # ko00010 Glycolysis / Gluconeogenesis Sp10G003910.1 # ko00010 Glycolysis / Gluconeogenesis Sp16G007040.1 #\u5408\u5e76\u591a\u7ec4GO\u5206\u6790\uff0c\u751f\u6210\u6c14\u6ce1\u56fe #\u5728\u8fdb\u884c\u6c14\u6ce1\u56fe\u5206\u6790\u4e4b\u524d\uff0c\u53ef\u4ee5\u624b\u52a8\u4fee\u6539\u4e0a\u4e00\u6b65\u8f93\u51fa\u7684\u5bcc\u96c6\u5206\u6790\u7684csv\u6587\u4ef6\u4e2d\u7684GO/KEGG term\u7684\u8bcd\u6761\uff0c\u628a\u957f\u8bcd\u6761\u53d8\u6210\u77ed\u8bcd\u6761\uff0c\u4ee5\u65b9\u4fbf\u5728\u6c14\u6ce1\u56fe\u4e0a\u5c55\u793a\u3002 #\u4ececsv\u6587\u4ef6\u8bfb\u53d6\u5bcc\u96c6\u7684\u4fe1\u606f\u5230\u6570\u636e\u6846\uff08count_num\u53ef\u4ee5\u6307\u5b9a\u83b7\u53d6\u7684GO/KEGG term\u7684\u6570\u91cf\uff0c\u9ed8\u8ba4\u662f15;enrich_type\u6307\u5b9a\u5bcc\u96c6\u7c7b\u578bGO/KEGG\uff09 getdata <- function(Prefix,enrich_type=\"GO\",count_num=15){ trd_GO <- read.csv(paste(Prefix,\"_\",enrich_type,\".csv\",sep = \"\"),header = T) pic_trd_GO <- head(trd_GO,count_num) pic_trd_GO$adjust <- -log10(pic_trd_GO$p.adjust) pic_trd_GO$type <- Prefix return(pic_trd_GO) } #\u8bfb\u53d6GO trd_GO <- getdata(\"trd\") wgd_GO <- getdata(\"wgd\") dsd_GO <- getdata(\"dsd\") pd_GO <- getdata(\"pd\") td_GO <- getdata(\"td\") #\u5408\u5e765\u7ec4GO\u6570\u636e data_GO_all <- rbind(trd_GO,wgd_GO,dsd_GO,pd_GO,td_GO) #\u6c14\u6ce1\u56fe\u53ef\u89c6\u5316\u5bcc\u96c6\u7ed3\u679c ggplot(data_GO_all,aes(type,Description)) + geom_point(aes(fill=adjust,size=Count),alpha=0.9,pch=21) + #fill\u5bf9\u5e94\u70b9\u7684\u586b\u5145\u8272\uff0ccolour\u5bf9\u5e94\u70b9\u7684\u8fb9\u6846\u8272 scale_fill_gradient(low='SpringGreen',high='DeepPink') + #\u8bbe\u5b9a\u989c\u8272\u7684\u53d8\u5316\u8303\u56f4 scale_size_area() + #\u8bbe\u5b9a\u70b9\u7684\u5927\u5c0f\u6bd4\u4f8b\u548c\u56fe\u4f8b\u4e0a\u663e\u793a\u7684\u95f4\u9694 labs(y='GO term',x='type',fill='-log10(P.adjust)',size='Metabolites number')+ theme_bw() ggsave(\"geneduplication.GO.pdf\",dpi=300) write.csv(data_GO_all,file=\"data_GO_all.csv\") #\u8bfb\u53d6KEGG trd_KEGG <- getdata(\"trd\",enrich_type = \"KEGG\") wgd_KEGG <- getdata(\"wgd\",enrich_type = \"KEGG\") dsd_KEGG <- getdata(\"dsd\",enrich_type = \"KEGG\") pd_KEGG <- getdata(\"pd\",enrich_type = \"KEGG\") td_KEGG <- getdata(\"td\",enrich_type = \"KEGG\") #\u5408\u5e765\u7ec4GO\u6570\u636e data_kegg_all <- rbind(trd_KEGG,wgd_KEGG,dsd_KEGG,pd_KEGG,td_KEGG) #\u6c14\u6ce1\u56fe\u53ef\u89c6\u5316\u5bcc\u96c6\u7ed3\u679c ggplot(data_kegg_all,aes(type,Description)) + geom_point(aes(fill=adjust,size=Count),alpha=0.9,pch=21) + #fill\u5bf9\u5e94\u70b9\u7684\u586b\u5145\u8272\uff0ccolour\u5bf9\u5e94\u70b9\u7684\u8fb9\u6846\u8272 scale_fill_gradient(low='SpringGreen',high='DeepPink') + #\u8bbe\u5b9a\u989c\u8272\u7684\u53d8\u5316\u8303\u56f4 scale_size_area() + #\u8bbe\u5b9a\u70b9\u7684\u5927\u5c0f\u6bd4\u4f8b\u548c\u56fe\u4f8b\u4e0a\u663e\u793a\u7684\u95f4\u9694 labs(y='KEGG term',x='type',fill='-log10(P.adjust)',size='Metabolites number')+ theme_bw() ggsave(\"geneduplication.KEGG.pdf\",dpi=300) write.csv(data_kegg_all,file=\"data_KEGG_all.csv\")","title":"\u8981\u6c42\u5148\u5b89\u88c5ggplot2\u548cclusterProfiler"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%9F%BA%E5%9B%A0%E5%A4%8D%E5%88%B6%E7%9A%84%E5%88%86%E7%B1%BB%E9%89%B4%E5%AE%9A%EF%BC%9ADupGen-finder/#kaks","text":"","title":"\u5206\u522b\u5206\u6790Ka/Ks \u53c2\u8003"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%9F%BA%E5%9B%A0%E5%A4%8D%E5%88%B6%E7%9A%84%E5%88%86%E7%B1%BB%E9%89%B4%E5%AE%9A%EF%BC%9ADupGen-finder/#kaksmafftparaatpl-muscle","text":"\u5f53\u57fa\u56e0\u6bd4\u8f83\u591a\u8d85\u8fc71\u4e07\u65f6\uff0c\u6bd4\u8f83\u8017\u65f6\uff0c\u8bf7\u589e\u52a0cpu\u6570\u91cf\uff0c\u5bf9\u5e94\u7684\u53c2\u6570\u65f6 proc \u811a\u672c\u4e2d\u8bbe\u7f6e\u7684\u662f16. KaKs.sh \u811a\u672c\u5982\u4e0b,\u5de5\u4f5c\u76ee\u5f55 results2 #\u5b9a\u4e49\u7269\u79cd\u7684\u7f29\u5199 species=$1 cat $species.dispersed.pairs-unique|cut -f 1,3 |sed '1d' >dsd.homolog cat $species.tandem.pairs-unique | cut -f 1,3 |sed '1d' >td.homolog cat $species.transposed.pairs-unique | cut -f 1,3 |sed '1d' >trd.homolog cat $species.wgd.pairs-unique | cut -f 1,3 |sed '1d' >wgd.homolog cat $species.proximal.pairs-unique | cut -f 1,3 |sed '1d' >pd.homolog echo \"16\" >proc function getKaKs(){ ParaAT.pl -h $1.homolog -n $2.cds -a $2.pep -p proc -m mafft -f axt -g -k -o $1.result_dir #\u628aKaKs\u8f93\u51fa\u5230\u6587\u4ef6KaKs.txt cat $1.result_dir/*.axt.kaks | cut -f 1,3,4,5 | grep -v 'Sequence' |sort|uniq >$1.KaKs.txt cat $1.KaKs.txt| tr \"\\t\" \",\" |sed '1i Sequence,Ka,Ks,Ka/Ks' >$1.KaKs.csv #\u6dfb\u52a0\u65b0\u7684\u5217\uff0cItem\u7528\u4e8e\u540e\u7eed\u5408\u5e76\u540e\u53ef\u89c6\u5316\u5206\u7ec4(\u6ce8\u610f\uff1aawk\u91cc\u7684$1\u662f\u5168\u5c40\u7684\u73af\u5883\u7684$1\uff0cawk\u8c03\u7528\u5916\u90e8\u53d8\u91cf\uff0c\u4f7f\u7528\u591a\u91cd\u5f15\u53f7) cat $1.KaKs.csv|awk -F , '{print $0\",\"\"'\"$1\"'\"}' | sed '1d' >$1.KaKs.Item.csv } list=(wgd td pd trd dsd) for ele in ${list[@]} do getKaKs $ele $species done #\u5408\u5e76\u6240\u6709\u7684KaKs\u8f93\u51fa\u5230\u4e00\u4e2acsv\u6587\u4ef6 cat td.KaKs.Item.csv wgd.KaKs.Item.csv pd.KaKs.Item.csv trd.KaKs.Item.csv dsd.KaKs.Item.csv |sed '1i Sequence,Ka,Ks,Ka.Ks,Item' >gene_dup_KaKs.csv ##\u8ba1\u7b974DTv # \u5c06\u591a\u884caxt\u6587\u4ef6\u8f6c\u6362\u6210\u5355\u884c function get4DTv(){ cd $1.result_dir #\u4f7f\u7528axt2one-line.py\u5408\u5e76axt\u4e3a1\u884c\u3002https://github.com/scbgfengchao/4DTv/blob/master/axt2one-line.py for i in `ls *.axt`;do axt2one-line.py $i ${i}.one-line;done #\u4f7f\u7528calculate_4DTV_correction.pl\u811a\u672c\u8ba1\u7b974dtv\u503c\u3002\u811a\u672c\u5730\u5740\uff1ahttps://github.com/JinfengChen/Scripts/blob/master/FFgenome/03.evolution/distance_kaks_4dtv/bin/calculate_4DTV_correction.pl ls *.axt.one-line|while read id;do calculate_4DTV_correction.pl $id >${id%%one-line}4dtv;done #\u5408\u5e76\u6240\u6709\u540c\u6e90\u57fa\u56e0\u5bf9\u76844dtv for i in `ls *.4dtv`;do awk 'NR>1{print $1\"\\t\"$3}' $i >>$1.4DTv.txt;done sort $1.4DTv.txt|uniq > ../$1.4DTv.txt cat ../$1.4DTv.txt| tr \"\\t\" \",\" |sed '1i Gene,4DTv' > ../$1.4DTv.csv cd ../ #\u6dfb\u52a0\u65b0\u7684\u5217\uff0cItem\u7528\u4e8e\u540e\u7eed\u5408\u5e76\u540e\u53ef\u89c6\u5316\u5206\u7ec4 cat $1.4DTv.csv|awk -F , '{print $0\",\"\"'\"$1\"'\"}' | sed '1d' >$1.4DTv.Item.csv } list=(wgd td pd trd dsd) for ele in ${list[@]} do get4DTv $ele; done cat td.4DTv.Item.csv wgd.4DTv.Item.csv pd.4DTv.Item.csv trd.4DTv.Item.csv dsd.4DTv.Item.csv |sed '1i Gene,4DTv,Item' >gene_dup_4DTv.csv \u8fd0\u884c bash KaKs.sh Spd \u5373\u53ef\u5f97\u5230\u6700\u7ec8\u7684\u603bKaKs\u548c4DTv, gene_dup_KaKs.csv\u548cgene_dup_4DTv.csv,\u8fd8\u6709\u5404\u7ec4\u5206\u7ec4\u7684.KaKs.csv\u548c.4DTv.csv\u3002","title":"\u9700\u8981\u5b89\u88c5\u7684\u8f6f\u4ef6 KaKs,mafft,ParaAT.pl (\u63a8\u8350\u4f7f\u7528muscle\u6bd4\u5bf9\uff0c\u901f\u5ea6\u66f4\u5feb)"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%9F%BA%E5%9B%A0%E5%A4%8D%E5%88%B6%E7%9A%84%E5%88%86%E7%B1%BB%E9%89%B4%E5%AE%9A%EF%BC%9ADupGen-finder/#kaks_1","text":"kaks.R \u811a\u672c\u4ee3\u7801\u5982\u4e0b\uff0c\u76f4\u63a5\u5728\u4e0a\u8ff0\u7ed3\u679c\u76ee\u5f55\u8fd0\u884c Rscript kaks.R \u5373\u53ef\u5f97\u5230ka/ks\u7684\u5206\u5e03\uff0c\u8f93\u51fa4\u4e2apdf,3\u4e2a\u662f\u5355\u72ec\u7684\uff0c1\u4e2a\u662f\u7ec4\u56fe\u3002 #setwd(\"e:/****/GeneDuplication\") library(\"ggplot2\") data_kaks <- read.csv(\"gene_dup_KaKs.csv\") #\u5220\u9664\u5305\u542bNA\u7684\u884c data_kaks <- na.omit(data_kaks) p0 <- ggplot(data=data_kaks, aes(x=Item, y=Ka.Ks, fill=Item)) + geom_violin(alpha=0.8,width=1)+ guides(fill=F)+xlab(' ')+ylab('Ka/Ks')+ geom_boxplot(alpha=0.5,width = 0.3)+ coord_flip()+ #\u98a0\u5012xy\u8f74 ylim(0,2) #\u8bbe\u7f6ey\u8f74\u6700\u5927\u503c p0 ggsave('distribute_of_KaKs.pdf',dpi=300) p1 <- ggplot(data=data_kaks, aes(x=Ka,group=Item)) + geom_density(alpha=0.4,aes(color = Item))+ xlab('Ka value')+ylab('Density')+ labs(title = \"Distribution of Ka distances\", size = 1.5)+guides() p1 ggsave('Distribute_of_Ka.pdf',dpi=300) p2 <- ggplot(data=data_kaks, aes(x=Ks,group=Item)) + geom_density(alpha=0.4,aes(color = Item))+xlab('Ks value')+ylab('Density')+ labs(title = \"Distribution of Ks distances\", size = 1.5) p2 ggsave('Distribute_of_Ks.pdf',dpi=300) #\u53ef\u89c6\u53164DTv data_4DTv <- read.csv(\"gene_dup_4DTv.csv\") #\u5220\u9664\u5305\u542bNA\u7684\u884c data_4DTv <- na.omit(data_4DTv) p3 <- ggplot(data=data_4DTv, aes(x=X4DTv,group=Item)) + geom_density(alpha=0.4,aes(color = Item))+xlab('4DTv value')+ylab('Density') #labs(title = \"Distribution of 4DTv distances\", size = 1.5) p3 ggsave(\"Distribution_of_4DTv.pdf\",dpi=300) #\u62fc\u56fe\uff0c\u76f4\u63a5\u51fa\u7ec4\u5408\u56fe p4.1 <- cowplot::plot_grid(p1, p2, ncol=2, labels=c(\"a\", \"b\")) #ggplot2\u7684\u51fd\u6570\uff0cnrow\u6307\u5b9a2\u884c\uff0c\u5982\u679c\u662fncol\u5219\u662f2\u5217\u3002 p4.2<-cowplot::plot_grid(p0,p3,ncol = 2,labels = c(\"c\",\"d\")) p4<-cowplot::plot_grid(p4.1,p4.2,nrow = 2) p4 ggsave(\"Distribution_of_Ka_Ks_Kaks_4DTv.pdf\",dpi = 300)","title":"\u53ef\u89c6\u5316Ka/Ks\u7684\u5206\u5e03,"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E5%9F%BA%E5%9B%A0%E7%BB%84%E6%B3%A8%E9%87%8A/","text":"\u57fa\u56e0\u7ec4\u6ce8\u91ca\u5305\u62ec\u4e0b\u9762\u5185\u5bb9\uff1a 1. \u91cd\u590d\u5e8f\u5217\u6ce8\u91ca 2. \u7f16\u7801\u57fa\u56e0\u9884\u6d4b 3. \u975e\u7f16\u7801RNA\u9884\u6d4b 4. \u5047\u57fa\u56e0\u9884\u6d4b 5. \u57fa\u56e0\u529f\u80fd\u6ce8\u91ca \u91cd\u590d\u5e8f\u5217\u9274\u5b9a\uff1ahttps://www.jianshu.com/p/f7c0115e1d89?utm_campaign=maleskine&utm_content=note&utm_medium=seo_notes&utm_source=recommendation \u57fa\u56e0\u7ec4\u91cd\u590d\u5e8f\u5217\u6ce8\u91ca\uff1ahttps://www.jianshu.com/p/76dbf3e0a5fb?utm_campaign=shakespeare LTR_retriever:\u9274\u5b9aLTR-RTs,\u540c\u65f6\u53ef\u4ee5\u8ba1\u7b97LAI\u503c\u3002 https://www.jianshu.com/p/f962d5c40fdf \u6587\u732e\uff1a\u690d\u7269\u57fa\u56e0\u7ec4\u5206\u6790\u5957\u8defhttps://www.jianshu.com/p/0a14d971bd0a \u4f7f\u7528 DupGen_finder github \u8bc6\u522b\u91cd\u590d\u7684\u57fa\u56e0\uff1aWGD\uff0cTD\uff0cPD\uff0cTRD\u548cDSD WGD\uff1a\u5168\u57fa\u56e0\u7ec4\u590d\u5236 TD\uff1a\u4e32\u8054\u91cd\u590d\uff08\u76f8\u90bb\u7684\u4e24\u4e2a\u91cd\u590d\u57fa\u56e0\uff09tandem duplication PD\uff1a\u8fd1\u7aef\u91cd\u590d\uff08\u76f8\u969410\u4e2a\u4ee5\u5185\u57fa\u56e0\u7684\u91cd\u590d\u57fa\u56e0\uff09proximal duplication TRD\uff1a\u8f6c\u7f6e\u91cd\u590d\uff08\u7956\u5148\u548c\u65b0\u57fa\u56e0\u5ea7\u7ec4\u6210\u7684\u91cd\u590d\u57fa\u56e0\uff09transposed duplication DSD\uff1a\u5206\u6563\u91cd\u590d\uff08\u4e0d\u76f8\u90bb\u4e5f\u4e0d\u5171\u7ebf\u6027\u7684\u91cd\u590d\u57fa\u56e0\uff09dispersed duplication SL\uff1a\u5355\u62f7\u8d1d DupGen_finder \u4f7f\u7528\u6559\u7a0b https://www.jianshu.com/p/a3a39b2f341b LTR_retriever:\u9274\u5b9aLTR-RTs,\u540c\u65f6\u53ef\u4ee5\u8ba1\u7b97LAI\u503c \u4f7f\u7528\u6559\u7a0b \u91cd\u590d\u5e8f\u5217\u7684\u5206\u7c7b\uff1a\u5206\u522b\u662f\u4e32\u8054\u91cd\u590d\u5e8f\u5217\uff08Tandem repeat\uff09\u4e0e\u6563\u7f6e\u91cd\u590d\u5e8f\u5217\uff08Interspersed repeat\uff09","title":"\u57fa\u56e0\u7ec4\u6ce8\u91ca"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E7%94%A8snpEff%E4%BA%A7%E5%87%BA%E7%9A%84vcf%E6%8F%90%E5%8F%964DTv%E4%BD%8D%E7%82%B9%EF%BC%8C%E6%9E%84%E5%BB%BA%E8%BF%9B%E5%8C%96%E6%A0%91/","text":"\u7528snpeff\u4ea7\u51fa\u7684vcf\u63d0\u53d64DTv\u4f4d\u70b9\uff0c\u7528\u4e8e\u6784\u5efa\u8fdb\u5316\u6811 \u8f6c\u8f7d\u81eahttps://blog.csdn.net/u012110870/article/details/105507476 \u5f90\u5dde\u66f4 \u63d0\u5230 2019\u5e74NG 414\u4e2a\u897f\u74dc\u91cd\u6d4b\u5e8f \u5206\u6790\u65b9\u6cd5\u91cc\uff0c\u53ef\u4ee5\u4ece\u91cd\u6d4b\u5e8f\u7684SNP\u4e2d\uff0c\u9009\u62e94DTV\u4f4d\u70b9\u6765\u6784\u5efa\u8fdb\u5316\u6811\u3002 \u4ee3\u7801\u6765\u6e90\u4e8e\u5f90\u5dde\u66f4\uff0c python3 calc_4dTv_in_eff_vcf.py input.vcf output.vcf ref.fa \u4ecesnpEff\u6ce8\u91ca\u7684vcf\u6587\u4ef6\u4e2d\u63d0\u53d64DTv\u4f4d\u70b9\u7684vcf. calc_4dTv_in_eff_vcf.py \u4ee3\u7801\u5982\u4e0b\u6240\u793a\uff1a #!/usr/bin/env python3 from sys import argv from pysam import VariantFile from pysam import FastaFile file_in = argv[1] file_out = argv[2] fafile = argv[3] codon = set([\"TC\", \"CT\", \"CC\", \"CG\", \"AC\", \"GT\", \"GC\", \"GG\"]) rev_dict = dict(A='T',T='A', C='G', G='C') bcf_in = VariantFile(file_in) bcf_out = VariantFile(file_out, \"w\", header = bcf_in.header) fa_in = FastaFile(fafile) for rec in bcf_in.fetch(): ann = rec.info['ANN'] info = rec.info['ANN'][0].split('|') # only use synonymouse variants if info[1] != \"synonymous_variant\": continue # only the 3rd position can be 4dTv if int(info[9][2:-3]) % 3 != 0: continue # determine the strand by the REF column and mutation # if the ref is not same as the mutation site if rec.ref == info[9][-3]: pre = fa_in.fetch(rec.chrom, rec.pos-3, rec.pos-1) else: tmp = fa_in.fetch(rec.chrom, rec.pos, rec.pos+2) tmp.upper() pre = rev_dict[tmp[1]] + rev_dict[tmp[0]] if pre not in codon: continue bcf_out.write(rec) \u628a4DTV\u7684vcf\u8f6c\u6362\u4e3aphylip\u8f6f\u4ef6\u9700\u8981\u7684phy\u683c\u5f0f vcf2phylip\u5730\u5740 vcf2phylip.py \u4ee3\u7801\u5982\u4e0b\uff1a #!/usr/bin/env python3 # -*- coding: utf-8 -*- \"\"\" The script converts a collection of SNPs in VCF format into a PHYLIP, FASTA, NEXUS, or binary NEXUS file for phylogenetic analysis. The code is optimized to process VCF files with sizes >1GB. For small VCF files the algorithm slows down as the number of taxa increases (but is still fast). Any ploidy is allowed, but binary NEXUS is produced only for diploid VCFs. \"\"\" __author__ = \"Edgardo M. Ortiz\" __credits__ = \"Juan D. Palacio-Mej\u00eda\" __version__ = \"2.4\" __email__ = \"e.ortiz.v@gmail.com\" __date__ = \"2020-10-04\" import argparse import gzip import os import random import sys # Dictionary of IUPAC ambiguities for nucleotides # '*' is a deletion in GATK, deletions are ignored in consensus, lowercase consensus is udes when an # 'N' or '*' is part of the genotype. Capitalization is used by some software but ignored by Geneious # for example ambiguities = {\"*\" :\"-\", \"A\" :\"A\", \"C\" :\"C\", \"G\" :\"G\", \"N\" :\"N\", \"T\" :\"T\", \"*A\" :\"a\", \"*C\" :\"c\", \"*G\" :\"g\", \"*N\" :\"n\", \"*T\" :\"t\", \"AC\" :\"M\", \"AG\" :\"R\", \"AN\" :\"a\", \"AT\" :\"W\", \"CG\" :\"S\", \"CN\" :\"c\", \"CT\" :\"Y\", \"GN\" :\"g\", \"GT\" :\"K\", \"NT\" :\"t\", \"*AC\" :\"m\", \"*AG\" :\"r\", \"*AN\" :\"a\", \"*AT\" :\"w\", \"*CG\" :\"s\", \"*CN\" :\"c\", \"*CT\" :\"y\", \"*GN\" :\"g\", \"*GT\" :\"k\", \"*NT\" :\"t\", \"ACG\" :\"V\", \"ACN\" :\"m\", \"ACT\" :\"H\", \"AGN\" :\"r\", \"AGT\" :\"D\", \"ANT\" :\"w\", \"CGN\" :\"s\", \"CGT\" :\"B\", \"CNT\" :\"y\", \"GNT\" :\"k\", \"*ACG\" :\"v\", \"*ACN\" :\"m\", \"*ACT\" :\"h\", \"*AGN\" :\"r\", \"*AGT\" :\"d\", \"*ANT\" :\"w\", \"*CGN\" :\"s\", \"*CGT\" :\"b\", \"*CNT\" :\"y\", \"*GNT\" :\"k\", \"ACGN\" :\"v\", \"ACGT\" :\"N\", \"ACNT\" :\"h\", \"AGNT\" :\"d\", \"CGNT\" :\"b\", \"*ACGN\":\"v\", \"*ACGT\":\"N\", \"*ACNT\":\"h\", \"*AGNT\":\"d\", \"*CGNT\":\"b\", \"*ACGNT\":\"N\"} # Dictionary for translating biallelic SNPs into SNAPP, only for diploid VCF # 0 is homozygous reference # 1 is heterozygous # 2 is homozygous alternative gen_bin = {\"./.\":\"?\", \".|.\":\"?\", \"0/0\":\"0\", \"0|0\":\"0\", \"0/1\":\"1\", \"0|1\":\"1\", \"1/0\":\"1\", \"1|0\":\"1\", \"1/1\":\"2\", \"1|1\":\"2\"} def extract_sample_names(vcf_file): \"\"\" Extract sample names from VCF file \"\"\" if vcf_file.endswith(\".gz\"): opener = gzip.open else: opener = open sample_names = [] with opener(vcf_file, \"rt\") as vcf: for line in vcf: line = line.strip(\"\\n\") if line.startswith(\"#CHROM\"): record = line.split(\"\\t\") sample_names = [record[i].replace(\"./\", \"\") for i in range(9, len(record))] break return sample_names def is_anomalous(record, num_samples): \"\"\" Determine if the number of samples in current record corresponds to number of samples described in the line '#CHROM' \"\"\" return bool(len(record) != num_samples + 9) def is_snp(record): \"\"\" Determine if current VCF record is a SNP (single nucleotide polymorphism) as opposed to MNP (multinucleotide polymorphism) \"\"\" return bool(len(record[3]) == 1 and len(record[4]) - record[4].count(\",\") == record[4].count(\",\") + 1) def num_genotypes(record, num_samples): \"\"\" Get number of genotypes in VCF record, total number of samples - missing genotypes \"\"\" missing = 0 for i in range(9, num_samples + 9): if record[i].startswith(\".\"): missing += 1 return num_samples - missing def get_matrix_column(record, num_samples, resolve_IUPAC): \"\"\" Transform a VCF record into a phylogenetic matrix column with nucleotides instead of numbers \"\"\" nt_dict = {str(0): record[3].replace(\"-\",\"*\"), \".\": \"N\"} alt = record[4].replace(\"-\", \"*\") alt = alt.split(\",\") for n in range(len(alt)): nt_dict[str(n+1)] = alt[n] column = \"\" for i in range(9, num_samples + 9): genotype = record[i].split(\":\")[0].replace(\"/\", \"\").replace(\"|\", \"\") if resolve_IUPAC: column += nt_dict[random.choice(genotype)] else: column += ambiguities[\"\".join(sorted(set([nt_dict[j] for j in genotype])))] return column def get_matrix_column_bin(record, num_samples): \"\"\" If VCF is diploid, return an alignment column in NEXUS binary from a VCF record \"\"\" column = \"\" for i in range(9, num_samples + 9): genotype = record[i].split(\":\")[0] if len(genotype) == 3: column += gen_bin[genotype] else: column += \"?\" return column def main(): parser = argparse.ArgumentParser(description=__doc__, formatter_class=argparse.RawDescriptionHelpFormatter) parser.add_argument(\"-i\", \"--input\", action = \"store\", dest = \"filename\", required = True, help = \"Name of the input VCF file, can be gzipped\") parser.add_argument(\"-m\", \"--min-samples-locus\", action = \"store\", dest = \"min_samples_locus\", type = int, default = 4, help = \"Minimum of samples required to be present at a locus (default=4)\") parser.add_argument(\"-o\", \"--outgroup\", action = \"store\", dest = \"outgroup\", default = \"\", help = \"Name of the outgroup in the matrix. Sequence will be written as first taxon in the \" \"alignment.\") parser.add_argument(\"-p\", \"--phylip-disable\", action = \"store_true\", dest = \"phylipdisable\", help = \"A PHYLIP matrix is written by default unless you enable this flag\") parser.add_argument(\"-f\", \"--fasta\", action = \"store_true\", dest = \"fasta\", help = \"Write a FASTA matrix, disabled by default\") parser.add_argument(\"-n\", \"--nexus\", action = \"store_true\", dest = \"nexus\", help = \"Write a NEXUS matrix, disabled by default\") parser.add_argument(\"-b\", \"--nexus-binary\", action = \"store_true\", dest = \"nexusbin\", help = \"Write a binary NEXUS matrix for analysis of biallelic SNPs in SNAPP, only diploid \" \"genotypes will be processed, disabled by default.\") parser.add_argument(\"-r\", \"--resolve-IUPAC\", action = \"store_true\", dest = \"resolve_IUPAC\", help = \"Randomly resolve heterozygous genotypes to avoid IUPAC ambiguities in the matrices\") parser.add_argument(\"-v\", \"--version\", action = \"version\", version = \"%(prog)s {version}\".format(version=__version__)) args = parser.parse_args() filename = args.filename min_samples_locus = args.min_samples_locus outgroup = args.outgroup.split(\",\")[0].split(\";\")[0] phylipdisable = args.phylipdisable fasta = args.fasta nexus = args.nexus nexusbin = args.nexusbin resolve_IUPAC = args.resolve_IUPAC # Get samples names and number of samples in VCF sample_names = extract_sample_names(filename) num_samples = len(sample_names) if len(sample_names) == 0: print(\"\\nSample names not found in VCF, your file may be corrupt or missing the header.\\n\") sys.exit() print(\"\\nConverting file '{}':\\n\".format(filename)) print(\"Number of samples in VCF: {:d}\".format(len(sample_names))) # If the 'min_samples_locus' is larger than the actual number of samples in VCF readjust it min_samples_locus = min(num_samples, min_samples_locus) # Output filename will be the same as input file, indicating the minimum of samples specified if filename.endswith(\".gz\"): outfile = filename.replace(\".vcf.gz\",\".min\"+str(min_samples_locus)) else: outfile = filename.replace(\".vcf\",\".min\"+str(min_samples_locus)) # We need to create an intermediate file to hold the sequence data vertically and then transpose # it to create the matrices if fasta or nexus or not phylipdisable: temporal = open(outfile+\".tmp\", \"w\") # If binary NEXUS is selected also create a separate temporal if nexusbin: temporalbin = open(outfile+\".bin.tmp\", \"w\") ########################## # PROCESS GENOTYPES IN VCF if filename.endswith(\".gz\"): opener = gzip.open else: opener = open with opener(filename, \"rt\") as vcf: # Initialize line counter snp_num = 0 snp_accepted = 0 snp_shallow = 0 mnp_num = 0 snp_biallelic = 0 while 1: # Load large chunks of file into memory vcf_chunk = vcf.readlines(50000) if not vcf_chunk: break for line in vcf_chunk: line = line.strip() if line and not line.startswith(\"#\"): # skip empty and commented lines # Split line into columns record = line.split(\"\\t\") # Keep track of number of genotypes processed snp_num += 1 # Print progress every 500000 lines if snp_num % 500000 == 0: print(\"{:d} genotypes processed.\".format(snp_num)) if is_anomalous(record, num_samples): print(\"Skipped potentially malformed line: {}\".format(line)) continue else: # Check if the SNP has the minimum number of samples required if num_genotypes(record, num_samples) < min_samples_locus: # Keep track of loci rejected due to exceeded missing data snp_shallow += 1 continue else: # Check that neither REF nor ALT contain MNPs if is_snp(record): # Add to running sum of accepted SNPs snp_accepted += 1 # If nucleotide matrices are requested if fasta or nexus or not phylipdisable: # Transform VCF record into an alignment column site_tmp = get_matrix_column(record, num_samples, resolve_IUPAC) # Uncomment for debugging # print(site_tmp) # Write entire row of single nucleotide genotypes to temp file temporal.write(site_tmp+\"\\n\") # Write binary NEXUS for SNAPP if requested if nexusbin: # Check that the SNP only has two alleles if len(record[4]) == 1: # Add to running sum of biallelic SNPs snp_biallelic += 1 # Translate genotype into 0 for homozygous REF, 1 for # heterozygous, and 2 for homozygous ALT binsite_tmp = get_matrix_column_bin(record, num_samples) # Write entire row to temporary file temporalbin.write(binsite_tmp+\"\\n\") else: # Keep track of loci rejected due to multinucleotide genotypes mnp_num += 1 # Print useful information about filtering of SNPs print(\"Total of genotypes processed: {:d}\".format(snp_num)) print(\"Genotypes excluded because they exceeded the amount \" \"of missing data allowed: {:d}\".format(snp_shallow)) print(\"Genotypes that passed missing data filter but were \" \"excluded for being MNPs: {:d}\".format(mnp_num)) print(\"SNPs that passed the filters: {:d}\".format(snp_accepted)) if nexusbin: print(\"Biallelic SNPs selected for binary NEXUS: {:d}\".format(snp_biallelic)) print(\"\") if fasta or nexus or not phylipdisable: temporal.close() if nexusbin: temporalbin.close() ####################### # WRITE OUTPUT MATRICES if not phylipdisable: output_phy = open(outfile+\".phy\", \"w\") output_phy.write(\"{:d} {:d}\\n\".format(len(sample_names), snp_accepted)) if fasta: output_fas = open(outfile+\".fasta\", \"w\") if nexus: output_nex = open(outfile+\".nexus\", \"w\") output_nex.write(\"#NEXUS\\n\\nBEGIN DATA;\\n\\tDIMENSIONS NTAX={:d} NCHAR={:d};\\n\\tFORMAT \" \"DATATYPE=DNA MISSING=N GAP=- ;\\nMATRIX\\n\".format(len(sample_names), snp_accepted)) if nexusbin: output_nexbin = open(outfile+\".bin.nexus\", \"w\") output_nexbin.write(\"#NEXUS\\n\\nBEGIN DATA;\\n\\tDIMENSIONS NTAX={:d} NCHAR={:d};\\n\\tFORMAT \" \"DATATYPE=SNP MISSING=? GAP=- ;\\nMATRIX\\n\".format(len(sample_names), snp_biallelic)) # Get length of longest sequence name len_longest_name = 0 for name in sample_names: if len(name) > len_longest_name: len_longest_name = len(name) # Write outgroup as first sequence in alignment if the name is specified idx_outgroup = None if outgroup in sample_names: idx_outgroup = sample_names.index(outgroup) if fasta or nexus or not phylipdisable: with open(outfile+\".tmp\") as tmp_seq: seqout = \"\" # This is where the transposing happens for line in tmp_seq: seqout += line[idx_outgroup] # Write FASTA line if fasta: output_fas.write(\">\"+sample_names[idx_outgroup]+\"\\n\"+seqout+\"\\n\") # Pad sequences names and write PHYLIP or NEXUS lines padding = (len_longest_name + 3 - len(sample_names[idx_outgroup])) * \" \" if not phylipdisable: output_phy.write(sample_names[idx_outgroup]+padding+seqout+\"\\n\") if nexus: output_nex.write(sample_names[idx_outgroup]+padding+seqout+\"\\n\") # Print current progress print(\"Outgroup, '{}', added to the matrix(ces).\".format(outgroup)) if nexusbin: with open(outfile+\".bin.tmp\") as bin_tmp_seq: seqout = \"\" # This is where the transposing happens for line in bin_tmp_seq: seqout += line[idx_outgroup] # Write line of binary SNPs to NEXUS padding = (len_longest_name + 3 - len(sample_names[idx_outgroup])) * \" \" output_nexbin.write(sample_names[idx_outgroup]+padding+seqout+\"\\n\") # Print current progress print(\"Outgroup, '{}', added to the binary matrix.\".format(outgroup)) # Write sequences of the ingroup for s in range(0, len(sample_names)): if s != idx_outgroup: if fasta or nexus or not phylipdisable: with open(outfile+\".tmp\") as tmp_seq: seqout = \"\" # This is where the transposing happens for line in tmp_seq: seqout += line[s] # Write FASTA line if fasta: output_fas.write(\">\"+sample_names[s]+\"\\n\"+seqout+\"\\n\") # Pad sequences names and write PHYLIP or NEXUS lines padding = (len_longest_name + 3 - len(sample_names[s])) * \" \" if not phylipdisable: output_phy.write(sample_names[s]+padding+seqout+\"\\n\") if nexus: output_nex.write(sample_names[s]+padding+seqout+\"\\n\") # Print current progress print(\"Sample {:d} of {:d}, '{}', added to the nucleotide matrix(ces).\".format( s+1, len(sample_names), sample_names[s])) if nexusbin: with open(outfile+\".bin.tmp\") as bin_tmp_seq: seqout = \"\" # This is where the transposing happens for line in bin_tmp_seq: seqout += line[s] # Write line of binary SNPs to NEXUS padding = (len_longest_name + 3 - len(sample_names[s])) * \" \" output_nexbin.write(sample_names[s]+padding+seqout+\"\\n\") # Print current progress print(\"Sample {:d} of {:d}, '{}', added to the binary matrix.\".format( s+1, len(sample_names), sample_names[s])) if not phylipdisable: output_phy.close() if fasta: output_fas.close() if nexus: output_nex.write(\";\\nEND;\\n\") output_nex.close() if nexusbin: output_nexbin.write(\";\\nEND;\\n\") output_nexbin.close() if fasta or nexus or not phylipdisable: os.remove(outfile+\".tmp\") if nexusbin: os.remove(outfile+\".bin.tmp\") print( \"\\nDone!\\n\") if __name__ == \"__main__\": main() \u6ce8\u610f\uff1aVCF\u6587\u4ef6\u4e2d\u81f3\u5c11\u8981\u6709\u56db\u7ec4\u6837\u672c\u624d\u80fd\u6b63\u5e38\u8fd0\u884c\u3002 \u6ce8\u610f\uff1avcf\u91cc\u5206\u7ec4\u7684\u6750\u6599\u540d\u957f\u5ea6\u5fc5\u987b\u8981\u5c0f\u4e8e\u7b49\u4e8e10\u4e2a\u5b57\u7b26\uff0c\u591a\u4e8e10\u4e2a\u5b57\u7b26\u7684\u5728\u540e\u7eed\u5206\u6790\u4e2d\u4f1a\u88ab\u81ea\u52a8\u622a\u65ad\u4e3a10\u4e2a\u3002 python3 vcf2phylip.py -i sample.out.4DTv.vcf -o sample.phy \u8fdb\u5316\u6811\u6784\u5efa \u5b89\u88c5phylip http://evolution.genetics.washington.edu/phylip.html \u8fd0\u884c\u76ee\u5f55\u5728exe\u91cc\uff0c\u6dfb\u52a0\u5230\u73af\u5883\u53d8\u91cf\u5373\u53ef\u3002 \u8fd0\u884c\u811a\u672c phylip_tree.sh \uff0c\u5373\u53ef\u81ea\u52a8\u751f\u6210constree\u6587\u4ef6\uff0c\u7136\u540e\u4f7f\u7528 figtree \u684c\u9762\u7248\u53ef\u89c6\u5316\u6811\u3002 \u8fd0\u884c\u65b9\u6cd5\uff1a bash phylip_tree.sh sample.phy sample_name phylip_tree.sh \u5185\u5bb9\u5982\u4e0b\uff1a #\u76ee\u7684\uff1a\u81ea\u52a8\u5316\u751f\u6210phylip\u9700\u8981\u7684par\u6587\u4ef6 #\u8fd0\u884c\u65b9\u6cd5\uff1abash phylip_tree.sh sample.phy sample_name #sample_name\u662f\u8f93\u51fa\u6587\u4ef6\u524d\u7f00 if [ $# -eq 0 ] || [ $# -eq 1 ];then echo \"Usage: bash phylip_tree.sh sample.py sample_name\" exit 1 fi #\u5b9a\u4e49\u8f93\u5165\u6587\u4ef6 sample=$1 #phy\u6587\u4ef6 simple=$2 #\u8f93\u51fa\u7ed3\u679c\u6587\u4ef6\u524d\u7f00 #\u5b9a\u4e49\u8f93\u51fapar\u51fd\u6570 function make_par(){ #cat seqboot.par echo \"$sample R 1000 Y 9\" >$simple.seqboot.par #cat dnadist.par echo \"$simple.seqboot.out T 2.3628 M D 1000 2 Y\" >$simple.dnadist.par #cat neighbor.par echo \"$simple.dnadist.out M 1000 9 Y\" >$simple.neighbor.par # cat consense.par echo \"$simple.nei.tree Y\">$simple.consense.par } ###par\u6587\u4ef6\u53c2\u6570\u8bb2\u89e3 <<! #cat seqboot.par $sample #\u8bbe\u5b9a\u8f93\u5165.phy\u6587\u4ef6\u7684\u540d\u79f0\uff0c\u5426\u5219\u8f93\u5165\u9ed8\u8ba4\u7684\u540d\u4e3ainfile\u7684\u6587\u4ef6 R #\u9009\u62e9bootstrap 1000 #\u8bbe\u7f6ebootstrap\u7684\u503c\uff0c\u5373\u91cd\u590d\u7684replicate\u7684\u6570\u76ee\uff0c\u901a\u5e38\u4f7f\u75281000\u6216\u8005100\uff0c\u6ce8\u610f\u6b64\u5904\u8bbe\u5b9a\u597d\u540e\uff0c\u540e\u7eed\u4e24\u6b65\u7684M\u503c\u4e5f\u4e3a1000\u6216\u8005100 Y #yes\u786e\u8ba4\u4ee5\u4e0a\u8bbe\u5b9a\u7684\u53c2\u6570 9 #\u8bbe\u5b9a\u968f\u673a\u53c2\u6570\uff0c\u8f93\u5165\u5947\u6570\u503c\u3002 #cat dnadist.par $simple.seqboot.out #\u672c\u7a0b\u5e8f\u7684\u8f93\u5165\u6587\u4ef6 T #\u9009\u62e9\u8bbe\u5b9aTransition/transversion\u7684\u6bd4\u503c 2.3628 #\u6bd4\u503c\u5927\u5c0f M #\u4fee\u6539M\u503c D #\u4fee\u6539M\u503c 1000 #\u8bbe\u5b9aM\u503c\u5927\u5c0f 2 #\u5c06\u8f6f\u4ef6\u8fd0\u884c\u60c5\u51b5\u663e\u793a\u51fa\u6765 Y #\u786e\u8ba4\u4ee5\u4e0a\u8bbe\u5b9a\u7684\u53c2\u6570 #cat neighbor.par $simple.dnadist.out #\u672c\u7a0b\u5e8f\u7684\u8f93\u5165\u6587\u4ef6 M 1000 #\u8bbe\u5b9aM\u503c\u5927\u5c0f 9 #\u8bbe\u5b9a\u968f\u673a\u6570\uff0c\u8f93\u5165\u5947\u6570\u503c Y #\u786e\u8ba4\u4ee5\u4e0a\u8bbe\u5b9a\u7684\u53c2\u6570 # cat consense.par $simple.nei.tree #\u672c\u7a0b\u5e8f\u7684\u8f93\u5165\u6587\u4ef6 Y #\u786e\u8ba4\u4ee5\u4e0a\u8bbe\u5b9a\u7684\u53c2\u6570 ! #\u5b9a\u4e49\u751f\u6210tree\u6587\u4ef6\u7684\u51fd\u6570 function get_tree(){ seqboot<$simple.seqboot.par && mv outfile $simple.seqboot.out && \\ dnadist<$simple.dnadist.par && mv outfile $simple.dnadist.out && \\ neighbor<$simple.neighbor.par && mv outfile $simple.nei.out && mv outtree $simple.nei.tree && \\ consense<$simple.consense.par && mv outfile $simple.cons.out && mv outtree $simple.constree } #\u6267\u884c\u51fd\u6570 make_par get_tree \u6216\u8005\u4f7f\u7528mega7\u6784\u5efa\u8fdb\u5316\u6811 \u53c2\u80031 \u53c2\u80032 mega\u7684\u4f7f\u7528\u65b9\u6cd5 \u7814\u7a76\u8868\u660e,GS(\u57fa\u56e0\u7ec4\u5927\u5c0f)\u548cTE\uff08\u8f6c\u5ea7\u5b50\uff09\u7684\u6570\u91cf\u6709\u7740\u975e\u5e38\u5927\u7684\u5173\u7cfb\uff0c\u81ea\u4ea4\u8fc7\u7a0b\u4e2d\uff0cTE\u88ab\u6e05\u9664\uff0c\u5bfc\u81f4GS\u53d8\u5c0f\u3002 NC \u53c2\u8003\u6587\u732e maize TE annotation \u300anature\u300b","title":"\u7528snpEff\u4ea7\u51fa\u7684vcf\u63d0\u53d64DTv\u4f4d\u70b9\uff0c\u6784\u5efa\u8fdb\u5316\u6811"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E7%94%A8snpEff%E4%BA%A7%E5%87%BA%E7%9A%84vcf%E6%8F%90%E5%8F%964DTv%E4%BD%8D%E7%82%B9%EF%BC%8C%E6%9E%84%E5%BB%BA%E8%BF%9B%E5%8C%96%E6%A0%91/#snpeffvcf4dtv-httpsblogcsdnnetu012110870articledetails105507476","text":"\u5f90\u5dde\u66f4 \u63d0\u5230 2019\u5e74NG 414\u4e2a\u897f\u74dc\u91cd\u6d4b\u5e8f \u5206\u6790\u65b9\u6cd5\u91cc\uff0c\u53ef\u4ee5\u4ece\u91cd\u6d4b\u5e8f\u7684SNP\u4e2d\uff0c\u9009\u62e94DTV\u4f4d\u70b9\u6765\u6784\u5efa\u8fdb\u5316\u6811\u3002 \u4ee3\u7801\u6765\u6e90\u4e8e\u5f90\u5dde\u66f4\uff0c python3 calc_4dTv_in_eff_vcf.py input.vcf output.vcf ref.fa","title":"\u7528snpeff\u4ea7\u51fa\u7684vcf\u63d0\u53d64DTv\u4f4d\u70b9\uff0c\u7528\u4e8e\u6784\u5efa\u8fdb\u5316\u6811  \u8f6c\u8f7d\u81eahttps://blog.csdn.net/u012110870/article/details/105507476"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E7%94%A8snpEff%E4%BA%A7%E5%87%BA%E7%9A%84vcf%E6%8F%90%E5%8F%964DTv%E4%BD%8D%E7%82%B9%EF%BC%8C%E6%9E%84%E5%BB%BA%E8%BF%9B%E5%8C%96%E6%A0%91/#snpeffvcf4dtvvcf","text":"calc_4dTv_in_eff_vcf.py \u4ee3\u7801\u5982\u4e0b\u6240\u793a\uff1a #!/usr/bin/env python3 from sys import argv from pysam import VariantFile from pysam import FastaFile file_in = argv[1] file_out = argv[2] fafile = argv[3] codon = set([\"TC\", \"CT\", \"CC\", \"CG\", \"AC\", \"GT\", \"GC\", \"GG\"]) rev_dict = dict(A='T',T='A', C='G', G='C') bcf_in = VariantFile(file_in) bcf_out = VariantFile(file_out, \"w\", header = bcf_in.header) fa_in = FastaFile(fafile) for rec in bcf_in.fetch(): ann = rec.info['ANN'] info = rec.info['ANN'][0].split('|') # only use synonymouse variants if info[1] != \"synonymous_variant\": continue # only the 3rd position can be 4dTv if int(info[9][2:-3]) % 3 != 0: continue # determine the strand by the REF column and mutation # if the ref is not same as the mutation site if rec.ref == info[9][-3]: pre = fa_in.fetch(rec.chrom, rec.pos-3, rec.pos-1) else: tmp = fa_in.fetch(rec.chrom, rec.pos, rec.pos+2) tmp.upper() pre = rev_dict[tmp[1]] + rev_dict[tmp[0]] if pre not in codon: continue bcf_out.write(rec)","title":"\u4ecesnpEff\u6ce8\u91ca\u7684vcf\u6587\u4ef6\u4e2d\u63d0\u53d64DTv\u4f4d\u70b9\u7684vcf."},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E7%94%A8snpEff%E4%BA%A7%E5%87%BA%E7%9A%84vcf%E6%8F%90%E5%8F%964DTv%E4%BD%8D%E7%82%B9%EF%BC%8C%E6%9E%84%E5%BB%BA%E8%BF%9B%E5%8C%96%E6%A0%91/#4dtvvcfphylipphy-vcf2phylip","text":"vcf2phylip.py \u4ee3\u7801\u5982\u4e0b\uff1a #!/usr/bin/env python3 # -*- coding: utf-8 -*- \"\"\" The script converts a collection of SNPs in VCF format into a PHYLIP, FASTA, NEXUS, or binary NEXUS file for phylogenetic analysis. The code is optimized to process VCF files with sizes >1GB. For small VCF files the algorithm slows down as the number of taxa increases (but is still fast). Any ploidy is allowed, but binary NEXUS is produced only for diploid VCFs. \"\"\" __author__ = \"Edgardo M. Ortiz\" __credits__ = \"Juan D. Palacio-Mej\u00eda\" __version__ = \"2.4\" __email__ = \"e.ortiz.v@gmail.com\" __date__ = \"2020-10-04\" import argparse import gzip import os import random import sys # Dictionary of IUPAC ambiguities for nucleotides # '*' is a deletion in GATK, deletions are ignored in consensus, lowercase consensus is udes when an # 'N' or '*' is part of the genotype. Capitalization is used by some software but ignored by Geneious # for example ambiguities = {\"*\" :\"-\", \"A\" :\"A\", \"C\" :\"C\", \"G\" :\"G\", \"N\" :\"N\", \"T\" :\"T\", \"*A\" :\"a\", \"*C\" :\"c\", \"*G\" :\"g\", \"*N\" :\"n\", \"*T\" :\"t\", \"AC\" :\"M\", \"AG\" :\"R\", \"AN\" :\"a\", \"AT\" :\"W\", \"CG\" :\"S\", \"CN\" :\"c\", \"CT\" :\"Y\", \"GN\" :\"g\", \"GT\" :\"K\", \"NT\" :\"t\", \"*AC\" :\"m\", \"*AG\" :\"r\", \"*AN\" :\"a\", \"*AT\" :\"w\", \"*CG\" :\"s\", \"*CN\" :\"c\", \"*CT\" :\"y\", \"*GN\" :\"g\", \"*GT\" :\"k\", \"*NT\" :\"t\", \"ACG\" :\"V\", \"ACN\" :\"m\", \"ACT\" :\"H\", \"AGN\" :\"r\", \"AGT\" :\"D\", \"ANT\" :\"w\", \"CGN\" :\"s\", \"CGT\" :\"B\", \"CNT\" :\"y\", \"GNT\" :\"k\", \"*ACG\" :\"v\", \"*ACN\" :\"m\", \"*ACT\" :\"h\", \"*AGN\" :\"r\", \"*AGT\" :\"d\", \"*ANT\" :\"w\", \"*CGN\" :\"s\", \"*CGT\" :\"b\", \"*CNT\" :\"y\", \"*GNT\" :\"k\", \"ACGN\" :\"v\", \"ACGT\" :\"N\", \"ACNT\" :\"h\", \"AGNT\" :\"d\", \"CGNT\" :\"b\", \"*ACGN\":\"v\", \"*ACGT\":\"N\", \"*ACNT\":\"h\", \"*AGNT\":\"d\", \"*CGNT\":\"b\", \"*ACGNT\":\"N\"} # Dictionary for translating biallelic SNPs into SNAPP, only for diploid VCF # 0 is homozygous reference # 1 is heterozygous # 2 is homozygous alternative gen_bin = {\"./.\":\"?\", \".|.\":\"?\", \"0/0\":\"0\", \"0|0\":\"0\", \"0/1\":\"1\", \"0|1\":\"1\", \"1/0\":\"1\", \"1|0\":\"1\", \"1/1\":\"2\", \"1|1\":\"2\"} def extract_sample_names(vcf_file): \"\"\" Extract sample names from VCF file \"\"\" if vcf_file.endswith(\".gz\"): opener = gzip.open else: opener = open sample_names = [] with opener(vcf_file, \"rt\") as vcf: for line in vcf: line = line.strip(\"\\n\") if line.startswith(\"#CHROM\"): record = line.split(\"\\t\") sample_names = [record[i].replace(\"./\", \"\") for i in range(9, len(record))] break return sample_names def is_anomalous(record, num_samples): \"\"\" Determine if the number of samples in current record corresponds to number of samples described in the line '#CHROM' \"\"\" return bool(len(record) != num_samples + 9) def is_snp(record): \"\"\" Determine if current VCF record is a SNP (single nucleotide polymorphism) as opposed to MNP (multinucleotide polymorphism) \"\"\" return bool(len(record[3]) == 1 and len(record[4]) - record[4].count(\",\") == record[4].count(\",\") + 1) def num_genotypes(record, num_samples): \"\"\" Get number of genotypes in VCF record, total number of samples - missing genotypes \"\"\" missing = 0 for i in range(9, num_samples + 9): if record[i].startswith(\".\"): missing += 1 return num_samples - missing def get_matrix_column(record, num_samples, resolve_IUPAC): \"\"\" Transform a VCF record into a phylogenetic matrix column with nucleotides instead of numbers \"\"\" nt_dict = {str(0): record[3].replace(\"-\",\"*\"), \".\": \"N\"} alt = record[4].replace(\"-\", \"*\") alt = alt.split(\",\") for n in range(len(alt)): nt_dict[str(n+1)] = alt[n] column = \"\" for i in range(9, num_samples + 9): genotype = record[i].split(\":\")[0].replace(\"/\", \"\").replace(\"|\", \"\") if resolve_IUPAC: column += nt_dict[random.choice(genotype)] else: column += ambiguities[\"\".join(sorted(set([nt_dict[j] for j in genotype])))] return column def get_matrix_column_bin(record, num_samples): \"\"\" If VCF is diploid, return an alignment column in NEXUS binary from a VCF record \"\"\" column = \"\" for i in range(9, num_samples + 9): genotype = record[i].split(\":\")[0] if len(genotype) == 3: column += gen_bin[genotype] else: column += \"?\" return column def main(): parser = argparse.ArgumentParser(description=__doc__, formatter_class=argparse.RawDescriptionHelpFormatter) parser.add_argument(\"-i\", \"--input\", action = \"store\", dest = \"filename\", required = True, help = \"Name of the input VCF file, can be gzipped\") parser.add_argument(\"-m\", \"--min-samples-locus\", action = \"store\", dest = \"min_samples_locus\", type = int, default = 4, help = \"Minimum of samples required to be present at a locus (default=4)\") parser.add_argument(\"-o\", \"--outgroup\", action = \"store\", dest = \"outgroup\", default = \"\", help = \"Name of the outgroup in the matrix. Sequence will be written as first taxon in the \" \"alignment.\") parser.add_argument(\"-p\", \"--phylip-disable\", action = \"store_true\", dest = \"phylipdisable\", help = \"A PHYLIP matrix is written by default unless you enable this flag\") parser.add_argument(\"-f\", \"--fasta\", action = \"store_true\", dest = \"fasta\", help = \"Write a FASTA matrix, disabled by default\") parser.add_argument(\"-n\", \"--nexus\", action = \"store_true\", dest = \"nexus\", help = \"Write a NEXUS matrix, disabled by default\") parser.add_argument(\"-b\", \"--nexus-binary\", action = \"store_true\", dest = \"nexusbin\", help = \"Write a binary NEXUS matrix for analysis of biallelic SNPs in SNAPP, only diploid \" \"genotypes will be processed, disabled by default.\") parser.add_argument(\"-r\", \"--resolve-IUPAC\", action = \"store_true\", dest = \"resolve_IUPAC\", help = \"Randomly resolve heterozygous genotypes to avoid IUPAC ambiguities in the matrices\") parser.add_argument(\"-v\", \"--version\", action = \"version\", version = \"%(prog)s {version}\".format(version=__version__)) args = parser.parse_args() filename = args.filename min_samples_locus = args.min_samples_locus outgroup = args.outgroup.split(\",\")[0].split(\";\")[0] phylipdisable = args.phylipdisable fasta = args.fasta nexus = args.nexus nexusbin = args.nexusbin resolve_IUPAC = args.resolve_IUPAC # Get samples names and number of samples in VCF sample_names = extract_sample_names(filename) num_samples = len(sample_names) if len(sample_names) == 0: print(\"\\nSample names not found in VCF, your file may be corrupt or missing the header.\\n\") sys.exit() print(\"\\nConverting file '{}':\\n\".format(filename)) print(\"Number of samples in VCF: {:d}\".format(len(sample_names))) # If the 'min_samples_locus' is larger than the actual number of samples in VCF readjust it min_samples_locus = min(num_samples, min_samples_locus) # Output filename will be the same as input file, indicating the minimum of samples specified if filename.endswith(\".gz\"): outfile = filename.replace(\".vcf.gz\",\".min\"+str(min_samples_locus)) else: outfile = filename.replace(\".vcf\",\".min\"+str(min_samples_locus)) # We need to create an intermediate file to hold the sequence data vertically and then transpose # it to create the matrices if fasta or nexus or not phylipdisable: temporal = open(outfile+\".tmp\", \"w\") # If binary NEXUS is selected also create a separate temporal if nexusbin: temporalbin = open(outfile+\".bin.tmp\", \"w\") ########################## # PROCESS GENOTYPES IN VCF if filename.endswith(\".gz\"): opener = gzip.open else: opener = open with opener(filename, \"rt\") as vcf: # Initialize line counter snp_num = 0 snp_accepted = 0 snp_shallow = 0 mnp_num = 0 snp_biallelic = 0 while 1: # Load large chunks of file into memory vcf_chunk = vcf.readlines(50000) if not vcf_chunk: break for line in vcf_chunk: line = line.strip() if line and not line.startswith(\"#\"): # skip empty and commented lines # Split line into columns record = line.split(\"\\t\") # Keep track of number of genotypes processed snp_num += 1 # Print progress every 500000 lines if snp_num % 500000 == 0: print(\"{:d} genotypes processed.\".format(snp_num)) if is_anomalous(record, num_samples): print(\"Skipped potentially malformed line: {}\".format(line)) continue else: # Check if the SNP has the minimum number of samples required if num_genotypes(record, num_samples) < min_samples_locus: # Keep track of loci rejected due to exceeded missing data snp_shallow += 1 continue else: # Check that neither REF nor ALT contain MNPs if is_snp(record): # Add to running sum of accepted SNPs snp_accepted += 1 # If nucleotide matrices are requested if fasta or nexus or not phylipdisable: # Transform VCF record into an alignment column site_tmp = get_matrix_column(record, num_samples, resolve_IUPAC) # Uncomment for debugging # print(site_tmp) # Write entire row of single nucleotide genotypes to temp file temporal.write(site_tmp+\"\\n\") # Write binary NEXUS for SNAPP if requested if nexusbin: # Check that the SNP only has two alleles if len(record[4]) == 1: # Add to running sum of biallelic SNPs snp_biallelic += 1 # Translate genotype into 0 for homozygous REF, 1 for # heterozygous, and 2 for homozygous ALT binsite_tmp = get_matrix_column_bin(record, num_samples) # Write entire row to temporary file temporalbin.write(binsite_tmp+\"\\n\") else: # Keep track of loci rejected due to multinucleotide genotypes mnp_num += 1 # Print useful information about filtering of SNPs print(\"Total of genotypes processed: {:d}\".format(snp_num)) print(\"Genotypes excluded because they exceeded the amount \" \"of missing data allowed: {:d}\".format(snp_shallow)) print(\"Genotypes that passed missing data filter but were \" \"excluded for being MNPs: {:d}\".format(mnp_num)) print(\"SNPs that passed the filters: {:d}\".format(snp_accepted)) if nexusbin: print(\"Biallelic SNPs selected for binary NEXUS: {:d}\".format(snp_biallelic)) print(\"\") if fasta or nexus or not phylipdisable: temporal.close() if nexusbin: temporalbin.close() ####################### # WRITE OUTPUT MATRICES if not phylipdisable: output_phy = open(outfile+\".phy\", \"w\") output_phy.write(\"{:d} {:d}\\n\".format(len(sample_names), snp_accepted)) if fasta: output_fas = open(outfile+\".fasta\", \"w\") if nexus: output_nex = open(outfile+\".nexus\", \"w\") output_nex.write(\"#NEXUS\\n\\nBEGIN DATA;\\n\\tDIMENSIONS NTAX={:d} NCHAR={:d};\\n\\tFORMAT \" \"DATATYPE=DNA MISSING=N GAP=- ;\\nMATRIX\\n\".format(len(sample_names), snp_accepted)) if nexusbin: output_nexbin = open(outfile+\".bin.nexus\", \"w\") output_nexbin.write(\"#NEXUS\\n\\nBEGIN DATA;\\n\\tDIMENSIONS NTAX={:d} NCHAR={:d};\\n\\tFORMAT \" \"DATATYPE=SNP MISSING=? GAP=- ;\\nMATRIX\\n\".format(len(sample_names), snp_biallelic)) # Get length of longest sequence name len_longest_name = 0 for name in sample_names: if len(name) > len_longest_name: len_longest_name = len(name) # Write outgroup as first sequence in alignment if the name is specified idx_outgroup = None if outgroup in sample_names: idx_outgroup = sample_names.index(outgroup) if fasta or nexus or not phylipdisable: with open(outfile+\".tmp\") as tmp_seq: seqout = \"\" # This is where the transposing happens for line in tmp_seq: seqout += line[idx_outgroup] # Write FASTA line if fasta: output_fas.write(\">\"+sample_names[idx_outgroup]+\"\\n\"+seqout+\"\\n\") # Pad sequences names and write PHYLIP or NEXUS lines padding = (len_longest_name + 3 - len(sample_names[idx_outgroup])) * \" \" if not phylipdisable: output_phy.write(sample_names[idx_outgroup]+padding+seqout+\"\\n\") if nexus: output_nex.write(sample_names[idx_outgroup]+padding+seqout+\"\\n\") # Print current progress print(\"Outgroup, '{}', added to the matrix(ces).\".format(outgroup)) if nexusbin: with open(outfile+\".bin.tmp\") as bin_tmp_seq: seqout = \"\" # This is where the transposing happens for line in bin_tmp_seq: seqout += line[idx_outgroup] # Write line of binary SNPs to NEXUS padding = (len_longest_name + 3 - len(sample_names[idx_outgroup])) * \" \" output_nexbin.write(sample_names[idx_outgroup]+padding+seqout+\"\\n\") # Print current progress print(\"Outgroup, '{}', added to the binary matrix.\".format(outgroup)) # Write sequences of the ingroup for s in range(0, len(sample_names)): if s != idx_outgroup: if fasta or nexus or not phylipdisable: with open(outfile+\".tmp\") as tmp_seq: seqout = \"\" # This is where the transposing happens for line in tmp_seq: seqout += line[s] # Write FASTA line if fasta: output_fas.write(\">\"+sample_names[s]+\"\\n\"+seqout+\"\\n\") # Pad sequences names and write PHYLIP or NEXUS lines padding = (len_longest_name + 3 - len(sample_names[s])) * \" \" if not phylipdisable: output_phy.write(sample_names[s]+padding+seqout+\"\\n\") if nexus: output_nex.write(sample_names[s]+padding+seqout+\"\\n\") # Print current progress print(\"Sample {:d} of {:d}, '{}', added to the nucleotide matrix(ces).\".format( s+1, len(sample_names), sample_names[s])) if nexusbin: with open(outfile+\".bin.tmp\") as bin_tmp_seq: seqout = \"\" # This is where the transposing happens for line in bin_tmp_seq: seqout += line[s] # Write line of binary SNPs to NEXUS padding = (len_longest_name + 3 - len(sample_names[s])) * \" \" output_nexbin.write(sample_names[s]+padding+seqout+\"\\n\") # Print current progress print(\"Sample {:d} of {:d}, '{}', added to the binary matrix.\".format( s+1, len(sample_names), sample_names[s])) if not phylipdisable: output_phy.close() if fasta: output_fas.close() if nexus: output_nex.write(\";\\nEND;\\n\") output_nex.close() if nexusbin: output_nexbin.write(\";\\nEND;\\n\") output_nexbin.close() if fasta or nexus or not phylipdisable: os.remove(outfile+\".tmp\") if nexusbin: os.remove(outfile+\".bin.tmp\") print( \"\\nDone!\\n\") if __name__ == \"__main__\": main()","title":"\u628a4DTV\u7684vcf\u8f6c\u6362\u4e3aphylip\u8f6f\u4ef6\u9700\u8981\u7684phy\u683c\u5f0f  vcf2phylip\u5730\u5740"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E7%94%A8snpEff%E4%BA%A7%E5%87%BA%E7%9A%84vcf%E6%8F%90%E5%8F%964DTv%E4%BD%8D%E7%82%B9%EF%BC%8C%E6%9E%84%E5%BB%BA%E8%BF%9B%E5%8C%96%E6%A0%91/#vcf","text":"\u6ce8\u610f\uff1avcf\u91cc\u5206\u7ec4\u7684\u6750\u6599\u540d\u957f\u5ea6\u5fc5\u987b\u8981\u5c0f\u4e8e\u7b49\u4e8e10\u4e2a\u5b57\u7b26\uff0c\u591a\u4e8e10\u4e2a\u5b57\u7b26\u7684\u5728\u540e\u7eed\u5206\u6790\u4e2d\u4f1a\u88ab\u81ea\u52a8\u622a\u65ad\u4e3a10\u4e2a\u3002 python3 vcf2phylip.py -i sample.out.4DTv.vcf -o sample.phy","title":"\u6ce8\u610f\uff1aVCF\u6587\u4ef6\u4e2d\u81f3\u5c11\u8981\u6709\u56db\u7ec4\u6837\u672c\u624d\u80fd\u6b63\u5e38\u8fd0\u884c\u3002"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E7%94%A8snpEff%E4%BA%A7%E5%87%BA%E7%9A%84vcf%E6%8F%90%E5%8F%964DTv%E4%BD%8D%E7%82%B9%EF%BC%8C%E6%9E%84%E5%BB%BA%E8%BF%9B%E5%8C%96%E6%A0%91/#_1","text":"","title":"\u8fdb\u5316\u6811\u6784\u5efa"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E7%94%A8snpEff%E4%BA%A7%E5%87%BA%E7%9A%84vcf%E6%8F%90%E5%8F%964DTv%E4%BD%8D%E7%82%B9%EF%BC%8C%E6%9E%84%E5%BB%BA%E8%BF%9B%E5%8C%96%E6%A0%91/#phylip","text":"http://evolution.genetics.washington.edu/phylip.html \u8fd0\u884c\u76ee\u5f55\u5728exe\u91cc\uff0c\u6dfb\u52a0\u5230\u73af\u5883\u53d8\u91cf\u5373\u53ef\u3002 \u8fd0\u884c\u811a\u672c phylip_tree.sh \uff0c\u5373\u53ef\u81ea\u52a8\u751f\u6210constree\u6587\u4ef6\uff0c\u7136\u540e\u4f7f\u7528 figtree \u684c\u9762\u7248\u53ef\u89c6\u5316\u6811\u3002 \u8fd0\u884c\u65b9\u6cd5\uff1a bash phylip_tree.sh sample.phy sample_name phylip_tree.sh \u5185\u5bb9\u5982\u4e0b\uff1a #\u76ee\u7684\uff1a\u81ea\u52a8\u5316\u751f\u6210phylip\u9700\u8981\u7684par\u6587\u4ef6 #\u8fd0\u884c\u65b9\u6cd5\uff1abash phylip_tree.sh sample.phy sample_name #sample_name\u662f\u8f93\u51fa\u6587\u4ef6\u524d\u7f00 if [ $# -eq 0 ] || [ $# -eq 1 ];then echo \"Usage: bash phylip_tree.sh sample.py sample_name\" exit 1 fi #\u5b9a\u4e49\u8f93\u5165\u6587\u4ef6 sample=$1 #phy\u6587\u4ef6 simple=$2 #\u8f93\u51fa\u7ed3\u679c\u6587\u4ef6\u524d\u7f00 #\u5b9a\u4e49\u8f93\u51fapar\u51fd\u6570 function make_par(){ #cat seqboot.par echo \"$sample R 1000 Y 9\" >$simple.seqboot.par #cat dnadist.par echo \"$simple.seqboot.out T 2.3628 M D 1000 2 Y\" >$simple.dnadist.par #cat neighbor.par echo \"$simple.dnadist.out M 1000 9 Y\" >$simple.neighbor.par # cat consense.par echo \"$simple.nei.tree Y\">$simple.consense.par } ###par\u6587\u4ef6\u53c2\u6570\u8bb2\u89e3 <<! #cat seqboot.par $sample #\u8bbe\u5b9a\u8f93\u5165.phy\u6587\u4ef6\u7684\u540d\u79f0\uff0c\u5426\u5219\u8f93\u5165\u9ed8\u8ba4\u7684\u540d\u4e3ainfile\u7684\u6587\u4ef6 R #\u9009\u62e9bootstrap 1000 #\u8bbe\u7f6ebootstrap\u7684\u503c\uff0c\u5373\u91cd\u590d\u7684replicate\u7684\u6570\u76ee\uff0c\u901a\u5e38\u4f7f\u75281000\u6216\u8005100\uff0c\u6ce8\u610f\u6b64\u5904\u8bbe\u5b9a\u597d\u540e\uff0c\u540e\u7eed\u4e24\u6b65\u7684M\u503c\u4e5f\u4e3a1000\u6216\u8005100 Y #yes\u786e\u8ba4\u4ee5\u4e0a\u8bbe\u5b9a\u7684\u53c2\u6570 9 #\u8bbe\u5b9a\u968f\u673a\u53c2\u6570\uff0c\u8f93\u5165\u5947\u6570\u503c\u3002 #cat dnadist.par $simple.seqboot.out #\u672c\u7a0b\u5e8f\u7684\u8f93\u5165\u6587\u4ef6 T #\u9009\u62e9\u8bbe\u5b9aTransition/transversion\u7684\u6bd4\u503c 2.3628 #\u6bd4\u503c\u5927\u5c0f M #\u4fee\u6539M\u503c D #\u4fee\u6539M\u503c 1000 #\u8bbe\u5b9aM\u503c\u5927\u5c0f 2 #\u5c06\u8f6f\u4ef6\u8fd0\u884c\u60c5\u51b5\u663e\u793a\u51fa\u6765 Y #\u786e\u8ba4\u4ee5\u4e0a\u8bbe\u5b9a\u7684\u53c2\u6570 #cat neighbor.par $simple.dnadist.out #\u672c\u7a0b\u5e8f\u7684\u8f93\u5165\u6587\u4ef6 M 1000 #\u8bbe\u5b9aM\u503c\u5927\u5c0f 9 #\u8bbe\u5b9a\u968f\u673a\u6570\uff0c\u8f93\u5165\u5947\u6570\u503c Y #\u786e\u8ba4\u4ee5\u4e0a\u8bbe\u5b9a\u7684\u53c2\u6570 # cat consense.par $simple.nei.tree #\u672c\u7a0b\u5e8f\u7684\u8f93\u5165\u6587\u4ef6 Y #\u786e\u8ba4\u4ee5\u4e0a\u8bbe\u5b9a\u7684\u53c2\u6570 ! #\u5b9a\u4e49\u751f\u6210tree\u6587\u4ef6\u7684\u51fd\u6570 function get_tree(){ seqboot<$simple.seqboot.par && mv outfile $simple.seqboot.out && \\ dnadist<$simple.dnadist.par && mv outfile $simple.dnadist.out && \\ neighbor<$simple.neighbor.par && mv outfile $simple.nei.out && mv outtree $simple.nei.tree && \\ consense<$simple.consense.par && mv outfile $simple.cons.out && mv outtree $simple.constree } #\u6267\u884c\u51fd\u6570 make_par get_tree \u6216\u8005\u4f7f\u7528mega7\u6784\u5efa\u8fdb\u5316\u6811 \u53c2\u80031 \u53c2\u80032 mega\u7684\u4f7f\u7528\u65b9\u6cd5 \u7814\u7a76\u8868\u660e,GS(\u57fa\u56e0\u7ec4\u5927\u5c0f)\u548cTE\uff08\u8f6c\u5ea7\u5b50\uff09\u7684\u6570\u91cf\u6709\u7740\u975e\u5e38\u5927\u7684\u5173\u7cfb\uff0c\u81ea\u4ea4\u8fc7\u7a0b\u4e2d\uff0cTE\u88ab\u6e05\u9664\uff0c\u5bfc\u81f4GS\u53d8\u5c0f\u3002 NC \u53c2\u8003\u6587\u732e maize TE annotation \u300anature\u300b","title":"\u5b89\u88c5phylip"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E7%BA%BF%E7%B2%92%E4%BD%93%E5%92%8C%E5%8F%B6%E7%BB%BF%E4%BD%93%E5%9F%BA%E5%9B%A0%E7%BB%84%E7%9A%84%E7%BB%84%E8%A3%85%E3%80%81%E6%B3%A8%E9%87%8A/","text":"\u7ec4\u88c5 GetOrganelle\u4e3b\u8981\u7528\u4e8e\u7ec4\u88c5\u5404\u79cd\u8d28\u4f53\uff08\u53f6\u7eff\u4f53\u3001\u7ebf\u7c92\u4f53\uff09 GetOrganelle github \u53ef\u4ee5\u4f7f\u7528\u4e8c\u4ee3/\u4e09\u4ee3\u6570\u636e MitoFinder \u7528\u4e8e\u7ec4\u88c5\u3001\u6ce8\u91ca\u7ebf\u7c92\u4f53\u57fa\u56e0\u7ec4 \u53ef\u4ee5\u4f7f\u7528\u4e8c\u4ee3/\u4e09\u4ee3\u6570\u636e\uff0c\u6216\u5df2\u7ecf\u7ec4\u88c5\u597d\u7684\u57fa\u56e0\u7ec4\u91cc\u83b7\u53d6\u7ebf\u7c92\u4f53\u7684reads. NOVOPlasty \u7ec4\u88c5\u53f6\u7eff\u4f53\u6216\u7ebf\u7c92\u4f53 \u8c8c\u4f3c\u53ea\u652f\u6301\u4e8c\u4ee3\u6570\u636e \u6ce8\u91ca geseq \u7ec6\u80de\u5668\u57fa\u56e0\u7ec4\u6ce8\u91ca\u5de5\u5177 chloe \u7ec6\u80de\u5668\u57fa\u56e0\u7ec4\u6ce8\u91ca\u5de5\u5177 \u53ef\u89c6\u5316 Chloroplot \u7ec6\u80de\u5668\u57fa\u56e0\u7ec4\u53ef\u89c6\u5316\u5de5\u5177 IRscope \u53f6\u7eff\u4f53\u57fa\u56e0\u7ec4\u8fde\u63a5\u4f4d\u70b9\u548c\u8fb9\u754c\u533a\u57df\u57fa\u56e0\u53ef\u89c6\u5316\u5de5\u5177","title":"\u7ec4\u88c5"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E7%BA%BF%E7%B2%92%E4%BD%93%E5%92%8C%E5%8F%B6%E7%BB%BF%E4%BD%93%E5%9F%BA%E5%9B%A0%E7%BB%84%E7%9A%84%E7%BB%84%E8%A3%85%E3%80%81%E6%B3%A8%E9%87%8A/#_1","text":"GetOrganelle\u4e3b\u8981\u7528\u4e8e\u7ec4\u88c5\u5404\u79cd\u8d28\u4f53\uff08\u53f6\u7eff\u4f53\u3001\u7ebf\u7c92\u4f53\uff09 GetOrganelle github \u53ef\u4ee5\u4f7f\u7528\u4e8c\u4ee3/\u4e09\u4ee3\u6570\u636e MitoFinder \u7528\u4e8e\u7ec4\u88c5\u3001\u6ce8\u91ca\u7ebf\u7c92\u4f53\u57fa\u56e0\u7ec4 \u53ef\u4ee5\u4f7f\u7528\u4e8c\u4ee3/\u4e09\u4ee3\u6570\u636e\uff0c\u6216\u5df2\u7ecf\u7ec4\u88c5\u597d\u7684\u57fa\u56e0\u7ec4\u91cc\u83b7\u53d6\u7ebf\u7c92\u4f53\u7684reads. NOVOPlasty \u7ec4\u88c5\u53f6\u7eff\u4f53\u6216\u7ebf\u7c92\u4f53 \u8c8c\u4f3c\u53ea\u652f\u6301\u4e8c\u4ee3\u6570\u636e","title":"\u7ec4\u88c5"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E7%BA%BF%E7%B2%92%E4%BD%93%E5%92%8C%E5%8F%B6%E7%BB%BF%E4%BD%93%E5%9F%BA%E5%9B%A0%E7%BB%84%E7%9A%84%E7%BB%84%E8%A3%85%E3%80%81%E6%B3%A8%E9%87%8A/#_2","text":"geseq \u7ec6\u80de\u5668\u57fa\u56e0\u7ec4\u6ce8\u91ca\u5de5\u5177 chloe \u7ec6\u80de\u5668\u57fa\u56e0\u7ec4\u6ce8\u91ca\u5de5\u5177","title":"\u6ce8\u91ca"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E7%BA%BF%E7%B2%92%E4%BD%93%E5%92%8C%E5%8F%B6%E7%BB%BF%E4%BD%93%E5%9F%BA%E5%9B%A0%E7%BB%84%E7%9A%84%E7%BB%84%E8%A3%85%E3%80%81%E6%B3%A8%E9%87%8A/#_3","text":"Chloroplot \u7ec6\u80de\u5668\u57fa\u56e0\u7ec4\u53ef\u89c6\u5316\u5de5\u5177 IRscope \u53f6\u7eff\u4f53\u57fa\u56e0\u7ec4\u8fde\u63a5\u4f4d\u70b9\u548c\u8fb9\u754c\u533a\u57df\u57fa\u56e0\u53ef\u89c6\u5316\u5de5\u5177","title":"\u53ef\u89c6\u5316"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E9%81%97%E4%BC%A0%E5%9B%BE%E8%B0%B1%E7%9A%84%E7%BB%98%E5%88%B6/","text":"\u9057\u4f20\u56fe\uff08Genetic Map\uff09\uff1a\u901a\u8fc7\u9057\u4f20\u5b66\u65b9\u6cd5\uff0c\u79f0\u4e3a\u8fde\u9501\u56fe\u8c31(Linkage Map)\u3002\u4ee5\u9057\u4f20\u56fe\u8ddd\uff08cM\uff09\u4e3a\u5355\u4f4d\u7ed8\u5236\u7684\u67d3\u8272\u4f53\u4e0a\u57fa\u56e0\u6216\u6807\u8bb0\u4e4b\u95f4\u76f8\u5bf9\u4f4d\u7f6e\u7684\u8fde\u9501\u56fe\u3002 \u7269\u7406\u56fe\uff08Physical Map\uff09\uff1a\u901a\u8fc7DNA\u514b\u9686\uff0c\u7ec6\u80de\u539f\u4f4d\u6742\u4ea4\u6216DNA\u6d4b\u5e8f\u7b49\u65b9\u6cd5\u5c06DNA\u514b\u9686\u6216DNA\u5206\u5b50\u6807\u8bb0\u951a\u5b9a\u5728\u67d3\u8272\u4f53\u7684\u786e\u5b9a\u7a7a\u95f4\u4e0a\u800c\u7ed8\u5236\u7684\u8fde\u9501\u56fe\u3002\u7269\u7406\u56fe\u662f\u4e00\u79cd\u5b9e\u7269\u56fe\uff0c\u6709\u786e\u5b9a\u7684\u7269\u7406\u8ddd\u79bb\uff0c\u5982\u78b1\u57fa\u5bf9\u6570\u76ee\u3002 \u76ee\u524d\u5927\u591a\u662f\u4e09\u4ee3\u9057\u4f20\u56fe\u8c31\uff0c\u57fa\u4e8eSNP\u6765\u505a\u3002 \u90e8\u5206\u8bfe\u9898\u7ec4\u53ef\u80fd\u8fd8\u5728\u505aSSR\u7684\u4e8c\u4ee3\u56fe\u8c31\u3002 \u4f5c\u56fe\u8f6f\u4ef6 JoinMap(\u6536\u8d39) MapQTL (\u6536\u8d39) Mapcharter \u4f7f\u7528\u6559\u7a0b https://avikarn.com/2019-05-19-mapchart/ \u4e0b\u8f7dhttps://www.wur.nl/en/show/Mapchart.htm qtl2 R\u5305 highmap BMK\u7684\u5728\u7ebf\u8f6f\u4ef6 http://highmap.biomarker.com.cn/ \u591a\u500d\u4f53\u9057\u4f20\u4f5c\u56fe polymapR https://academic.oup.com/bioinformatics/article/34/20/3496/4990829?login=true","title":"\u9057\u4f20\u56fe\u8c31\u7684\u7ed8\u5236"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E9%81%97%E4%BC%A0%E5%9B%BE%E8%B0%B1%E7%9A%84%E7%BB%98%E5%88%B6/#_1","text":"JoinMap(\u6536\u8d39) MapQTL (\u6536\u8d39) Mapcharter \u4f7f\u7528\u6559\u7a0b https://avikarn.com/2019-05-19-mapchart/ \u4e0b\u8f7dhttps://www.wur.nl/en/show/Mapchart.htm qtl2 R\u5305 highmap BMK\u7684\u5728\u7ebf\u8f6f\u4ef6 http://highmap.biomarker.com.cn/","title":"\u4f5c\u56fe\u8f6f\u4ef6"},{"location":"%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/%E9%81%97%E4%BC%A0%E5%9B%BE%E8%B0%B1%E7%9A%84%E7%BB%98%E5%88%B6/#_2","text":"polymapR https://academic.oup.com/bioinformatics/article/34/20/3496/4990829?login=true","title":"\u591a\u500d\u4f53\u9057\u4f20\u4f5c\u56fe"},{"location":"tags/","text":"Tags \u6807\u7b7e\u9875\u65b9\u4fbf\u66f4\u5feb\u7684\u627e\u5230\u76ee\u6807\u9875\u9762 facet_wrap Ggplot2\u753b\u51fa\u6761\u5f62\u56fe\uff08facet wrap\uff09 gggenes Gggenes \u7ed8\u5236\u57fa\u56e0\u56fe ggplot2 Gggenes \u7ed8\u5236\u57fa\u56e0\u56fe Ggplot2\u753b\u51fa\u6761\u5f62\u56fe\uff08facet wrap\uff09","title":"Tags"},{"location":"tags/#tags","text":"\u6807\u7b7e\u9875\u65b9\u4fbf\u66f4\u5feb\u7684\u627e\u5230\u76ee\u6807\u9875\u9762","title":"Tags"},{"location":"tags/#facet_wrap","text":"Ggplot2\u753b\u51fa\u6761\u5f62\u56fe\uff08facet wrap\uff09","title":"facet_wrap"},{"location":"tags/#gggenes","text":"Gggenes \u7ed8\u5236\u57fa\u56e0\u56fe","title":"gggenes"},{"location":"tags/#ggplot2","text":"Gggenes \u7ed8\u5236\u57fa\u56e0\u56fe Ggplot2\u753b\u51fa\u6761\u5f62\u56fe\uff08facet wrap\uff09","title":"ggplot2"}]}